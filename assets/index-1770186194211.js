var QC=Object.defineProperty;var TC=(t,e,r)=>e in t?QC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Rr=(t,e,r)=>TC(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const A of i.addedNodes)A.tagName==="LINK"&&A.rel==="modulepreload"&&n(A)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var UL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function LC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var j2={exports:{}},$f={},F2={exports:{}},Cr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sd=Symbol.for("react.element"),OC=Symbol.for("react.portal"),PC=Symbol.for("react.fragment"),DC=Symbol.for("react.strict_mode"),RC=Symbol.for("react.profiler"),HC=Symbol.for("react.provider"),MC=Symbol.for("react.context"),$C=Symbol.for("react.forward_ref"),KC=Symbol.for("react.suspense"),GC=Symbol.for("react.memo"),VC=Symbol.for("react.lazy"),L1=Symbol.iterator;function zC(t){return t===null||typeof t!="object"?null:(t=L1&&t[L1]||t["@@iterator"],typeof t=="function"?t:null)}var E2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_2=Object.assign,k2={};function Sc(t,e,r){this.props=t,this.context=e,this.refs=k2,this.updater=r||E2}Sc.prototype.isReactComponent={};Sc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Sc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function U2(){}U2.prototype=Sc.prototype;function Gm(t,e,r){this.props=t,this.context=e,this.refs=k2,this.updater=r||E2}var Vm=Gm.prototype=new U2;Vm.constructor=Gm;_2(Vm,Sc.prototype);Vm.isPureReactComponent=!0;var O1=Array.isArray,I2=Object.prototype.hasOwnProperty,zm={current:null},Q2={key:!0,ref:!0,__self:!0,__source:!0};function T2(t,e,r){var n,s={},i=null,A=null;if(e!=null)for(n in e.ref!==void 0&&(A=e.ref),e.key!==void 0&&(i=""+e.key),e)I2.call(e,n)&&!Q2.hasOwnProperty(n)&&(s[n]=e[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:sd,type:t,key:i,ref:A,props:s,_owner:zm.current}}function qC(t,e){return{$$typeof:sd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qm(t){return typeof t=="object"&&t!==null&&t.$$typeof===sd}function WC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var P1=/\/+/g;function L0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?WC(""+t.key):e.toString(36)}function Uh(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var A=!1;if(t===null)A=!0;else switch(i){case"string":case"number":A=!0;break;case"object":switch(t.$$typeof){case sd:case OC:A=!0}}if(A)return A=t,s=s(A),t=n===""?"."+L0(A,0):n,O1(s)?(r="",t!=null&&(r=t.replace(P1,"$&/")+"/"),Uh(s,e,r,"",function(c){return c})):s!=null&&(qm(s)&&(s=qC(s,r+(!s.key||A&&A.key===s.key?"":(""+s.key).replace(P1,"$&/")+"/")+t)),e.push(s)),1;if(A=0,n=n===""?".":n+":",O1(t))for(var o=0;o<t.length;o++){i=t[o];var l=n+L0(i,o);A+=Uh(i,e,r,l,s)}else if(l=zC(t),typeof l=="function")for(t=l.call(t),o=0;!(i=t.next()).done;)i=i.value,l=n+L0(i,o++),A+=Uh(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return A}function Id(t,e,r){if(t==null)return t;var n=[],s=0;return Uh(t,n,"","",function(i){return e.call(r,i,s++)}),n}function JC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Is={current:null},Ih={transition:null},YC={ReactCurrentDispatcher:Is,ReactCurrentBatchConfig:Ih,ReactCurrentOwner:zm};function L2(){throw Error("act(...) is not supported in production builds of React.")}Cr.Children={map:Id,forEach:function(t,e,r){Id(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Id(t,function(){e++}),e},toArray:function(t){return Id(t,function(e){return e})||[]},only:function(t){if(!qm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Cr.Component=Sc;Cr.Fragment=PC;Cr.Profiler=RC;Cr.PureComponent=Gm;Cr.StrictMode=DC;Cr.Suspense=KC;Cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YC;Cr.act=L2;Cr.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=_2({},t.props),s=t.key,i=t.ref,A=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,A=zm.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)I2.call(e,l)&&!Q2.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:sd,type:t.type,key:s,ref:i,props:n,_owner:A}};Cr.createContext=function(t){return t={$$typeof:MC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:HC,_context:t},t.Consumer=t};Cr.createElement=T2;Cr.createFactory=function(t){var e=T2.bind(null,t);return e.type=t,e};Cr.createRef=function(){return{current:null}};Cr.forwardRef=function(t){return{$$typeof:$C,render:t}};Cr.isValidElement=qm;Cr.lazy=function(t){return{$$typeof:VC,_payload:{_status:-1,_result:t},_init:JC}};Cr.memo=function(t,e){return{$$typeof:GC,type:t,compare:e===void 0?null:e}};Cr.startTransition=function(t){var e=Ih.transition;Ih.transition={};try{t()}finally{Ih.transition=e}};Cr.unstable_act=L2;Cr.useCallback=function(t,e){return Is.current.useCallback(t,e)};Cr.useContext=function(t){return Is.current.useContext(t)};Cr.useDebugValue=function(){};Cr.useDeferredValue=function(t){return Is.current.useDeferredValue(t)};Cr.useEffect=function(t,e){return Is.current.useEffect(t,e)};Cr.useId=function(){return Is.current.useId()};Cr.useImperativeHandle=function(t,e,r){return Is.current.useImperativeHandle(t,e,r)};Cr.useInsertionEffect=function(t,e){return Is.current.useInsertionEffect(t,e)};Cr.useLayoutEffect=function(t,e){return Is.current.useLayoutEffect(t,e)};Cr.useMemo=function(t,e){return Is.current.useMemo(t,e)};Cr.useReducer=function(t,e,r){return Is.current.useReducer(t,e,r)};Cr.useRef=function(t){return Is.current.useRef(t)};Cr.useState=function(t){return Is.current.useState(t)};Cr.useSyncExternalStore=function(t,e,r){return Is.current.useSyncExternalStore(t,e,r)};Cr.useTransition=function(){return Is.current.useTransition()};Cr.version="18.3.1";F2.exports=Cr;var q=F2.exports;const XC=LC(q);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZC=q,eN=Symbol.for("react.element"),tN=Symbol.for("react.fragment"),rN=Object.prototype.hasOwnProperty,nN=ZC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sN={key:!0,ref:!0,__self:!0,__source:!0};function O2(t,e,r){var n,s={},i=null,A=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(A=e.ref);for(n in e)rN.call(e,n)&&!sN.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:eN,type:t,key:i,ref:A,props:s,_owner:nN.current}}$f.Fragment=tN;$f.jsx=O2;$f.jsxs=O2;j2.exports=$f;var a=j2.exports,ag={},P2={exports:{}},ui={},D2={exports:{}},R2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ie,de){var fe=ie.length;ie.push(de);e:for(;0<fe;){var ve=fe-1>>>1,I=ie[ve];if(0<s(I,de))ie[ve]=de,ie[fe]=I,fe=ve;else break e}}function r(ie){return ie.length===0?null:ie[0]}function n(ie){if(ie.length===0)return null;var de=ie[0],fe=ie.pop();if(fe!==de){ie[0]=fe;e:for(var ve=0,I=ie.length,R=I>>>1;ve<R;){var te=2*(ve+1)-1,Y=ie[te],le=te+1,pe=ie[le];if(0>s(Y,fe))le<I&&0>s(pe,Y)?(ie[ve]=pe,ie[le]=fe,ve=le):(ie[ve]=Y,ie[te]=fe,ve=te);else if(le<I&&0>s(pe,fe))ie[ve]=pe,ie[le]=fe,ve=le;else break e}}return de}function s(ie,de){var fe=ie.sortIndex-de.sortIndex;return fe!==0?fe:ie.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var A=Date,o=A.now();t.unstable_now=function(){return A.now()-o}}var l=[],c=[],d=1,p=null,g=3,h=!1,b=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(ie){for(var de=r(c);de!==null;){if(de.callback===null)n(c);else if(de.startTime<=ie)n(c),de.sortIndex=de.expirationTime,e(l,de);else break;de=r(c)}}function j(ie){if(v=!1,B(ie),!b)if(r(l)!==null)b=!0,ce(O);else{var de=r(c);de!==null&&he(j,de.startTime-ie)}}function O(ie,de){b=!1,v&&(v=!1,x(K),K=-1),h=!0;var fe=g;try{for(B(de),p=r(l);p!==null&&(!(p.expirationTime>de)||ie&&!_());){var ve=p.callback;if(typeof ve=="function"){p.callback=null,g=p.priorityLevel;var I=ve(p.expirationTime<=de);de=t.unstable_now(),typeof I=="function"?p.callback=I:p===r(l)&&n(l),B(de)}else n(l);p=r(l)}if(p!==null)var R=!0;else{var te=r(c);te!==null&&he(j,te.startTime-de),R=!1}return R}finally{p=null,g=fe,h=!1}}var k=!1,M=null,K=-1,N=5,H=-1;function _(){return!(t.unstable_now()-H<N)}function E(){if(M!==null){var ie=t.unstable_now();H=ie;var de=!0;try{de=M(!0,ie)}finally{de?G():(k=!1,M=null)}}else k=!1}var G;if(typeof y=="function")G=function(){y(E)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,ee=P.port2;P.port1.onmessage=E,G=function(){ee.postMessage(null)}}else G=function(){S(E,0)};function ce(ie){M=ie,k||(k=!0,G())}function he(ie,de){K=S(function(){ie(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_continueExecution=function(){b||h||(b=!0,ce(O))},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(ie){switch(g){case 1:case 2:case 3:var de=3;break;default:de=g}var fe=g;g=de;try{return ie()}finally{g=fe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ie,de){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var fe=g;g=ie;try{return de()}finally{g=fe}},t.unstable_scheduleCallback=function(ie,de,fe){var ve=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?ve+fe:ve):fe=ve,ie){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=fe+I,ie={id:d++,callback:de,priorityLevel:ie,startTime:fe,expirationTime:I,sortIndex:-1},fe>ve?(ie.sortIndex=fe,e(c,ie),r(l)===null&&ie===r(c)&&(v?(x(K),K=-1):v=!0,he(j,fe-ve))):(ie.sortIndex=I,e(l,ie),b||h||(b=!0,ce(O))),ie},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(ie){var de=g;return function(){var fe=g;g=de;try{return ie.apply(this,arguments)}finally{g=fe}}}})(R2);D2.exports=R2;var iN=D2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aN=q,ci=iN;function wt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var H2=new Set,_u={};function Xo(t,e){gc(t,e),gc(t+"Capture",e)}function gc(t,e){for(_u[t]=e,t=0;t<e.length;t++)H2.add(e[t])}var nA=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ag=Object.prototype.hasOwnProperty,AN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,D1={},R1={};function oN(t){return Ag.call(R1,t)?!0:Ag.call(D1,t)?!1:AN.test(t)?R1[t]=!0:(D1[t]=!0,!1)}function lN(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function cN(t,e,r,n){if(e===null||typeof e>"u"||lN(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qs(t,e,r,n,s,i,A){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=A}var us={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){us[t]=new Qs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];us[e]=new Qs(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){us[t]=new Qs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){us[t]=new Qs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){us[t]=new Qs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){us[t]=new Qs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){us[t]=new Qs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){us[t]=new Qs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){us[t]=new Qs(t,5,!1,t.toLowerCase(),null,!1,!1)});var Wm=/[\-:]([a-z])/g;function Jm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Wm,Jm);us[e]=new Qs(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Wm,Jm);us[e]=new Qs(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Wm,Jm);us[e]=new Qs(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){us[t]=new Qs(t,1,!1,t.toLowerCase(),null,!1,!1)});us.xlinkHref=new Qs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){us[t]=new Qs(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ym(t,e,r,n){var s=us.hasOwnProperty(e)?us[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cN(e,r,s,n)&&(r=null),n||s===null?oN(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var oA=aN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qd=Symbol.for("react.element"),$l=Symbol.for("react.portal"),Kl=Symbol.for("react.fragment"),Xm=Symbol.for("react.strict_mode"),og=Symbol.for("react.profiler"),M2=Symbol.for("react.provider"),$2=Symbol.for("react.context"),Zm=Symbol.for("react.forward_ref"),lg=Symbol.for("react.suspense"),cg=Symbol.for("react.suspense_list"),ex=Symbol.for("react.memo"),TA=Symbol.for("react.lazy"),K2=Symbol.for("react.offscreen"),H1=Symbol.iterator;function Pc(t){return t===null||typeof t!="object"?null:(t=H1&&t[H1]||t["@@iterator"],typeof t=="function"?t:null)}var mn=Object.assign,O0;function eu(t){if(O0===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);O0=e&&e[1]||""}return`
`+O0+t}var P0=!1;function D0(t,e){if(!t||P0)return"";P0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),A=s.length-1,o=i.length-1;1<=A&&0<=o&&s[A]!==i[o];)o--;for(;1<=A&&0<=o;A--,o--)if(s[A]!==i[o]){if(A!==1||o!==1)do if(A--,o--,0>o||s[A]!==i[o]){var l=`
`+s[A].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=A&&0<=o);break}}}finally{P0=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?eu(t):""}function uN(t){switch(t.tag){case 5:return eu(t.type);case 16:return eu("Lazy");case 13:return eu("Suspense");case 19:return eu("SuspenseList");case 0:case 2:case 15:return t=D0(t.type,!1),t;case 11:return t=D0(t.type.render,!1),t;case 1:return t=D0(t.type,!0),t;default:return""}}function ug(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Kl:return"Fragment";case $l:return"Portal";case og:return"Profiler";case Xm:return"StrictMode";case lg:return"Suspense";case cg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $2:return(t.displayName||"Context")+".Consumer";case M2:return(t._context.displayName||"Context")+".Provider";case Zm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ex:return e=t.displayName||null,e!==null?e:ug(t.type)||"Memo";case TA:e=t._payload,t=t._init;try{return ug(t(e))}catch{}}return null}function dN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ug(e);case 8:return e===Xm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function so(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function G2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hN(t){var e=G2(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(A){n=""+A,i.call(this,A)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(A){n=""+A},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Td(t){t._valueTracker||(t._valueTracker=hN(t))}function V2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=G2(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ef(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function dg(t,e){var r=e.checked;return mn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function M1(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=so(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function z2(t,e){e=e.checked,e!=null&&Ym(t,"checked",e,!1)}function hg(t,e){z2(t,e);var r=so(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fg(t,e.type,r):e.hasOwnProperty("defaultValue")&&fg(t,e.type,so(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $1(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function fg(t,e,r){(e!=="number"||ef(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var tu=Array.isArray;function sc(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+so(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function pg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(wt(91));return mn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function K1(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(wt(92));if(tu(r)){if(1<r.length)throw Error(wt(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:so(r)}}function q2(t,e){var r=so(e.value),n=so(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function G1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function W2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?W2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ld,J2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ld=Ld||document.createElement("div"),Ld.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ld.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ku(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var du={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fN=["Webkit","ms","Moz","O"];Object.keys(du).forEach(function(t){fN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),du[e]=du[t]})});function Y2(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||du.hasOwnProperty(t)&&du[t]?(""+e).trim():e+"px"}function X2(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Y2(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var pN=mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mg(t,e){if(e){if(pN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(wt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(wt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(wt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(wt(62))}}function xg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wg=null;function tx(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vg=null,ic=null,ac=null;function V1(t){if(t=Ad(t)){if(typeof vg!="function")throw Error(wt(280));var e=t.stateNode;e&&(e=qf(e),vg(t.stateNode,t.type,e))}}function Z2(t){ic?ac?ac.push(t):ac=[t]:ic=t}function eb(){if(ic){var t=ic,e=ac;if(ac=ic=null,V1(t),e)for(t=0;t<e.length;t++)V1(e[t])}}function tb(t,e){return t(e)}function rb(){}var R0=!1;function nb(t,e,r){if(R0)return t(e,r);R0=!0;try{return tb(t,e,r)}finally{R0=!1,(ic!==null||ac!==null)&&(rb(),eb())}}function Uu(t,e){var r=t.stateNode;if(r===null)return null;var n=qf(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(wt(231,e,typeof r));return r}var yg=!1;if(nA)try{var Dc={};Object.defineProperty(Dc,"passive",{get:function(){yg=!0}}),window.addEventListener("test",Dc,Dc),window.removeEventListener("test",Dc,Dc)}catch{yg=!1}function gN(t,e,r,n,s,i,A,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var hu=!1,tf=null,rf=!1,bg=null,mN={onError:function(t){hu=!0,tf=t}};function xN(t,e,r,n,s,i,A,o,l){hu=!1,tf=null,gN.apply(mN,arguments)}function wN(t,e,r,n,s,i,A,o,l){if(xN.apply(this,arguments),hu){if(hu){var c=tf;hu=!1,tf=null}else throw Error(wt(198));rf||(rf=!0,bg=c)}}function Zo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function sb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function z1(t){if(Zo(t)!==t)throw Error(wt(188))}function vN(t){var e=t.alternate;if(!e){if(e=Zo(t),e===null)throw Error(wt(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return z1(s),t;if(i===n)return z1(s),e;i=i.sibling}throw Error(wt(188))}if(r.return!==n.return)r=s,n=i;else{for(var A=!1,o=s.child;o;){if(o===r){A=!0,r=s,n=i;break}if(o===n){A=!0,n=s,r=i;break}o=o.sibling}if(!A){for(o=i.child;o;){if(o===r){A=!0,r=i,n=s;break}if(o===n){A=!0,n=i,r=s;break}o=o.sibling}if(!A)throw Error(wt(189))}}if(r.alternate!==n)throw Error(wt(190))}if(r.tag!==3)throw Error(wt(188));return r.stateNode.current===r?t:e}function ib(t){return t=vN(t),t!==null?ab(t):null}function ab(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ab(t);if(e!==null)return e;t=t.sibling}return null}var Ab=ci.unstable_scheduleCallback,q1=ci.unstable_cancelCallback,yN=ci.unstable_shouldYield,bN=ci.unstable_requestPaint,In=ci.unstable_now,BN=ci.unstable_getCurrentPriorityLevel,rx=ci.unstable_ImmediatePriority,ob=ci.unstable_UserBlockingPriority,nf=ci.unstable_NormalPriority,CN=ci.unstable_LowPriority,lb=ci.unstable_IdlePriority,Kf=null,_a=null;function NN(t){if(_a&&typeof _a.onCommitFiberRoot=="function")try{_a.onCommitFiberRoot(Kf,t,void 0,(t.current.flags&128)===128)}catch{}}var ta=Math.clz32?Math.clz32:FN,SN=Math.log,jN=Math.LN2;function FN(t){return t>>>=0,t===0?32:31-(SN(t)/jN|0)|0}var Od=64,Pd=4194304;function ru(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function sf(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,A=r&268435455;if(A!==0){var o=A&~s;o!==0?n=ru(o):(i&=A,i!==0&&(n=ru(i)))}else A=r&~s,A!==0?n=ru(A):i!==0&&(n=ru(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ta(e),s=1<<r,n|=t[r],e&=~s;return n}function EN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _N(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var A=31-ta(i),o=1<<A,l=s[A];l===-1?(!(o&r)||o&n)&&(s[A]=EN(o,e)):l<=e&&(t.expiredLanes|=o),i&=~o}}function Bg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function cb(){var t=Od;return Od<<=1,!(Od&4194240)&&(Od=64),t}function H0(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function id(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ta(e),t[e]=r}function kN(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-ta(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function nx(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ta(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Mr=0;function ub(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var db,sx,hb,fb,pb,Cg=!1,Dd=[],qA=null,WA=null,JA=null,Iu=new Map,Qu=new Map,DA=[],UN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function W1(t,e){switch(t){case"focusin":case"focusout":qA=null;break;case"dragenter":case"dragleave":WA=null;break;case"mouseover":case"mouseout":JA=null;break;case"pointerover":case"pointerout":Iu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qu.delete(e.pointerId)}}function Rc(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ad(e),e!==null&&sx(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function IN(t,e,r,n,s){switch(e){case"focusin":return qA=Rc(qA,t,e,r,n,s),!0;case"dragenter":return WA=Rc(WA,t,e,r,n,s),!0;case"mouseover":return JA=Rc(JA,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Iu.set(i,Rc(Iu.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Qu.set(i,Rc(Qu.get(i)||null,t,e,r,n,s)),!0}return!1}function gb(t){var e=To(t.target);if(e!==null){var r=Zo(e);if(r!==null){if(e=r.tag,e===13){if(e=sb(r),e!==null){t.blockedOn=e,pb(t.priority,function(){hb(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Ng(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);wg=n,r.target.dispatchEvent(n),wg=null}else return e=Ad(r),e!==null&&sx(e),t.blockedOn=r,!1;e.shift()}return!0}function J1(t,e,r){Qh(t)&&r.delete(e)}function QN(){Cg=!1,qA!==null&&Qh(qA)&&(qA=null),WA!==null&&Qh(WA)&&(WA=null),JA!==null&&Qh(JA)&&(JA=null),Iu.forEach(J1),Qu.forEach(J1)}function Hc(t,e){t.blockedOn===e&&(t.blockedOn=null,Cg||(Cg=!0,ci.unstable_scheduleCallback(ci.unstable_NormalPriority,QN)))}function Tu(t){function e(s){return Hc(s,t)}if(0<Dd.length){Hc(Dd[0],t);for(var r=1;r<Dd.length;r++){var n=Dd[r];n.blockedOn===t&&(n.blockedOn=null)}}for(qA!==null&&Hc(qA,t),WA!==null&&Hc(WA,t),JA!==null&&Hc(JA,t),Iu.forEach(e),Qu.forEach(e),r=0;r<DA.length;r++)n=DA[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<DA.length&&(r=DA[0],r.blockedOn===null);)gb(r),r.blockedOn===null&&DA.shift()}var Ac=oA.ReactCurrentBatchConfig,af=!0;function TN(t,e,r,n){var s=Mr,i=Ac.transition;Ac.transition=null;try{Mr=1,ix(t,e,r,n)}finally{Mr=s,Ac.transition=i}}function LN(t,e,r,n){var s=Mr,i=Ac.transition;Ac.transition=null;try{Mr=4,ix(t,e,r,n)}finally{Mr=s,Ac.transition=i}}function ix(t,e,r,n){if(af){var s=Ng(t,e,r,n);if(s===null)Y0(t,e,n,Af,r),W1(t,n);else if(IN(s,t,e,r,n))n.stopPropagation();else if(W1(t,n),e&4&&-1<UN.indexOf(t)){for(;s!==null;){var i=Ad(s);if(i!==null&&db(i),i=Ng(t,e,r,n),i===null&&Y0(t,e,n,Af,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Y0(t,e,n,null,r)}}var Af=null;function Ng(t,e,r,n){if(Af=null,t=tx(n),t=To(t),t!==null)if(e=Zo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=sb(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Af=t,null}function mb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BN()){case rx:return 1;case ob:return 4;case nf:case CN:return 16;case lb:return 536870912;default:return 16}default:return 16}}var MA=null,ax=null,Th=null;function xb(){if(Th)return Th;var t,e=ax,r=e.length,n,s="value"in MA?MA.value:MA.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var A=r-t;for(n=1;n<=A&&e[r-n]===s[i-n];n++);return Th=s.slice(t,1<n?1-n:void 0)}function Lh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rd(){return!0}function Y1(){return!1}function di(t){function e(r,n,s,i,A){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=A,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Rd:Y1,this.isPropagationStopped=Y1,this}return mn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Rd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Rd)},persist:function(){},isPersistent:Rd}),e}var jc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ax=di(jc),ad=mn({},jc,{view:0,detail:0}),ON=di(ad),M0,$0,Mc,Gf=mn({},ad,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ox,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mc&&(Mc&&t.type==="mousemove"?(M0=t.screenX-Mc.screenX,$0=t.screenY-Mc.screenY):$0=M0=0,Mc=t),M0)},movementY:function(t){return"movementY"in t?t.movementY:$0}}),X1=di(Gf),PN=mn({},Gf,{dataTransfer:0}),DN=di(PN),RN=mn({},ad,{relatedTarget:0}),K0=di(RN),HN=mn({},jc,{animationName:0,elapsedTime:0,pseudoElement:0}),MN=di(HN),$N=mn({},jc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KN=di($N),GN=mn({},jc,{data:0}),Z1=di(GN),VN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=qN[t])?!!e[t]:!1}function ox(){return WN}var JN=mn({},ad,{key:function(t){if(t.key){var e=VN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Lh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ox,charCode:function(t){return t.type==="keypress"?Lh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),YN=di(JN),XN=mn({},Gf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ew=di(XN),ZN=mn({},ad,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ox}),e3=di(ZN),t3=mn({},jc,{propertyName:0,elapsedTime:0,pseudoElement:0}),r3=di(t3),n3=mn({},Gf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),s3=di(n3),i3=[9,13,27,32],lx=nA&&"CompositionEvent"in window,fu=null;nA&&"documentMode"in document&&(fu=document.documentMode);var a3=nA&&"TextEvent"in window&&!fu,wb=nA&&(!lx||fu&&8<fu&&11>=fu),tw=" ",rw=!1;function vb(t,e){switch(t){case"keyup":return i3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gl=!1;function A3(t,e){switch(t){case"compositionend":return yb(e);case"keypress":return e.which!==32?null:(rw=!0,tw);case"textInput":return t=e.data,t===tw&&rw?null:t;default:return null}}function o3(t,e){if(Gl)return t==="compositionend"||!lx&&vb(t,e)?(t=xb(),Th=ax=MA=null,Gl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wb&&e.locale!=="ko"?null:e.data;default:return null}}var l3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!l3[t.type]:e==="textarea"}function bb(t,e,r,n){Z2(n),e=of(e,"onChange"),0<e.length&&(r=new Ax("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var pu=null,Lu=null;function c3(t){Ib(t,0)}function Vf(t){var e=ql(t);if(V2(e))return t}function u3(t,e){if(t==="change")return e}var Bb=!1;if(nA){var G0;if(nA){var V0="oninput"in document;if(!V0){var sw=document.createElement("div");sw.setAttribute("oninput","return;"),V0=typeof sw.oninput=="function"}G0=V0}else G0=!1;Bb=G0&&(!document.documentMode||9<document.documentMode)}function iw(){pu&&(pu.detachEvent("onpropertychange",Cb),Lu=pu=null)}function Cb(t){if(t.propertyName==="value"&&Vf(Lu)){var e=[];bb(e,Lu,t,tx(t)),nb(c3,e)}}function d3(t,e,r){t==="focusin"?(iw(),pu=e,Lu=r,pu.attachEvent("onpropertychange",Cb)):t==="focusout"&&iw()}function h3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vf(Lu)}function f3(t,e){if(t==="click")return Vf(e)}function p3(t,e){if(t==="input"||t==="change")return Vf(e)}function g3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var na=typeof Object.is=="function"?Object.is:g3;function Ou(t,e){if(na(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Ag.call(e,s)||!na(t[s],e[s]))return!1}return!0}function aw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Aw(t,e){var r=aw(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=aw(r)}}function Nb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Nb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Sb(){for(var t=window,e=ef();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ef(t.document)}return e}function cx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function m3(t){var e=Sb(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Nb(r.ownerDocument.documentElement,r)){if(n!==null&&cx(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Aw(r,i);var A=Aw(r,n);s&&A&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==A.node||t.focusOffset!==A.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(A.node,A.offset)):(e.setEnd(A.node,A.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var x3=nA&&"documentMode"in document&&11>=document.documentMode,Vl=null,Sg=null,gu=null,jg=!1;function ow(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jg||Vl==null||Vl!==ef(n)||(n=Vl,"selectionStart"in n&&cx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),gu&&Ou(gu,n)||(gu=n,n=of(Sg,"onSelect"),0<n.length&&(e=new Ax("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Vl)))}function Hd(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var zl={animationend:Hd("Animation","AnimationEnd"),animationiteration:Hd("Animation","AnimationIteration"),animationstart:Hd("Animation","AnimationStart"),transitionend:Hd("Transition","TransitionEnd")},z0={},jb={};nA&&(jb=document.createElement("div").style,"AnimationEvent"in window||(delete zl.animationend.animation,delete zl.animationiteration.animation,delete zl.animationstart.animation),"TransitionEvent"in window||delete zl.transitionend.transition);function zf(t){if(z0[t])return z0[t];if(!zl[t])return t;var e=zl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in jb)return z0[t]=e[r];return t}var Fb=zf("animationend"),Eb=zf("animationiteration"),_b=zf("animationstart"),kb=zf("transitionend"),Ub=new Map,lw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oo(t,e){Ub.set(t,e),Xo(e,[t])}for(var q0=0;q0<lw.length;q0++){var W0=lw[q0],w3=W0.toLowerCase(),v3=W0[0].toUpperCase()+W0.slice(1);oo(w3,"on"+v3)}oo(Fb,"onAnimationEnd");oo(Eb,"onAnimationIteration");oo(_b,"onAnimationStart");oo("dblclick","onDoubleClick");oo("focusin","onFocus");oo("focusout","onBlur");oo(kb,"onTransitionEnd");gc("onMouseEnter",["mouseout","mouseover"]);gc("onMouseLeave",["mouseout","mouseover"]);gc("onPointerEnter",["pointerout","pointerover"]);gc("onPointerLeave",["pointerout","pointerover"]);Xo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Xo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Xo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Xo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Xo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Xo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y3=new Set("cancel close invalid load scroll toggle".split(" ").concat(nu));function cw(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,wN(n,e,void 0,t),t.currentTarget=null}function Ib(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var A=n.length-1;0<=A;A--){var o=n[A],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;cw(s,o,c),i=l}else for(A=0;A<n.length;A++){if(o=n[A],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;cw(s,o,c),i=l}}}if(rf)throw t=bg,rf=!1,bg=null,t}function rn(t,e){var r=e[Ug];r===void 0&&(r=e[Ug]=new Set);var n=t+"__bubble";r.has(n)||(Qb(e,t,2,!1),r.add(n))}function J0(t,e,r){var n=0;e&&(n|=4),Qb(r,t,n,e)}var Md="_reactListening"+Math.random().toString(36).slice(2);function Pu(t){if(!t[Md]){t[Md]=!0,H2.forEach(function(r){r!=="selectionchange"&&(y3.has(r)||J0(r,!1,t),J0(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Md]||(e[Md]=!0,J0("selectionchange",!1,e))}}function Qb(t,e,r,n){switch(mb(e)){case 1:var s=TN;break;case 4:s=LN;break;default:s=ix}r=s.bind(null,e,r,t),s=void 0,!yg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Y0(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var A=n.tag;if(A===3||A===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(A===4)for(A=n.return;A!==null;){var l=A.tag;if((l===3||l===4)&&(l=A.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;A=A.return}for(;o!==null;){if(A=To(o),A===null)return;if(l=A.tag,l===5||l===6){n=i=A;continue e}o=o.parentNode}}n=n.return}nb(function(){var c=i,d=tx(r),p=[];e:{var g=Ub.get(t);if(g!==void 0){var h=Ax,b=t;switch(t){case"keypress":if(Lh(r)===0)break e;case"keydown":case"keyup":h=YN;break;case"focusin":b="focus",h=K0;break;case"focusout":b="blur",h=K0;break;case"beforeblur":case"afterblur":h=K0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=X1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=DN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=e3;break;case Fb:case Eb:case _b:h=MN;break;case kb:h=r3;break;case"scroll":h=ON;break;case"wheel":h=s3;break;case"copy":case"cut":case"paste":h=KN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=ew}var v=(e&4)!==0,S=!v&&t==="scroll",x=v?g!==null?g+"Capture":null:g;v=[];for(var y=c,B;y!==null;){B=y;var j=B.stateNode;if(B.tag===5&&j!==null&&(B=j,x!==null&&(j=Uu(y,x),j!=null&&v.push(Du(y,j,B)))),S)break;y=y.return}0<v.length&&(g=new h(g,b,null,r,d),p.push({event:g,listeners:v}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",g&&r!==wg&&(b=r.relatedTarget||r.fromElement)&&(To(b)||b[sA]))break e;if((h||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,h?(b=r.relatedTarget||r.toElement,h=c,b=b?To(b):null,b!==null&&(S=Zo(b),b!==S||b.tag!==5&&b.tag!==6)&&(b=null)):(h=null,b=c),h!==b)){if(v=X1,j="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=ew,j="onPointerLeave",x="onPointerEnter",y="pointer"),S=h==null?g:ql(h),B=b==null?g:ql(b),g=new v(j,y+"leave",h,r,d),g.target=S,g.relatedTarget=B,j=null,To(d)===c&&(v=new v(x,y+"enter",b,r,d),v.target=B,v.relatedTarget=S,j=v),S=j,h&&b)t:{for(v=h,x=b,y=0,B=v;B;B=vl(B))y++;for(B=0,j=x;j;j=vl(j))B++;for(;0<y-B;)v=vl(v),y--;for(;0<B-y;)x=vl(x),B--;for(;y--;){if(v===x||x!==null&&v===x.alternate)break t;v=vl(v),x=vl(x)}v=null}else v=null;h!==null&&uw(p,g,h,v,!1),b!==null&&S!==null&&uw(p,S,b,v,!0)}}e:{if(g=c?ql(c):window,h=g.nodeName&&g.nodeName.toLowerCase(),h==="select"||h==="input"&&g.type==="file")var O=u3;else if(nw(g))if(Bb)O=p3;else{O=h3;var k=d3}else(h=g.nodeName)&&h.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(O=f3);if(O&&(O=O(t,c))){bb(p,O,r,d);break e}k&&k(t,g,c),t==="focusout"&&(k=g._wrapperState)&&k.controlled&&g.type==="number"&&fg(g,"number",g.value)}switch(k=c?ql(c):window,t){case"focusin":(nw(k)||k.contentEditable==="true")&&(Vl=k,Sg=c,gu=null);break;case"focusout":gu=Sg=Vl=null;break;case"mousedown":jg=!0;break;case"contextmenu":case"mouseup":case"dragend":jg=!1,ow(p,r,d);break;case"selectionchange":if(x3)break;case"keydown":case"keyup":ow(p,r,d)}var M;if(lx)e:{switch(t){case"compositionstart":var K="onCompositionStart";break e;case"compositionend":K="onCompositionEnd";break e;case"compositionupdate":K="onCompositionUpdate";break e}K=void 0}else Gl?vb(t,r)&&(K="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(K="onCompositionStart");K&&(wb&&r.locale!=="ko"&&(Gl||K!=="onCompositionStart"?K==="onCompositionEnd"&&Gl&&(M=xb()):(MA=d,ax="value"in MA?MA.value:MA.textContent,Gl=!0)),k=of(c,K),0<k.length&&(K=new Z1(K,t,null,r,d),p.push({event:K,listeners:k}),M?K.data=M:(M=yb(r),M!==null&&(K.data=M)))),(M=a3?A3(t,r):o3(t,r))&&(c=of(c,"onBeforeInput"),0<c.length&&(d=new Z1("onBeforeInput","beforeinput",null,r,d),p.push({event:d,listeners:c}),d.data=M))}Ib(p,e)})}function Du(t,e,r){return{instance:t,listener:e,currentTarget:r}}function of(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Uu(t,r),i!=null&&n.unshift(Du(t,i,s)),i=Uu(t,e),i!=null&&n.push(Du(t,i,s))),t=t.return}return n}function vl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function uw(t,e,r,n,s){for(var i=e._reactName,A=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,s?(l=Uu(r,i),l!=null&&A.unshift(Du(r,l,o))):s||(l=Uu(r,i),l!=null&&A.push(Du(r,l,o)))),r=r.return}A.length!==0&&t.push({event:e,listeners:A})}var b3=/\r\n?/g,B3=/\u0000|\uFFFD/g;function dw(t){return(typeof t=="string"?t:""+t).replace(b3,`
`).replace(B3,"")}function $d(t,e,r){if(e=dw(e),dw(t)!==e&&r)throw Error(wt(425))}function lf(){}var Fg=null,Eg=null;function _g(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var kg=typeof setTimeout=="function"?setTimeout:void 0,C3=typeof clearTimeout=="function"?clearTimeout:void 0,hw=typeof Promise=="function"?Promise:void 0,N3=typeof queueMicrotask=="function"?queueMicrotask:typeof hw<"u"?function(t){return hw.resolve(null).then(t).catch(S3)}:kg;function S3(t){setTimeout(function(){throw t})}function X0(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Tu(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Tu(e)}function YA(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function fw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Fc=Math.random().toString(36).slice(2),Fa="__reactFiber$"+Fc,Ru="__reactProps$"+Fc,sA="__reactContainer$"+Fc,Ug="__reactEvents$"+Fc,j3="__reactListeners$"+Fc,F3="__reactHandles$"+Fc;function To(t){var e=t[Fa];if(e)return e;for(var r=t.parentNode;r;){if(e=r[sA]||r[Fa]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=fw(t);t!==null;){if(r=t[Fa])return r;t=fw(t)}return e}t=r,r=t.parentNode}return null}function Ad(t){return t=t[Fa]||t[sA],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ql(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(wt(33))}function qf(t){return t[Ru]||null}var Ig=[],Wl=-1;function lo(t){return{current:t}}function sn(t){0>Wl||(t.current=Ig[Wl],Ig[Wl]=null,Wl--)}function Zr(t,e){Wl++,Ig[Wl]=t.current,t.current=e}var io={},Cs=lo(io),$s=lo(!1),Go=io;function mc(t,e){var r=t.type.contextTypes;if(!r)return io;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ks(t){return t=t.childContextTypes,t!=null}function cf(){sn($s),sn(Cs)}function pw(t,e,r){if(Cs.current!==io)throw Error(wt(168));Zr(Cs,e),Zr($s,r)}function Tb(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(wt(108,dN(t)||"Unknown",s));return mn({},r,n)}function uf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||io,Go=Cs.current,Zr(Cs,t),Zr($s,$s.current),!0}function gw(t,e,r){var n=t.stateNode;if(!n)throw Error(wt(169));r?(t=Tb(t,e,Go),n.__reactInternalMemoizedMergedChildContext=t,sn($s),sn(Cs),Zr(Cs,t)):sn($s),Zr($s,r)}var Ya=null,Wf=!1,Z0=!1;function Lb(t){Ya===null?Ya=[t]:Ya.push(t)}function E3(t){Wf=!0,Lb(t)}function co(){if(!Z0&&Ya!==null){Z0=!0;var t=0,e=Mr;try{var r=Ya;for(Mr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ya=null,Wf=!1}catch(s){throw Ya!==null&&(Ya=Ya.slice(t+1)),Ab(rx,co),s}finally{Mr=e,Z0=!1}}return null}var Jl=[],Yl=0,df=null,hf=0,Ei=[],_i=0,Vo=null,Za=1,eA="";function jo(t,e){Jl[Yl++]=hf,Jl[Yl++]=df,df=t,hf=e}function Ob(t,e,r){Ei[_i++]=Za,Ei[_i++]=eA,Ei[_i++]=Vo,Vo=t;var n=Za;t=eA;var s=32-ta(n)-1;n&=~(1<<s),r+=1;var i=32-ta(e)+s;if(30<i){var A=s-s%5;i=(n&(1<<A)-1).toString(32),n>>=A,s-=A,Za=1<<32-ta(e)+s|r<<s|n,eA=i+t}else Za=1<<i|r<<s|n,eA=t}function ux(t){t.return!==null&&(jo(t,1),Ob(t,1,0))}function dx(t){for(;t===df;)df=Jl[--Yl],Jl[Yl]=null,hf=Jl[--Yl],Jl[Yl]=null;for(;t===Vo;)Vo=Ei[--_i],Ei[_i]=null,eA=Ei[--_i],Ei[_i]=null,Za=Ei[--_i],Ei[_i]=null}var li=null,Ai=null,cn=!1,ea=null;function Pb(t,e){var r=Ui(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function mw(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,li=t,Ai=YA(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,li=t,Ai=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Vo!==null?{id:Za,overflow:eA}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ui(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,li=t,Ai=null,!0):!1;default:return!1}}function Qg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tg(t){if(cn){var e=Ai;if(e){var r=e;if(!mw(t,e)){if(Qg(t))throw Error(wt(418));e=YA(r.nextSibling);var n=li;e&&mw(t,e)?Pb(n,r):(t.flags=t.flags&-4097|2,cn=!1,li=t)}}else{if(Qg(t))throw Error(wt(418));t.flags=t.flags&-4097|2,cn=!1,li=t}}}function xw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;li=t}function Kd(t){if(t!==li)return!1;if(!cn)return xw(t),cn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_g(t.type,t.memoizedProps)),e&&(e=Ai)){if(Qg(t))throw Db(),Error(wt(418));for(;e;)Pb(t,e),e=YA(e.nextSibling)}if(xw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(wt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ai=YA(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ai=null}}else Ai=li?YA(t.stateNode.nextSibling):null;return!0}function Db(){for(var t=Ai;t;)t=YA(t.nextSibling)}function xc(){Ai=li=null,cn=!1}function hx(t){ea===null?ea=[t]:ea.push(t)}var _3=oA.ReactCurrentBatchConfig;function $c(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(wt(309));var n=r.stateNode}if(!n)throw Error(wt(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(A){var o=s.refs;A===null?delete o[i]:o[i]=A},e._stringRef=i,e)}if(typeof t!="string")throw Error(wt(284));if(!r._owner)throw Error(wt(290,t))}return t}function Gd(t,e){throw t=Object.prototype.toString.call(e),Error(wt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ww(t){var e=t._init;return e(t._payload)}function Rb(t){function e(x,y){if(t){var B=x.deletions;B===null?(x.deletions=[y],x.flags|=16):B.push(y)}}function r(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function s(x,y){return x=to(x,y),x.index=0,x.sibling=null,x}function i(x,y,B){return x.index=B,t?(B=x.alternate,B!==null?(B=B.index,B<y?(x.flags|=2,y):B):(x.flags|=2,y)):(x.flags|=1048576,y)}function A(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,y,B,j){return y===null||y.tag!==6?(y=ap(B,x.mode,j),y.return=x,y):(y=s(y,B),y.return=x,y)}function l(x,y,B,j){var O=B.type;return O===Kl?d(x,y,B.props.children,j,B.key):y!==null&&(y.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===TA&&ww(O)===y.type)?(j=s(y,B.props),j.ref=$c(x,y,B),j.return=x,j):(j=$h(B.type,B.key,B.props,null,x.mode,j),j.ref=$c(x,y,B),j.return=x,j)}function c(x,y,B,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==B.containerInfo||y.stateNode.implementation!==B.implementation?(y=Ap(B,x.mode,j),y.return=x,y):(y=s(y,B.children||[]),y.return=x,y)}function d(x,y,B,j,O){return y===null||y.tag!==7?(y=Ho(B,x.mode,j,O),y.return=x,y):(y=s(y,B),y.return=x,y)}function p(x,y,B){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ap(""+y,x.mode,B),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Qd:return B=$h(y.type,y.key,y.props,null,x.mode,B),B.ref=$c(x,null,y),B.return=x,B;case $l:return y=Ap(y,x.mode,B),y.return=x,y;case TA:var j=y._init;return p(x,j(y._payload),B)}if(tu(y)||Pc(y))return y=Ho(y,x.mode,B,null),y.return=x,y;Gd(x,y)}return null}function g(x,y,B,j){var O=y!==null?y.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return O!==null?null:o(x,y,""+B,j);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Qd:return B.key===O?l(x,y,B,j):null;case $l:return B.key===O?c(x,y,B,j):null;case TA:return O=B._init,g(x,y,O(B._payload),j)}if(tu(B)||Pc(B))return O!==null?null:d(x,y,B,j,null);Gd(x,B)}return null}function h(x,y,B,j,O){if(typeof j=="string"&&j!==""||typeof j=="number")return x=x.get(B)||null,o(y,x,""+j,O);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Qd:return x=x.get(j.key===null?B:j.key)||null,l(y,x,j,O);case $l:return x=x.get(j.key===null?B:j.key)||null,c(y,x,j,O);case TA:var k=j._init;return h(x,y,B,k(j._payload),O)}if(tu(j)||Pc(j))return x=x.get(B)||null,d(y,x,j,O,null);Gd(y,j)}return null}function b(x,y,B,j){for(var O=null,k=null,M=y,K=y=0,N=null;M!==null&&K<B.length;K++){M.index>K?(N=M,M=null):N=M.sibling;var H=g(x,M,B[K],j);if(H===null){M===null&&(M=N);break}t&&M&&H.alternate===null&&e(x,M),y=i(H,y,K),k===null?O=H:k.sibling=H,k=H,M=N}if(K===B.length)return r(x,M),cn&&jo(x,K),O;if(M===null){for(;K<B.length;K++)M=p(x,B[K],j),M!==null&&(y=i(M,y,K),k===null?O=M:k.sibling=M,k=M);return cn&&jo(x,K),O}for(M=n(x,M);K<B.length;K++)N=h(M,x,K,B[K],j),N!==null&&(t&&N.alternate!==null&&M.delete(N.key===null?K:N.key),y=i(N,y,K),k===null?O=N:k.sibling=N,k=N);return t&&M.forEach(function(_){return e(x,_)}),cn&&jo(x,K),O}function v(x,y,B,j){var O=Pc(B);if(typeof O!="function")throw Error(wt(150));if(B=O.call(B),B==null)throw Error(wt(151));for(var k=O=null,M=y,K=y=0,N=null,H=B.next();M!==null&&!H.done;K++,H=B.next()){M.index>K?(N=M,M=null):N=M.sibling;var _=g(x,M,H.value,j);if(_===null){M===null&&(M=N);break}t&&M&&_.alternate===null&&e(x,M),y=i(_,y,K),k===null?O=_:k.sibling=_,k=_,M=N}if(H.done)return r(x,M),cn&&jo(x,K),O;if(M===null){for(;!H.done;K++,H=B.next())H=p(x,H.value,j),H!==null&&(y=i(H,y,K),k===null?O=H:k.sibling=H,k=H);return cn&&jo(x,K),O}for(M=n(x,M);!H.done;K++,H=B.next())H=h(M,x,K,H.value,j),H!==null&&(t&&H.alternate!==null&&M.delete(H.key===null?K:H.key),y=i(H,y,K),k===null?O=H:k.sibling=H,k=H);return t&&M.forEach(function(E){return e(x,E)}),cn&&jo(x,K),O}function S(x,y,B,j){if(typeof B=="object"&&B!==null&&B.type===Kl&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case Qd:e:{for(var O=B.key,k=y;k!==null;){if(k.key===O){if(O=B.type,O===Kl){if(k.tag===7){r(x,k.sibling),y=s(k,B.props.children),y.return=x,x=y;break e}}else if(k.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===TA&&ww(O)===k.type){r(x,k.sibling),y=s(k,B.props),y.ref=$c(x,k,B),y.return=x,x=y;break e}r(x,k);break}else e(x,k);k=k.sibling}B.type===Kl?(y=Ho(B.props.children,x.mode,j,B.key),y.return=x,x=y):(j=$h(B.type,B.key,B.props,null,x.mode,j),j.ref=$c(x,y,B),j.return=x,x=j)}return A(x);case $l:e:{for(k=B.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===B.containerInfo&&y.stateNode.implementation===B.implementation){r(x,y.sibling),y=s(y,B.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else e(x,y);y=y.sibling}y=Ap(B,x.mode,j),y.return=x,x=y}return A(x);case TA:return k=B._init,S(x,y,k(B._payload),j)}if(tu(B))return b(x,y,B,j);if(Pc(B))return v(x,y,B,j);Gd(x,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,y!==null&&y.tag===6?(r(x,y.sibling),y=s(y,B),y.return=x,x=y):(r(x,y),y=ap(B,x.mode,j),y.return=x,x=y),A(x)):r(x,y)}return S}var wc=Rb(!0),Hb=Rb(!1),ff=lo(null),pf=null,Xl=null,fx=null;function px(){fx=Xl=pf=null}function gx(t){var e=ff.current;sn(ff),t._currentValue=e}function Lg(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function oc(t,e){pf=t,fx=Xl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ms=!0),t.firstContext=null)}function Li(t){var e=t._currentValue;if(fx!==t)if(t={context:t,memoizedValue:e,next:null},Xl===null){if(pf===null)throw Error(wt(308));Xl=t,pf.dependencies={lanes:0,firstContext:t}}else Xl=Xl.next=t;return e}var Lo=null;function mx(t){Lo===null?Lo=[t]:Lo.push(t)}function Mb(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,mx(e)):(r.next=s.next,s.next=r),e.interleaved=r,iA(t,n)}function iA(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var LA=!1;function xx(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $b(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function tA(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function XA(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ir&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,iA(t,r)}return s=n.interleaved,s===null?(e.next=e,mx(n)):(e.next=s.next,s.next=e),n.interleaved=e,iA(t,r)}function Oh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,nx(t,r)}}function vw(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var A={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=A:i=i.next=A,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function gf(t,e,r,n){var s=t.updateQueue;LA=!1;var i=s.firstBaseUpdate,A=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,A===null?i=c:A.next=c,A=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==A&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(i!==null){var p=s.baseState;A=0,d=c=l=null,o=i;do{var g=o.lane,h=o.eventTime;if((n&g)===g){d!==null&&(d=d.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var b=t,v=o;switch(g=e,h=r,v.tag){case 1:if(b=v.payload,typeof b=="function"){p=b.call(h,p,g);break e}p=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=v.payload,g=typeof b=="function"?b.call(h,p,g):b,g==null)break e;p=mn({},p,g);break e;case 2:LA=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[o]:g.push(o))}else h={eventTime:h,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=h,l=p):d=d.next=h,A|=g;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;g=o,o=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(d===null&&(l=p),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do A|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);qo|=A,t.lanes=A,t.memoizedState=p}}function yw(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(wt(191,s));s.call(n)}}}var od={},ka=lo(od),Hu=lo(od),Mu=lo(od);function Oo(t){if(t===od)throw Error(wt(174));return t}function wx(t,e){switch(Zr(Mu,e),Zr(Hu,t),Zr(ka,od),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:gg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=gg(e,t)}sn(ka),Zr(ka,e)}function vc(){sn(ka),sn(Hu),sn(Mu)}function Kb(t){Oo(Mu.current);var e=Oo(ka.current),r=gg(e,t.type);e!==r&&(Zr(Hu,t),Zr(ka,r))}function vx(t){Hu.current===t&&(sn(ka),sn(Hu))}var pn=lo(0);function mf(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ep=[];function yx(){for(var t=0;t<ep.length;t++)ep[t]._workInProgressVersionPrimary=null;ep.length=0}var Ph=oA.ReactCurrentDispatcher,tp=oA.ReactCurrentBatchConfig,zo=0,gn=null,zn=null,Xn=null,xf=!1,mu=!1,$u=0,k3=0;function ps(){throw Error(wt(321))}function bx(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!na(t[r],e[r]))return!1;return!0}function Bx(t,e,r,n,s,i){if(zo=i,gn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ph.current=t===null||t.memoizedState===null?T3:L3,t=r(n,s),mu){i=0;do{if(mu=!1,$u=0,25<=i)throw Error(wt(301));i+=1,Xn=zn=null,e.updateQueue=null,Ph.current=O3,t=r(n,s)}while(mu)}if(Ph.current=wf,e=zn!==null&&zn.next!==null,zo=0,Xn=zn=gn=null,xf=!1,e)throw Error(wt(300));return t}function Cx(){var t=$u!==0;return $u=0,t}function ja(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xn===null?gn.memoizedState=Xn=t:Xn=Xn.next=t,Xn}function Oi(){if(zn===null){var t=gn.alternate;t=t!==null?t.memoizedState:null}else t=zn.next;var e=Xn===null?gn.memoizedState:Xn.next;if(e!==null)Xn=e,zn=t;else{if(t===null)throw Error(wt(310));zn=t,t={memoizedState:zn.memoizedState,baseState:zn.baseState,baseQueue:zn.baseQueue,queue:zn.queue,next:null},Xn===null?gn.memoizedState=Xn=t:Xn=Xn.next=t}return Xn}function Ku(t,e){return typeof e=="function"?e(t):e}function rp(t){var e=Oi(),r=e.queue;if(r===null)throw Error(wt(311));r.lastRenderedReducer=t;var n=zn,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var A=s.next;s.next=i.next,i.next=A}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=A=null,l=null,c=i;do{var d=c.lane;if((zo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=p,A=n):l=l.next=p,gn.lanes|=d,qo|=d}c=c.next}while(c!==null&&c!==i);l===null?A=n:l.next=o,na(n,e.memoizedState)||(Ms=!0),e.memoizedState=n,e.baseState=A,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,gn.lanes|=i,qo|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function np(t){var e=Oi(),r=e.queue;if(r===null)throw Error(wt(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var A=s=s.next;do i=t(i,A.action),A=A.next;while(A!==s);na(i,e.memoizedState)||(Ms=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Gb(){}function Vb(t,e){var r=gn,n=Oi(),s=e(),i=!na(n.memoizedState,s);if(i&&(n.memoizedState=s,Ms=!0),n=n.queue,Nx(Wb.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Xn!==null&&Xn.memoizedState.tag&1){if(r.flags|=2048,Gu(9,qb.bind(null,r,n,s,e),void 0,null),es===null)throw Error(wt(349));zo&30||zb(r,e,s)}return s}function zb(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=gn.updateQueue,e===null?(e={lastEffect:null,stores:null},gn.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function qb(t,e,r,n){e.value=r,e.getSnapshot=n,Jb(e)&&Yb(t)}function Wb(t,e,r){return r(function(){Jb(e)&&Yb(t)})}function Jb(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!na(t,r)}catch{return!0}}function Yb(t){var e=iA(t,1);e!==null&&ra(e,t,1,-1)}function bw(t){var e=ja();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ku,lastRenderedState:t},e.queue=t,t=t.dispatch=Q3.bind(null,gn,t),[e.memoizedState,t]}function Gu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=gn.updateQueue,e===null?(e={lastEffect:null,stores:null},gn.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Xb(){return Oi().memoizedState}function Dh(t,e,r,n){var s=ja();gn.flags|=t,s.memoizedState=Gu(1|e,r,void 0,n===void 0?null:n)}function Jf(t,e,r,n){var s=Oi();n=n===void 0?null:n;var i=void 0;if(zn!==null){var A=zn.memoizedState;if(i=A.destroy,n!==null&&bx(n,A.deps)){s.memoizedState=Gu(e,r,i,n);return}}gn.flags|=t,s.memoizedState=Gu(1|e,r,i,n)}function Bw(t,e){return Dh(8390656,8,t,e)}function Nx(t,e){return Jf(2048,8,t,e)}function Zb(t,e){return Jf(4,2,t,e)}function e5(t,e){return Jf(4,4,t,e)}function t5(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function r5(t,e,r){return r=r!=null?r.concat([t]):null,Jf(4,4,t5.bind(null,e,t),r)}function Sx(){}function n5(t,e){var r=Oi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&bx(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function s5(t,e){var r=Oi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&bx(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function i5(t,e,r){return zo&21?(na(r,e)||(r=cb(),gn.lanes|=r,qo|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ms=!0),t.memoizedState=r)}function U3(t,e){var r=Mr;Mr=r!==0&&4>r?r:4,t(!0);var n=tp.transition;tp.transition={};try{t(!1),e()}finally{Mr=r,tp.transition=n}}function a5(){return Oi().memoizedState}function I3(t,e,r){var n=eo(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},A5(t))o5(e,r);else if(r=Mb(t,e,r,n),r!==null){var s=Us();ra(r,t,n,s),l5(r,e,n)}}function Q3(t,e,r){var n=eo(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(A5(t))o5(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var A=e.lastRenderedState,o=i(A,r);if(s.hasEagerState=!0,s.eagerState=o,na(o,A)){var l=e.interleaved;l===null?(s.next=s,mx(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=Mb(t,e,s,n),r!==null&&(s=Us(),ra(r,t,n,s),l5(r,e,n))}}function A5(t){var e=t.alternate;return t===gn||e!==null&&e===gn}function o5(t,e){mu=xf=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function l5(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,nx(t,r)}}var wf={readContext:Li,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},T3={readContext:Li,useCallback:function(t,e){return ja().memoizedState=[t,e===void 0?null:e],t},useContext:Li,useEffect:Bw,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Dh(4194308,4,t5.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Dh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Dh(4,2,t,e)},useMemo:function(t,e){var r=ja();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ja();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=I3.bind(null,gn,t),[n.memoizedState,t]},useRef:function(t){var e=ja();return t={current:t},e.memoizedState=t},useState:bw,useDebugValue:Sx,useDeferredValue:function(t){return ja().memoizedState=t},useTransition:function(){var t=bw(!1),e=t[0];return t=U3.bind(null,t[1]),ja().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=gn,s=ja();if(cn){if(r===void 0)throw Error(wt(407));r=r()}else{if(r=e(),es===null)throw Error(wt(349));zo&30||zb(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,Bw(Wb.bind(null,n,i,t),[t]),n.flags|=2048,Gu(9,qb.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=ja(),e=es.identifierPrefix;if(cn){var r=eA,n=Za;r=(n&~(1<<32-ta(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=$u++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=k3++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},L3={readContext:Li,useCallback:n5,useContext:Li,useEffect:Nx,useImperativeHandle:r5,useInsertionEffect:Zb,useLayoutEffect:e5,useMemo:s5,useReducer:rp,useRef:Xb,useState:function(){return rp(Ku)},useDebugValue:Sx,useDeferredValue:function(t){var e=Oi();return i5(e,zn.memoizedState,t)},useTransition:function(){var t=rp(Ku)[0],e=Oi().memoizedState;return[t,e]},useMutableSource:Gb,useSyncExternalStore:Vb,useId:a5,unstable_isNewReconciler:!1},O3={readContext:Li,useCallback:n5,useContext:Li,useEffect:Nx,useImperativeHandle:r5,useInsertionEffect:Zb,useLayoutEffect:e5,useMemo:s5,useReducer:np,useRef:Xb,useState:function(){return np(Ku)},useDebugValue:Sx,useDeferredValue:function(t){var e=Oi();return zn===null?e.memoizedState=t:i5(e,zn.memoizedState,t)},useTransition:function(){var t=np(Ku)[0],e=Oi().memoizedState;return[t,e]},useMutableSource:Gb,useSyncExternalStore:Vb,useId:a5,unstable_isNewReconciler:!1};function Ji(t,e){if(t&&t.defaultProps){e=mn({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Og(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:mn({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Yf={isMounted:function(t){return(t=t._reactInternals)?Zo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Us(),s=eo(t),i=tA(n,s);i.payload=e,r!=null&&(i.callback=r),e=XA(t,i,s),e!==null&&(ra(e,t,s,n),Oh(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Us(),s=eo(t),i=tA(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=XA(t,i,s),e!==null&&(ra(e,t,s,n),Oh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Us(),n=eo(t),s=tA(r,n);s.tag=2,e!=null&&(s.callback=e),e=XA(t,s,n),e!==null&&(ra(e,t,n,r),Oh(e,t,n))}};function Cw(t,e,r,n,s,i,A){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,A):e.prototype&&e.prototype.isPureReactComponent?!Ou(r,n)||!Ou(s,i):!0}function c5(t,e,r){var n=!1,s=io,i=e.contextType;return typeof i=="object"&&i!==null?i=Li(i):(s=Ks(e)?Go:Cs.current,n=e.contextTypes,i=(n=n!=null)?mc(t,s):io),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yf,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Nw(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Yf.enqueueReplaceState(e,e.state,null)}function Pg(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},xx(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Li(i):(i=Ks(e)?Go:Cs.current,s.context=mc(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Og(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Yf.enqueueReplaceState(s,s.state,null),gf(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function yc(t,e){try{var r="",n=e;do r+=uN(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function sp(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Dg(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var P3=typeof WeakMap=="function"?WeakMap:Map;function u5(t,e,r){r=tA(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){yf||(yf=!0,Wg=n),Dg(t,e)},r}function d5(t,e,r){r=tA(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Dg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Dg(t,e),typeof n!="function"&&(ZA===null?ZA=new Set([this]):ZA.add(this));var A=e.stack;this.componentDidCatch(e.value,{componentStack:A!==null?A:""})}),r}function Sw(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new P3;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=X3.bind(null,t,e,r),e.then(t,t))}function jw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Fw(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=tA(-1,1),e.tag=2,XA(r,e,1))),r.lanes|=1),t)}var D3=oA.ReactCurrentOwner,Ms=!1;function ks(t,e,r,n){e.child=t===null?Hb(e,null,r,n):wc(e,t.child,r,n)}function Ew(t,e,r,n,s){r=r.render;var i=e.ref;return oc(e,s),n=Bx(t,e,r,n,i,s),r=Cx(),t!==null&&!Ms?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,aA(t,e,s)):(cn&&r&&ux(e),e.flags|=1,ks(t,e,n,s),e.child)}function _w(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Qx(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,h5(t,e,i,n,s)):(t=$h(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var A=i.memoizedProps;if(r=r.compare,r=r!==null?r:Ou,r(A,n)&&t.ref===e.ref)return aA(t,e,s)}return e.flags|=1,t=to(i,n),t.ref=e.ref,t.return=e,e.child=t}function h5(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Ou(i,n)&&t.ref===e.ref)if(Ms=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Ms=!0);else return e.lanes=t.lanes,aA(t,e,s)}return Rg(t,e,r,n,s)}function f5(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zr(ec,si),si|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Zr(ec,si),si|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Zr(ec,si),si|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Zr(ec,si),si|=n;return ks(t,e,s,r),e.child}function p5(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Rg(t,e,r,n,s){var i=Ks(r)?Go:Cs.current;return i=mc(e,i),oc(e,s),r=Bx(t,e,r,n,i,s),n=Cx(),t!==null&&!Ms?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,aA(t,e,s)):(cn&&n&&ux(e),e.flags|=1,ks(t,e,r,s),e.child)}function kw(t,e,r,n,s){if(Ks(r)){var i=!0;uf(e)}else i=!1;if(oc(e,s),e.stateNode===null)Rh(t,e),c5(e,r,n),Pg(e,r,n,s),n=!0;else if(t===null){var A=e.stateNode,o=e.memoizedProps;A.props=o;var l=A.context,c=r.contextType;typeof c=="object"&&c!==null?c=Li(c):(c=Ks(r)?Go:Cs.current,c=mc(e,c));var d=r.getDerivedStateFromProps,p=typeof d=="function"||typeof A.getSnapshotBeforeUpdate=="function";p||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(o!==n||l!==c)&&Nw(e,A,n,c),LA=!1;var g=e.memoizedState;A.state=g,gf(e,n,A,s),l=e.memoizedState,o!==n||g!==l||$s.current||LA?(typeof d=="function"&&(Og(e,r,d,n),l=e.memoizedState),(o=LA||Cw(e,r,o,n,g,l,c))?(p||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(e.flags|=4194308)):(typeof A.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),A.props=n,A.state=l,A.context=c,n=o):(typeof A.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{A=e.stateNode,$b(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Ji(e.type,o),A.props=c,p=e.pendingProps,g=A.context,l=r.contextType,typeof l=="object"&&l!==null?l=Li(l):(l=Ks(r)?Go:Cs.current,l=mc(e,l));var h=r.getDerivedStateFromProps;(d=typeof h=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(o!==p||g!==l)&&Nw(e,A,n,l),LA=!1,g=e.memoizedState,A.state=g,gf(e,n,A,s);var b=e.memoizedState;o!==p||g!==b||$s.current||LA?(typeof h=="function"&&(Og(e,r,h,n),b=e.memoizedState),(c=LA||Cw(e,r,c,n,g,b,l)||!1)?(d||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(n,b,l),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(n,b,l)),typeof A.componentDidUpdate=="function"&&(e.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof A.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=b),A.props=n,A.state=b,A.context=l,n=c):(typeof A.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),n=!1)}return Hg(t,e,r,n,i,s)}function Hg(t,e,r,n,s,i){p5(t,e);var A=(e.flags&128)!==0;if(!n&&!A)return s&&gw(e,r,!1),aA(t,e,i);n=e.stateNode,D3.current=e;var o=A&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&A?(e.child=wc(e,t.child,null,i),e.child=wc(e,null,o,i)):ks(t,e,o,i),e.memoizedState=n.state,s&&gw(e,r,!0),e.child}function g5(t){var e=t.stateNode;e.pendingContext?pw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&pw(t,e.context,!1),wx(t,e.containerInfo)}function Uw(t,e,r,n,s){return xc(),hx(s),e.flags|=256,ks(t,e,r,n),e.child}var Mg={dehydrated:null,treeContext:null,retryLane:0};function $g(t){return{baseLanes:t,cachePool:null,transitions:null}}function m5(t,e,r){var n=e.pendingProps,s=pn.current,i=!1,A=(e.flags&128)!==0,o;if((o=A)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Zr(pn,s&1),t===null)return Tg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(A=n.children,t=n.fallback,i?(n=e.mode,i=e.child,A={mode:"hidden",children:A},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=A):i=e0(A,n,0,null),t=Ho(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=$g(r),e.memoizedState=Mg,t):jx(e,A));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return R3(t,e,A,n,o,s,r);if(i){i=n.fallback,A=e.mode,s=t.child,o=s.sibling;var l={mode:"hidden",children:n.children};return!(A&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=to(s,l),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=to(o,i):(i=Ho(i,A,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,A=t.child.memoizedState,A=A===null?$g(r):{baseLanes:A.baseLanes|r,cachePool:null,transitions:A.transitions},i.memoizedState=A,i.childLanes=t.childLanes&~r,e.memoizedState=Mg,n}return i=t.child,t=i.sibling,n=to(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function jx(t,e){return e=e0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Vd(t,e,r,n){return n!==null&&hx(n),wc(e,t.child,null,r),t=jx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function R3(t,e,r,n,s,i,A){if(r)return e.flags&256?(e.flags&=-257,n=sp(Error(wt(422))),Vd(t,e,A,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=e0({mode:"visible",children:n.children},s,0,null),i=Ho(i,s,A,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&wc(e,t.child,null,A),e.child.memoizedState=$g(A),e.memoizedState=Mg,i);if(!(e.mode&1))return Vd(t,e,A,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(wt(419)),n=sp(i,n,void 0),Vd(t,e,A,n)}if(o=(A&t.childLanes)!==0,Ms||o){if(n=es,n!==null){switch(A&-A){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|A)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,iA(t,s),ra(n,t,s,-1))}return Ix(),n=sp(Error(wt(421))),Vd(t,e,A,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Z3.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ai=YA(s.nextSibling),li=e,cn=!0,ea=null,t!==null&&(Ei[_i++]=Za,Ei[_i++]=eA,Ei[_i++]=Vo,Za=t.id,eA=t.overflow,Vo=e),e=jx(e,n.children),e.flags|=4096,e)}function Iw(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Lg(t.return,e,r)}function ip(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function x5(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(ks(t,e,n.children,r),n=pn.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Iw(t,r,e);else if(t.tag===19)Iw(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Zr(pn,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&mf(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),ip(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&mf(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}ip(e,!0,r,null,i);break;case"together":ip(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function aA(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),qo|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(wt(153));if(e.child!==null){for(t=e.child,r=to(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=to(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function H3(t,e,r){switch(e.tag){case 3:g5(e),xc();break;case 5:Kb(e);break;case 1:Ks(e.type)&&uf(e);break;case 4:wx(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Zr(ff,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Zr(pn,pn.current&1),e.flags|=128,null):r&e.child.childLanes?m5(t,e,r):(Zr(pn,pn.current&1),t=aA(t,e,r),t!==null?t.sibling:null);Zr(pn,pn.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return x5(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Zr(pn,pn.current),n)break;return null;case 22:case 23:return e.lanes=0,f5(t,e,r)}return aA(t,e,r)}var w5,Kg,v5,y5;w5=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Kg=function(){};v5=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Oo(ka.current);var i=null;switch(r){case"input":s=dg(t,s),n=dg(t,n),i=[];break;case"select":s=mn({},s,{value:void 0}),n=mn({},n,{value:void 0}),i=[];break;case"textarea":s=pg(t,s),n=pg(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=lf)}mg(r,n);var A;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(A in o)o.hasOwnProperty(A)&&(r||(r={}),r[A]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(_u.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(A in o)!o.hasOwnProperty(A)||l&&l.hasOwnProperty(A)||(r||(r={}),r[A]="");for(A in l)l.hasOwnProperty(A)&&o[A]!==l[A]&&(r||(r={}),r[A]=l[A])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(_u.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&rn("scroll",t),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};y5=function(t,e,r,n){r!==n&&(e.flags|=4)};function Kc(t,e){if(!cn)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function gs(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function M3(t,e,r){var n=e.pendingProps;switch(dx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gs(e),null;case 1:return Ks(e.type)&&cf(),gs(e),null;case 3:return n=e.stateNode,vc(),sn($s),sn(Cs),yx(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Kd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ea!==null&&(Xg(ea),ea=null))),Kg(t,e),gs(e),null;case 5:vx(e);var s=Oo(Mu.current);if(r=e.type,t!==null&&e.stateNode!=null)v5(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(wt(166));return gs(e),null}if(t=Oo(ka.current),Kd(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Fa]=e,n[Ru]=i,t=(e.mode&1)!==0,r){case"dialog":rn("cancel",n),rn("close",n);break;case"iframe":case"object":case"embed":rn("load",n);break;case"video":case"audio":for(s=0;s<nu.length;s++)rn(nu[s],n);break;case"source":rn("error",n);break;case"img":case"image":case"link":rn("error",n),rn("load",n);break;case"details":rn("toggle",n);break;case"input":M1(n,i),rn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},rn("invalid",n);break;case"textarea":K1(n,i),rn("invalid",n)}mg(r,i),s=null;for(var A in i)if(i.hasOwnProperty(A)){var o=i[A];A==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&$d(n.textContent,o,t),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&$d(n.textContent,o,t),s=["children",""+o]):_u.hasOwnProperty(A)&&o!=null&&A==="onScroll"&&rn("scroll",n)}switch(r){case"input":Td(n),$1(n,i,!0);break;case"textarea":Td(n),G1(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=lf)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{A=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=W2(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=A.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=A.createElement(r,{is:n.is}):(t=A.createElement(r),r==="select"&&(A=t,n.multiple?A.multiple=!0:n.size&&(A.size=n.size))):t=A.createElementNS(t,r),t[Fa]=e,t[Ru]=n,w5(t,e,!1,!1),e.stateNode=t;e:{switch(A=xg(r,n),r){case"dialog":rn("cancel",t),rn("close",t),s=n;break;case"iframe":case"object":case"embed":rn("load",t),s=n;break;case"video":case"audio":for(s=0;s<nu.length;s++)rn(nu[s],t);s=n;break;case"source":rn("error",t),s=n;break;case"img":case"image":case"link":rn("error",t),rn("load",t),s=n;break;case"details":rn("toggle",t),s=n;break;case"input":M1(t,n),s=dg(t,n),rn("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=mn({},n,{value:void 0}),rn("invalid",t);break;case"textarea":K1(t,n),s=pg(t,n),rn("invalid",t);break;default:s=n}mg(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?X2(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&J2(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ku(t,l):typeof l=="number"&&ku(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(_u.hasOwnProperty(i)?l!=null&&i==="onScroll"&&rn("scroll",t):l!=null&&Ym(t,i,l,A))}switch(r){case"input":Td(t),$1(t,n,!1);break;case"textarea":Td(t),G1(t);break;case"option":n.value!=null&&t.setAttribute("value",""+so(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?sc(t,!!n.multiple,i,!1):n.defaultValue!=null&&sc(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=lf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gs(e),null;case 6:if(t&&e.stateNode!=null)y5(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(wt(166));if(r=Oo(Mu.current),Oo(ka.current),Kd(e)){if(n=e.stateNode,r=e.memoizedProps,n[Fa]=e,(i=n.nodeValue!==r)&&(t=li,t!==null))switch(t.tag){case 3:$d(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$d(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Fa]=e,e.stateNode=n}return gs(e),null;case 13:if(sn(pn),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(cn&&Ai!==null&&e.mode&1&&!(e.flags&128))Db(),xc(),e.flags|=98560,i=!1;else if(i=Kd(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(wt(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(wt(317));i[Fa]=e}else xc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gs(e),i=!1}else ea!==null&&(Xg(ea),ea=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||pn.current&1?Wn===0&&(Wn=3):Ix())),e.updateQueue!==null&&(e.flags|=4),gs(e),null);case 4:return vc(),Kg(t,e),t===null&&Pu(e.stateNode.containerInfo),gs(e),null;case 10:return gx(e.type._context),gs(e),null;case 17:return Ks(e.type)&&cf(),gs(e),null;case 19:if(sn(pn),i=e.memoizedState,i===null)return gs(e),null;if(n=(e.flags&128)!==0,A=i.rendering,A===null)if(n)Kc(i,!1);else{if(Wn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(A=mf(t),A!==null){for(e.flags|=128,Kc(i,!1),n=A.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,A=i.alternate,A===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=A.childLanes,i.lanes=A.lanes,i.child=A.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=A.memoizedProps,i.memoizedState=A.memoizedState,i.updateQueue=A.updateQueue,i.type=A.type,t=A.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Zr(pn,pn.current&1|2),e.child}t=t.sibling}i.tail!==null&&In()>bc&&(e.flags|=128,n=!0,Kc(i,!1),e.lanes=4194304)}else{if(!n)if(t=mf(A),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Kc(i,!0),i.tail===null&&i.tailMode==="hidden"&&!A.alternate&&!cn)return gs(e),null}else 2*In()-i.renderingStartTime>bc&&r!==1073741824&&(e.flags|=128,n=!0,Kc(i,!1),e.lanes=4194304);i.isBackwards?(A.sibling=e.child,e.child=A):(r=i.last,r!==null?r.sibling=A:e.child=A,i.last=A)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=In(),e.sibling=null,r=pn.current,Zr(pn,n?r&1|2:r&1),e):(gs(e),null);case 22:case 23:return Ux(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?si&1073741824&&(gs(e),e.subtreeFlags&6&&(e.flags|=8192)):gs(e),null;case 24:return null;case 25:return null}throw Error(wt(156,e.tag))}function $3(t,e){switch(dx(e),e.tag){case 1:return Ks(e.type)&&cf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return vc(),sn($s),sn(Cs),yx(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vx(e),null;case 13:if(sn(pn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(wt(340));xc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return sn(pn),null;case 4:return vc(),null;case 10:return gx(e.type._context),null;case 22:case 23:return Ux(),null;case 24:return null;default:return null}}var zd=!1,Bs=!1,K3=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function Zl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){jn(t,e,n)}else r.current=null}function Gg(t,e,r){try{r()}catch(n){jn(t,e,n)}}var Qw=!1;function G3(t,e){if(Fg=af,t=Sb(),cx(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var A=0,o=-1,l=-1,c=0,d=0,p=t,g=null;t:for(;;){for(var h;p!==r||s!==0&&p.nodeType!==3||(o=A+s),p!==i||n!==0&&p.nodeType!==3||(l=A+n),p.nodeType===3&&(A+=p.nodeValue.length),(h=p.firstChild)!==null;)g=p,p=h;for(;;){if(p===t)break t;if(g===r&&++c===s&&(o=A),g===i&&++d===n&&(l=A),(h=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=h}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Eg={focusedElem:t,selectionRange:r},af=!1,Ot=e;Ot!==null;)if(e=Ot,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ot=t;else for(;Ot!==null;){e=Ot;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var v=b.memoizedProps,S=b.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:Ji(e.type,v),S);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var B=e.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(wt(163))}}catch(j){jn(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,Ot=t;break}Ot=e.return}return b=Qw,Qw=!1,b}function xu(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Gg(e,r,i)}s=s.next}while(s!==n)}}function Xf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Vg(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function b5(t){var e=t.alternate;e!==null&&(t.alternate=null,b5(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fa],delete e[Ru],delete e[Ug],delete e[j3],delete e[F3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function B5(t){return t.tag===5||t.tag===3||t.tag===4}function Tw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||B5(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zg(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=lf));else if(n!==4&&(t=t.child,t!==null))for(zg(t,e,r),t=t.sibling;t!==null;)zg(t,e,r),t=t.sibling}function qg(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(qg(t,e,r),t=t.sibling;t!==null;)qg(t,e,r),t=t.sibling}var As=null,Xi=!1;function _A(t,e,r){for(r=r.child;r!==null;)C5(t,e,r),r=r.sibling}function C5(t,e,r){if(_a&&typeof _a.onCommitFiberUnmount=="function")try{_a.onCommitFiberUnmount(Kf,r)}catch{}switch(r.tag){case 5:Bs||Zl(r,e);case 6:var n=As,s=Xi;As=null,_A(t,e,r),As=n,Xi=s,As!==null&&(Xi?(t=As,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):As.removeChild(r.stateNode));break;case 18:As!==null&&(Xi?(t=As,r=r.stateNode,t.nodeType===8?X0(t.parentNode,r):t.nodeType===1&&X0(t,r),Tu(t)):X0(As,r.stateNode));break;case 4:n=As,s=Xi,As=r.stateNode.containerInfo,Xi=!0,_A(t,e,r),As=n,Xi=s;break;case 0:case 11:case 14:case 15:if(!Bs&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,A=i.destroy;i=i.tag,A!==void 0&&(i&2||i&4)&&Gg(r,e,A),s=s.next}while(s!==n)}_A(t,e,r);break;case 1:if(!Bs&&(Zl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){jn(r,e,o)}_A(t,e,r);break;case 21:_A(t,e,r);break;case 22:r.mode&1?(Bs=(n=Bs)||r.memoizedState!==null,_A(t,e,r),Bs=n):_A(t,e,r);break;default:_A(t,e,r)}}function Lw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new K3),e.forEach(function(n){var s=eS.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Gi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,A=e,o=A;e:for(;o!==null;){switch(o.tag){case 5:As=o.stateNode,Xi=!1;break e;case 3:As=o.stateNode.containerInfo,Xi=!0;break e;case 4:As=o.stateNode.containerInfo,Xi=!0;break e}o=o.return}if(As===null)throw Error(wt(160));C5(i,A,s),As=null,Xi=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){jn(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)N5(e,t),e=e.sibling}function N5(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Gi(e,t),ma(t),n&4){try{xu(3,t,t.return),Xf(3,t)}catch(v){jn(t,t.return,v)}try{xu(5,t,t.return)}catch(v){jn(t,t.return,v)}}break;case 1:Gi(e,t),ma(t),n&512&&r!==null&&Zl(r,r.return);break;case 5:if(Gi(e,t),ma(t),n&512&&r!==null&&Zl(r,r.return),t.flags&32){var s=t.stateNode;try{ku(s,"")}catch(v){jn(t,t.return,v)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,A=r!==null?r.memoizedProps:i,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&z2(s,i),xg(o,A);var c=xg(o,i);for(A=0;A<l.length;A+=2){var d=l[A],p=l[A+1];d==="style"?X2(s,p):d==="dangerouslySetInnerHTML"?J2(s,p):d==="children"?ku(s,p):Ym(s,d,p,c)}switch(o){case"input":hg(s,i);break;case"textarea":q2(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var h=i.value;h!=null?sc(s,!!i.multiple,h,!1):g!==!!i.multiple&&(i.defaultValue!=null?sc(s,!!i.multiple,i.defaultValue,!0):sc(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ru]=i}catch(v){jn(t,t.return,v)}}break;case 6:if(Gi(e,t),ma(t),n&4){if(t.stateNode===null)throw Error(wt(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){jn(t,t.return,v)}}break;case 3:if(Gi(e,t),ma(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Tu(e.containerInfo)}catch(v){jn(t,t.return,v)}break;case 4:Gi(e,t),ma(t);break;case 13:Gi(e,t),ma(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(_x=In())),n&4&&Lw(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Bs=(c=Bs)||d,Gi(e,t),Bs=c):Gi(e,t),ma(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Ot=t,d=t.child;d!==null;){for(p=Ot=d;Ot!==null;){switch(g=Ot,h=g.child,g.tag){case 0:case 11:case 14:case 15:xu(4,g,g.return);break;case 1:Zl(g,g.return);var b=g.stateNode;if(typeof b.componentWillUnmount=="function"){n=g,r=g.return;try{e=n,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(v){jn(n,r,v)}}break;case 5:Zl(g,g.return);break;case 22:if(g.memoizedState!==null){Pw(p);continue}}h!==null?(h.return=g,Ot=h):Pw(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=p.stateNode,l=p.memoizedProps.style,A=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Y2("display",A))}catch(v){jn(t,t.return,v)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(v){jn(t,t.return,v)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Gi(e,t),ma(t),n&4&&Lw(t);break;case 21:break;default:Gi(e,t),ma(t)}}function ma(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(B5(r)){var n=r;break e}r=r.return}throw Error(wt(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ku(s,""),n.flags&=-33);var i=Tw(t);qg(t,i,s);break;case 3:case 4:var A=n.stateNode.containerInfo,o=Tw(t);zg(t,o,A);break;default:throw Error(wt(161))}}catch(l){jn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function V3(t,e,r){Ot=t,S5(t)}function S5(t,e,r){for(var n=(t.mode&1)!==0;Ot!==null;){var s=Ot,i=s.child;if(s.tag===22&&n){var A=s.memoizedState!==null||zd;if(!A){var o=s.alternate,l=o!==null&&o.memoizedState!==null||Bs;o=zd;var c=Bs;if(zd=A,(Bs=l)&&!c)for(Ot=s;Ot!==null;)A=Ot,l=A.child,A.tag===22&&A.memoizedState!==null?Dw(s):l!==null?(l.return=A,Ot=l):Dw(s);for(;i!==null;)Ot=i,S5(i),i=i.sibling;Ot=s,zd=o,Bs=c}Ow(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Ot=i):Ow(t)}}function Ow(t){for(;Ot!==null;){var e=Ot;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bs||Xf(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Bs)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Ji(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&yw(e,i,n);break;case 3:var A=e.updateQueue;if(A!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}yw(e,A,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Tu(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(wt(163))}Bs||e.flags&512&&Vg(e)}catch(g){jn(e,e.return,g)}}if(e===t){Ot=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ot=r;break}Ot=e.return}}function Pw(t){for(;Ot!==null;){var e=Ot;if(e===t){Ot=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ot=r;break}Ot=e.return}}function Dw(t){for(;Ot!==null;){var e=Ot;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Xf(4,e)}catch(l){jn(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){jn(e,s,l)}}var i=e.return;try{Vg(e)}catch(l){jn(e,i,l)}break;case 5:var A=e.return;try{Vg(e)}catch(l){jn(e,A,l)}}}catch(l){jn(e,e.return,l)}if(e===t){Ot=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Ot=o;break}Ot=e.return}}var z3=Math.ceil,vf=oA.ReactCurrentDispatcher,Fx=oA.ReactCurrentOwner,Ti=oA.ReactCurrentBatchConfig,Ir=0,es=null,Mn=null,cs=0,si=0,ec=lo(0),Wn=0,Vu=null,qo=0,Zf=0,Ex=0,wu=null,Hs=null,_x=0,bc=1/0,Wa=null,yf=!1,Wg=null,ZA=null,qd=!1,$A=null,bf=0,vu=0,Jg=null,Hh=-1,Mh=0;function Us(){return Ir&6?In():Hh!==-1?Hh:Hh=In()}function eo(t){return t.mode&1?Ir&2&&cs!==0?cs&-cs:_3.transition!==null?(Mh===0&&(Mh=cb()),Mh):(t=Mr,t!==0||(t=window.event,t=t===void 0?16:mb(t.type)),t):1}function ra(t,e,r,n){if(50<vu)throw vu=0,Jg=null,Error(wt(185));id(t,r,n),(!(Ir&2)||t!==es)&&(t===es&&(!(Ir&2)&&(Zf|=r),Wn===4&&RA(t,cs)),Gs(t,n),r===1&&Ir===0&&!(e.mode&1)&&(bc=In()+500,Wf&&co()))}function Gs(t,e){var r=t.callbackNode;_N(t,e);var n=sf(t,t===es?cs:0);if(n===0)r!==null&&q1(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&q1(r),e===1)t.tag===0?E3(Rw.bind(null,t)):Lb(Rw.bind(null,t)),N3(function(){!(Ir&6)&&co()}),r=null;else{switch(ub(n)){case 1:r=rx;break;case 4:r=ob;break;case 16:r=nf;break;case 536870912:r=lb;break;default:r=nf}r=Q5(r,j5.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function j5(t,e){if(Hh=-1,Mh=0,Ir&6)throw Error(wt(327));var r=t.callbackNode;if(lc()&&t.callbackNode!==r)return null;var n=sf(t,t===es?cs:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Bf(t,n);else{e=n;var s=Ir;Ir|=2;var i=E5();(es!==t||cs!==e)&&(Wa=null,bc=In()+500,Ro(t,e));do try{J3();break}catch(o){F5(t,o)}while(!0);px(),vf.current=i,Ir=s,Mn!==null?e=0:(es=null,cs=0,e=Wn)}if(e!==0){if(e===2&&(s=Bg(t),s!==0&&(n=s,e=Yg(t,s))),e===1)throw r=Vu,Ro(t,0),RA(t,n),Gs(t,In()),r;if(e===6)RA(t,n);else{if(s=t.current.alternate,!(n&30)&&!q3(s)&&(e=Bf(t,n),e===2&&(i=Bg(t),i!==0&&(n=i,e=Yg(t,i))),e===1))throw r=Vu,Ro(t,0),RA(t,n),Gs(t,In()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(wt(345));case 2:Fo(t,Hs,Wa);break;case 3:if(RA(t,n),(n&130023424)===n&&(e=_x+500-In(),10<e)){if(sf(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Us(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=kg(Fo.bind(null,t,Hs,Wa),e);break}Fo(t,Hs,Wa);break;case 4:if(RA(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var A=31-ta(n);i=1<<A,A=e[A],A>s&&(s=A),n&=~i}if(n=s,n=In()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*z3(n/1960))-n,10<n){t.timeoutHandle=kg(Fo.bind(null,t,Hs,Wa),n);break}Fo(t,Hs,Wa);break;case 5:Fo(t,Hs,Wa);break;default:throw Error(wt(329))}}}return Gs(t,In()),t.callbackNode===r?j5.bind(null,t):null}function Yg(t,e){var r=wu;return t.current.memoizedState.isDehydrated&&(Ro(t,e).flags|=256),t=Bf(t,e),t!==2&&(e=Hs,Hs=r,e!==null&&Xg(e)),t}function Xg(t){Hs===null?Hs=t:Hs.push.apply(Hs,t)}function q3(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!na(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function RA(t,e){for(e&=~Ex,e&=~Zf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ta(e),n=1<<r;t[r]=-1,e&=~n}}function Rw(t){if(Ir&6)throw Error(wt(327));lc();var e=sf(t,0);if(!(e&1))return Gs(t,In()),null;var r=Bf(t,e);if(t.tag!==0&&r===2){var n=Bg(t);n!==0&&(e=n,r=Yg(t,n))}if(r===1)throw r=Vu,Ro(t,0),RA(t,e),Gs(t,In()),r;if(r===6)throw Error(wt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fo(t,Hs,Wa),Gs(t,In()),null}function kx(t,e){var r=Ir;Ir|=1;try{return t(e)}finally{Ir=r,Ir===0&&(bc=In()+500,Wf&&co())}}function Wo(t){$A!==null&&$A.tag===0&&!(Ir&6)&&lc();var e=Ir;Ir|=1;var r=Ti.transition,n=Mr;try{if(Ti.transition=null,Mr=1,t)return t()}finally{Mr=n,Ti.transition=r,Ir=e,!(Ir&6)&&co()}}function Ux(){si=ec.current,sn(ec)}function Ro(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,C3(r)),Mn!==null)for(r=Mn.return;r!==null;){var n=r;switch(dx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&cf();break;case 3:vc(),sn($s),sn(Cs),yx();break;case 5:vx(n);break;case 4:vc();break;case 13:sn(pn);break;case 19:sn(pn);break;case 10:gx(n.type._context);break;case 22:case 23:Ux()}r=r.return}if(es=t,Mn=t=to(t.current,null),cs=si=e,Wn=0,Vu=null,Ex=Zf=qo=0,Hs=wu=null,Lo!==null){for(e=0;e<Lo.length;e++)if(r=Lo[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var A=i.next;i.next=s,n.next=A}r.pending=n}Lo=null}return t}function F5(t,e){do{var r=Mn;try{if(px(),Ph.current=wf,xf){for(var n=gn.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}xf=!1}if(zo=0,Xn=zn=gn=null,mu=!1,$u=0,Fx.current=null,r===null||r.return===null){Wn=1,Vu=e,Mn=null;break}e:{var i=t,A=r.return,o=r,l=e;if(e=cs,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=jw(A);if(h!==null){h.flags&=-257,Fw(h,A,o,i,e),h.mode&1&&Sw(i,c,e),e=h,l=c;var b=e.updateQueue;if(b===null){var v=new Set;v.add(l),e.updateQueue=v}else b.add(l);break e}else{if(!(e&1)){Sw(i,c,e),Ix();break e}l=Error(wt(426))}}else if(cn&&o.mode&1){var S=jw(A);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Fw(S,A,o,i,e),hx(yc(l,o));break e}}i=l=yc(l,o),Wn!==4&&(Wn=2),wu===null?wu=[i]:wu.push(i),i=A;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=u5(i,l,e);vw(i,x);break e;case 1:o=l;var y=i.type,B=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(ZA===null||!ZA.has(B)))){i.flags|=65536,e&=-e,i.lanes|=e;var j=d5(i,o,e);vw(i,j);break e}}i=i.return}while(i!==null)}k5(r)}catch(O){e=O,Mn===r&&r!==null&&(Mn=r=r.return);continue}break}while(!0)}function E5(){var t=vf.current;return vf.current=wf,t===null?wf:t}function Ix(){(Wn===0||Wn===3||Wn===2)&&(Wn=4),es===null||!(qo&268435455)&&!(Zf&268435455)||RA(es,cs)}function Bf(t,e){var r=Ir;Ir|=2;var n=E5();(es!==t||cs!==e)&&(Wa=null,Ro(t,e));do try{W3();break}catch(s){F5(t,s)}while(!0);if(px(),Ir=r,vf.current=n,Mn!==null)throw Error(wt(261));return es=null,cs=0,Wn}function W3(){for(;Mn!==null;)_5(Mn)}function J3(){for(;Mn!==null&&!yN();)_5(Mn)}function _5(t){var e=I5(t.alternate,t,si);t.memoizedProps=t.pendingProps,e===null?k5(t):Mn=e,Fx.current=null}function k5(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=$3(r,e),r!==null){r.flags&=32767,Mn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Wn=6,Mn=null;return}}else if(r=M3(r,e,si),r!==null){Mn=r;return}if(e=e.sibling,e!==null){Mn=e;return}Mn=e=t}while(e!==null);Wn===0&&(Wn=5)}function Fo(t,e,r){var n=Mr,s=Ti.transition;try{Ti.transition=null,Mr=1,Y3(t,e,r,n)}finally{Ti.transition=s,Mr=n}return null}function Y3(t,e,r,n){do lc();while($A!==null);if(Ir&6)throw Error(wt(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(wt(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(kN(t,i),t===es&&(Mn=es=null,cs=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||qd||(qd=!0,Q5(nf,function(){return lc(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ti.transition,Ti.transition=null;var A=Mr;Mr=1;var o=Ir;Ir|=4,Fx.current=null,G3(t,r),N5(r,t),m3(Eg),af=!!Fg,Eg=Fg=null,t.current=r,V3(r),bN(),Ir=o,Mr=A,Ti.transition=i}else t.current=r;if(qd&&(qd=!1,$A=t,bf=s),i=t.pendingLanes,i===0&&(ZA=null),NN(r.stateNode),Gs(t,In()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(yf)throw yf=!1,t=Wg,Wg=null,t;return bf&1&&t.tag!==0&&lc(),i=t.pendingLanes,i&1?t===Jg?vu++:(vu=0,Jg=t):vu=0,co(),null}function lc(){if($A!==null){var t=ub(bf),e=Ti.transition,r=Mr;try{if(Ti.transition=null,Mr=16>t?16:t,$A===null)var n=!1;else{if(t=$A,$A=null,bf=0,Ir&6)throw Error(wt(331));var s=Ir;for(Ir|=4,Ot=t.current;Ot!==null;){var i=Ot,A=i.child;if(Ot.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Ot=c;Ot!==null;){var d=Ot;switch(d.tag){case 0:case 11:case 15:xu(8,d,i)}var p=d.child;if(p!==null)p.return=d,Ot=p;else for(;Ot!==null;){d=Ot;var g=d.sibling,h=d.return;if(b5(d),d===c){Ot=null;break}if(g!==null){g.return=h,Ot=g;break}Ot=h}}}var b=i.alternate;if(b!==null){var v=b.child;if(v!==null){b.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}Ot=i}}if(i.subtreeFlags&2064&&A!==null)A.return=i,Ot=A;else e:for(;Ot!==null;){if(i=Ot,i.flags&2048)switch(i.tag){case 0:case 11:case 15:xu(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Ot=x;break e}Ot=i.return}}var y=t.current;for(Ot=y;Ot!==null;){A=Ot;var B=A.child;if(A.subtreeFlags&2064&&B!==null)B.return=A,Ot=B;else e:for(A=y;Ot!==null;){if(o=Ot,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Xf(9,o)}}catch(O){jn(o,o.return,O)}if(o===A){Ot=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,Ot=j;break e}Ot=o.return}}if(Ir=s,co(),_a&&typeof _a.onPostCommitFiberRoot=="function")try{_a.onPostCommitFiberRoot(Kf,t)}catch{}n=!0}return n}finally{Mr=r,Ti.transition=e}}return!1}function Hw(t,e,r){e=yc(r,e),e=u5(t,e,1),t=XA(t,e,1),e=Us(),t!==null&&(id(t,1,e),Gs(t,e))}function jn(t,e,r){if(t.tag===3)Hw(t,t,r);else for(;e!==null;){if(e.tag===3){Hw(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ZA===null||!ZA.has(n))){t=yc(r,t),t=d5(e,t,1),e=XA(e,t,1),t=Us(),e!==null&&(id(e,1,t),Gs(e,t));break}}e=e.return}}function X3(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Us(),t.pingedLanes|=t.suspendedLanes&r,es===t&&(cs&r)===r&&(Wn===4||Wn===3&&(cs&130023424)===cs&&500>In()-_x?Ro(t,0):Ex|=r),Gs(t,e)}function U5(t,e){e===0&&(t.mode&1?(e=Pd,Pd<<=1,!(Pd&130023424)&&(Pd=4194304)):e=1);var r=Us();t=iA(t,e),t!==null&&(id(t,e,r),Gs(t,r))}function Z3(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),U5(t,r)}function eS(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(wt(314))}n!==null&&n.delete(e),U5(t,r)}var I5;I5=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||$s.current)Ms=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ms=!1,H3(t,e,r);Ms=!!(t.flags&131072)}else Ms=!1,cn&&e.flags&1048576&&Ob(e,hf,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Rh(t,e),t=e.pendingProps;var s=mc(e,Cs.current);oc(e,r),s=Bx(null,e,n,t,s,r);var i=Cx();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ks(n)?(i=!0,uf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,xx(e),s.updater=Yf,e.stateNode=s,s._reactInternals=e,Pg(e,n,t,r),e=Hg(null,e,n,!0,i,r)):(e.tag=0,cn&&i&&ux(e),ks(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Rh(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=rS(n),t=Ji(n,t),s){case 0:e=Rg(null,e,n,t,r);break e;case 1:e=kw(null,e,n,t,r);break e;case 11:e=Ew(null,e,n,t,r);break e;case 14:e=_w(null,e,n,Ji(n.type,t),r);break e}throw Error(wt(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ji(n,s),Rg(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ji(n,s),kw(t,e,n,s,r);case 3:e:{if(g5(e),t===null)throw Error(wt(387));n=e.pendingProps,i=e.memoizedState,s=i.element,$b(t,e),gf(e,n,null,r);var A=e.memoizedState;if(n=A.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=yc(Error(wt(423)),e),e=Uw(t,e,n,r,s);break e}else if(n!==s){s=yc(Error(wt(424)),e),e=Uw(t,e,n,r,s);break e}else for(Ai=YA(e.stateNode.containerInfo.firstChild),li=e,cn=!0,ea=null,r=Hb(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(xc(),n===s){e=aA(t,e,r);break e}ks(t,e,n,r)}e=e.child}return e;case 5:return Kb(e),t===null&&Tg(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,A=s.children,_g(n,s)?A=null:i!==null&&_g(n,i)&&(e.flags|=32),p5(t,e),ks(t,e,A,r),e.child;case 6:return t===null&&Tg(e),null;case 13:return m5(t,e,r);case 4:return wx(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=wc(e,null,n,r):ks(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ji(n,s),Ew(t,e,n,s,r);case 7:return ks(t,e,e.pendingProps,r),e.child;case 8:return ks(t,e,e.pendingProps.children,r),e.child;case 12:return ks(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,A=s.value,Zr(ff,n._currentValue),n._currentValue=A,i!==null)if(na(i.value,A)){if(i.children===s.children&&!$s.current){e=aA(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){A=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=tA(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Lg(i.return,r,e),o.lanes|=r;break}l=l.next}}else if(i.tag===10)A=i.type===e.type?null:i.child;else if(i.tag===18){if(A=i.return,A===null)throw Error(wt(341));A.lanes|=r,o=A.alternate,o!==null&&(o.lanes|=r),Lg(A,r,e),A=i.sibling}else A=i.child;if(A!==null)A.return=i;else for(A=i;A!==null;){if(A===e){A=null;break}if(i=A.sibling,i!==null){i.return=A.return,A=i;break}A=A.return}i=A}ks(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,oc(e,r),s=Li(s),n=n(s),e.flags|=1,ks(t,e,n,r),e.child;case 14:return n=e.type,s=Ji(n,e.pendingProps),s=Ji(n.type,s),_w(t,e,n,s,r);case 15:return h5(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ji(n,s),Rh(t,e),e.tag=1,Ks(n)?(t=!0,uf(e)):t=!1,oc(e,r),c5(e,n,s),Pg(e,n,s,r),Hg(null,e,n,!0,t,r);case 19:return x5(t,e,r);case 22:return f5(t,e,r)}throw Error(wt(156,e.tag))};function Q5(t,e){return Ab(t,e)}function tS(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ui(t,e,r,n){return new tS(t,e,r,n)}function Qx(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rS(t){if(typeof t=="function")return Qx(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Zm)return 11;if(t===ex)return 14}return 2}function to(t,e){var r=t.alternate;return r===null?(r=Ui(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function $h(t,e,r,n,s,i){var A=2;if(n=t,typeof t=="function")Qx(t)&&(A=1);else if(typeof t=="string")A=5;else e:switch(t){case Kl:return Ho(r.children,s,i,e);case Xm:A=8,s|=8;break;case og:return t=Ui(12,r,e,s|2),t.elementType=og,t.lanes=i,t;case lg:return t=Ui(13,r,e,s),t.elementType=lg,t.lanes=i,t;case cg:return t=Ui(19,r,e,s),t.elementType=cg,t.lanes=i,t;case K2:return e0(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case M2:A=10;break e;case $2:A=9;break e;case Zm:A=11;break e;case ex:A=14;break e;case TA:A=16,n=null;break e}throw Error(wt(130,t==null?t:typeof t,""))}return e=Ui(A,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Ho(t,e,r,n){return t=Ui(7,t,n,e),t.lanes=r,t}function e0(t,e,r,n){return t=Ui(22,t,n,e),t.elementType=K2,t.lanes=r,t.stateNode={isHidden:!1},t}function ap(t,e,r){return t=Ui(6,t,null,e),t.lanes=r,t}function Ap(t,e,r){return e=Ui(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nS(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=H0(0),this.expirationTimes=H0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=H0(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Tx(t,e,r,n,s,i,A,o,l){return t=new nS(t,e,r,o,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ui(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},xx(i),t}function sS(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$l,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function T5(t){if(!t)return io;t=t._reactInternals;e:{if(Zo(t)!==t||t.tag!==1)throw Error(wt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ks(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(wt(171))}if(t.tag===1){var r=t.type;if(Ks(r))return Tb(t,r,e)}return e}function L5(t,e,r,n,s,i,A,o,l){return t=Tx(r,n,!0,t,s,i,A,o,l),t.context=T5(null),r=t.current,n=Us(),s=eo(r),i=tA(n,s),i.callback=e??null,XA(r,i,s),t.current.lanes=s,id(t,s,n),Gs(t,n),t}function t0(t,e,r,n){var s=e.current,i=Us(),A=eo(s);return r=T5(r),e.context===null?e.context=r:e.pendingContext=r,e=tA(i,A),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=XA(s,e,A),t!==null&&(ra(t,s,A,i),Oh(t,s,A)),A}function Cf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Mw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Lx(t,e){Mw(t,e),(t=t.alternate)&&Mw(t,e)}function iS(){return null}var O5=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ox(t){this._internalRoot=t}r0.prototype.render=Ox.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(wt(409));t0(t,e,null,null)};r0.prototype.unmount=Ox.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Wo(function(){t0(null,t,null,null)}),e[sA]=null}};function r0(t){this._internalRoot=t}r0.prototype.unstable_scheduleHydration=function(t){if(t){var e=fb();t={blockedOn:null,target:t,priority:e};for(var r=0;r<DA.length&&e!==0&&e<DA[r].priority;r++);DA.splice(r,0,t),r===0&&gb(t)}};function Px(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function n0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $w(){}function aS(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Cf(A);i.call(c)}}var A=L5(e,n,t,0,null,!1,!1,"",$w);return t._reactRootContainer=A,t[sA]=A.current,Pu(t.nodeType===8?t.parentNode:t),Wo(),A}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var c=Cf(l);o.call(c)}}var l=Tx(t,0,!1,null,null,!1,!1,"",$w);return t._reactRootContainer=l,t[sA]=l.current,Pu(t.nodeType===8?t.parentNode:t),Wo(function(){t0(e,l,r,n)}),l}function s0(t,e,r,n,s){var i=r._reactRootContainer;if(i){var A=i;if(typeof s=="function"){var o=s;s=function(){var l=Cf(A);o.call(l)}}t0(e,A,t,s)}else A=aS(r,e,t,s,n);return Cf(A)}db=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ru(e.pendingLanes);r!==0&&(nx(e,r|1),Gs(e,In()),!(Ir&6)&&(bc=In()+500,co()))}break;case 13:Wo(function(){var n=iA(t,1);if(n!==null){var s=Us();ra(n,t,1,s)}}),Lx(t,1)}};sx=function(t){if(t.tag===13){var e=iA(t,134217728);if(e!==null){var r=Us();ra(e,t,134217728,r)}Lx(t,134217728)}};hb=function(t){if(t.tag===13){var e=eo(t),r=iA(t,e);if(r!==null){var n=Us();ra(r,t,e,n)}Lx(t,e)}};fb=function(){return Mr};pb=function(t,e){var r=Mr;try{return Mr=t,e()}finally{Mr=r}};vg=function(t,e,r){switch(e){case"input":if(hg(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=qf(n);if(!s)throw Error(wt(90));V2(n),hg(n,s)}}}break;case"textarea":q2(t,r);break;case"select":e=r.value,e!=null&&sc(t,!!r.multiple,e,!1)}};tb=kx;rb=Wo;var AS={usingClientEntryPoint:!1,Events:[Ad,ql,qf,Z2,eb,kx]},Gc={findFiberByHostInstance:To,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oS={bundleType:Gc.bundleType,version:Gc.version,rendererPackageName:Gc.rendererPackageName,rendererConfig:Gc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oA.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ib(t),t===null?null:t.stateNode},findFiberByHostInstance:Gc.findFiberByHostInstance||iS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wd.isDisabled&&Wd.supportsFiber)try{Kf=Wd.inject(oS),_a=Wd}catch{}}ui.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AS;ui.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Px(e))throw Error(wt(200));return sS(t,e,null,r)};ui.createRoot=function(t,e){if(!Px(t))throw Error(wt(299));var r=!1,n="",s=O5;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Tx(t,1,!1,null,null,r,!1,n,s),t[sA]=e.current,Pu(t.nodeType===8?t.parentNode:t),new Ox(e)};ui.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(wt(188)):(t=Object.keys(t).join(","),Error(wt(268,t)));return t=ib(e),t=t===null?null:t.stateNode,t};ui.flushSync=function(t){return Wo(t)};ui.hydrate=function(t,e,r){if(!n0(e))throw Error(wt(200));return s0(null,t,e,!0,r)};ui.hydrateRoot=function(t,e,r){if(!Px(t))throw Error(wt(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",A=O5;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(A=r.onRecoverableError)),e=L5(e,null,t,1,r??null,s,!1,i,A),t[sA]=e.current,Pu(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new r0(e)};ui.render=function(t,e,r){if(!n0(e))throw Error(wt(200));return s0(null,t,e,!1,r)};ui.unmountComponentAtNode=function(t){if(!n0(t))throw Error(wt(40));return t._reactRootContainer?(Wo(function(){s0(null,null,t,!1,function(){t._reactRootContainer=null,t[sA]=null})}),!0):!1};ui.unstable_batchedUpdates=kx;ui.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!n0(r))throw Error(wt(200));if(t==null||t._reactInternals===void 0)throw Error(wt(38));return s0(t,e,r,!1,n)};ui.version="18.3.1-next-f1338f8080-20240426";function P5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(P5)}catch(t){console.error(t)}}P5(),P2.exports=ui;var lS=P2.exports,Kw=lS;ag.createRoot=Kw.createRoot,ag.hydrateRoot=Kw.hydrateRoot;function i0(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function cS(t,e,r,n){function s(i){return i instanceof r?i:new r(function(A){A(i)})}return new(r||(r=Promise))(function(i,A){function o(d){try{c(n.next(d))}catch(p){A(p)}}function l(d){try{c(n.throw(d))}catch(p){A(p)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(t,e||[])).next())})}const uS=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Dx extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class dS extends Dx{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Gw extends Dx{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Vw extends Dx{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Zg;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Zg||(Zg={}));class hS{constructor(e,{headers:r={},customFetch:n,region:s=Zg.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=uS(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return cS(this,arguments,void 0,function*(r,n={}){var s;let i,A;try{const{headers:o,method:l,body:c,signal:d,timeout:p}=n;let g={},{region:h}=n;h||(h=this.region);const b=new URL(`${this.url}/${r}`);h&&h!=="any"&&(g["x-region"]=h,b.searchParams.set("forceFunctionRegion",h));let v;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",v=c):typeof c=="string"?(g["Content-Type"]="text/plain",v=c):typeof FormData<"u"&&c instanceof FormData?v=c:(g["Content-Type"]="application/json",v=JSON.stringify(c)):v=c;let S=d;p&&(A=new AbortController,i=setTimeout(()=>A.abort(),p),d?(S=A.signal,d.addEventListener("abort",()=>A.abort())):S=A.signal);const x=yield this.fetch(b.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),o),body:v,signal:S}).catch(O=>{throw new dS(O)}),y=x.headers.get("x-relay-error");if(y&&y==="true")throw new Gw(x);if(!x.ok)throw new Vw(x);let B=((s=x.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),j;return B==="application/json"?j=yield x.json():B==="application/octet-stream"||B==="application/pdf"?j=yield x.blob():B==="text/event-stream"?j=x:B==="multipart/form-data"?j=yield x.formData():j=yield x.text(),{data:j,error:null,response:x}}catch(o){return{data:null,error:o,response:o instanceof Vw||o instanceof Gw?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var fS=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},pS=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let A=null,o=null,l=null,c=i.status,d=i.statusText;if(i.ok){var p,g;if(r.method!=="HEAD"){var h;const x=await i.text();x===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((h=r.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?o=x:o=JSON.parse(x))}const v=(p=r.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),S=(g=i.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");v&&S&&S.length>1&&(l=parseInt(S[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(o)&&(o.length>1?(A={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,c=406,d="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var b;const v=await i.text();try{A=JSON.parse(v),Array.isArray(A)&&i.status===404&&(o=[],A=null,c=200,d="OK")}catch{i.status===404&&v===""?(c=204,d="No Content"):A={message:v}}if(A&&r.isMaybeSingle&&(!(A==null||(b=A.details)===null||b===void 0)&&b.includes("0 rows"))&&(A=null,c=200,d="OK"),A&&r.shouldThrowOnError)throw new fS(A)}return{error:A,data:o,count:l,status:c,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var A;let o="";const l=i==null?void 0:i.cause;if(l){var c,d,p,g;const b=(c=l==null?void 0:l.message)!==null&&c!==void 0?c:"",v=(d=l==null?void 0:l.code)!==null&&d!==void 0?d:"";o=`${(p=i==null?void 0:i.name)!==null&&p!==void 0?p:"FetchError"}: ${i==null?void 0:i.message}`,o+=`

Caused by: ${(g=l==null?void 0:l.name)!==null&&g!==void 0?g:"Error"}: ${b}`,v&&(o+=` (${v})`),l!=null&&l.stack&&(o+=`
${l.stack}`)}else{var h;o=(h=i==null?void 0:i.stack)!==null&&h!==void 0?h:""}return{error:{message:`${(A=i==null?void 0:i.name)!==null&&A!==void 0?A:"FetchError"}: ${i==null?void 0:i.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},gS=class extends pS{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",A=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${A?`${A},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var A;const o=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(A=this.headers.get("Accept"))!==null&&A!==void 0?A:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${o};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const zw=new RegExp("[,()]");var Ll=class extends gS{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&zw.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&zw.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},mS=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}select(t,e){const{head:r=!1,count:n}=e??{},s=r?"HEAD":"GET";let i=!1;const A=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",A),n&&this.headers.append("Prefer",`count=${n}`),new Ll({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const s="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((A,o)=>A.concat(Object.keys(o)),[]);if(i.length>0){const A=[...new Set(i)].map(o=>`"${o}"`);this.url.searchParams.set("columns",A.join(","))}}return new Ll({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const A="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ll({method:A,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:e}={}){var r;const n="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Ll({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Ll({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},xS=class D5{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new mS(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new D5(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var A;let o;const l=new URL(`${this.url}/rpc/${e}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([p,g])=>g!==void 0).map(([p,g])=>[p,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([p,g])=>{l.searchParams.append(p,g)})):(o="POST",c=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new Ll({method:o,url:l,headers:d,schema:this.schemaName,body:c,fetch:(A=this.fetch)!==null&&A!==void 0?A:fetch})}};class wS{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const vS="2.89.0",yS=`realtime-js/${vS}`,R5="1.0.0",bS="2.0.0",qw=R5,em=1e4,BS=1e3,CS=100;var OA;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(OA||(OA={}));var Vn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Vn||(Vn={}));var Zi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Zi||(Zi={}));var tm;(function(t){t.websocket="websocket"})(tm||(tm={}));var ko;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ko||(ko={}));class NS{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},A=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,A)}_encodeUserBroadcastPush(e,r,n){var s,i;const A=e.topic,o=(s=e.ref)!==null&&s!==void 0?s:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",c=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},p=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(A.length>255)throw new Error(`topic length ${A.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+A.length+c.length+p.length,h=new ArrayBuffer(this.HEADER_LENGTH+g);let b=new DataView(h),v=0;b.setUint8(v++,this.KINDS.userBroadcastPush),b.setUint8(v++,l.length),b.setUint8(v++,o.length),b.setUint8(v++,A.length),b.setUint8(v++,c.length),b.setUint8(v++,p.length),b.setUint8(v++,r),Array.from(l,x=>b.setUint8(v++,x.charCodeAt(0))),Array.from(o,x=>b.setUint8(v++,x.charCodeAt(0))),Array.from(A,x=>b.setUint8(v++,x.charCodeAt(0))),Array.from(c,x=>b.setUint8(v++,x.charCodeAt(0))),Array.from(p,x=>b.setUint8(v++,x.charCodeAt(0)));var S=new Uint8Array(h.byteLength+n.byteLength);return S.set(new Uint8Array(h),0),S.set(new Uint8Array(n),h.byteLength),S.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,A,o,l]=n;return r({join_ref:s,ref:i,topic:A,event:o,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),A=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(e.slice(l,l+s));l=l+s;const d=n.decode(e.slice(l,l+i));l=l+i;const p=n.decode(e.slice(l,l+A));l=l+A;const g=e.slice(l,e.byteLength),h=o===this.JSON_ENCODING?JSON.parse(n.decode(g)):g,b={type:this.BROADCAST_EVENT,event:d,payload:h};return A>0&&(b.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class H5{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Yr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Yr||(Yr={}));const Ww=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,A)=>(i[A]=SS(A,t,e,s),i),{}):{}},SS=(t,e,r,n)=>{const s=e.find(o=>o.name===t),i=s==null?void 0:s.type,A=r[t];return i&&!n.includes(i)?M5(i,A):rm(A)},M5=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return _S(e,r)}switch(t){case Yr.bool:return jS(e);case Yr.float4:case Yr.float8:case Yr.int2:case Yr.int4:case Yr.int8:case Yr.numeric:case Yr.oid:return FS(e);case Yr.json:case Yr.jsonb:return ES(e);case Yr.timestamp:return kS(e);case Yr.abstime:case Yr.date:case Yr.daterange:case Yr.int4range:case Yr.int8range:case Yr.money:case Yr.reltime:case Yr.text:case Yr.time:case Yr.timestamptz:case Yr.timetz:case Yr.tsrange:case Yr.tstzrange:return rm(e);default:return rm(e)}},rm=t=>t,jS=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},FS=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},ES=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},_S=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const A=t.slice(1,r);try{i=JSON.parse("["+A+"]")}catch{i=A?A.split(","):[]}return i.map(o=>M5(e,o))}return t},kS=t=>typeof t=="string"?t.replace(" ","T"):t,$5=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class op{constructor(e,r,n={},s=em){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Jw;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Jw||(Jw={}));class yu{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:A,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yu.syncState(this.state,s,i,A),this.pendingDiffs.forEach(l=>{this.state=yu.syncDiff(this.state,l,i,A)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:A,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=yu.syncDiff(this.state,s,i,A),o())}),this.onJoin((s,i,A)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:A})}),this.onLeave((s,i,A)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:A})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),A=this.transformState(r),o={},l={};return this.map(i,(c,d)=>{A[c]||(l[c]=d)}),this.map(A,(c,d)=>{const p=i[c];if(p){const g=d.map(S=>S.presence_ref),h=p.map(S=>S.presence_ref),b=d.filter(S=>h.indexOf(S.presence_ref)<0),v=p.filter(S=>g.indexOf(S.presence_ref)<0);b.length>0&&(o[c]=b),v.length>0&&(l[c]=v)}else o[c]=d}),this.syncDiff(i,{joins:o,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:A}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var c;const d=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),d.length>0){const p=e[o].map(h=>h.presence_ref),g=d.filter(h=>p.indexOf(h.presence_ref)<0);e[o].unshift(...g)}n(o,d,l)}),this.map(A,(o,l)=>{let c=e[o];if(!c)return;const d=l.map(p=>p.presence_ref);c=c.filter(p=>d.indexOf(p.presence_ref)<0),e[o]=c,s(o,c,l),c.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Yw;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Yw||(Yw={}));var bu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(bu||(bu={}));var Ja;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ja||(Ja={}));class tc{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Vn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new op(this,Zi.join,this.params,this.timeout),this.rejoinTimer=new H5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Vn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(A=>A.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Vn.closed,this.socket._remove(this)}),this._onError(A=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,A),this.state=Vn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Vn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",A=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,A),this.state=Vn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zi.reply,{},(A,o)=>{this._trigger(this._replyEventName(o),A)}),this.presence=new yu(this),this.broadcastEndpointURL=$5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Vn.closed){const{config:{broadcast:A,presence:o,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[bu.PRESENCE]&&this.bindings[bu.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,p={},g={broadcast:A,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(Ja.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(Ja.CLOSED)),this.updateJoinPayload(Object.assign({config:g},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),h===void 0){e==null||e(Ja.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,S=(b=v==null?void 0:v.length)!==null&&b!==void 0?b:0,x=[];for(let y=0;y<S;y++){const B=v[y],{filter:{event:j,schema:O,table:k,filter:M}}=B,K=h&&h[y];if(K&&K.event===j&&tc.isFilterValueEqual(K.schema,O)&&tc.isFilterValueEqual(K.table,k)&&tc.isFilterValueEqual(K.filter,M))x.push(Object.assign(Object.assign({},B),{id:K.id}));else{this.unsubscribe(),this.state=Vn.errored,e==null||e(Ja.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,e&&e(Ja.SUBSCRIBED);return}}).receive("error",h=>{this.state=Vn.errored,e==null||e(Ja.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ja.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Vn.joined&&e===bu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const A={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,A,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const c=await o.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:A}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:A,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var A,o,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(A=this.params)===null||A===void 0?void 0:A.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Vn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zi.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new op(this,Zi.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Vn.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),A=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),A}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new op(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>CS){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const A=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:d}=Zi;if(n&&[o,l,c,d].indexOf(A)>=0&&n!==this._joinRef())return;let g=this._onMessage(A,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(A)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(h=>{var b,v,S;return((b=h.filter)===null||b===void 0?void 0:b.event)==="*"||((S=(v=h.filter)===null||v===void 0?void 0:v.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===A}).map(h=>h.callback(g,n)):(i=this.bindings[A])===null||i===void 0||i.filter(h=>{var b,v,S,x,y,B;if(["broadcast","presence","postgres_changes"].includes(A))if("id"in h){const j=h.id,O=(b=h.filter)===null||b===void 0?void 0:b.event;return j&&((v=r.ids)===null||v===void 0?void 0:v.includes(j))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const j=(y=(x=h==null?void 0:h.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return j==="*"||j===((B=r==null?void 0:r.event)===null||B===void 0?void 0:B.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===A}).map(h=>{if(typeof g=="object"&&"ids"in g){const b=g.data,{schema:v,table:S,commit_timestamp:x,type:y,errors:B}=b;g=Object.assign(Object.assign({},{schema:v,table:S,commit_timestamp:x,eventType:y,new:{},old:{},errors:B}),this._getPayloadRecords(b))}h.callback(g,n)})}_isClosed(){return this.state===Vn.closed}_isJoined(){return this.state===Vn.joined}_isJoining(){return this.state===Vn.joining}_isLeaving(){return this.state===Vn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&tc.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Zi.close,{},e)}_onError(e){this._on(Zi.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Vn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Ww(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Ww(e.columns,e.old_record)),r}}const lp=()=>{},Jd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},US=[1e3,2e3,5e3,1e4],IS=1e4,QS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class TS{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=em,this.transport=null,this.heartbeatIntervalMs=Jd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=lp,this.ref=0,this.reconnectTimer=null,this.vsn=qw,this.logger=lp,this.conn=null,this.sendBuffer=[],this.serializer=new NS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${tm.websocket}`,this.httpEndpoint=$5(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=wS.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case OA.connecting:return ko.Connecting;case OA.open:return ko.Open;case OA.closing:return ko.Closing;default:return ko.Closed}}isConnected(){return this.connectionState()===ko.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new tc(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,A=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?A():this.sendBuffer.push(A)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(BS,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Jd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:A}=r,o=A?`(${A})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${o}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,A)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===OA.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===OA.open||this.conn.readyState===OA.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Zi.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([QS],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:yS};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Zi.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new H5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Jd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,A,o,l,c,d,p,g,h;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:em,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Jd.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(A=e==null?void 0:e.accessToken)!==null&&A!==void 0?A:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:lp,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:qw,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:b=>US[b-1]||IS,this.vsn){case R5:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(b,v)=>v(JSON.stringify(b)),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:(b,v)=>v(JSON.parse(b));break;case bS:this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var zu=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function LS(t,e,r){const n=new URL(e,t);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function OS(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function PS(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:A}){const o=LS(t.baseUrl,n,s),l=await OS(t.auth),c=await e(o,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...A},body:i?JSON.stringify(i):void 0}),d=await c.text(),p=(c.headers.get("content-type")||"").includes("application/json"),g=p&&d?JSON.parse(d):d;if(!c.ok){const h=p?g:void 0,b=h==null?void 0:h.error;throw new zu((b==null?void 0:b.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:h})}return{status:c.status,headers:c.headers,data:g}}}}function Yd(t){return t.join("")}var DS=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Yd(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Yd(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Yd(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Yd(t.namespace)}`}),!0}catch(e){if(e instanceof zu&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof zu&&r.status===409)return;throw r}}};function yl(t){return t.join("")}var RS=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yl(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${yl(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${yl(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${yl(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yl(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${yl(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof zu&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof zu&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},HS=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=PS({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new DS(this.client,e),this.tableOps=new RS(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},a0=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function fn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var MS=class extends a0{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},nm=class extends a0{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Rx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),$S=()=>Response,sm=t=>{if(Array.isArray(t))return t.map(r=>sm(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=sm(n)}),e},KS=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},GS=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function qu(t){"@babel/helpers - typeof";return qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qu(t)}function VS(t,e){if(qu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zS(t){var e=VS(t,"string");return qu(e)=="symbol"?e:e+""}function qS(t,e,r){return(e=zS(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ir(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xw(Object(r),!0).forEach(function(n){qS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const cp=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},WS=async(t,e,r)=>{t instanceof await $S()&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{const s=t.status||500,i=(n==null?void 0:n.statusCode)||s+"";e(new MS(cp(n),s,i))}).catch(n=>{e(new nm(cp(n),n))}):e(new nm(cp(t),t))},JS=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(KS(n)?(s.headers=ir({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),ir(ir({},s),r))};async function ld(t,e,r,n,s,i){return new Promise((A,o)=>{t(r,JS(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>A(l)).catch(l=>WS(l,o,n))})}async function Wu(t,e,r,n){return ld(t,"GET",e,r,n)}async function Yi(t,e,r,n,s){return ld(t,"POST",e,n,s,r)}async function im(t,e,r,n,s){return ld(t,"PUT",e,n,s,r)}async function YS(t,e,r,n){return ld(t,"HEAD",e,ir(ir({},r),{},{noResolveJson:!0}),n)}async function Hx(t,e,r,n,s){return ld(t,"DELETE",e,n,s,r)}var XS=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(fn(e))return{data:null,error:e};throw e}}};let K5;K5=Symbol.toStringTag;var ZS=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[K5]="BlobDownloadBuilder",this.promise=null}asStream(){return new XS(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(fn(e))return{data:null,error:e};throw e}}};const ej={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Zw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var tj=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=Rx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var s=this;try{let i;const A=ir(ir({},Zw),n);let o=ir(ir({},s.headers),t==="POST"&&{"x-upsert":String(A.upsert)});const l=A.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",A.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",A.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=r,o["cache-control"]=`max-age=${A.cacheControl}`,o["content-type"]=A.contentType,l&&(o["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!A.duplex&&(A.duplex="half")),n!=null&&n.headers&&(o=ir(ir({},o),n.headers));const c=s._removeEmptyFolders(e),d=s._getFinalPath(c),p=await(t=="PUT"?im:Yi)(s.fetch,`${s.url}/object/${d}`,i,ir({headers:o},A!=null&&A.duplex?{duplex:A.duplex}:{}));return{data:{path:c,id:p.Id,fullPath:p.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(fn(i))return{data:null,error:i};throw i}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var s=this;const i=s._removeEmptyFolders(t),A=s._getFinalPath(i),o=new URL(s.url+`/object/upload/sign/${A}`);o.searchParams.set("token",e);try{let l;const c=ir({upsert:Zw.upsert},n),d=ir(ir({},s.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType),{data:{path:i,fullPath:(await im(s.fetch,o.toString(),l,{headers:d})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(fn(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const s=ir({},r.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const i=await Yi(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),A=new URL(r.url+i.url),o=A.searchParams.get("token");if(!o)throw new a0("No token returned by API");return{data:{signedUrl:A.toString(),path:t,token:o},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(fn(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await Yi(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(fn(s))return{data:null,error:s};throw s}}async copy(t,e,r){var n=this;try{return{data:{path:(await Yi(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(fn(s))return{data:null,error:s};throw s}}async createSignedUrl(t,e,r){var n=this;try{let s=n._getFinalPath(t),i=await Yi(n.fetch,`${n.url}/object/sign/${s}`,ir({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const A=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${A}`)},{data:i,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(fn(s))return{data:null,error:s};throw s}}async createSignedUrls(t,e,r){var n=this;try{const s=await Yi(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(A=>ir(ir({},A),{},{signedUrl:A.signedURL?encodeURI(`${n.url}${A.signedURL}${i}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(fn(s))return{data:null,error:s};throw s}}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(t),A=()=>Wu(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new ZS(A,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:sm(await Wu(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(fn(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await YS(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(fn(n)&&n instanceof nm){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&n.push(s);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",A=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});A!==""&&n.push(A);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${o}`)}}}async remove(t){var e=this;try{return{data:await Hx(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(fn(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const s=ir(ir(ir({},ej),e),{},{prefix:t||""});return{data:await Yi(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(fn(s))return{data:null,error:s};throw s}}async listV2(t,e){var r=this;try{const n=ir({},t);return{data:await Yi(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(fn(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const G5="2.89.0",V5={"X-Client-Info":`storage-js/${G5}`};var rj=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const s=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=ir(ir({},V5),e),this.fetch=Rx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await Wu(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(fn(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Wu(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(fn(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await Yi(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(fn(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await im(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(fn(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await Yi(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(fn(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Hx(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(fn(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},nj=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ir(ir({},V5),e),this.fetch=Rx(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Yi(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(fn(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await Wu(e.fetch,s,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(fn(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Hx(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(fn(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!GS(t))throw new a0("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new HS({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const A=s[i];return typeof A!="function"?A:async(...o)=>{try{return{data:await A.apply(s,o),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}};const Mx={"X-Client-Info":`storage-js/${G5}`,"Content-Type":"application/json"};var z5=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function ii(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var up=class extends z5{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},sj=class extends z5{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const $x=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),ij=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ev=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),aj=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const n=t.status||500,s=t;if(typeof s.json=="function")s.json().then(i=>{const A=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";e(new up(ev(i),n,A))}).catch(()=>{const i=n+"";e(new up(s.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";e(new up(s.statusText||`HTTP ${n} error`,n,i))}}else e(new sj(ev(t),t))},Aj=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(ij(n)?(s.headers=ir({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,ir(ir({},s),r)):s};async function oj(t,e,r,n,s,i){return new Promise((A,o)=>{t(r,Aj(e,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>A(l)).catch(l=>aj(l,o,n))})}async function ai(t,e,r,n,s){return oj(t,"POST",e,n,s,r)}var lj=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ir(ir({},Mx),e),this.fetch=$x(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await ai(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ii(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await ai(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await ai(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ii(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await ai(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}}},cj=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ir(ir({},Mx),e),this.fetch=$x(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ai(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ii(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await ai(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ii(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await ai(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ii(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await ai(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ii(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ai(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ii(r))return{data:null,error:r};throw r}}},uj=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ir(ir({},Mx),e),this.fetch=$x(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await ai(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ii(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await ai(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ii(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await ai(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ii(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await ai(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ii(r))return{data:null,error:r};throw r}}},dj=class extends uj{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new hj(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},hj=class extends lj{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,ir(ir({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,ir(ir({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new fj(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},fj=class extends cj{constructor(t,e,r,n,s){super(t,e,s),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,ir(ir({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,ir(ir({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,ir(ir({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,ir(ir({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,ir(ir({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},pj=class extends rj{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new tj(this.url,this.headers,t,this.fetch)}get vectors(){return new dj(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new nj(this.url+"/iceberg",this.headers,this.fetch)}};const q5="2.89.0",Ol=30*1e3,am=3,dp=am*Ol,gj="http://localhost:9999",mj="supabase.auth.token",xj={"X-Client-Info":`gotrue-js/${q5}`},Am="X-Supabase-Api-Version",W5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},wj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vj=10*60*1e3;class Ju extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Yt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class yj extends Ju{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function bj(t){return Yt(t)&&t.name==="AuthApiError"}class Uo extends Ju{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class lA extends Ju{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class ri extends lA{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Bj(t){return Yt(t)&&t.name==="AuthSessionMissingError"}class bl extends lA{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xd extends lA{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Zd extends lA{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Cj(t){return Yt(t)&&t.name==="AuthImplicitGrantRedirectError"}class tv extends lA{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Nj extends lA{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class om extends lA{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function hp(t){return Yt(t)&&t.name==="AuthRetryableFetchError"}class rv extends lA{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class lm extends lA{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Nf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),nv=` 	
\r=`.split(""),Sj=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<nv.length;e+=1)t[nv[e].charCodeAt(0)]=-2;for(let e=0;e<Nf.length;e+=1)t[Nf[e].charCodeAt(0)]=e;return t})();function sv(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Nf[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Nf[n]),e.queuedBits-=6}}function J5(t,e,r){const n=Sj[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function iv(t){const e=[],r=A=>{e.push(String.fromCodePoint(A))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=A=>{Ej(A,n,r)};for(let A=0;A<t.length;A+=1)J5(t.charCodeAt(A),s,i);return e.join("")}function jj(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Fj(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}jj(n,e)}}function Ej(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function cc(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)J5(t.charCodeAt(s),r,n);return new Uint8Array(e)}function _j(t){const e=[];return Fj(t,r=>e.push(r)),new Uint8Array(e)}function Po(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>sv(s,r,n)),sv(null,r,n),e.join("")}function kj(t){return Math.round(Date.now()/1e3)+t}function Uj(){return Symbol("auth-callback")}const as=()=>typeof window<"u"&&typeof document<"u",Co={tested:!1,writable:!1},Y5=()=>{if(!as())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Co.tested)return Co.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Co.tested=!0,Co.writable=!0}catch{Co.tested=!0,Co.writable=!1}return Co.writable};function Ij(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const X5=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Qj=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Pl=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},No=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ss=async(t,e)=>{await t.removeItem(e)};class A0{constructor(){this.promise=new A0.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}A0.promiseConstructor=Promise;function fp(t){const e=t.split(".");if(e.length!==3)throw new lm("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!wj.test(e[n]))throw new lm("JWT not in base64url format");return{header:JSON.parse(iv(e[0])),payload:JSON.parse(iv(e[1])),signature:cc(e[2]),raw:{header:e[0],payload:e[1]}}}async function Tj(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Lj(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const A=await t(i);if(!e(i,null,A)){n(A);return}}catch(A){if(!e(i,A)){s(A);return}}})()})}function Oj(t){return("0"+t.toString(16)).substr(-2)}function Pj(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,Oj).join("")}async function Dj(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Rj(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Dj(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bl(t,e,r=!1){const n=Pj();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Pl(t,`${e}-code-verifier`,s);const i=await Rj(n);return[i,n===i?"plain":"s256"]}const Hj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Mj(t){const e=t.headers.get(Am);if(!e||!e.match(Hj))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function $j(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Kj(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Gj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cl(t){if(!Gj.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pp(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Vj(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function av(t){return JSON.parse(JSON.stringify(t))}const Eo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),zj=[502,503,504];async function Av(t){var e;if(!Qj(t))throw new om(Eo(t),0);if(zj.includes(t.status))throw new om(Eo(t),t.status);let r;try{r=await t.json()}catch(i){throw new Uo(Eo(i),i)}let n;const s=Mj(t);if(s&&s.getTime()>=W5["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new rv(Eo(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new ri}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,A)=>i&&typeof A=="string",!0))throw new rv(Eo(r),t.status,r.weak_password.reasons);throw new yj(Eo(r),t.status||500,n)}const qj=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function sr(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Am]||(i[Am]=W5["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const A=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(A.redirect_to=n.redirectTo);const o=Object.keys(A).length?"?"+new URLSearchParams(A).toString():"",l=await Wj(t,e,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Wj(t,e,r,n,s,i){const A=qj(e,n,s,i);let o;try{o=await t(r,Object.assign({},A))}catch(l){throw console.error(l),new om(Eo(l),0)}if(o.ok||await Av(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await Av(l)}}function qi(t){var e;let r=null;Xj(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=kj(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function ov(t){const e=qi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function HA(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Jj(t){return{data:t,error:null}}function Yj(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,A=i0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},A);return{data:{properties:o,user:l},error:null}}function lv(t){return t}function Xj(t){return t.access_token&&t.refresh_token&&t.expires_in}const gp=["global","local","others"];class Zj{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=X5(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=gp[0]){if(gp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gp.join(", ")}`);try{return await sr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Yt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await sr(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:HA})}catch(n){if(Yt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=i0(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await sr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Yj,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Yt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await sr(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:HA})}catch(r){if(Yt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,A,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await sr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:lv});if(d.error)throw d.error;const p=await d.json(),g=(A=d.headers.get("x-total-count"))!==null&&A!==void 0?A:0,h=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(b=>{const v=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(b.split(";")[1].split("=")[1]);c[`${S}Page`]=v}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},p),c),error:null}}catch(c){if(Yt(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Cl(e);try{return await sr(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:HA})}catch(r){if(Yt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Cl(e);try{return await sr(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:HA})}catch(n){if(Yt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Cl(e);try{return await sr(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:HA})}catch(n){if(Yt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Cl(e.userId);try{const{data:r,error:n}=await sr(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Yt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Cl(e.userId),Cl(e.id);try{return{data:await sr(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Yt(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,A,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await sr(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:lv});if(d.error)throw d.error;const p=await d.json(),g=(A=d.headers.get("x-total-count"))!==null&&A!==void 0?A:0,h=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(b=>{const v=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(b.split(";")[1].split("=")[1]);c[`${S}Page`]=v}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},p),c),error:null}}catch(c){if(Yt(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await sr(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Yt(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await sr(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Yt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await sr(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Yt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await sr(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Yt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await sr(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Yt(r))return{data:null,error:r};throw r}}}function cv(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Nl={debug:!!(globalThis&&Y5()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Z5 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class eF extends Z5{}async function tF(t,e,r){Nl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Nl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Nl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Nl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Nl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new eF(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Nl.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function rF(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function eB(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function nF(t){return parseInt(t,16)}function sF(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function iF(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:A,notBefore:o,requestId:l,resources:c,scheme:d,uri:p,version:g}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(A&&A.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${A}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const h=eB(t.address),b=d?`${d}://${n}`:n,v=t.statement?`${t.statement}
`:"",S=`${b} wants you to sign in with your Ethereum account:
${h}

${v}`;let x=`URI: ${p}
Version: ${g}
Chain ID: ${r}${A?`
Nonce: ${A}`:""}
Issued At: ${i.toISOString()}`;if(s&&(x+=`
Expiration Time: ${s.toISOString()}`),o&&(x+=`
Not Before: ${o.toISOString()}`),l&&(x+=`
Request ID: ${l}`),c){let y=`
Resources:`;for(const B of c){if(!B||typeof B!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${B}`);y+=`
- ${B}`}x+=y}return`${S}
${x}`}class Rn extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Sf extends Rn{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function aF({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Rn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Rn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Rn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Rn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Rn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Rn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Rn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Rn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const A=window.location.hostname;if(tB(A)){if(i.rp.id!==A)return new Rn({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Rn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Rn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Rn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Rn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function AF({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Rn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Rn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(tB(n)){if(r.rpId!==n)return new Rn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Rn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Rn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Rn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class oF{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const lF=new oF;function cF(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=i0(t,["challenge","user","excludeCredentials"]),i=cc(e).buffer,A=Object.assign(Object.assign({},r),{id:cc(r.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:i,user:A});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:cc(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function uF(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=i0(t,["challenge","allowCredentials"]),s=cc(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let A=0;A<r.length;A++){const o=r[A];i.allowCredentials[A]=Object.assign(Object.assign({},o),{id:cc(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function dF(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Po(new Uint8Array(t.response.attestationObject)),clientDataJSON:Po(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function hF(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Po(new Uint8Array(s.authenticatorData)),clientDataJSON:Po(new Uint8Array(s.clientDataJSON)),signature:Po(new Uint8Array(s.signature)),userHandle:s.userHandle?Po(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function tB(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function uv(){var t,e;return!!(as()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function fF(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Sf("Browser returned unexpected credential type",e)}:{data:null,error:new Sf("Empty credential response",e)}}catch(e){return{data:null,error:aF({error:e,options:t})}}}async function pF(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Sf("Browser returned unexpected credential type",e)}:{data:null,error:new Sf("Empty credential response",e)}}catch(e){return{data:null,error:AF({error:e,options:t})}}}const gF={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},mF={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function jf(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const A=s[i];if(A!==void 0)if(Array.isArray(A))n[i]=A;else if(r(A))n[i]=A;else if(e(A)){const o=n[i];e(o)?n[i]=jf(o,A):n[i]=jf(A)}else n[i]=A}return n}function xF(t,e){return jf(gF,t,e||{})}function wF(t,e){return jf(mF,t,e||{})}class vF{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:A,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!A)return{data:null,error:o};const l=s??lF.createNewAbortSignal();if(A.webauthn.type==="create"){const{user:c}=A.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(A.webauthn.type){case"create":{const c=xF(A.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:p}=await fF({publicKey:c,signal:l});return d?{data:{factorId:e,challengeId:A.id,webauthn:{type:A.webauthn.type,credential_response:d}},error:null}:{data:null,error:p}}case"request":{const c=wF(A.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:p}=await pF(Object.assign(Object.assign({},A.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:e,challengeId:A.id,webauthn:{type:A.webauthn.type,credential_response:d}},error:null}:{data:null,error:p}}}}catch(A){return Yt(A)?{data:null,error:A}:{data:null,error:new Uo("Unexpected error in challenge",A)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Ju("rpId is required for WebAuthn authentication")};try{if(!uv())return{data:null,error:new Uo("Browser does not support WebAuthn",null)};const{data:A,error:o}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!A)return{data:null,error:o};const{webauthn:l}=A;return this._verify({factorId:e,challengeId:A.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(A){return Yt(A)?{data:null,error:A}:{data:null,error:new Uo("Unexpected error in authenticate",A)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Ju("rpId is required for WebAuthn registration")};try{if(!uv())return{data:null,error:new Uo("Browser does not support WebAuthn",null)};const{data:A,error:o}=await this._enroll({friendlyName:e});if(!A)return await this.client.mfa.listFactors().then(d=>{var p;return(p=d.data)===null||p===void 0?void 0:p.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:A.id,friendlyName:A.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:A.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(A){return Yt(A)?{data:null,error:A}:{data:null,error:new Uo("Unexpected error in register",A)}}}}rF();const yF={url:gj,storageKey:mj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xj,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function dv(t,e,r){return await r()}const Sl={};class Yu{get jwks(){var e,r;return(r=(e=Sl[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Sl[this.storageKey]=Object.assign(Object.assign({},Sl[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Sl[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Sl[this.storageKey]=Object.assign(Object.assign({},Sl[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},yF),e);if(this.storageKey=i.storageKey,this.instanceID=(r=Yu.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Yu.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&as()){const A=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(A),this.logDebugMessages&&console.trace(A)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Zj({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=X5(i.fetch),this.lock=i.lock||dv,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&as()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=tF:this.lock=dv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new vF(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Y5()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=cv(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=cv(this.memoryStorage)),as()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(A){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",A)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async A=>{this._debug("received broadcast notification from other tab or client",A),await this._notifyAllSubscribers(A.data.event,A.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${q5}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(as()&&(r=Ij(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),as()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Cj(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:A,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",A,"redirect type",o),await this._saveSession(A),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",A):await this._notifyAllSubscribers("SIGNED_IN",A)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Yt(r)?this._returnResult({error:r}):this._returnResult({error:new Uo("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await sr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:qi}),{data:A,error:o}=i;if(o||!A)return this._returnResult({data:{user:null,session:null},error:o});const l=A.session,c=A.user;return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(Yt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:p,options:g}=e;let h=null,b=null;this.flowType==="pkce"&&([h,b]=await Bl(this.storage,this.storageKey)),i=await sr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:d,password:p,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:h,code_challenge_method:b},xform:qi})}else if("phone"in e){const{phone:d,password:p,options:g}=e;i=await sr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:p,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:qi})}else throw new Xd("You must provide either an email or phone number and a password");const{data:A,error:o}=i;if(o||!A)return await ss(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=A.session,c=A.user;return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(await ss(this.storage,`${this.storageKey}-code-verifier`),Yt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:A,options:o}=e;r=await sr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:A,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ov})}else if("phone"in e){const{phone:i,password:A,options:o}=e;r=await sr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:A,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ov})}else throw new Xd("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new bl;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Yt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,A,o,l,c,d,p,g;let h,b;if("message"in e)h=e.message,b=e.signature;else{const{chain:v,wallet:S,statement:x,options:y}=e;let B;if(as())if(typeof S=="object")B=S;else{const N=window;if("ethereum"in N&&typeof N.ethereum=="object"&&"request"in N.ethereum&&typeof N.ethereum.request=="function")B=N.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=S}const j=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),O=await B.request({method:"eth_requestAccounts"}).then(N=>N).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=eB(O[0]);let M=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!M){const N=await B.request({method:"eth_chainId"});M=nF(N)}const K={domain:j.host,address:k,statement:x,uri:j.href,version:"1",chainId:M,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(A=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&A!==void 0?A:new Date,expirationTime:(o=y==null?void 0:y.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};h=iF(K),b=await B.request({method:"personal_sign",params:[sF(h),k]})}try{const{data:v,error:S}=await sr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:b},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:qi});if(S)throw S;if(!v||!v.session||!v.user){const x=new bl;return this._returnResult({data:{user:null,session:null},error:x})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:S})}catch(v){if(Yt(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(e){var r,n,s,i,A,o,l,c,d,p,g,h;let b,v;if("message"in e)b=e.message,v=e.signature;else{const{chain:S,wallet:x,statement:y,options:B}=e;let j;if(as())if(typeof x=="object")j=x;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))j=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(B!=null&&B.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=x}const O=new URL((r=B==null?void 0:B.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const k=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},B==null?void 0:B.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),y?{statement:y}:null));let M;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")M=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)M=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)b=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),v=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${O.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(s=(n=B==null?void 0:B.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=B==null?void 0:B.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${B.signInWithSolana.notBefore}`]:[],...!((A=B==null?void 0:B.signInWithSolana)===null||A===void 0)&&A.expirationTime?[`Expiration Time: ${B.signInWithSolana.expirationTime}`]:[],...!((o=B==null?void 0:B.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${B.signInWithSolana.chainId}`]:[],...!((l=B==null?void 0:B.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${B.signInWithSolana.nonce}`]:[],...!((c=B==null?void 0:B.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${B.signInWithSolana.requestId}`]:[],...!((p=(d=B==null?void 0:B.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||p===void 0)&&p.length?["Resources",...B.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const k=await j.signMessage(new TextEncoder().encode(b),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=k}}try{const{data:S,error:x}=await sr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Po(v)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:qi});if(x)throw x;if(!S||!S.session||!S.user){const y=new bl;return this._returnResult({data:{user:null,session:null},error:y})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:x})}catch(S){if(Yt(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(e){const r=await No(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Nj;const{data:i,error:A}=await sr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:qi});if(await ss(this.storage,`${this.storageKey}-code-verifier`),A)throw A;if(!i||!i.session||!i.user){const o=new bl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:A})}catch(i){if(await ss(this.storage,`${this.storageKey}-code-verifier`),Yt(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:A}=e,o=await sr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:A,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:qi}),{data:l,error:c}=o;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new bl;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(Yt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,A;try{if("email"in e){const{email:o,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Bl(this.storage,this.storageKey));const{error:p}=await sr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:d}=await sr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(A=l==null?void 0:l.channel)!==null&&A!==void 0?A:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new Xd("You must provide either an email or phone number.")}catch(o){if(await ss(this.storage,`${this.storageKey}-code-verifier`),Yt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:A,error:o}=await sr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:qi});if(o)throw o;if(!A)throw new Error("An error occurred on token verification.");const l=A.session,c=A.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(Yt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,A;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Bl(this.storage,this.storageKey));const c=await sr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:Jj});return!((i=c.data)===null||i===void 0)&&i.url&&as()&&!(!((A=e.options)===null||A===void 0)&&A.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(o){if(await ss(this.storage,`${this.storageKey}-code-verifier`),Yt(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new ri;const{error:s}=await sr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(Yt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:A}=await sr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:A})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:A,error:o}=await sr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:A==null?void 0:A.message_id},error:o})}throw new Xd("You must provide either an email or phone number and a type")}catch(r){if(Yt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await No(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<dp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const A=await No(this.userStorage,this.storageKey+"-user");A!=null&&A.user?e.user=A.user:e.user=pp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const A={value:this.suppressGetSessionWarning};e.user=Vj(e.user,A),A.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await sr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:HA}):await this._useSession(async r=>{var n,s,i;const{data:A,error:o}=r;if(o)throw o;return!(!((n=A.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ri}:await sr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=A.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:HA})})}catch(r){if(Yt(r))return Bj(r)&&(await this._removeSession(),await ss(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new ri;const A=s.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Bl(this.storage,this.storageKey));const{data:c,error:d}=await sr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:A.access_token,xform:HA});if(d)throw d;return A.user=c.user,await this._saveSession(A),await this._notifyAllSubscribers("USER_UPDATED",A),this._returnResult({data:{user:A.user},error:null})})}catch(n){if(await ss(this.storage,`${this.storageKey}-code-verifier`),Yt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ri;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:A}=fp(e.access_token);if(A.exp&&(n=A.exp,s=n<=r),s){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Yt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:A,error:o}=r;if(o)throw o;e=(n=A.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new ri;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Yt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!as())throw new Zd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Zd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new tv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new tv("No code detected.");const{data:y,error:B}=await this._exchangeCodeForSession(e.code);if(B)throw B;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:A,expires_in:o,expires_at:l,token_type:c}=e;if(!i||!o||!A||!c)throw new Zd("No session defined in URL");const d=Math.round(Date.now()/1e3),p=parseInt(o);let g=d+p;l&&(g=parseInt(l));const h=g-d;h*1e3<=Ol&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${p}s`);const b=g-p;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,g,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,g,d);const{data:v,error:S}=await this._getUser(i);if(S)throw S;const x={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:p,expires_at:g,refresh_token:A,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:e.type},error:null})}catch(n){if(Yt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await No(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const A=(n=s.session)===null||n===void 0?void 0:n.access_token;if(A){const{error:o}=await this.admin.signOut(A,e);if(o&&!(bj(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await ss(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=Uj(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:A}=r;if(A)throw A;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Bl(this.storage,this.storageKey,!0));try{return await sr(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await ss(this.storage,`${this.storageKey}-code-verifier`),Yt(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Yt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var A,o,l,c,d;const{data:p,error:g}=i;if(g)throw g;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(A=e.options)===null||A===void 0?void 0:A.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await sr(this.fetch,"GET",h,{headers:this.headers,jwt:(d=(c=p.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return as()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Yt(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:A,provider:o,token:l,access_token:c,nonce:d}=e,p=await sr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:qi}),{data:g,error:h}=p;return h?this._returnResult({data:{user:null,session:null},error:h}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new bl}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:h}))}catch(s){if(await ss(this.storage,`${this.storageKey}-code-verifier`),Yt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:A}=r;if(A)throw A;return await sr(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Yt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Lj(async s=>(s>0&&await Tj(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await sr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:qi})),(s,i)=>{const A=200*Math.pow(2,s);return i&&hp(i)&&Date.now()+A-n<Ol})}catch(n){if(this._debug(r,"error",n),Yt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),as()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await No(this.storage,this.storageKey);if(s&&this.userStorage){let A=await No(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!A&&(A={user:s.user},await Pl(this.userStorage,this.storageKey+"-user",A)),s.user=(e=A==null?void 0:A.user)!==null&&e!==void 0?e:pp()}else if(s&&!s.user&&!s.user){const A=await No(this.storage,this.storageKey+"-user");A&&(A!=null&&A.user)?(s.user=A.user,await ss(this.storage,this.storageKey+"-user"),await Pl(this.storage,this.storageKey,s)):s.user=pp()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<dp;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${dp}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:A}=await this._callRefreshToken(s.refresh_token);A&&(console.error(A),hp(A)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",A),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:A,error:o}=await this._getUser(s.access_token);!o&&(A!=null&&A.user)?(s.user=A.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(A){console.error("Error getting user data:",A),this._debug(n,"error getting user data, skipping SIGNED_IN notification",A)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new ri;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new A0;const{data:i,error:A}=await this._refreshAccessToken(e);if(A)throw A;if(!i.session)throw new ri;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),Yt(i)){const A={data:null,error:i};return hp(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(A),A}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],A=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(A),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ss(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Pl(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=av(s);await Pl(this.storage,this.storageKey,i)}else{const s=av(r);await Pl(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ss(this.storage,this.storageKey),await ss(this.storage,this.storageKey+"-code-verifier"),await ss(this.storage,this.storageKey+"-user"),this.userStorage&&await ss(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&as()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ol);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Ol);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ol}ms, refresh threshold is ${am} ticks`),s<=am&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Z5)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!as()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,A]=await Bl(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(A)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await sr(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Yt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:A}=r;if(A)return this._returnResult({data:null,error:A});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await sr(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(Yt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const A=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?dF(e.webauthn.credential_response):hF(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await sr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:A,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(Yt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const A=await sr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(A.error)return A;const{data:o}=A;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:cF(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:uF(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Yt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=fp(n.access_token);let A=null;i.aal&&(A=i.aal);let o=A;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const c=i.amr||[];return{data:{currentLevel:A,nextLevel:o,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await sr(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ri})})}catch(r){if(Yt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ri});const A=await sr(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return A.data&&A.data.redirect_url&&as()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(A.data.redirect_url),A})}catch(n){if(Yt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ri});const A=await sr(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return A.data&&A.data.redirect_url&&as()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(A.data.redirect_url),A})}catch(n){if(Yt(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await sr(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ri})})}catch(e){if(Yt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await sr(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ri})})}catch(r){if(Yt(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+vj>s)return n;const{data:i,error:A}=await sr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(A)throw A;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:h,error:b}=await this.getSession();if(b||!h.session)return this._returnResult({data:null,error:b});n=h.session.access_token}const{header:s,payload:i,signature:A,raw:{header:o,payload:l}}=fp(n);r!=null&&r.allowExpired||$j(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:h}=await this.getUser(n);if(h)throw h;return{data:{claims:i,header:s,signature:A},error:null}}const d=Kj(s.alg),p=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,p,A,_j(`${o}.${l}`)))throw new lm("Invalid JWT signature");return{data:{claims:i,header:s,signature:A},error:null}}catch(n){if(Yt(n))return this._returnResult({data:null,error:n});throw n}}}Yu.nextInstanceID={};const bF=Yu,BF="2.89.0";let su="";typeof Deno<"u"?su="deno":typeof document<"u"?su="web":typeof navigator<"u"&&navigator.product==="ReactNative"?su="react-native":su="node";const CF={"X-Client-Info":`supabase-js-${su}/${BF}`},NF={headers:CF},SF={schema:"public"},jF={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},FF={};function Xu(t){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}function EF(t,e){if(Xu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _F(t){var e=EF(t,"string");return Xu(e)=="symbol"?e:e+""}function kF(t,e,r){return(e=_F(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Sn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hv(Object(r),!0).forEach(function(n){kF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hv(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const UF=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),IF=()=>Headers,QF=(t,e,r)=>{const n=UF(r),s=IF();return async(i,A)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:t;let c=new s(A==null?void 0:A.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Sn(Sn({},A),{},{headers:c}))}};function TF(t){return t.endsWith("/")?t:t+"/"}function LF(t,e){var r,n;const{db:s,auth:i,realtime:A,global:o}=t,{db:l,auth:c,realtime:d,global:p}=e,g={db:Sn(Sn({},l),s),auth:Sn(Sn({},c),i),realtime:Sn(Sn({},d),A),storage:{},global:Sn(Sn(Sn({},p),o),{},{headers:Sn(Sn({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}function OF(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(TF(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var PF=class extends bF{constructor(t){super(t)}},DF=class{constructor(t,e,r){var n,s;this.supabaseUrl=t,this.supabaseKey=e;const i=OF(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const A=`sb-${i.hostname.split(".")[0]}-auth-token`,o={db:SF,realtime:FF,auth:Sn(Sn({},jF),{},{storageKey:A}),global:NF},l=LF(r??{},o);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=QF(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Sn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new xS(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new pj(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new hS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:A,lock:o,debug:l,throwOnError:c},d,p){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new PF({url:this.authUrl.href,headers:Sn(Sn({},g),d),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,flowType:A,lock:o,debug:l,throwOnError:c,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new TS(this.realtimeUrl.href,Sn(Sn({},t),{},{params:Sn(Sn({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const RF=(t,e,r)=>new DF(t,e,r);function HF(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}HF()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const MF="https://gwgldtaezvzjiwwwsyoi.supabase.co",$F="sb_publishable_r1PELSYxd1MzpMK6uOvwUg_wnLzHtTT",is=!0,tr=RF(MF,$F,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),Vc={signUp:async(t,e)=>{if(!tr)throw new Error("Supabase is not configured");const{data:r,error:n}=await tr.auth.signUp({email:t,password:e});if(n)throw n;return r},signIn:async(t,e)=>{if(!tr)throw new Error("Supabase is not configured");const{data:r,error:n}=await tr.auth.signInWithPassword({email:t,password:e});if(n)throw n;return r},signOut:async()=>{if(!tr)throw new Error("Supabase is not configured");const{error:t}=await tr.auth.signOut();if(t)throw t},getUser:async()=>{if(!tr)return null;const{data:{user:t}}=await tr.auth.getUser();return t},getSession:async()=>{if(!tr)return null;const{data:{session:t}}=await tr.auth.getSession();return t},onAuthStateChange:t=>tr?tr.auth.onAuthStateChange(t):{data:{subscription:{unsubscribe:()=>{}}}}},rB=q.createContext(null);function KF({children:t}){const[e,r]=q.useState(null),[n,s]=q.useState(!0);q.useEffect(()=>{(async()=>{try{const p=await Vc.getSession();r((p==null?void 0:p.user)??null)}catch(p){console.error("Auth init error:",p)}finally{s(!1)}})();const{data:{subscription:d}}=Vc.onAuthStateChange((p,g)=>{r((g==null?void 0:g.user)??null)});return()=>d.unsubscribe()},[]);const l={user:e,loading:n,signIn:async(c,d)=>{try{return{data:await Vc.signIn(c,d),error:null}}catch(p){return{data:null,error:p}}},signUp:async(c,d)=>{try{return{data:await Vc.signUp(c,d),error:null}}catch(p){return{data:null,error:p}}},signOut:async()=>{try{return await Vc.signOut(),{error:null}}catch(c){return{error:c}}},isSupabaseConfigured:is};return a.jsx(rB.Provider,{value:l,children:t})}function cd(){const t=q.useContext(rB);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}const dt={get:(t,e)=>{try{const r=window.localStorage.getItem(`lifedash_${t}`);return r?JSON.parse(r):e}catch{return e}},set:(t,e)=>{try{window.localStorage.setItem(`lifedash_${t}`,JSON.stringify(e))}catch(r){console.error("Storage error:",r)}},remove:t=>{window.localStorage.removeItem(`lifedash_${t}`)}},ji={getAll:async t=>{if(!t)return dt.get("tasks",[]);const{data:e,error:r}=await tr.from("tasks").select("*").eq("user_id",t).order("date",{ascending:!0});return r?(console.error("Error fetching tasks:",r),dt.get("tasks",[])):e.map(n=>({id:n.id,title:n.title,date:n.date,time:n.time,endTime:n.end_time,allDay:n.all_day||!1,tag:n.tag,progress:n.progress,color:n.color,colorId:n.color_id||"blue",linkedType:n.linked_type||"",linkedId:n.linked_id||""}))},create:async(t,e)=>{if(!t){const s=dt.get("tasks",[]),i={...e,id:Date.now()};return dt.set("tasks",[...s,i]),i}const{data:r,error:n}=await tr.from("tasks").insert({user_id:t,title:e.title,date:e.date,time:e.time||null,end_time:e.endTime||null,all_day:e.allDay||!1,tag:e.tag,progress:e.progress||0,color:e.color,color_id:e.colorId||"blue",linked_type:e.linkedType||null,linked_id:e.linkedId||null}).select().single();if(n)throw console.error("Error creating task:",n),n;return{id:r.id,title:r.title,date:r.date,time:r.time,endTime:r.end_time,allDay:r.all_day||!1,tag:r.tag,progress:r.progress,color:r.color,colorId:r.color_id||"blue",linkedType:r.linked_type||"",linkedId:r.linked_id||""}},update:async(t,e,r)=>{if(!t){const A=dt.get("tasks",[]).map(o=>o.id===e?{...o,...r}:o);return dt.set("tasks",A),r}const{data:n,error:s}=await tr.from("tasks").update({title:r.title,date:r.date,time:r.time,end_time:r.endTime,all_day:r.allDay||!1,tag:r.tag,progress:r.progress,color:r.color,color_id:r.colorId,linked_type:r.linkedType||null,linked_id:r.linkedId||null}).eq("id",e).eq("user_id",t).select().single();if(s)throw console.error("Error updating task:",s),s;return n},delete:async(t,e)=>{if(!t){const n=dt.get("tasks",[]);dt.set("tasks",n.filter(s=>s.id!==e));return}const{error:r}=await tr.from("tasks").delete().eq("id",e).eq("user_id",t);if(r)throw console.error("Error deleting task:",r),r},deleteAll:async t=>{if(!t){dt.set("tasks",[]);return}const{error:e}=await tr.from("tasks").delete().eq("user_id",t);if(e)throw console.error("Error deleting all tasks:",e),e},bulkCreate:async(t,e)=>{if(!t||!e.length)return[];const r=e.map(i=>({user_id:t,title:i.title,date:i.date,time:i.time||null,end_time:i.endTime||i.end_time||null,all_day:i.allDay||i.all_day||!1,tag:i.tag,progress:i.progress||0,color:i.color,color_id:i.colorId||i.color_id||"blue",linked_type:i.linkedType||i.linked_type||null,linked_id:i.linkedId||i.linked_id||null})),{data:n,error:s}=await tr.from("tasks").insert(r).select();if(s)throw console.error("Error bulk creating tasks:",s),s;return n.map(i=>({id:i.id,title:i.title,date:i.date,time:i.time,endTime:i.end_time,allDay:i.all_day||!1,tag:i.tag,progress:i.progress,color:i.color,colorId:i.color_id||"blue",linkedType:i.linked_type||"",linkedId:i.linked_id||""}))}},xa={getAll:async t=>{if(!t)return dt.get("events",[]);const{data:e,error:r}=await tr.from("events").select("*").eq("user_id",t).order("date",{ascending:!0});return r?(console.error("Error fetching events:",r),dt.get("events",[])):e.map(n=>({id:n.id,title:n.title,date:n.date,time:n.time,endTime:n.end_time,allDay:n.all_day||!1,type:n.type,color:n.color,colorId:n.color_id||"emerald"}))},create:async(t,e)=>{if(!t){const s=dt.get("events",[]),i={...e,id:Date.now()};return dt.set("events",[...s,i]),i}const{data:r,error:n}=await tr.from("events").insert({user_id:t,title:e.title,date:e.date,time:e.time||null,end_time:e.endTime||null,all_day:e.allDay||!1,type:e.type,color:e.color,color_id:e.colorId||"emerald"}).select().single();if(n)throw console.error("Error creating event:",n),n;return{id:r.id,title:r.title,date:r.date,time:r.time,endTime:r.end_time,allDay:r.all_day||!1,type:r.type,color:r.color,colorId:r.color_id||"emerald"}},update:async(t,e,r)=>{if(!t){const A=dt.get("events",[]).map(o=>o.id===e?{...o,...r}:o);return dt.set("events",A),r}const{data:n,error:s}=await tr.from("events").update({title:r.title,date:r.date,time:r.time,end_time:r.endTime,all_day:r.allDay||!1,type:r.type,color:r.color,color_id:r.colorId}).eq("id",e).eq("user_id",t).select().single();if(s)throw console.error("Error updating event:",s),s;return n},delete:async(t,e)=>{if(!t){const n=dt.get("events",[]);dt.set("events",n.filter(s=>s.id!==e));return}const{error:r}=await tr.from("events").delete().eq("id",e).eq("user_id",t);if(r)throw console.error("Error deleting event:",r),r},deleteAll:async t=>{if(!t){dt.set("events",[]);return}const{error:e}=await tr.from("events").delete().eq("user_id",t);if(e)throw console.error("Error deleting all events:",e),e},bulkCreate:async(t,e)=>{if(!t||!e.length)return[];const r=e.map(i=>({user_id:t,title:i.title,date:i.date,time:i.time||null,end_time:i.endTime||i.end_time||null,all_day:i.allDay||i.all_day||!1,type:i.type,color:i.color,color_id:i.colorId||i.color_id||"emerald"})),{data:n,error:s}=await tr.from("events").insert(r).select();if(s)throw console.error("Error bulk creating events:",s),s;return n.map(i=>({id:i.id,title:i.title,date:i.date,time:i.time,endTime:i.end_time,allDay:i.all_day||!1,type:i.type,color:i.color,colorId:i.color_id||"emerald"}))}},wa={getAll:async t=>{if(!t)return dt.get("goals",[]);const{data:e,error:r}=await tr.from("goals").select("*").eq("user_id",t).order("date",{ascending:!0});return r?(console.error("Error fetching goals:",r),dt.get("goals",[])):e.map(n=>({id:n.id,title:n.title,date:n.date,time:n.time,endTime:n.end_time,allDay:n.all_day||!1,progress:n.progress,color:n.color,colorId:n.color_id||"purple"}))},create:async(t,e)=>{if(!t){const s=dt.get("goals",[]),i={...e,id:Date.now()};return dt.set("goals",[...s,i]),i}const{data:r,error:n}=await tr.from("goals").insert({user_id:t,title:e.title,date:e.date,time:e.time||null,end_time:e.endTime||null,all_day:e.allDay||!1,progress:e.progress||0,color:e.color,color_id:e.colorId||"purple"}).select().single();if(n)throw console.error("Error creating goal:",n),n;return{id:r.id,title:r.title,date:r.date,time:r.time,endTime:r.end_time,allDay:r.all_day||!1,progress:r.progress,color:r.color,colorId:r.color_id||"purple"}},update:async(t,e,r)=>{if(!t){const A=dt.get("goals",[]).map(o=>o.id===e?{...o,...r}:o);return dt.set("goals",A),r}const{data:n,error:s}=await tr.from("goals").update({title:r.title,date:r.date,time:r.time,end_time:r.endTime,all_day:r.allDay||!1,progress:r.progress,color:r.color,color_id:r.colorId}).eq("id",e).eq("user_id",t).select().single();if(s)throw console.error("Error updating goal:",s),s;return n},delete:async(t,e)=>{if(!t){const n=dt.get("goals",[]);dt.set("goals",n.filter(s=>s.id!==e));return}const{error:r}=await tr.from("goals").delete().eq("id",e).eq("user_id",t);if(r)throw console.error("Error deleting goal:",r),r},deleteAll:async t=>{if(!t){dt.set("goals",[]);return}const{error:e}=await tr.from("goals").delete().eq("user_id",t);if(e)throw console.error("Error deleting all goals:",e),e},bulkCreate:async(t,e)=>{if(!t||!e.length)return[];const r=e.map(i=>({user_id:t,title:i.title,date:i.date,time:i.time||null,end_time:i.endTime||i.end_time||null,all_day:i.allDay||i.all_day||!1,progress:i.progress||0,color:i.color,color_id:i.colorId||i.color_id||"purple"})),{data:n,error:s}=await tr.from("goals").insert(r).select();if(s)throw console.error("Error bulk creating goals:",s),s;return n.map(i=>({id:i.id,title:i.title,date:i.date,time:i.time,endTime:i.end_time,allDay:i.all_day||!1,progress:i.progress,color:i.color,colorId:i.color_id||"purple"}))}},va={getAll:async t=>{if(!t)return dt.get("transactions",[]);const{data:e,error:r}=await tr.from("transactions").select("*").eq("user_id",t).order("date",{ascending:!1});return r?(console.error("Error fetching transactions:",r),dt.get("transactions",[])):e.map(n=>({id:n.id,title:n.title,amount:parseFloat(n.amount),type:n.type,category:n.category,date:n.date,originalDate:n.original_date||n.date,paymentTiming:n.payment_timing||"immediate",linkedType:n.linked_type||"",linkedId:n.linked_id||""}))},create:async(t,e)=>{if(!t){const s=dt.get("transactions",[]),i={...e,id:Date.now()};return dt.set("transactions",[...s,i]),i}const{data:r,error:n}=await tr.from("transactions").insert({user_id:t,title:e.title,amount:e.amount,type:e.type,category:e.category,date:e.date,original_date:e.originalDate||e.date,payment_timing:e.paymentTiming||"immediate",linked_type:e.linkedType||null,linked_id:e.linkedId||null}).select().single();if(n)throw console.error("Error creating transaction:",n),n;return{id:r.id,title:r.title,amount:parseFloat(r.amount),type:r.type,category:r.category,date:r.date,originalDate:r.original_date||r.date,paymentTiming:r.payment_timing||"immediate",linkedType:r.linked_type||"",linkedId:r.linked_id||""}},update:async(t,e,r)=>{if(!t){const A=dt.get("transactions",[]).map(o=>o.id===e?{...o,...r}:o);return dt.set("transactions",A),r}const{data:n,error:s}=await tr.from("transactions").update({title:r.title,amount:r.amount,type:r.type,category:r.category,date:r.date,original_date:r.originalDate,payment_timing:r.paymentTiming,linked_type:r.linkedType||null,linked_id:r.linkedId||null}).eq("id",e).eq("user_id",t).select().single();if(s)throw console.error("Error updating transaction:",s),s;return n},delete:async(t,e)=>{if(!t){const n=dt.get("transactions",[]);dt.set("transactions",n.filter(s=>s.id!==e));return}const{error:r}=await tr.from("transactions").delete().eq("id",e).eq("user_id",t);if(r)throw console.error("Error deleting transaction:",r),r},deleteAll:async t=>{if(!t){dt.set("transactions",[]);return}const{error:e}=await tr.from("transactions").delete().eq("user_id",t);if(e)throw console.error("Error deleting all transactions:",e),e},bulkCreate:async(t,e)=>{if(!t||!e.length)return[];const r=e.map(i=>({user_id:t,title:i.title,amount:i.amount,type:i.type,category:i.category,date:i.date,original_date:i.originalDate||i.date,payment_timing:i.paymentTiming||"immediate",linked_type:i.linkedType||i.linked_type||null,linked_id:i.linkedId||i.linked_id||null})),{data:n,error:s}=await tr.from("transactions").insert(r).select();if(s)throw console.error("Error bulk creating transactions:",s),s;return n.map(i=>({id:i.id,title:i.title,amount:parseFloat(i.amount),type:i.type,category:i.category,date:i.date,originalDate:i.original_date||i.date,paymentTiming:i.payment_timing||"immediate",linkedType:i.linked_type||"",linkedId:i.linked_id||""}))}},ya={getAll:async t=>{if(!t)return dt.get("scripts",[]);try{const{data:e,error:r}=await tr.from("scripts").select("*").eq("user_id",t).order("created_at",{ascending:!1});return r?(console.error("Error fetching scripts:",r),dt.get("scripts",[])):e.map(n=>({id:n.id,title:n.title,content:n.content,category:n.category,variables:n.variables||[],isFavorite:n.is_favorite||!1,useCount:n.use_count||0,createdAt:n.created_at,updatedAt:n.updated_at}))}catch{return dt.get("scripts",[])}},create:async(t,e)=>{const r=new Date().toISOString();if(!t){const n=dt.get("scripts",[]),s={...e,id:Date.now(),createdAt:r,updatedAt:r,useCount:0};return dt.set("scripts",[...n,s]),s}try{const{data:n,error:s}=await tr.from("scripts").insert({user_id:t,title:e.title,content:e.content,category:e.category,variables:e.variables||[],is_favorite:e.isFavorite||!1,use_count:0}).select().single();if(s){const i=dt.get("scripts",[]),A={...e,id:Date.now(),createdAt:r,updatedAt:r,useCount:0};return dt.set("scripts",[...i,A]),A}return{id:n.id,title:n.title,content:n.content,category:n.category,variables:n.variables||[],isFavorite:n.is_favorite||!1,useCount:n.use_count||0,createdAt:n.created_at,updatedAt:n.updated_at}}catch{const n=dt.get("scripts",[]),s={...e,id:Date.now(),createdAt:r,updatedAt:r,useCount:0};return dt.set("scripts",[...n,s]),s}},update:async(t,e,r)=>{const n=new Date().toISOString();if(!t){const i=dt.get("scripts",[]).map(A=>A.id===e?{...A,...r,updatedAt:n}:A);return dt.set("scripts",i),r}try{const{data:s,error:i}=await tr.from("scripts").update({title:r.title,content:r.content,category:r.category,variables:r.variables,is_favorite:r.isFavorite,use_count:r.useCount,updated_at:n}).eq("id",e).eq("user_id",t).select().single();if(i){const o=dt.get("scripts",[]).map(l=>l.id===e?{...l,...r,updatedAt:n}:l);return dt.set("scripts",o),r}return s}catch{const i=dt.get("scripts",[]).map(A=>A.id===e?{...A,...r,updatedAt:n}:A);return dt.set("scripts",i),r}},delete:async(t,e)=>{if(!t){const r=dt.get("scripts",[]);dt.set("scripts",r.filter(n=>n.id!==e));return}try{const{error:r}=await tr.from("scripts").delete().eq("id",e).eq("user_id",t);if(r){const n=dt.get("scripts",[]);dt.set("scripts",n.filter(s=>s.id!==e))}}catch{const r=dt.get("scripts",[]);dt.set("scripts",r.filter(n=>n.id!==e))}},deleteAll:async t=>{if(!t){dt.set("scripts",[]);return}try{const{error:e}=await tr.from("scripts").delete().eq("user_id",t);e&&console.error("Error deleting all scripts:",e)}catch(e){console.error("Error deleting all scripts:",e)}},bulkCreate:async(t,e)=>{if(!t||!e.length)return[];try{const r=e.map(i=>({user_id:t,title:i.title,content:i.content,category:i.category,variables:i.variables||[],is_favorite:i.isFavorite||i.is_favorite||!1,use_count:i.useCount||i.use_count||0})),{data:n,error:s}=await tr.from("scripts").insert(r).select();return s?(console.error("Error bulk creating scripts:",s),[]):n.map(i=>({id:i.id,title:i.title,content:i.content,category:i.category,variables:i.variables||[],isFavorite:i.is_favorite||!1,useCount:i.use_count||0,createdAt:i.created_at,updatedAt:i.updated_at}))}catch(r){return console.error("Error bulk creating scripts:",r),[]}}},ba={getAll:async t=>{if(!t)return dt.get("shoppingItems",[]);try{const{data:e,error:r}=await tr.from("shopping_items").select("*").eq("user_id",t).order("created_at",{ascending:!1});return r?(console.error("Error fetching shopping items:",r),dt.get("shoppingItems",[])):e.map(n=>({id:n.id,title:n.title,store:n.store,estimatedPrice:parseFloat(n.estimated_price)||0,timing:n.timing,purchased:n.purchased||!1,linkedType:n.linked_type||"",linkedId:n.linked_id||"",createdAt:n.created_at}))}catch{return dt.get("shoppingItems",[])}},create:async(t,e)=>{if(!t){const r=dt.get("shoppingItems",[]),n={...e,id:Date.now(),createdAt:new Date().toISOString()};return dt.set("shoppingItems",[...r,n]),n}try{const{data:r,error:n}=await tr.from("shopping_items").insert({user_id:t,title:e.title,store:e.store,estimated_price:e.estimatedPrice||0,timing:e.timing,purchased:e.purchased||!1,linked_type:e.linkedType||null,linked_id:e.linkedId||null}).select().single();if(n){console.error("Error creating shopping item:",n);const s=dt.get("shoppingItems",[]),i={...e,id:Date.now(),createdAt:new Date().toISOString()};return dt.set("shoppingItems",[...s,i]),i}return{id:r.id,title:r.title,store:r.store,estimatedPrice:parseFloat(r.estimated_price)||0,timing:r.timing,purchased:r.purchased||!1,linkedType:r.linked_type||"",linkedId:r.linked_id||"",createdAt:r.created_at}}catch{const r=dt.get("shoppingItems",[]),n={...e,id:Date.now(),createdAt:new Date().toISOString()};return dt.set("shoppingItems",[...r,n]),n}},update:async(t,e,r)=>{if(!t){const s=dt.get("shoppingItems",[]).map(i=>i.id===e?{...i,...r}:i);return dt.set("shoppingItems",s),r}try{const{data:n,error:s}=await tr.from("shopping_items").update({title:r.title,store:r.store,estimated_price:r.estimatedPrice,timing:r.timing,purchased:r.purchased,linked_type:r.linkedType||null,linked_id:r.linkedId||null}).eq("id",e).eq("user_id",t).select().single();if(s){const A=dt.get("shoppingItems",[]).map(o=>o.id===e?{...o,...r}:o);return dt.set("shoppingItems",A),r}return n}catch{const s=dt.get("shoppingItems",[]).map(i=>i.id===e?{...i,...r}:i);return dt.set("shoppingItems",s),r}},delete:async(t,e)=>{if(!t){const r=dt.get("shoppingItems",[]);dt.set("shoppingItems",r.filter(n=>n.id!==e));return}try{const{error:r}=await tr.from("shopping_items").delete().eq("id",e).eq("user_id",t);if(r){const n=dt.get("shoppingItems",[]);dt.set("shoppingItems",n.filter(s=>s.id!==e))}}catch{const r=dt.get("shoppingItems",[]);dt.set("shoppingItems",r.filter(n=>n.id!==e))}},deleteAll:async t=>{if(!t){dt.set("shoppingItems",[]);return}try{const{error:e}=await tr.from("shopping_items").delete().eq("user_id",t);e&&console.error("Error deleting all shopping items:",e)}catch(e){console.error("Error deleting all shopping items:",e)}},bulkCreate:async(t,e)=>{if(!t||!e.length)return[];try{const r=e.map(i=>({user_id:t,title:i.title,store:i.store,estimated_price:i.estimatedPrice||i.estimated_price||0,timing:i.timing,purchased:i.purchased||!1,linked_type:i.linkedType||i.linked_type||null,linked_id:i.linkedId||i.linked_id||null})),{data:n,error:s}=await tr.from("shopping_items").insert(r).select();return s?(console.error("Error bulk creating shopping items:",s),[]):n.map(i=>({id:i.id,title:i.title,store:i.store,estimatedPrice:parseFloat(i.estimated_price)||0,timing:i.timing,purchased:i.purchased||!1,linkedType:i.linked_type||"",linkedId:i.linked_id||"",createdAt:i.created_at}))}catch(r){return console.error("Error bulk creating shopping items:",r),[]}}},Ba={getAll:async t=>{if(!t)return dt.get("diary",[]);try{const{data:e,error:r}=await tr.from("diary").select("*").eq("user_id",t).order("date",{ascending:!1});return r?(console.error("Error fetching diary:",r),dt.get("diary",[])):e.map(n=>({id:n.id,date:n.date,content:n.content,isFavorite:n.is_favorite||!1,createdAt:n.created_at,updatedAt:n.updated_at}))}catch{return dt.get("diary",[])}},create:async(t,e)=>{const r=new Date().toISOString();if(!t){const n=dt.get("diary",[]),s={...e,id:Date.now(),createdAt:r,updatedAt:r};return dt.set("diary",[...n,s]),s}try{const{data:n,error:s}=await tr.from("diary").insert({user_id:t,date:e.date,content:e.content,is_favorite:e.isFavorite||!1}).select().single();if(s){console.error("Error creating diary entry:",s);const i=dt.get("diary",[]),A={...e,id:Date.now(),createdAt:r,updatedAt:r};return dt.set("diary",[...i,A]),A}return{id:n.id,date:n.date,content:n.content,isFavorite:n.is_favorite||!1,createdAt:n.created_at,updatedAt:n.updated_at}}catch{const n=dt.get("diary",[]),s={...e,id:Date.now(),createdAt:r,updatedAt:r};return dt.set("diary",[...n,s]),s}},update:async(t,e,r)=>{const n=new Date().toISOString();if(!t){const i=dt.get("diary",[]).map(A=>A.id===e?{...A,...r,updatedAt:n}:A);return dt.set("diary",i),r}try{const{data:s,error:i}=await tr.from("diary").update({content:r.content,is_favorite:r.isFavorite,updated_at:n}).eq("id",e).eq("user_id",t).select().single();if(i){console.error("Error updating diary entry:",i);const o=dt.get("diary",[]).map(l=>l.id===e?{...l,...r,updatedAt:n}:l);return dt.set("diary",o),r}return s}catch{const i=dt.get("diary",[]).map(A=>A.id===e?{...A,...r,updatedAt:n}:A);return dt.set("diary",i),r}},delete:async(t,e)=>{if(!t){const r=dt.get("diary",[]);dt.set("diary",r.filter(n=>n.id!==e));return}try{const{error:r}=await tr.from("diary").delete().eq("id",e).eq("user_id",t);if(r){const n=dt.get("diary",[]);dt.set("diary",n.filter(s=>s.id!==e))}}catch{const r=dt.get("diary",[]);dt.set("diary",r.filter(n=>n.id!==e))}},deleteAll:async t=>{if(!t){dt.set("diary",[]);return}try{const{error:e}=await tr.from("diary").delete().eq("user_id",t);e&&console.error("Error deleting all diary entries:",e)}catch(e){console.error("Error deleting all diary entries:",e)}},bulkCreate:async(t,e)=>{if(!t||!e.length)return[];try{const r=e.map(i=>({user_id:t,date:i.date,content:i.content,is_favorite:i.isFavorite||i.is_favorite||!1})),{data:n,error:s}=await tr.from("diary").insert(r).select();return s?(console.error("Error bulk creating diary entries:",s),[]):n.map(i=>({id:i.id,date:i.date,content:i.content,isFavorite:i.is_favorite||!1,createdAt:i.created_at,updatedAt:i.updated_at}))}catch(r){return console.error("Error bulk creating diary entries:",r),[]}}},zc={get:async t=>{const e={username:"User",theme:"dark",notifications:{tasks:!0,goals:!0,finance:!0}};if(!t)return dt.get("settings",e);const{data:r,error:n}=await tr.from("user_settings").select("*").eq("user_id",t).single();return n?n.code==="PGRST116"?e:(console.error("Error fetching settings:",n),dt.get("settings",e)):{username:r.username,theme:r.theme,notifications:r.notifications}},update:async(t,e)=>{if(!t)return dt.set("settings",e),e;const{data:r,error:n}=await tr.from("user_settings").upsert({user_id:t,username:e.username,theme:e.theme,notifications:e.notifications},{onConflict:"user_id"}).select().single();if(n)throw console.error("Error updating settings:",n),n;return e}},Vi={tasks:[{id:1,title:"",date:"2026-01-10",tag:"",progress:0,color:"bg-cyan-900/50 text-cyan-400"},{id:2,title:"KBT",date:"2026-01-09",tag:"",progress:0,color:"bg-blue-900/50 text-blue-400"},{id:3,title:"KBT",date:"2026-01-08",tag:"",progress:0,color:"bg-blue-900/50 text-blue-400"},{id:4,title:"KBT",date:"2026-01-07",tag:"",progress:0,color:"bg-blue-900/50 text-blue-400"},{id:5,title:"Stripchat",date:"2026-01-06",tag:"",progress:100,color:"bg-cyan-900/50 text-cyan-400"},{id:6,title:"KBT",date:"2026-01-06",tag:"",progress:0,color:"bg-blue-900/50 text-blue-400"}],goals:[{id:1,title:"",date:"2026-01-31",progress:30},{id:2,title:"",date:"2026-02-28",progress:10}],events:[],transactions:[{id:1,title:"",amount:25e4,type:"income",category:"",date:"2026-01-05"},{id:2,title:"",amount:8e4,type:"expense",category:"",date:"2026-01-05"},{id:3,title:"",amount:5e3,type:"expense",category:"",date:"2026-01-06"},{id:4,title:"",amount:3e4,type:"income",category:"",date:"2026-01-04"}],settings:{username:"User",theme:"dark",notifications:{tasks:!0,goals:!0,finance:!0}}},Ft=dt;function GF(){const{user:t,loading:e}=cd(),r=t==null?void 0:t.id,[n,s]=q.useState([]),[i,A]=q.useState([]),[o,l]=q.useState([]),[c,d]=q.useState([]),[p,g]=q.useState([]),[h,b]=q.useState([]),[v,S]=q.useState([]),[x,y]=q.useState(Vi.settings),[B,j]=q.useState(!0),[O,k]=q.useState(null);q.useEffect(()=>{if(e)return;(async()=>{j(!0),k(null);try{if(!is||!r||r==="local-user")s(Ft.get("tasks",Vi.tasks)),A(Ft.get("events",Vi.events)),l(Ft.get("goals",Vi.goals)),d(Ft.get("transactions",Vi.transactions)),g(Ft.get("shoppingItems",[])),b(Ft.get("scripts",[])),S(Ft.get("diary",[])),y(Ft.get("settings",Vi.settings));else{console.log("Loading data from Supabase for user:",r);const[ne,Ne,W,He,Ve,$e,Je,ct]=await Promise.all([ji.getAll(r),xa.getAll(r),wa.getAll(r),va.getAll(r),ba.getAll(r),ya.getAll(r),Ba.getAll(r),zc.get(r)]);console.log("Supabase data loaded:",{tasks:ne.length,events:Ne.length,goals:W.length,transactions:He.length}),s(ne),A(Ne),l(W),d(He),g(Ve),b($e),S(Je),y(ct)}}catch(ne){console.error("Error loading data:",ne),k(ne.message),s(Ft.get("tasks",Vi.tasks)),A(Ft.get("events",Vi.events)),l(Ft.get("goals",Vi.goals)),d(Ft.get("transactions",Vi.transactions)),g(Ft.get("shoppingItems",[])),b(Ft.get("scripts",[])),S(Ft.get("diary",[])),y(Ft.get("settings",Vi.settings))}finally{j(!1)}})()},[r,e]);const M=q.useCallback(async J=>{try{const ne=await ji.create(r,J);return s(Ne=>[...Ne,ne]),ne}catch(ne){throw k(ne.message),ne}},[r]),K=q.useCallback(async(J,ne)=>{try{if(await ji.update(r,J,ne),s(Ne=>Ne.map(W=>W.id===J?{...W,...ne}:W)),!is||r==="local-user"){const Ne=n.map(W=>W.id===J?{...W,...ne}:W);Ft.set("tasks",Ne)}}catch(Ne){throw k(Ne.message),Ne}},[r,n]),N=q.useCallback(async J=>{try{await ji.delete(r,J),s(ne=>ne.filter(Ne=>Ne.id!==J)),(!is||r==="local-user")&&Ft.set("tasks",n.filter(ne=>ne.id!==J))}catch(ne){throw k(ne.message),ne}},[r,n]),H=q.useCallback(async J=>{try{const ne=await xa.create(r,J);return A(Ne=>[...Ne,ne]),ne}catch(ne){throw k(ne.message),ne}},[r]),_=q.useCallback(async(J,ne)=>{try{if(await xa.update(r,J,ne),A(Ne=>Ne.map(W=>W.id===J?{...W,...ne}:W)),!is||r==="local-user"){const Ne=i.map(W=>W.id===J?{...W,...ne}:W);Ft.set("events",Ne)}}catch(Ne){throw k(Ne.message),Ne}},[r,i]),E=q.useCallback(async J=>{try{await xa.delete(r,J),A(ne=>ne.filter(Ne=>Ne.id!==J)),(!is||r==="local-user")&&Ft.set("events",i.filter(ne=>ne.id!==J))}catch(ne){throw k(ne.message),ne}},[r,i]),G=q.useCallback(async J=>{try{const ne=await wa.create(r,J);return l(Ne=>[...Ne,ne]),ne}catch(ne){throw k(ne.message),ne}},[r]),P=q.useCallback(async(J,ne)=>{try{if(await wa.update(r,J,ne),l(Ne=>Ne.map(W=>W.id===J?{...W,...ne}:W)),!is||r==="local-user"){const Ne=o.map(W=>W.id===J?{...W,...ne}:W);Ft.set("goals",Ne)}}catch(Ne){throw k(Ne.message),Ne}},[r,o]),ee=q.useCallback(async J=>{try{await wa.delete(r,J),l(ne=>ne.filter(Ne=>Ne.id!==J)),(!is||r==="local-user")&&Ft.set("goals",o.filter(ne=>ne.id!==J))}catch(ne){throw k(ne.message),ne}},[r,o]),ce=q.useCallback(async J=>{try{const ne=await va.create(r,J);return d(Ne=>[...Ne,ne]),ne}catch(ne){throw k(ne.message),ne}},[r]),he=q.useCallback(async(J,ne)=>{try{if(await va.update(r,J,ne),d(Ne=>Ne.map(W=>W.id===J?{...W,...ne}:W)),!is||r==="local-user"){const Ne=c.map(W=>W.id===J?{...W,...ne}:W);Ft.set("transactions",Ne)}}catch(Ne){throw k(Ne.message),Ne}},[r,c]),ie=q.useCallback(async J=>{try{await va.delete(r,J),d(ne=>ne.filter(Ne=>Ne.id!==J)),(!is||r==="local-user")&&Ft.set("transactions",c.filter(ne=>ne.id!==J))}catch(ne){throw k(ne.message),ne}},[r,c]),de=q.useCallback(async J=>{try{const ne=await ba.create(r,J);return g(Ne=>[...Ne,ne]),ne}catch(ne){throw k(ne.message),ne}},[r]),fe=q.useCallback(async(J,ne)=>{try{if(await ba.update(r,J,ne),g(Ne=>Ne.map(W=>W.id===J?{...W,...ne}:W)),!is||r==="local-user"){const Ne=p.map(W=>W.id===J?{...W,...ne}:W);Ft.set("shoppingItems",Ne)}}catch(Ne){throw k(Ne.message),Ne}},[r,p]),ve=q.useCallback(async J=>{try{await ba.delete(r,J),g(ne=>ne.filter(Ne=>Ne.id!==J)),(!is||r==="local-user")&&Ft.set("shoppingItems",p.filter(ne=>ne.id!==J))}catch(ne){throw k(ne.message),ne}},[r,p]),I=q.useCallback(async J=>{try{const ne=await ya.create(r,J);return b(Ne=>[...Ne,ne]),ne}catch(ne){throw k(ne.message),ne}},[r]),R=q.useCallback(async(J,ne)=>{try{if(await ya.update(r,J,ne),b(Ne=>Ne.map(W=>W.id===J?{...W,...ne}:W)),!is||r==="local-user"){const Ne=h.map(W=>W.id===J?{...W,...ne}:W);Ft.set("scripts",Ne)}}catch(Ne){throw k(Ne.message),Ne}},[r,h]),te=q.useCallback(async J=>{try{await ya.delete(r,J),b(ne=>ne.filter(Ne=>Ne.id!==J)),(!is||r==="local-user")&&Ft.set("scripts",h.filter(ne=>ne.id!==J))}catch(ne){throw k(ne.message),ne}},[r,h]),Y=q.useCallback(async J=>{try{const ne=await Ba.create(r,J);return S(Ne=>[...Ne,ne]),ne}catch(ne){throw k(ne.message),ne}},[r]),le=q.useCallback(async(J,ne)=>{try{if(await Ba.update(r,J,ne),S(Ne=>Ne.map(W=>W.id===J?{...W,...ne}:W)),!is||r==="local-user"){const Ne=v.map(W=>W.id===J?{...W,...ne}:W);Ft.set("diary",Ne)}}catch(Ne){throw k(Ne.message),Ne}},[r,v]),pe=q.useCallback(async J=>{try{await Ba.delete(r,J),S(ne=>ne.filter(Ne=>Ne.id!==J)),(!is||r==="local-user")&&Ft.set("diary",v.filter(ne=>ne.id!==J))}catch(ne){throw k(ne.message),ne}},[r,v]),Fe=q.useCallback(async J=>{try{await zc.update(r,J),y(J),(!is||r==="local-user")&&Ft.set("settings",J)}catch(ne){throw k(ne.message),ne}},[r]),be=q.useCallback(()=>({tasks:n,goals:o,events:i,transactions:c,shoppingItems:p,scripts:h,diaryEntries:v,settings:x,exportDate:new Date().toISOString()}),[n,o,i,c,p,h,v,x]),Oe=q.useCallback(()=>{const J=be();Ft.set("auto_backup",J);const ne=Ft.get("backup_history",[]),W=[{timestamp:new Date().toISOString(),data:J},...ne].slice(0,5);return Ft.set("backup_history",W),console.log(`Auto backup completed at ${new Date().toLocaleTimeString()}`),J},[be]);q.useEffect(()=>{if(B)return;const J=setTimeout(()=>{Oe()},5e3),ne=setInterval(()=>{Oe()},30*60*1e3);return()=>{clearTimeout(J),clearInterval(ne)}},[B,Oe]);const Ye=q.useCallback(()=>Ft.get("auto_backup",null),[]),ht=q.useCallback(()=>Ft.get("backup_history",[]),[]),ue=q.useCallback(async J=>{var ne,Ne,W,He,Ve;if(!J)return!1;if(r&&r!=="local-user")try{console.log("Restoring backup to Supabase..."),await Promise.all([ji.deleteAll(r),xa.deleteAll(r),wa.deleteAll(r),va.deleteAll(r),ba.deleteAll(r),ya.deleteAll(r),Ba.deleteAll(r)]);const[$e,Je,ct]=await Promise.all([(ne=J.tasks)!=null&&ne.length?ji.bulkCreate(r,J.tasks):Promise.resolve([]),(Ne=J.events)!=null&&Ne.length?xa.bulkCreate(r,J.events):Promise.resolve([]),(W=J.goals)!=null&&W.length?wa.bulkCreate(r,J.goals):Promise.resolve([])]),Be={task:{},event:{},goal:{}};J.tasks&&$e.length===J.tasks.length&&J.tasks.forEach((Qe,ft)=>{Be.task[Qe.id]=$e[ft].id}),J.events&&Je.length===J.events.length&&J.events.forEach((Qe,ft)=>{Be.event[Qe.id]=Je[ft].id}),J.goals&&ct.length===J.goals.length&&J.goals.forEach((Qe,ft)=>{Be.goal[Qe.id]=ct[ft].id});const Ce=[];for(let Qe=0;Qe<$e.length;Qe++){const ft=J.tasks[Qe],at=$e[Qe],vt=ft.linkedType||ft.linked_type||"",pt=ft.linkedId||ft.linked_id||"";if(vt&&pt){const xt=Be[vt];if(xt&&xt[pt]){const Bt=xt[pt];Ce.push(ji.update(r,at.id,{linkedType:vt,linkedId:Bt})),$e[Qe]={...at,linkedType:vt,linkedId:Bt}}}}Ce.length>0&&await Promise.all(Ce);const Z=(J.transactions||[]).map(Qe=>{var pt;const ft=Qe.linkedType||Qe.linked_type||"",at=Qe.linkedId||Qe.linked_id||"";let vt=at;return ft&&at&&((pt=Be[ft])!=null&&pt[at])&&(vt=Be[ft][at]),{...Qe,linkedType:ft,linkedId:vt}}),we=(J.shoppingItems||[]).map(Qe=>{var pt;const ft=Qe.linkedType||Qe.linked_type||"",at=Qe.linkedId||Qe.linked_id||"";let vt=at;return ft&&at&&((pt=Be[ft])!=null&&pt[at])&&(vt=Be[ft][at]),{...Qe,linkedType:ft,linkedId:vt}}),[_e,Xe,Ge,ge]=await Promise.all([Z.length?va.bulkCreate(r,Z):Promise.resolve([]),we.length?ba.bulkCreate(r,we):Promise.resolve([]),(He=J.scripts)!=null&&He.length?ya.bulkCreate(r,J.scripts):Promise.resolve([]),(Ve=J.diary||J.diaryEntries)!=null&&Ve.length?Ba.bulkCreate(r,J.diary||J.diaryEntries):Promise.resolve([])]);return J.settings&&await zc.update(r,J.settings),s($e),A(Je),l(ct),d(_e),g(Xe),b(Ge),S(ge),J.settings&&y(J.settings),Ft.set("tasks",$e),Ft.set("events",Je),Ft.set("goals",ct),Ft.set("transactions",_e),Ft.set("shoppingItems",Xe),Ft.set("scripts",Ge),Ft.set("diary",ge),J.settings&&Ft.set("settings",J.settings),console.log("Restore from backup completed!"),!0}catch($e){return console.error("Restore error:",$e),!1}else{if(J.tasks&&(s(J.tasks),Ft.set("tasks",J.tasks)),J.goals&&(l(J.goals),Ft.set("goals",J.goals)),J.events&&(A(J.events),Ft.set("events",J.events)),J.transactions&&(d(J.transactions),Ft.set("transactions",J.transactions)),J.shoppingItems&&(g(J.shoppingItems),Ft.set("shoppingItems",J.shoppingItems)),J.scripts&&(b(J.scripts),Ft.set("scripts",J.scripts)),J.diaryEntries||J.diary){const $e=J.diaryEntries||J.diary;S($e),Ft.set("diary",$e)}return J.settings&&(y(J.settings),Ft.set("settings",J.settings)),!0}},[r]),qe=q.useCallback(()=>{const J=be(),ne=new Blob([JSON.stringify(J,null,2)],{type:"application/json"}),Ne=URL.createObjectURL(ne),W=document.createElement("a");W.href=Ne,W.download=`life-dashboard-backup-${new Date().toISOString().split("T")[0]}.json`,W.click(),URL.revokeObjectURL(Ne)},[be]),F=q.useCallback(async J=>{var ne,Ne,W,He,Ve;if(r&&r!=="local-user"){console.log("Importing data to Supabase..."),console.log("Step 1: Deleting existing data from Supabase...");try{await Promise.all([ji.deleteAll(r),xa.deleteAll(r),wa.deleteAll(r),va.deleteAll(r),ba.deleteAll(r),ya.deleteAll(r),Ba.deleteAll(r)]),console.log("Step 2: Inserting tasks, events, goals first...");const[$e,Je,ct]=await Promise.all([(ne=J.tasks)!=null&&ne.length?ji.bulkCreate(r,J.tasks):Promise.resolve([]),(Ne=J.events)!=null&&Ne.length?xa.bulkCreate(r,J.events):Promise.resolve([]),(W=J.goals)!=null&&W.length?wa.bulkCreate(r,J.goals):Promise.resolve([])]),Be={task:{},event:{},goal:{}};J.tasks&&$e.length===J.tasks.length&&J.tasks.forEach((Qe,ft)=>{const at=Qe.id,vt=$e[ft].id;Be.task[at]=vt,console.log(`Task ID mapping: ${at} -> ${vt}`)}),J.events&&Je.length===J.events.length&&J.events.forEach((Qe,ft)=>{const at=Qe.id,vt=Je[ft].id;Be.event[at]=vt,console.log(`Event ID mapping: ${at} -> ${vt}`)}),J.goals&&ct.length===J.goals.length&&J.goals.forEach((Qe,ft)=>{const at=Qe.id,vt=ct[ft].id;Be.goal[at]=vt,console.log(`Goal ID mapping: ${at} -> ${vt}`)}),console.log("ID Mappings created:",Be),console.log("Step 2.5: Updating task linked references...");const Ce=[];for(let Qe=0;Qe<$e.length;Qe++){const ft=J.tasks[Qe],at=$e[Qe],vt=ft.linkedType||ft.linked_type||"",pt=ft.linkedId||ft.linked_id||"";if(vt&&pt){const xt=Be[vt];if(xt&&xt[pt]){const Bt=xt[pt];console.log(`Task "${at.title}": ${vt} ID ${pt} -> ${Bt}`),Ce.push(ji.update(r,at.id,{linkedType:vt,linkedId:Bt})),$e[Qe]={...at,linkedType:vt,linkedId:Bt}}}}Ce.length>0&&(await Promise.all(Ce),console.log(`Updated ${Ce.length} task linked references`));const Z=(J.transactions||[]).map(Qe=>{const ft=Qe.linkedType||Qe.linked_type||"",at=Qe.linkedId||Qe.linked_id||"";let vt=at;if(ft&&at){const pt=Be[ft];pt&&pt[at]&&(vt=pt[at],console.log(`Transaction "${Qe.title}": ${ft} ID ${at} -> ${vt}`))}return{...Qe,linkedType:ft,linkedId:vt}}),we=(J.shoppingItems||[]).map(Qe=>{const ft=Qe.linkedType||Qe.linked_type||"",at=Qe.linkedId||Qe.linked_id||"";let vt=at;if(ft&&at){const pt=Be[ft];pt&&pt[at]&&(vt=pt[at])}return{...Qe,linkedType:ft,linkedId:vt}});console.log("Step 3: Inserting transactions, shopping items, scripts, diary...");const[_e,Xe,Ge,ge]=await Promise.all([Z.length?va.bulkCreate(r,Z):Promise.resolve([]),we.length?ba.bulkCreate(r,we):Promise.resolve([]),(He=J.scripts)!=null&&He.length?ya.bulkCreate(r,J.scripts):Promise.resolve([]),(Ve=J.diary||J.diaryEntries)!=null&&Ve.length?Ba.bulkCreate(r,J.diary||J.diaryEntries):Promise.resolve([])]);J.settings&&await zc.update(r,J.settings),console.log("Step 4: Updating local state with Supabase data..."),console.log("Inserted counts:",{tasks:$e.length,events:Je.length,goals:ct.length,transactions:_e.length,shoppingItems:Xe.length,scripts:Ge.length,diary:ge.length}),s($e),A(Je),l(ct),d(_e),g(Xe),b(Ge),S(ge),J.settings&&y(J.settings),Ft.set("tasks",$e),Ft.set("events",Je),Ft.set("goals",ct),Ft.set("transactions",_e),Ft.set("shoppingItems",Xe),Ft.set("scripts",Ge),Ft.set("diary",ge),J.settings&&Ft.set("settings",J.settings),console.log("Import to Supabase completed successfully!")}catch($e){throw console.error("Import error:",$e),$e}}else if(J.tasks&&(s(J.tasks),Ft.set("tasks",J.tasks)),J.goals&&(l(J.goals),Ft.set("goals",J.goals)),J.events&&(A(J.events),Ft.set("events",J.events)),J.transactions&&(d(J.transactions),Ft.set("transactions",J.transactions)),J.shoppingItems&&(g(J.shoppingItems),Ft.set("shoppingItems",J.shoppingItems)),J.scripts&&(b(J.scripts),Ft.set("scripts",J.scripts)),J.settings&&(y(J.settings),Ft.set("settings",J.settings)),J.diary||J.diaryEntries){const $e=J.diary||J.diaryEntries;S($e),Ft.set("diary",$e)}},[r]),se=q.useCallback(()=>{localStorage.clear(),window.location.reload()},[]),Ke=q.useCallback(async()=>{if(!r||r==="local-user")throw new Error("");const J={tasks:{success:0,failed:0},events:{success:0,failed:0},goals:{success:0,failed:0},transactions:{success:0,failed:0},shoppingItems:{success:0,failed:0},scripts:{success:0,failed:0},diary:{success:0,failed:0}};console.log("Deleting existing data from Supabase..."),await Promise.all([ji.deleteAll(r),xa.deleteAll(r),wa.deleteAll(r),va.deleteAll(r),ba.deleteAll(r),ya.deleteAll(r),Ba.deleteAll(r)]),console.log("Existing data deleted. Bulk inserting new data...");try{const[ne,Ne,W,He,Ve,$e,Je]=await Promise.all([n.length?ji.bulkCreate(r,n):Promise.resolve([]),i.length?xa.bulkCreate(r,i):Promise.resolve([]),o.length?wa.bulkCreate(r,o):Promise.resolve([]),c.length?va.bulkCreate(r,c):Promise.resolve([]),p.length?ba.bulkCreate(r,p):Promise.resolve([]),h.length?ya.bulkCreate(r,h):Promise.resolve([]),v.length?Ba.bulkCreate(r,v):Promise.resolve([])]);J.tasks.success=ne.length,J.events.success=Ne.length,J.goals.success=W.length,J.transactions.success=He.length,J.shoppingItems.success=Ve.length,J.scripts.success=$e.length,J.diary.success=Je.length,s(ne),A(Ne),l(W),d(He),g(Ve),b($e),S(Je),Ft.set("tasks",ne),Ft.set("events",Ne),Ft.set("goals",W),Ft.set("transactions",He),Ft.set("shoppingItems",Ve),Ft.set("scripts",$e),Ft.set("diary",Je),await zc.update(r,x),console.log("Sync completed:",J)}catch(ne){throw console.error("Sync error:",ne),ne}return J},[r,n,i,o,c,p,h,v,x]);return{tasks:n,events:i,goals:o,transactions:c,shoppingItems:p,scripts:h,settings:x,loading:B,error:O,addTask:M,updateTask:K,deleteTask:N,setTasks:s,addEvent:H,updateEvent:_,deleteEvent:E,setEvents:A,addGoal:G,updateGoal:P,deleteGoal:ee,setGoals:l,addTransaction:ce,updateTransaction:he,deleteTransaction:ie,setTransactions:d,addShoppingItem:de,updateShoppingItem:fe,deleteShoppingItem:ve,setShoppingItems:g,addScript:I,updateScript:R,deleteScript:te,setScripts:b,diaryEntries:v,addDiaryEntry:Y,updateDiaryEntry:le,deleteDiaryEntry:pe,setDiaryEntries:S,updateSettings:Fe,setSettings:y,exportData:qe,importData:F,clearAllData:se,syncToSupabase:Ke,autoBackup:Oe,getLastAutoBackup:Ye,getBackupHistory:ht,restoreFromBackup:ue}}function bt({name:t,size:e=24,className:r=""}){const n={calendar:a.jsx("path",{d:"M8 2v4M16 2v4M3 10h18M5 4h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2Z"}),roadmap:a.jsx("path",{d:"M3 3v18h18 M18 17V9 M13 17V5 M8 17v-3"}),network:a.jsxs(a.Fragment,{children:[a.jsx("rect",{x:"16",y:"16",width:"6",height:"6",rx:"1"}),a.jsx("rect",{x:"2",y:"16",width:"6",height:"6",rx:"1"}),a.jsx("rect",{x:"9",y:"2",width:"6",height:"6",rx:"1"}),a.jsx("path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3"}),a.jsx("path",{d:"M12 12V8"})]}),tasks:a.jsxs(a.Fragment,{children:[a.jsx("rect",{x:"3",y:"5",width:"6",height:"6",rx:"1"}),a.jsx("path",{d:"m3 17 2 2 4-4"}),a.jsx("path",{d:"M13 6h8"}),a.jsx("path",{d:"M13 12h8"}),a.jsx("path",{d:"M13 18h8"})]}),analytics:a.jsxs(a.Fragment,{children:[a.jsx("rect",{width:"7",height:"9",x:"3",y:"3",rx:"1"}),a.jsx("rect",{width:"7",height:"5",x:"14",y:"3",rx:"1"}),a.jsx("rect",{width:"7",height:"9",x:"14",y:"12",rx:"1"}),a.jsx("rect",{width:"7",height:"5",x:"3",y:"16",rx:"1"})]}),ai:a.jsxs(a.Fragment,{children:[a.jsx("circle",{cx:"12",cy:"12",r:"10"}),a.jsx("path",{d:"M8 14s1.5 2 4 2 4-2 4-2"}),a.jsx("line",{x1:"9",y1:"9",x2:"9.01",y2:"9"}),a.jsx("line",{x1:"15",y1:"9",x2:"15.01",y2:"9"})]}),finance:a.jsxs(a.Fragment,{children:[a.jsx("rect",{width:"20",height:"12",x:"2",y:"6",rx:"2"}),a.jsx("circle",{cx:"12",cy:"12",r:"2"}),a.jsx("path",{d:"M6 12h.01M18 12h.01"})]}),system:a.jsxs(a.Fragment,{children:[a.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.09a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),a.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),plus:a.jsxs(a.Fragment,{children:[a.jsx("path",{d:"M5 12h14"}),a.jsx("path",{d:"M12 5v14"})]}),cloud:a.jsx("path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"}),search:a.jsxs(a.Fragment,{children:[a.jsx("circle",{cx:"11",cy:"11",r:"8"}),a.jsx("path",{d:"m21 21-4.3-4.3"})]}),send:a.jsxs(a.Fragment,{children:[a.jsx("path",{d:"m22 2-7 20-4-9-9-4Z"}),a.jsx("path",{d:"M22 2 11 13"})]}),box:a.jsxs(a.Fragment,{children:[a.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),a.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),a.jsx("path",{d:"M12 22v-9"})]}),trash:a.jsxs(a.Fragment,{children:[a.jsx("path",{d:"M3 6h18"}),a.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),a.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]}),edit:a.jsxs(a.Fragment,{children:[a.jsx("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}),a.jsx("path",{d:"m15 5 4 4"})]}),check:a.jsx("path",{d:"M20 6 9 17l-5-5"}),x:a.jsxs(a.Fragment,{children:[a.jsx("path",{d:"M18 6 6 18"}),a.jsx("path",{d:"m6 6 12 12"})]}),chevronLeft:a.jsx("path",{d:"m15 18-6-6 6-6"}),chevronRight:a.jsx("path",{d:"m9 18 6-6-6-6"}),trendingUp:a.jsxs(a.Fragment,{children:[a.jsx("polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17"}),a.jsx("polyline",{points:"16 7 22 7 22 13"})]}),trendingDown:a.jsxs(a.Fragment,{children:[a.jsx("polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7"}),a.jsx("polyline",{points:"16 17 22 17 22 11"})]}),wallet:a.jsxs(a.Fragment,{children:[a.jsx("path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4"}),a.jsx("path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5"}),a.jsx("path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z"})]}),piggyBank:a.jsxs(a.Fragment,{children:[a.jsx("path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2h0V5z"}),a.jsx("path",{d:"M2 9v1c0 1.1.9 2 2 2h1"}),a.jsx("path",{d:"M16 11h0"})]}),creditCard:a.jsxs(a.Fragment,{children:[a.jsx("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),a.jsx("line",{x1:"2",x2:"22",y1:"10",y2:"10"})]}),moon:a.jsx("path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"}),sun:a.jsxs(a.Fragment,{children:[a.jsx("circle",{cx:"12",cy:"12",r:"4"}),a.jsx("path",{d:"M12 2v2"}),a.jsx("path",{d:"M12 20v2"}),a.jsx("path",{d:"m4.93 4.93 1.41 1.41"}),a.jsx("path",{d:"m17.66 17.66 1.41 1.41"}),a.jsx("path",{d:"M2 12h2"}),a.jsx("path",{d:"M20 12h2"}),a.jsx("path",{d:"m6.34 17.66-1.41 1.41"}),a.jsx("path",{d:"m19.07 4.93-1.41 1.41"})]}),bell:a.jsxs(a.Fragment,{children:[a.jsx("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),a.jsx("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})]}),user:a.jsxs(a.Fragment,{children:[a.jsx("circle",{cx:"12",cy:"8",r:"5"}),a.jsx("path",{d:"M20 21a8 8 0 1 0-16 0"})]}),target:a.jsxs(a.Fragment,{children:[a.jsx("circle",{cx:"12",cy:"12",r:"10"}),a.jsx("circle",{cx:"12",cy:"12",r:"6"}),a.jsx("circle",{cx:"12",cy:"12",r:"2"})]}),flag:a.jsxs(a.Fragment,{children:[a.jsx("path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}),a.jsx("line",{x1:"4",x2:"4",y1:"22",y2:"15"})]}),clock:a.jsxs(a.Fragment,{children:[a.jsx("circle",{cx:"12",cy:"12",r:"10"}),a.jsx("polyline",{points:"12 6 12 12 16 14"})]}),star:a.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"}),link:a.jsxs(a.Fragment,{children:[a.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),a.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"})]}),download:a.jsxs(a.Fragment,{children:[a.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),a.jsx("polyline",{points:"7 10 12 15 17 10"}),a.jsx("line",{x1:"12",x2:"12",y1:"15",y2:"3"})]}),upload:a.jsxs(a.Fragment,{children:[a.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),a.jsx("polyline",{points:"17 8 12 3 7 8"}),a.jsx("line",{x1:"12",x2:"12",y1:"3",y2:"15"})]}),logout:a.jsxs(a.Fragment,{children:[a.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),a.jsx("polyline",{points:"16 17 21 12 16 7"}),a.jsx("line",{x1:"21",x2:"9",y1:"12",y2:"12"})]}),login:a.jsxs(a.Fragment,{children:[a.jsx("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}),a.jsx("polyline",{points:"10 17 15 12 10 7"}),a.jsx("line",{x1:"15",x2:"3",y1:"12",y2:"12"})]}),tracking:a.jsxs(a.Fragment,{children:[a.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2"}),a.jsx("path",{d:"M8 21h8"}),a.jsx("path",{d:"M12 17v4"}),a.jsx("path",{d:"M7 8h2"}),a.jsx("path",{d:"M7 12h4"}),a.jsx("circle",{cx:"16",cy:"10",r:"2"})]}),menu:a.jsxs(a.Fragment,{children:[a.jsx("line",{x1:"4",x2:"20",y1:"6",y2:"6"}),a.jsx("line",{x1:"4",x2:"20",y1:"12",y2:"12"}),a.jsx("line",{x1:"4",x2:"20",y1:"18",y2:"18"})]}),gripVertical:a.jsxs(a.Fragment,{children:[a.jsx("circle",{cx:"9",cy:"5",r:"1"}),a.jsx("circle",{cx:"9",cy:"12",r:"1"}),a.jsx("circle",{cx:"9",cy:"19",r:"1"}),a.jsx("circle",{cx:"15",cy:"5",r:"1"}),a.jsx("circle",{cx:"15",cy:"12",r:"1"}),a.jsx("circle",{cx:"15",cy:"19",r:"1"})]}),shopping:a.jsxs(a.Fragment,{children:[a.jsx("circle",{cx:"8",cy:"21",r:"1"}),a.jsx("circle",{cx:"19",cy:"21",r:"1"}),a.jsx("path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"})]}),scripts:a.jsxs(a.Fragment,{children:[a.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),a.jsx("polyline",{points:"14 2 14 8 20 8"}),a.jsx("path",{d:"m10 13-2 2 2 2"}),a.jsx("path",{d:"m14 17 2-2-2-2"})]}),diary:a.jsxs(a.Fragment,{children:[a.jsx("path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"}),a.jsx("path",{d:"M8 7h6"}),a.jsx("path",{d:"M8 11h8"})]}),morning:a.jsxs(a.Fragment,{children:[a.jsx("circle",{cx:"12",cy:"12",r:"4"}),a.jsx("path",{d:"M12 2v2"}),a.jsx("path",{d:"M12 20v2"}),a.jsx("path",{d:"m4.93 4.93 1.41 1.41"}),a.jsx("path",{d:"m17.66 17.66 1.41 1.41"}),a.jsx("path",{d:"M2 12h2"}),a.jsx("path",{d:"M20 12h2"}),a.jsx("path",{d:"m6.34 17.66-1.41 1.41"}),a.jsx("path",{d:"m19.07 4.93-1.41 1.41"}),a.jsx("path",{d:"M9 16h6"})]}),copy:a.jsxs(a.Fragment,{children:[a.jsx("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),a.jsx("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]}),starFilled:a.jsx("polygon",{fill:"currentColor",points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"}),twin:a.jsxs(a.Fragment,{children:[a.jsx("circle",{cx:"12",cy:"8",r:"4"}),a.jsx("path",{d:"M12 12v2"}),a.jsx("path",{d:"M8 20h8"}),a.jsx("path",{d:"M10 20v-4a2 2 0 0 1 4 0v4"}),a.jsx("circle",{cx:"6",cy:"6",r:"2",strokeDasharray:"2 2"}),a.jsx("circle",{cx:"18",cy:"6",r:"2",strokeDasharray:"2 2"}),a.jsx("path",{d:"M6 8v2a2 2 0 0 0 2 2",strokeDasharray:"2 2"}),a.jsx("path",{d:"M18 8v2a2 2 0 0 1-2 2",strokeDasharray:"2 2"})]}),brain:a.jsxs(a.Fragment,{children:[a.jsx("path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z"}),a.jsx("path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z"}),a.jsx("path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4"}),a.jsx("path",{d:"M12 18v4"})]}),save:a.jsxs(a.Fragment,{children:[a.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),a.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),a.jsx("polyline",{points:"7 3 7 8 15 8"})]}),refreshCw:a.jsxs(a.Fragment,{children:[a.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),a.jsx("path",{d:"M21 3v5h-5"}),a.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),a.jsx("path",{d:"M3 21v-5h5"})]}),mtg:a.jsxs(a.Fragment,{children:[a.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),a.jsx("circle",{cx:"9",cy:"7",r:"4"}),a.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),a.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),trade:a.jsxs(a.Fragment,{children:[a.jsx("path",{d:"M3 3v18h18"}),a.jsx("path",{d:"m19 9-5 5-4-4-3 3"}),a.jsx("circle",{cx:"19",cy:"9",r:"2"}),a.jsx("circle",{cx:"14",cy:"14",r:"2"}),a.jsx("circle",{cx:"10",cy:"10",r:"2"}),a.jsx("circle",{cx:"7",cy:"13",r:"2"})]})};return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:r,children:n[t]||a.jsx("circle",{cx:"12",cy:"12",r:"10"})})}function VF(){const{signIn:t,signUp:e,isSupabaseConfigured:r}=cd(),[n,s]=q.useState("login");q.useEffect(()=>{document.documentElement.setAttribute("data-theme","dark")},[]);const[i,A]=q.useState(""),[o,l]=q.useState(""),[c,d]=q.useState(!1),[p,g]=q.useState(null),[h,b]=q.useState(null),v=async S=>{S.preventDefault(),d(!0),g(null),b(null);try{if(n==="login"){const{error:x}=await t(i,o);if(x)throw x}else{const{error:x,data:y}=await e(i,o);if(x)throw x;b("")}}catch(x){g(x.message)}finally{d(!1)}};return r?a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{backgroundColor:"#0a0a0a"},children:a.jsxs("div",{className:"rounded-2xl p-8 w-full max-w-md",style:{backgroundColor:"#141414",border:"1px solid #27272a"},children:[a.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-2xl mx-auto mb-6 flex items-center justify-center",children:a.jsx(bt,{name:"box",size:32,className:"text-white"})}),a.jsx("h1",{className:"text-2xl font-bold text-center mb-2",style:{color:"#fafafa"},children:"Life Dashboard"}),a.jsx("p",{className:"text-center mb-8",style:{color:"#a1a1aa"},children:n==="login"?"":""}),a.jsxs("form",{onSubmit:v,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm mb-1 block",style:{color:"#a1a1aa"},children:""}),a.jsx("input",{type:"email",value:i,onChange:S=>A(S.target.value),className:"w-full rounded-lg px-4 py-3 outline-none focus:border-blue-500 transition-colors",style:{backgroundColor:"#1a1a1a",border:"1px solid #3f3f46",color:"#fafafa"},placeholder:"email@example.com",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm mb-1 block",style:{color:"#a1a1aa"},children:""}),a.jsx("input",{type:"password",value:o,onChange:S=>l(S.target.value),className:"w-full rounded-lg px-4 py-3 outline-none focus:border-blue-500 transition-colors",style:{backgroundColor:"#1a1a1a",border:"1px solid #3f3f46",color:"#fafafa"},placeholder:"",required:!0,minLength:6})]}),p&&a.jsx("div",{className:"bg-red-900/30 border border-red-700 rounded-lg p-3 text-sm text-red-300",children:p}),h&&a.jsx("div",{className:"bg-emerald-900/30 border border-emerald-700 rounded-lg p-3 text-sm text-emerald-300",children:h}),a.jsx("button",{type:"submit",disabled:c,className:"w-full py-3 bg-blue-600 hover:bg-blue-500 disabled:bg-blue-600/50 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:c?a.jsx("span",{className:"animate-pulse",children:"..."}):a.jsxs(a.Fragment,{children:[a.jsx(bt,{name:n==="login"?"login":"user",size:20}),n==="login"?"":""]})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("button",{onClick:()=>{s(n==="login"?"signup":"login"),g(null),b(null)},className:"text-blue-400 hover:text-blue-300 text-sm transition-colors",children:n==="login"?"":""})})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{backgroundColor:"#0a0a0a"},children:a.jsxs("div",{className:"rounded-2xl p-8 w-full max-w-md text-center",style:{backgroundColor:"#141414",border:"1px solid #27272a"},children:[a.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-2xl mx-auto mb-6 flex items-center justify-center",children:a.jsx(bt,{name:"box",size:32,className:"text-white"})}),a.jsx("h1",{className:"text-2xl font-bold mb-2",style:{color:"#fafafa"},children:"Life Dashboard"}),a.jsxs("p",{className:"mb-6",style:{color:"#a1a1aa"},children:["Supabase",a.jsx("br",{}),""]}),a.jsxs("div",{className:"rounded-lg p-4 text-sm",style:{backgroundColor:"rgba(234, 179, 8, 0.1)",border:"1px solid #ca8a04",color:"#fde047"},children:[a.jsx("p",{className:"font-bold mb-2",children:""}),a.jsx("p",{children:"localStorage"})]})]})})}function zF({activeTab:t,setActiveTab:e}){const[r,n]=q.useState(!1),s=[{id:"ai",label:"AI ",icon:"ai"},{id:"shopping",label:"Shopping",icon:"shopping"},{id:"tasks",label:"Tasks",icon:"tasks"},{id:"finance",label:"Finance",icon:"finance"},{id:"trade",label:"Trade",icon:"trade"},{id:"twin",label:"Digital Twin",icon:"twin"},{id:"calendar",label:"Schedule",icon:"calendar"},{id:"roadmap",label:"Roadmap",icon:"roadmap"},{id:"scripts",label:"Scripts",icon:"scripts"},{id:"morning",label:"Morning Note",icon:"morning"},{id:"diary",label:"Diary",icon:"diary"},{id:"tracking",label:"Tracking",icon:"tracking"},{id:"analytics",label:"Analytics",icon:"analytics"},{id:"system",label:"Settings",icon:"system"}],i=[{id:"ai",label:"",icon:"user",primary:!0},{id:"shopping",label:"",icon:"shopping"},{id:"tasks",label:"",icon:"tasks"},{id:"finance",label:"",icon:"finance"},{id:"twin",label:"",icon:"twin"}],A=[{id:"calendar",label:"",icon:"calendar"},{id:"trade",label:"",icon:"trade"},{id:"morning",label:"",icon:"morning"},{id:"diary",label:"",icon:"diary"},{id:"roadmap",label:"",icon:"roadmap"},{id:"scripts",label:"",icon:"scripts"},{id:"tracking",label:"",icon:"tracking"},{id:"analytics",label:"",icon:"analytics"},{id:"system",label:"",icon:"system"}];return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"hidden md:flex w-[72px] min-h-screen flex-col items-center py-5 fixed left-0 top-0 z-50 transition-theme",style:{backgroundColor:"var(--sidebar-bg)",borderRight:"1px solid var(--border-primary)"},children:[a.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center mb-6",style:{backgroundColor:"var(--accent-secondary)"},children:a.jsx(bt,{name:"box",className:"text-white",size:20})}),a.jsx("nav",{className:"flex-1 flex flex-col items-center gap-1 w-full px-3",children:s.map(o=>a.jsxs("button",{onClick:()=>e(o.id),className:"w-full p-2.5 rounded-lg transition-all duration-200 group relative flex items-center justify-center",style:{backgroundColor:t===o.id?"var(--sidebar-hover)":"transparent",color:t===o.id?"var(--accent-secondary)":"var(--sidebar-text)"},onMouseEnter:l=>{t!==o.id&&(l.currentTarget.style.backgroundColor="var(--sidebar-hover)",l.currentTarget.style.color="var(--text-primary)")},onMouseLeave:l=>{t!==o.id&&(l.currentTarget.style.backgroundColor="transparent",l.currentTarget.style.color="var(--sidebar-text)")},children:[a.jsx(bt,{name:o.id,size:20}),t===o.id&&a.jsx("span",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-0.5 h-5 rounded-r",style:{backgroundColor:"var(--accent-secondary)"}}),a.jsx("span",{className:"absolute left-full ml-3 px-2.5 py-1.5 rounded-md text-xs font-medium opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity whitespace-nowrap z-50",style:{backgroundColor:"var(--bg-card)",color:"var(--text-primary)",border:"1px solid var(--border-primary)"},children:o.label})]},o.id))})]}),a.jsxs("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50",style:{backgroundColor:"var(--bg-card)",borderTop:"2px solid var(--border-primary)",paddingBottom:"env(safe-area-inset-bottom, 0px)"},children:[r&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 bg-black/40 z-40",onClick:()=>n(!1)}),a.jsxs("div",{className:"absolute bottom-full left-0 right-0 z-50 p-4 shadow-2xl rounded-t-2xl",style:{backgroundColor:"var(--bg-card)",borderTop:"2px solid var(--border-primary)"},children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("span",{className:"font-bold text-lg",style:{color:"var(--text-primary)"},children:""}),a.jsx("button",{onClick:()=>n(!1),className:"p-2 rounded-full",style:{backgroundColor:"var(--bg-tertiary)"},children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"grid grid-cols-4 gap-3",children:A.map(o=>a.jsxs("button",{onClick:()=>{e(o.id),n(!1)},className:"flex flex-col items-center gap-2 p-3 rounded-xl transition-all",style:{backgroundColor:t===o.id?"var(--accent-secondary)":"var(--bg-tertiary)",color:t===o.id?"white":"var(--text-primary)"},children:[a.jsx(bt,{name:o.icon,size:24}),a.jsx("span",{className:"text-xs font-medium",children:o.label})]},o.id))})]})]}),a.jsxs("nav",{className:"flex items-center justify-around py-2",children:[i.map(o=>a.jsxs("button",{onClick:()=>{e(o.id),n(!1)},className:"flex flex-col items-center justify-center transition-all",style:{minWidth:o.primary?"56px":"48px"},children:[o.primary?a.jsx("div",{className:`-mt-5 w-14 h-14 rounded-full flex items-center justify-center shadow-xl transition-transform ${t===o.id?"scale-110":""}`,style:{background:t===o.id?"linear-gradient(135deg, #06b6d4 0%, #0284c7 100%)":"linear-gradient(135deg, #0ea5e9 0%, #0369a1 100%)",boxShadow:"0 4px 15px rgba(6, 182, 212, 0.4)"},children:a.jsx(bt,{name:"user",size:28,className:"text-white"})}):a.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center transition-all ${t===o.id?"scale-105":""}`,style:{backgroundColor:t===o.id?"var(--accent-secondary)":"transparent",color:t===o.id?"white":"var(--text-secondary)"},children:a.jsx(bt,{name:o.icon,size:22})}),o.label&&a.jsx("span",{className:"text-[10px] font-semibold mt-1",style:{color:t===o.id?o.primary?"#0ea5e9":"var(--accent-secondary)":"var(--text-tertiary)"},children:o.label})]},o.id)),a.jsxs("button",{onClick:()=>n(!r),className:"flex flex-col items-center justify-center",style:{minWidth:"48px"},children:[a.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center transition-all",style:{backgroundColor:r?"var(--bg-tertiary)":"transparent",color:r?"var(--text-primary)":"var(--text-secondary)"},children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),a.jsx("span",{className:"text-[10px] font-semibold mt-1",style:{color:"var(--text-tertiary)"},children:""})]})]})]})]})}function qF({title:t,tasks:e,goals:r,events:n,theme:s,setTheme:i}){const{user:A,signOut:o,isSupabaseConfigured:l}=cd(),c=e.filter(h=>{const b=new Date().toISOString().split("T")[0];return h.date===b}),d=c.filter(h=>h.progress===100).length,p=async()=>{confirm("")&&await o()},g=()=>{const h=s==="dark"?"light":"dark";i(h),document.documentElement.setAttribute("data-theme",h),localStorage.setItem("theme",h)};return a.jsxs("header",{className:"flex justify-between items-center mb-2 md:mb-6 pb-2 md:pb-4 transition-theme",style:{borderBottom:"1px solid var(--border-primary)"},children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("h1",{className:"text-base md:text-xl font-semibold tracking-tight",style:{color:"var(--text-primary)"},children:t})}),a.jsxs("div",{className:"flex gap-1 md:gap-2 items-center",children:[a.jsxs("div",{className:"hidden md:flex items-center gap-2 px-3 py-1.5 rounded-lg transition-theme",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-primary)"},children:[a.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:"var(--accent-secondary)"}}),a.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:[r.length," Goals"]})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-2 px-3 py-1.5 rounded-lg transition-theme",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-primary)"},children:[a.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:"var(--accent-primary)"}}),a.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--text-secondary)"},children:[e.length," Tasks"]})]}),a.jsx("div",{className:"flex items-center gap-1 md:gap-2 px-2 md:px-3 py-1 md:py-1.5 rounded-lg transition-theme",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-primary)"},children:a.jsxs("span",{className:"text-xs md:text-sm font-medium",style:{color:"var(--text-secondary)"},children:["Today: ",d,"/",c.length]})}),a.jsx("button",{onClick:g,className:"flex items-center justify-center w-7 h-7 md:w-9 md:h-9 rounded-lg transition-all",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",border:"1px solid var(--border-primary)"},onMouseEnter:h=>{h.currentTarget.style.backgroundColor="var(--bg-hover)",h.currentTarget.style.color="var(--accent-secondary)"},onMouseLeave:h=>{h.currentTarget.style.backgroundColor="var(--bg-secondary)",h.currentTarget.style.color="var(--text-secondary)"},title:s==="dark"?"":"",children:s==="dark"?a.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("circle",{cx:"12",cy:"12",r:"5"}),a.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),a.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),a.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),a.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),a.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),a.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),a.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),a.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):a.jsx("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})}),l&&A&&A.id!=="local-user"&&a.jsxs("button",{onClick:p,className:"hidden md:flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-all",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",border:"1px solid var(--border-primary)"},onMouseEnter:h=>{h.currentTarget.style.backgroundColor="var(--bg-hover)",h.currentTarget.style.color="var(--accent-secondary)"},onMouseLeave:h=>{h.currentTarget.style.backgroundColor="var(--bg-secondary)",h.currentTarget.style.color="var(--text-secondary)"},children:[a.jsx(bt,{name:"logout",size:16}),""]})]})]})}const eh=[{id:"calendar",name:"",icon:"calendar",items:[{id:"event_reminder_1h",label:"1",default:!0},{id:"event_reminder_1d",label:"1",default:!0},{id:"event_reminder_1w",label:"1",default:!1},{id:"event_start",label:"",default:!0}]},{id:"tasks",name:"",icon:"tasks",items:[{id:"task_due_1h",label:"1",default:!0},{id:"task_due_1d",label:"1",default:!0},{id:"task_due_overdue",label:"",default:!0},{id:"task_completed",label:"",default:!1}]},{id:"goals",name:"",icon:"target",items:[{id:"goal_deadline_1w",label:"1",default:!0},{id:"goal_deadline_1d",label:"1",default:!0},{id:"goal_progress_50",label:"50%",default:!1},{id:"goal_completed",label:"",default:!0}]},{id:"finance",name:"",icon:"finance",items:[{id:"finance_daily_summary",label:"",default:!1},{id:"finance_weekly_summary",label:"",default:!0},{id:"finance_monthly_summary",label:"",default:!0},{id:"finance_budget_alert",label:"",default:!0},{id:"finance_large_expense",label:"1",default:!0}]},{id:"shopping",name:"",icon:"shopping",items:[{id:"shopping_reminder",label:"",default:!1},{id:"shopping_pending_items",label:"",default:!1}]},{id:"morning",name:"",icon:"morning",items:[{id:"morning_reminder",label:"",default:!0,time:"06:00"},{id:"morning_not_written",label:"",default:!1,time:"10:00"}]},{id:"diary",name:"",icon:"diary",items:[{id:"diary_reminder",label:"",default:!0,time:"21:00"},{id:"diary_not_written",label:"",default:!1,time:"23:00"}]},{id:"ai",name:"AI",icon:"ai",items:[{id:"ai_daily_greeting",label:"",default:!1,time:"08:00"},{id:"ai_daily_summary",label:"1",default:!0,time:"22:00"},{id:"ai_weekly_insight",label:"",default:!0}]},{id:"twin",name:"",icon:"twin",items:[{id:"twin_reflection_reminder",label:"",default:!1},{id:"twin_weekly_summary",label:"",default:!1}]},{id:"tracking",name:"",icon:"tracking",items:[{id:"tracking_reminder",label:"",default:!1,time:"20:00"},{id:"tracking_streak",label:"",default:!0}]},{id:"system",name:"",icon:"system",items:[{id:"system_backup_reminder",label:"1",default:!1},{id:"system_update",label:"",default:!0}]}];function WF({onClose:t}){const[e,r]=q.useState({}),[n,s]=q.useState("default"),[i,A]=q.useState(["calendar","tasks"]),[o,l]=q.useState(!0),[c,d]=q.useState({enabled:!1,start:"22:00",end:"07:00"});q.useEffect(()=>{const j=localStorage.getItem("notification_settings");if(j){const O=JSON.parse(j);r(O.items||{}),l(O.globalEnabled!==!1),d(O.quietHours||{enabled:!1,start:"22:00",end:"07:00"})}else{const O={};eh.forEach(k=>{k.items.forEach(M=>{O[M.id]={enabled:M.default,time:M.time||null}})}),r(O)}"Notification"in window&&s(Notification.permission)},[]);const p=(j,O=o,k=c)=>{const M={items:j,globalEnabled:O,quietHours:k,updatedAt:new Date().toISOString()};localStorage.setItem("notification_settings",JSON.stringify(M))},g=async()=>{if("Notification"in window){const j=await Notification.requestPermission();s(j),j==="granted"&&new Notification("Life Dashboard",{body:"",icon:"/icon-192.png"})}},h=j=>{var k;const O={...e,[j]:{...e[j],enabled:!((k=e[j])!=null&&k.enabled)}};r(O),p(O)},b=(j,O)=>{const k={...e,[j]:{...e[j],time:O}};r(k),p(k)},v=j=>{A(O=>O.includes(j)?O.filter(k=>k!==j):[...O,j])},S=(j,O)=>{const k=eh.find(K=>K.id===j);if(!k)return;const M={...e};k.items.forEach(K=>{M[K.id]={...M[K.id],enabled:O}}),r(M),p(M)},x=()=>{const j=!o;l(j),p(e,j,c)},y=j=>{const O={...c,...j};d(O),p(e,o,O)},B=j=>{const O=eh.find(k=>k.id===j);return O?O.items.filter(k=>{var M;return(M=e[k.id])==null?void 0:M.enabled}).length:0};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0,0,0,0.6)"},children:a.jsxs("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-hidden rounded-2xl shadow-2xl flex flex-col",style:{backgroundColor:"var(--bg-card)",border:"1px solid var(--border-primary)"},children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",style:{borderColor:"var(--border-primary)"},children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center",style:{backgroundColor:"var(--accent-primary)"},children:a.jsx(bt,{name:"bell",size:20,className:"text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-bold",style:{color:"var(--text-primary)"},children:""}),a.jsx("p",{className:"text-xs",style:{color:"var(--text-tertiary)"},children:""})]})]}),a.jsx("button",{onClick:t,className:"p-2 rounded-lg transition-colors hover:bg-opacity-80",style:{backgroundColor:"var(--bg-tertiary)"},children:a.jsx(bt,{name:"x",size:20,style:{color:"var(--text-secondary)"}})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[n!=="granted"&&a.jsxs("div",{className:"p-4 rounded-xl flex items-center justify-between",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-primary)"},children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",style:{color:"var(--text-primary)"},children:""}),a.jsx("p",{className:"text-sm",style:{color:"var(--text-tertiary)"},children:""})]}),a.jsx("button",{onClick:g,className:"px-4 py-2 rounded-lg font-medium text-white",style:{backgroundColor:"var(--accent-primary)"},children:""})]}),a.jsxs("div",{className:"p-4 rounded-xl",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-primary)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",style:{color:"var(--text-primary)"},children:""}),a.jsx("p",{className:"text-sm",style:{color:"var(--text-tertiary)"},children:"/"})]}),a.jsx("button",{onClick:x,className:`w-14 h-8 rounded-full transition-colors relative ${o?"bg-green-500":"bg-gray-500"}`,children:a.jsx("span",{className:`absolute top-1 w-6 h-6 rounded-full bg-white shadow transition-transform ${o?"right-1":"left-1"}`})})]}),a.jsxs("div",{className:"pt-4 border-t",style:{borderColor:"var(--border-primary)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",style:{color:"var(--text-primary)"},children:""}),a.jsx("p",{className:"text-sm",style:{color:"var(--text-tertiary)"},children:""})]}),a.jsx("button",{onClick:()=>y({enabled:!c.enabled}),className:`w-14 h-8 rounded-full transition-colors relative ${c.enabled?"bg-purple-500":"bg-gray-500"}`,children:a.jsx("span",{className:`absolute top-1 w-6 h-6 rounded-full bg-white shadow transition-transform ${c.enabled?"right-1":"left-1"}`})})]}),c.enabled&&a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx("input",{type:"time",value:c.start,onChange:j=>y({start:j.target.value}),className:"px-3 py-2 rounded-lg text-sm",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-primary)"}}),a.jsx("span",{style:{color:"var(--text-tertiary)"},children:""}),a.jsx("input",{type:"time",value:c.end,onChange:j=>y({end:j.target.value}),className:"px-3 py-2 rounded-lg text-sm",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-primary)"}})]})]})]}),eh.map(j=>{const O=i.includes(j.id),k=B(j.id),M=j.items.length;return a.jsxs("div",{className:"rounded-xl overflow-hidden",style:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-primary)"},children:[a.jsxs("button",{onClick:()=>v(j.id),className:"w-full p-4 flex items-center justify-between hover:bg-opacity-80 transition-colors",style:{backgroundColor:"var(--bg-secondary)"},children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:"var(--bg-tertiary)"},children:a.jsx(bt,{name:j.icon,size:18,style:{color:"var(--text-secondary)"}})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium",style:{color:"var(--text-primary)"},children:j.name}),a.jsxs("p",{className:"text-xs",style:{color:"var(--text-tertiary)"},children:[k,"/",M," "]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k>0?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-400"}`,children:k>0?"ON":"OFF"}),a.jsx(bt,{name:"chevronRight",size:18,className:`transition-transform ${O?"rotate-90":""}`,style:{color:"var(--text-tertiary)"}})]})]}),O&&a.jsxs("div",{className:"border-t",style:{borderColor:"var(--border-primary)"},children:[a.jsxs("div",{className:"p-3 flex gap-2 border-b",style:{borderColor:"var(--border-primary)",backgroundColor:"var(--bg-tertiary)"},children:[a.jsx("button",{onClick:()=>S(j.id,!0),className:"px-3 py-1 rounded-lg text-xs font-medium",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",border:"1px solid var(--border-primary)"},children:"ON"}),a.jsx("button",{onClick:()=>S(j.id,!1),className:"px-3 py-1 rounded-lg text-xs font-medium",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-secondary)",border:"1px solid var(--border-primary)"},children:"OFF"})]}),a.jsx("div",{className:"divide-y",style:{borderColor:"var(--border-primary)"},children:j.items.map(K=>{const N=e[K.id]||{enabled:K.default,time:K.time};return a.jsxs("div",{className:"p-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium",style:{color:"var(--text-primary)"},children:K.label}),K.time&&N.enabled&&a.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[a.jsx("span",{className:"text-xs",style:{color:"var(--text-tertiary)"},children:":"}),a.jsx("input",{type:"time",value:N.time||K.time,onChange:H=>b(K.id,H.target.value),className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-primary)"}})]})]}),a.jsx("button",{onClick:()=>h(K.id),className:`w-12 h-7 rounded-full transition-colors relative ${N.enabled?"bg-green-500":"bg-gray-500"}`,children:a.jsx("span",{className:`absolute top-0.5 w-6 h-6 rounded-full bg-white shadow transition-transform ${N.enabled?"right-0.5":"left-0.5"}`})})]},K.id)})})]})]},j.id)})]}),a.jsx("div",{className:"p-4 border-t flex justify-end gap-2",style:{borderColor:"var(--border-primary)"},children:a.jsx("button",{onClick:t,className:"px-6 py-2 rounded-lg font-medium transition-colors",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)"},children:""})})]})})}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var cm=function(t,e){return cm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},cm(t,e)};function ia(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");cm(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var um=function(){return um=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},um.apply(this,arguments)};function _s(t,e,r,n){function s(i){return i instanceof r?i:new r(function(A){A(i)})}return new(r||(r=Promise))(function(i,A){function o(d){try{c(n.next(d))}catch(p){A(p)}}function l(d){try{c(n.throw(d))}catch(p){A(p)}}function c(d){d.done?i(d.value):s(d.value).then(o,l)}c((n=n.apply(t,[])).next())})}function ys(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,A;return A={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function o(c){return function(d){return l([c,d])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(d){c=[6,d],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function th(t,e,r){if(arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||e)}var AA=function(){function t(e,r,n,s){this.left=e,this.top=r,this.width=n,this.height=s}return t.prototype.add=function(e,r,n,s){return new t(this.left+e,this.top+r,this.width+n,this.height+s)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(s){return s.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),o0=function(t,e){return AA.fromClientRect(t,e.getBoundingClientRect())},JF=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),s=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new AA(0,0,n,s)},l0=function(t){for(var e=[],r=0,n=t.length;r<n;){var s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),r--)}else e.push(s)}return e},kn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var A=t[s];A<=65535?n.push(A):(A-=65536,n.push((A>>10)+55296,A%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},fv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",YF=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var rh=0;rh<fv.length;rh++)YF[fv.charCodeAt(rh)]=rh;var pv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",iu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var nh=0;nh<pv.length;nh++)iu[pv.charCodeAt(nh)]=nh;var XF=function(t){var e=t.length*.75,r=t.length,n,s=0,i,A,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)i=iu[t.charCodeAt(n)],A=iu[t.charCodeAt(n+1)],o=iu[t.charCodeAt(n+2)],l=iu[t.charCodeAt(n+3)],d[s++]=i<<2|A>>4,d[s++]=(A&15)<<4|o>>2,d[s++]=(o&3)<<6|l&63;return c},ZF=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},eE=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Mo=5,Kx=11,mp=2,tE=Kx-Mo,nB=65536>>Mo,rE=1<<Mo,xp=rE-1,nE=1024>>Mo,sE=nB+nE,iE=sE,aE=32,AE=iE+aE,oE=65536>>Kx,lE=1<<tE,cE=lE-1,gv=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},uE=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},dE=function(t,e){var r=XF(t),n=Array.isArray(r)?eE(r):new Uint32Array(r),s=Array.isArray(r)?ZF(r):new Uint16Array(r),i=24,A=gv(s,i/2,n[4]/2),o=n[5]===2?gv(s,(i+n[4])/2):uE(n,Math.ceil((i+n[4])/4));return new hE(n[0],n[1],n[2],n[3],A,o)},hE=function(){function t(e,r,n,s,i,A){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=A}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Mo],r=(r<<mp)+(e&xp),this.data[r];if(e<=65535)return r=this.index[nB+(e-55296>>Mo)],r=(r<<mp)+(e&xp),this.data[r];if(e<this.highStart)return r=AE-oE+(e>>Kx),r=this.index[r],r+=e>>Mo&cE,r=this.index[r],r=(r<<mp)+(e&xp),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),mv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fE=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var sh=0;sh<mv.length;sh++)fE[mv.charCodeAt(sh)]=sh;var pE="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",xv=50,gE=1,sB=2,iB=3,mE=4,xE=5,wv=7,aB=8,vv=9,KA=10,dm=11,yv=12,hm=13,wE=14,au=15,fm=16,ih=17,qc=18,vE=19,bv=20,pm=21,Wc=22,wp=23,jl=24,ni=25,Au=26,ou=27,Fl=28,yE=29,Io=30,bE=31,ah=32,Ah=33,gm=34,mm=35,xm=36,Zu=37,wm=38,Kh=39,Gh=40,vp=41,AB=42,BE=43,CE=[9001,65288],oB="!",jr="",oh="",vm=dE(pE),Ga=[Io,xm],ym=[gE,sB,iB,xE],lB=[KA,aB],Bv=[ou,Au],NE=ym.concat(lB),Cv=[wm,Kh,Gh,gm,mm],SE=[au,hm],jE=function(t,e){e===void 0&&(e="strict");var r=[],n=[],s=[];return t.forEach(function(i,A){var o=vm.get(i);if(o>xv?(s.push(!0),o-=xv):s.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(A),r.push(fm);if(o===mE||o===dm){if(A===0)return n.push(A),r.push(Io);var l=r[A-1];return NE.indexOf(l)===-1?(n.push(n[A-1]),r.push(l)):(n.push(A),r.push(Io))}if(n.push(A),o===bE)return r.push(e==="strict"?pm:Zu);if(o===AB||o===yE)return r.push(Io);if(o===BE)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(Zu):r.push(Io);r.push(o)}),[n,r,s]},yp=function(t,e,r,n){var s=n[r];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var i=r;i<=n.length;){i++;var A=n[i];if(A===e)return!0;if(A!==KA)break}if(s===KA)for(var i=r;i>0;){i--;var o=n[i];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var l=r;l<=n.length;){l++;var A=n[l];if(A===e)return!0;if(A!==KA)break}if(o!==KA)break}return!1},Nv=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===KA)r--;else return n}return 0},FE=function(t,e,r,n,s){if(r[n]===0)return jr;var i=n-1;if(Array.isArray(s)&&s[i]===!0)return jr;var A=i-1,o=i+1,l=e[i],c=A>=0?e[A]:0,d=e[o];if(l===sB&&d===iB)return jr;if(ym.indexOf(l)!==-1)return oB;if(ym.indexOf(d)!==-1||lB.indexOf(d)!==-1)return jr;if(Nv(i,e)===aB)return oh;if(vm.get(t[i])===dm||(l===ah||l===Ah)&&vm.get(t[o])===dm||l===wv||d===wv||l===vv||[KA,hm,au].indexOf(l)===-1&&d===vv||[ih,qc,vE,jl,Fl].indexOf(d)!==-1||Nv(i,e)===Wc||yp(wp,Wc,i,e)||yp([ih,qc],pm,i,e)||yp(yv,yv,i,e))return jr;if(l===KA)return oh;if(l===wp||d===wp)return jr;if(d===fm||l===fm)return oh;if([hm,au,pm].indexOf(d)!==-1||l===wE||c===xm&&SE.indexOf(l)!==-1||l===Fl&&d===xm||d===bv||Ga.indexOf(d)!==-1&&l===ni||Ga.indexOf(l)!==-1&&d===ni||l===ou&&[Zu,ah,Ah].indexOf(d)!==-1||[Zu,ah,Ah].indexOf(l)!==-1&&d===Au||Ga.indexOf(l)!==-1&&Bv.indexOf(d)!==-1||Bv.indexOf(l)!==-1&&Ga.indexOf(d)!==-1||[ou,Au].indexOf(l)!==-1&&(d===ni||[Wc,au].indexOf(d)!==-1&&e[o+1]===ni)||[Wc,au].indexOf(l)!==-1&&d===ni||l===ni&&[ni,Fl,jl].indexOf(d)!==-1)return jr;if([ni,Fl,jl,ih,qc].indexOf(d)!==-1)for(var p=i;p>=0;){var g=e[p];if(g===ni)return jr;if([Fl,jl].indexOf(g)!==-1)p--;else break}if([ou,Au].indexOf(d)!==-1)for(var p=[ih,qc].indexOf(l)!==-1?A:i;p>=0;){var g=e[p];if(g===ni)return jr;if([Fl,jl].indexOf(g)!==-1)p--;else break}if(wm===l&&[wm,Kh,gm,mm].indexOf(d)!==-1||[Kh,gm].indexOf(l)!==-1&&[Kh,Gh].indexOf(d)!==-1||[Gh,mm].indexOf(l)!==-1&&d===Gh||Cv.indexOf(l)!==-1&&[bv,Au].indexOf(d)!==-1||Cv.indexOf(d)!==-1&&l===ou||Ga.indexOf(l)!==-1&&Ga.indexOf(d)!==-1||l===jl&&Ga.indexOf(d)!==-1||Ga.concat(ni).indexOf(l)!==-1&&d===Wc&&CE.indexOf(t[o])===-1||Ga.concat(ni).indexOf(d)!==-1&&l===qc)return jr;if(l===vp&&d===vp){for(var h=r[i],b=1;h>0&&(h--,e[h]===vp);)b++;if(b%2!==0)return jr}return l===ah&&d===Ah?jr:oh},EE=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=jE(t,e.lineBreak),n=r[0],s=r[1],i=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(s=s.map(function(o){return[ni,Io,AB].indexOf(o)!==-1?Zu:o}));var A=e.wordBreak==="keep-all"?i.map(function(o,l){return o&&t[l]>=19968&&t[l]<=40959}):void 0;return[n,s,A]},_E=function(){function t(e,r,n,s){this.codePoints=e,this.required=r===oB,this.start=n,this.end=s}return t.prototype.slice=function(){return kn.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),kE=function(t,e){var r=l0(t),n=EE(r,e),s=n[0],i=n[1],A=n[2],o=r.length,l=0,c=0;return{next:function(){if(c>=o)return{done:!0,value:null};for(var d=jr;c<o&&(d=FE(r,i,s,++c,A))===jr;);if(d!==jr||c===o){var p=new _E(r,d,l,c);return l=c,{value:p,done:!1}}return{done:!0,value:null}}}},UE=1,IE=2,ud=4,Sv=8,Ff=10,jv=47,Bu=92,QE=9,TE=32,lh=34,Jc=61,LE=35,OE=36,PE=37,ch=39,uh=40,Yc=41,DE=95,Rs=45,RE=33,HE=60,ME=62,$E=64,KE=91,GE=93,VE=61,zE=123,dh=63,qE=125,Fv=124,WE=126,JE=128,Ev=65533,bp=42,Do=43,YE=44,XE=58,ZE=59,ed=46,e_=0,t_=8,r_=11,n_=14,s_=31,i_=127,Ca=-1,cB=48,uB=97,dB=101,a_=102,A_=117,o_=122,hB=65,fB=69,pB=70,l_=85,c_=90,bs=function(t){return t>=cB&&t<=57},u_=function(t){return t>=55296&&t<=57343},El=function(t){return bs(t)||t>=hB&&t<=pB||t>=uB&&t<=a_},d_=function(t){return t>=uB&&t<=o_},h_=function(t){return t>=hB&&t<=c_},f_=function(t){return d_(t)||h_(t)},p_=function(t){return t>=JE},hh=function(t){return t===Ff||t===QE||t===TE},Ef=function(t){return f_(t)||p_(t)||t===DE},_v=function(t){return Ef(t)||bs(t)||t===Rs},g_=function(t){return t>=e_&&t<=t_||t===r_||t>=n_&&t<=s_||t===i_},PA=function(t,e){return t!==Bu?!1:e!==Ff},fh=function(t,e,r){return t===Rs?Ef(e)||PA(e,r):Ef(t)?!0:!!(t===Bu&&PA(t,e))},Bp=function(t,e,r){return t===Do||t===Rs?bs(e)?!0:e===ed&&bs(r):bs(t===ed?e:t)},m_=function(t){var e=0,r=1;(t[e]===Do||t[e]===Rs)&&(t[e]===Rs&&(r=-1),e++);for(var n=[];bs(t[e]);)n.push(t[e++]);var s=n.length?parseInt(kn.apply(void 0,n),10):0;t[e]===ed&&e++;for(var i=[];bs(t[e]);)i.push(t[e++]);var A=i.length,o=A?parseInt(kn.apply(void 0,i),10):0;(t[e]===fB||t[e]===dB)&&e++;var l=1;(t[e]===Do||t[e]===Rs)&&(t[e]===Rs&&(l=-1),e++);for(var c=[];bs(t[e]);)c.push(t[e++]);var d=c.length?parseInt(kn.apply(void 0,c),10):0;return r*(s+o*Math.pow(10,-A))*Math.pow(10,l*d)},x_={type:2},w_={type:3},v_={type:4},y_={type:13},b_={type:8},B_={type:21},C_={type:9},N_={type:10},S_={type:11},j_={type:12},F_={type:14},ph={type:23},E_={type:1},__={type:25},k_={type:24},U_={type:26},I_={type:27},Q_={type:28},T_={type:29},L_={type:31},bm={type:32},gB=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(l0(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==bm;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case lh:return this.consumeStringToken(lh);case LE:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),s=this.peekCodePoint(2);if(_v(r)||PA(n,s)){var i=fh(r,n,s)?IE:UE,A=this.consumeName();return{type:5,value:A,flags:i}}break;case OE:if(this.peekCodePoint(0)===Jc)return this.consumeCodePoint(),y_;break;case ch:return this.consumeStringToken(ch);case uh:return x_;case Yc:return w_;case bp:if(this.peekCodePoint(0)===Jc)return this.consumeCodePoint(),F_;break;case Do:if(Bp(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case YE:return v_;case Rs:var o=e,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(Bp(o,l,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(fh(o,l,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Rs&&c===ME)return this.consumeCodePoint(),this.consumeCodePoint(),k_;break;case ed:if(Bp(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case jv:if(this.peekCodePoint(0)===bp)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===bp&&(d=this.consumeCodePoint(),d===jv))return this.consumeToken();if(d===Ca)return this.consumeToken()}break;case XE:return U_;case ZE:return I_;case HE:if(this.peekCodePoint(0)===RE&&this.peekCodePoint(1)===Rs&&this.peekCodePoint(2)===Rs)return this.consumeCodePoint(),this.consumeCodePoint(),__;break;case $E:var p=this.peekCodePoint(0),g=this.peekCodePoint(1),h=this.peekCodePoint(2);if(fh(p,g,h)){var A=this.consumeName();return{type:7,value:A}}break;case KE:return Q_;case Bu:if(PA(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case GE:return T_;case VE:if(this.peekCodePoint(0)===Jc)return this.consumeCodePoint(),b_;break;case zE:return S_;case qE:return j_;case A_:case l_:var b=this.peekCodePoint(0),v=this.peekCodePoint(1);return b===Do&&(El(v)||v===dh)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case Fv:if(this.peekCodePoint(0)===Jc)return this.consumeCodePoint(),C_;if(this.peekCodePoint(0)===Fv)return this.consumeCodePoint(),B_;break;case WE:if(this.peekCodePoint(0)===Jc)return this.consumeCodePoint(),N_;break;case Ca:return bm}return hh(e)?(this.consumeWhiteSpace(),L_):bs(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Ef(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:kn(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();El(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===dh&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var s=parseInt(kn.apply(void 0,e.map(function(l){return l===dh?cB:l})),16),i=parseInt(kn.apply(void 0,e.map(function(l){return l===dh?pB:l})),16);return{type:30,start:s,end:i}}var A=parseInt(kn.apply(void 0,e),16);if(this.peekCodePoint(0)===Rs&&El(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var o=[];El(r)&&o.length<6;)o.push(r),r=this.consumeCodePoint();var i=parseInt(kn.apply(void 0,o),16);return{type:30,start:A,end:i}}else return{type:30,start:A,end:A}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===uh?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===uh?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ca)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===ch||r===lh){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ca||this.peekCodePoint(0)===Yc)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),ph)}for(;;){var s=this.consumeCodePoint();if(s===Ca||s===Yc)return{type:22,value:kn.apply(void 0,e)};if(hh(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ca||this.peekCodePoint(0)===Yc?(this.consumeCodePoint(),{type:22,value:kn.apply(void 0,e)}):(this.consumeBadUrlRemnants(),ph);if(s===lh||s===ch||s===uh||g_(s))return this.consumeBadUrlRemnants(),ph;if(s===Bu)if(PA(s,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),ph;else e.push(s)}},t.prototype.consumeWhiteSpace=function(){for(;hh(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Yc||e===Ca)return;PA(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var s=Math.min(r,e);n+=kn.apply(void 0,this._value.splice(0,s)),e-=s}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var s=this._value[n];if(s===Ca||s===void 0||s===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(s===Ff)return this._value.splice(0,n),E_;if(s===Bu){var i=this._value[n+1];i!==Ca&&i!==void 0&&(i===Ff?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):PA(s,i)&&(r+=this.consumeStringSlice(n),r+=kn(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=ud,n=this.peekCodePoint(0);for((n===Do||n===Rs)&&e.push(this.consumeCodePoint());bs(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(n===ed&&bs(s))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=Sv;bs(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),s=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===fB||n===dB)&&((s===Do||s===Rs)&&bs(i)||bs(s)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=Sv;bs(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[m_(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],s=this.peekCodePoint(0),i=this.peekCodePoint(1),A=this.peekCodePoint(2);if(fh(s,i,A)){var o=this.consumeName();return{type:15,number:r,flags:n,unit:o}}return s===PE?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(El(e)){for(var r=kn(e);El(this.peekCodePoint(0))&&r.length<6;)r+=kn(this.consumeCodePoint());hh(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||u_(n)||n>1114111?Ev:n}return e===Ca?Ev:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(_v(r))e+=kn(r);else if(PA(r,this.peekCodePoint(0)))e+=kn(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),mB=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new gB;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||P_(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?bm:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),dd=function(t){return t.type===15},Ec=function(t){return t.type===17},Kr=function(t){return t.type===20},O_=function(t){return t.type===0},Bm=function(t,e){return Kr(t)&&t.value===e},xB=function(t){return t.type!==31},Bc=function(t){return t.type!==31&&t.type!==4},Ua=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},P_=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},ao=function(t){return t.type===17||t.type===15},Hn=function(t){return t.type===16||ao(t)},wB=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},ls={type:17,number:0,flags:ud},Gx={type:16,number:50,flags:ud},GA={type:16,number:100,flags:ud},lu=function(t,e,r){var n=t[0],s=t[1];return[Xr(n,e),Xr(typeof s<"u"?s:n,r)]},Xr=function(t,e){if(t.type===16)return t.number/100*e;if(dd(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},vB="deg",yB="grad",bB="rad",BB="turn",c0={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case vB:return Math.PI*e.number/180;case yB:return Math.PI/200*e.number;case bB:return e.number;case BB:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},CB=function(t){return t.type===15&&(t.unit===vB||t.unit===yB||t.unit===bB||t.unit===BB)},NB=function(t){var e=t.filter(Kr).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ls,ls];case"to top":case"bottom":return Ii(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ls,GA];case"to right":case"left":return Ii(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[GA,GA];case"to bottom":case"top":return Ii(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[GA,ls];case"to left":case"right":return Ii(270)}return 0},Ii=function(t){return Math.PI*t/180},ro={name:"color",parse:function(t,e){if(e.type===18){var r=D_[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3);return VA(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),s=e.value.substring(1,2),i=e.value.substring(2,3),A=e.value.substring(3,4);return VA(parseInt(n+n,16),parseInt(s+s,16),parseInt(i+i,16),parseInt(A+A,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6);return VA(parseInt(n,16),parseInt(s,16),parseInt(i,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),s=e.value.substring(2,4),i=e.value.substring(4,6),A=e.value.substring(6,8);return VA(parseInt(n,16),parseInt(s,16),parseInt(i,16),parseInt(A,16)/255)}}if(e.type===20){var o=rA[e.value.toUpperCase()];if(typeof o<"u")return o}return rA.TRANSPARENT}},no=function(t){return(255&t)===0},Yn=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,s=255&t>>24;return e<255?"rgba("+s+","+n+","+r+","+e/255+")":"rgb("+s+","+n+","+r+")"},VA=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},kv=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},Uv=function(t,e){var r=e.filter(Bc);if(r.length===3){var n=r.map(kv),s=n[0],i=n[1],A=n[2];return VA(s,i,A,1)}if(r.length===4){var o=r.map(kv),s=o[0],i=o[1],A=o[2],l=o[3];return VA(s,i,A,l)}return 0};function Cp(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var Iv=function(t,e){var r=e.filter(Bc),n=r[0],s=r[1],i=r[2],A=r[3],o=(n.type===17?Ii(n.number):c0.parse(t,n))/(Math.PI*2),l=Hn(s)?s.number/100:0,c=Hn(i)?i.number/100:0,d=typeof A<"u"&&Hn(A)?Xr(A,1):1;if(l===0)return VA(c*255,c*255,c*255,1);var p=c<=.5?c*(l+1):c+l-c*l,g=c*2-p,h=Cp(g,p,o+1/3),b=Cp(g,p,o),v=Cp(g,p,o-1/3);return VA(h*255,b*255,v*255,d)},D_={hsl:Iv,hsla:Iv,rgb:Uv,rgba:Uv},Cu=function(t,e){return ro.parse(t,mB.create(e).parseComponentValue())},rA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},R_={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Kr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},H_={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},u0=function(t,e){var r=ro.parse(t,e[0]),n=e[1];return n&&Hn(n)?{color:r,stop:n}:{color:r,stop:null}},Qv=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=ls),n.stop===null&&(n.stop=GA);for(var s=[],i=0,A=0;A<t.length;A++){var o=t[A].stop;if(o!==null){var l=Xr(o,e);l>i?s.push(l):s.push(i),i=l}else s.push(null)}for(var c=null,A=0;A<s.length;A++){var d=s[A];if(d===null)c===null&&(c=A);else if(c!==null){for(var p=A-c,g=s[c-1],h=(d-g)/(p+1),b=1;b<=p;b++)s[c+b-1]=h*b;c=null}}return t.map(function(v,S){var x=v.color;return{color:x,stop:Math.max(Math.min(1,s[S]/e),0)}})},M_=function(t,e,r){var n=e/2,s=r/2,i=Xr(t[0],e)-n,A=s-Xr(t[1],r);return(Math.atan2(A,i)+Math.PI*2)%(Math.PI*2)},$_=function(t,e,r){var n=typeof t=="number"?t:M_(t,e,r),s=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),i=e/2,A=r/2,o=s/2,l=Math.sin(n-Math.PI/2)*o,c=Math.cos(n-Math.PI/2)*o;return[s,i-c,i+c,A-l,A+l]},Wi=function(t,e){return Math.sqrt(t*t+e*e)},Tv=function(t,e,r,n,s){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(A,o){var l=o[0],c=o[1],d=Wi(r-l,n-c);return(s?d<A.optimumDistance:d>A.optimumDistance)?{optimumCorner:o,optimumDistance:d}:A},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},K_=function(t,e,r,n,s){var i=0,A=0;switch(t.size){case 0:t.shape===0?i=A=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-s)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-n)),A=Math.min(Math.abs(r),Math.abs(r-s)));break;case 2:if(t.shape===0)i=A=Math.min(Wi(e,r),Wi(e,r-s),Wi(e-n,r),Wi(e-n,r-s));else if(t.shape===1){var o=Math.min(Math.abs(r),Math.abs(r-s))/Math.min(Math.abs(e),Math.abs(e-n)),l=Tv(n,s,e,r,!0),c=l[0],d=l[1];i=Wi(c-e,(d-r)/o),A=o*i}break;case 1:t.shape===0?i=A=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-s)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-n)),A=Math.max(Math.abs(r),Math.abs(r-s)));break;case 3:if(t.shape===0)i=A=Math.max(Wi(e,r),Wi(e,r-s),Wi(e-n,r),Wi(e-n,r-s));else if(t.shape===1){var o=Math.max(Math.abs(r),Math.abs(r-s))/Math.max(Math.abs(e),Math.abs(e-n)),p=Tv(n,s,e,r,!1),c=p[0],d=p[1];i=Wi(c-e,(d-r)/o),A=o*i}break}return Array.isArray(t.size)&&(i=Xr(t.size[0],n),A=t.size.length===2?Xr(t.size[1],s):i),[i,A]},G_=function(t,e){var r=Ii(180),n=[];return Ua(e).forEach(function(s,i){if(i===0){var A=s[0];if(A.type===20&&A.value==="to"){r=NB(s);return}else if(CB(A)){r=c0.parse(t,A);return}}var o=u0(t,s);n.push(o)}),{angle:r,stops:n,type:1}},gh=function(t,e){var r=Ii(180),n=[];return Ua(e).forEach(function(s,i){if(i===0){var A=s[0];if(A.type===20&&["top","left","right","bottom"].indexOf(A.value)!==-1){r=NB(s);return}else if(CB(A)){r=(c0.parse(t,A)+Ii(270))%Ii(360);return}}var o=u0(t,s);n.push(o)}),{angle:r,stops:n,type:1}},V_=function(t,e){var r=Ii(180),n=[],s=1,i=0,A=3,o=[];return Ua(e).forEach(function(l,c){var d=l[0];if(c===0){if(Kr(d)&&d.value==="linear"){s=1;return}else if(Kr(d)&&d.value==="radial"){s=2;return}}if(d.type===18){if(d.name==="from"){var p=ro.parse(t,d.values[0]);n.push({stop:ls,color:p})}else if(d.name==="to"){var p=ro.parse(t,d.values[0]);n.push({stop:GA,color:p})}else if(d.name==="color-stop"){var g=d.values.filter(Bc);if(g.length===2){var p=ro.parse(t,g[1]),h=g[0];Ec(h)&&n.push({stop:{type:16,number:h.number*100,flags:h.flags},color:p})}}}}),s===1?{angle:(r+Ii(180))%Ii(360),stops:n,type:s}:{size:A,shape:i,stops:n,position:o,type:s}},SB="closest-side",jB="farthest-side",FB="closest-corner",EB="farthest-corner",_B="circle",kB="ellipse",UB="cover",IB="contain",z_=function(t,e){var r=0,n=3,s=[],i=[];return Ua(e).forEach(function(A,o){var l=!0;if(o===0){var c=!1;l=A.reduce(function(p,g){if(c)if(Kr(g))switch(g.value){case"center":return i.push(Gx),p;case"top":case"left":return i.push(ls),p;case"right":case"bottom":return i.push(GA),p}else(Hn(g)||ao(g))&&i.push(g);else if(Kr(g))switch(g.value){case _B:return r=0,!1;case kB:return r=1,!1;case"at":return c=!0,!1;case SB:return n=0,!1;case UB:case jB:return n=1,!1;case IB:case FB:return n=2,!1;case EB:return n=3,!1}else if(ao(g)||Hn(g))return Array.isArray(n)||(n=[]),n.push(g),!1;return p},l)}if(l){var d=u0(t,A);s.push(d)}}),{size:n,shape:r,stops:s,position:i,type:2}},mh=function(t,e){var r=0,n=3,s=[],i=[];return Ua(e).forEach(function(A,o){var l=!0;if(o===0?l=A.reduce(function(d,p){if(Kr(p))switch(p.value){case"center":return i.push(Gx),!1;case"top":case"left":return i.push(ls),!1;case"right":case"bottom":return i.push(GA),!1}else if(Hn(p)||ao(p))return i.push(p),!1;return d},l):o===1&&(l=A.reduce(function(d,p){if(Kr(p))switch(p.value){case _B:return r=0,!1;case kB:return r=1,!1;case IB:case SB:return n=0,!1;case jB:return n=1,!1;case FB:return n=2,!1;case UB:case EB:return n=3,!1}else if(ao(p)||Hn(p))return Array.isArray(n)||(n=[]),n.push(p),!1;return d},l)),l){var c=u0(t,A);s.push(c)}}),{size:n,shape:r,stops:s,position:i,type:2}},q_=function(t){return t.type===1},W_=function(t){return t.type===2},Vx={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=QB[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function J_(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!QB[t.name])}var QB={"linear-gradient":G_,"-moz-linear-gradient":gh,"-ms-linear-gradient":gh,"-o-linear-gradient":gh,"-webkit-linear-gradient":gh,"radial-gradient":z_,"-moz-radial-gradient":mh,"-ms-radial-gradient":mh,"-o-radial-gradient":mh,"-webkit-radial-gradient":mh,"-webkit-gradient":V_},Y_={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return Bc(n)&&J_(n)}).map(function(n){return Vx.parse(t,n)})}},X_={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Kr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Z_={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Ua(e).map(function(r){return r.filter(Hn)}).map(wB)}},ek={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Ua(e).map(function(r){return r.filter(Kr).map(function(n){return n.value}).join(" ")}).map(tk)}},tk=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},uc;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(uc||(uc={}));var rk={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Ua(e).map(function(r){return r.filter(nk)})}},nk=function(t){return Kr(t)||Hn(t)},d0=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},sk=d0("top"),ik=d0("right"),ak=d0("bottom"),Ak=d0("left"),h0=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return wB(r.filter(Hn))}}},ok=h0("top-left"),lk=h0("top-right"),ck=h0("bottom-right"),uk=h0("bottom-left"),f0=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},dk=f0("top"),hk=f0("right"),fk=f0("bottom"),pk=f0("left"),p0=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return dd(r)?r.number:0}}},gk=p0("top"),mk=p0("right"),xk=p0("bottom"),wk=p0("left"),vk={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},yk={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},bk={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Kr).reduce(function(r,n){return r|Bk(n.value)},0)}},Bk=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Ck={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Nk={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},_f;(function(t){t.NORMAL="normal",t.STRICT="strict"})(_f||(_f={}));var Sk={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return _f.STRICT;case"normal":default:return _f.NORMAL}}},jk={name:"line-height",initialValue:"normal",prefix:!1,type:4},Lv=function(t,e){return Kr(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Hn(t)?Xr(t,e):e},Fk={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:Vx.parse(t,e)}},Ek={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},Cm={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},g0=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},_k=g0("top"),kk=g0("right"),Uk=g0("bottom"),Ik=g0("left"),Qk={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Kr).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Tk={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},m0=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Lk=m0("top"),Ok=m0("right"),Pk=m0("bottom"),Dk=m0("left"),Rk={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Hk={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Mk={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Bm(e[0],"none")?[]:Ua(e).map(function(r){for(var n={color:rA.TRANSPARENT,offsetX:ls,offsetY:ls,blur:ls},s=0,i=0;i<r.length;i++){var A=r[i];ao(A)?(s===0?n.offsetX=A:s===1?n.offsetY=A:n.blur=A,s++):n.color=ro.parse(t,A)}return n})}},$k={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Kk={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=zk[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},Gk=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},Vk=function(t){var e=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),r=e[0],n=e[1];e[2],e[3];var s=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var A=e[12],o=e[13];return e[14],e[15],e.length===16?[r,n,s,i,A,o]:null},zk={matrix:Gk,matrix3d:Vk},Ov={type:16,number:50,flags:ud},qk=[Ov,Ov],Wk={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(Hn);return r.length!==2?qk:[r[0],r[1]]}},Jk={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Nu;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Nu||(Nu={}));var Yk={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Nu.BREAK_ALL;case"keep-all":return Nu.KEEP_ALL;case"normal":default:return Nu.NORMAL}}},Xk={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Ec(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},TB={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Zk={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Ec(e)?e.number:1}},eU={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},tU={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Kr).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},rU={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(s){switch(s.type){case 20:case 0:r.push(s.value);break;case 17:r.push(s.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},nU={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},sU={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Ec(e))return e.number;if(Kr(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},iU={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Kr).map(function(r){return r.value})}},aU={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},qn=function(t,e){return(t&e)!==0},AU={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},oU={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],s=e.filter(xB),i=0;i<s.length;i++){var A=s[i],o=s[i+1];if(A.type===20){var l=o&&Ec(o)?o.number:1;n.push({counter:A.value,increment:l})}}return n}},lU={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(xB),s=0;s<n.length;s++){var i=n[s],A=n[s+1];if(Kr(i)&&i.value!=="none"){var o=A&&Ec(A)?A.number:0;r.push({counter:i.value,reset:o})}}return r}},cU={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(dd).map(function(r){return TB.parse(t,r)})}},uU={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],s=e.filter(O_);if(s.length%2!==0)return null;for(var i=0;i<s.length;i+=2){var A=s[i].value,o=s[i+1].value;n.push({open:A,close:o})}return n}},Pv=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},dU={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Bm(e[0],"none")?[]:Ua(e).map(function(r){for(var n={color:255,offsetX:ls,offsetY:ls,blur:ls,spread:ls,inset:!1},s=0,i=0;i<r.length;i++){var A=r[i];Bm(A,"inset")?n.inset=!0:ao(A)?(s===0?n.offsetX=A:s===1?n.offsetY=A:s===2?n.blur=A:n.spread=A,s++):n.color=ro.parse(t,A)}return n})}},hU={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(Kr).forEach(function(s){switch(s.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(s){n.indexOf(s)===-1&&n.push(s)}),n}},fU={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},pU={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return dd(e)?e.number:0}},gU=function(){function t(e,r){var n,s;this.animationDuration=Tt(e,cU,r.animationDuration),this.backgroundClip=Tt(e,R_,r.backgroundClip),this.backgroundColor=Tt(e,H_,r.backgroundColor),this.backgroundImage=Tt(e,Y_,r.backgroundImage),this.backgroundOrigin=Tt(e,X_,r.backgroundOrigin),this.backgroundPosition=Tt(e,Z_,r.backgroundPosition),this.backgroundRepeat=Tt(e,ek,r.backgroundRepeat),this.backgroundSize=Tt(e,rk,r.backgroundSize),this.borderTopColor=Tt(e,sk,r.borderTopColor),this.borderRightColor=Tt(e,ik,r.borderRightColor),this.borderBottomColor=Tt(e,ak,r.borderBottomColor),this.borderLeftColor=Tt(e,Ak,r.borderLeftColor),this.borderTopLeftRadius=Tt(e,ok,r.borderTopLeftRadius),this.borderTopRightRadius=Tt(e,lk,r.borderTopRightRadius),this.borderBottomRightRadius=Tt(e,ck,r.borderBottomRightRadius),this.borderBottomLeftRadius=Tt(e,uk,r.borderBottomLeftRadius),this.borderTopStyle=Tt(e,dk,r.borderTopStyle),this.borderRightStyle=Tt(e,hk,r.borderRightStyle),this.borderBottomStyle=Tt(e,fk,r.borderBottomStyle),this.borderLeftStyle=Tt(e,pk,r.borderLeftStyle),this.borderTopWidth=Tt(e,gk,r.borderTopWidth),this.borderRightWidth=Tt(e,mk,r.borderRightWidth),this.borderBottomWidth=Tt(e,xk,r.borderBottomWidth),this.borderLeftWidth=Tt(e,wk,r.borderLeftWidth),this.boxShadow=Tt(e,dU,r.boxShadow),this.color=Tt(e,vk,r.color),this.direction=Tt(e,yk,r.direction),this.display=Tt(e,bk,r.display),this.float=Tt(e,Ck,r.cssFloat),this.fontFamily=Tt(e,rU,r.fontFamily),this.fontSize=Tt(e,nU,r.fontSize),this.fontStyle=Tt(e,aU,r.fontStyle),this.fontVariant=Tt(e,iU,r.fontVariant),this.fontWeight=Tt(e,sU,r.fontWeight),this.letterSpacing=Tt(e,Nk,r.letterSpacing),this.lineBreak=Tt(e,Sk,r.lineBreak),this.lineHeight=Tt(e,jk,r.lineHeight),this.listStyleImage=Tt(e,Fk,r.listStyleImage),this.listStylePosition=Tt(e,Ek,r.listStylePosition),this.listStyleType=Tt(e,Cm,r.listStyleType),this.marginTop=Tt(e,_k,r.marginTop),this.marginRight=Tt(e,kk,r.marginRight),this.marginBottom=Tt(e,Uk,r.marginBottom),this.marginLeft=Tt(e,Ik,r.marginLeft),this.opacity=Tt(e,Zk,r.opacity);var i=Tt(e,Qk,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=Tt(e,Tk,r.overflowWrap),this.paddingTop=Tt(e,Lk,r.paddingTop),this.paddingRight=Tt(e,Ok,r.paddingRight),this.paddingBottom=Tt(e,Pk,r.paddingBottom),this.paddingLeft=Tt(e,Dk,r.paddingLeft),this.paintOrder=Tt(e,hU,r.paintOrder),this.position=Tt(e,Hk,r.position),this.textAlign=Tt(e,Rk,r.textAlign),this.textDecorationColor=Tt(e,eU,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=Tt(e,tU,(s=r.textDecorationLine)!==null&&s!==void 0?s:r.textDecoration),this.textShadow=Tt(e,Mk,r.textShadow),this.textTransform=Tt(e,$k,r.textTransform),this.transform=Tt(e,Kk,r.transform),this.transformOrigin=Tt(e,Wk,r.transformOrigin),this.visibility=Tt(e,Jk,r.visibility),this.webkitTextStrokeColor=Tt(e,fU,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=Tt(e,pU,r.webkitTextStrokeWidth),this.wordBreak=Tt(e,Yk,r.wordBreak),this.zIndex=Tt(e,Xk,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return no(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return qn(this.display,4)||qn(this.display,33554432)||qn(this.display,268435456)||qn(this.display,536870912)||qn(this.display,67108864)||qn(this.display,134217728)},t}(),mU=function(){function t(e,r){this.content=Tt(e,AU,r.content),this.quotes=Tt(e,uU,r.quotes)}return t}(),Dv=function(){function t(e,r){this.counterIncrement=Tt(e,oU,r.counterIncrement),this.counterReset=Tt(e,lU,r.counterReset)}return t}(),Tt=function(t,e,r){var n=new gB,s=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(s);var i=new mB(n.read());switch(e.type){case 2:var A=i.parseComponentValue();return e.parse(t,Kr(A)?A.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return c0.parse(t,i.parseComponentValue());case"color":return ro.parse(t,i.parseComponentValue());case"image":return Vx.parse(t,i.parseComponentValue());case"length":var o=i.parseComponentValue();return ao(o)?o:ls;case"length-percentage":var l=i.parseComponentValue();return Hn(l)?l:ls;case"time":return TB.parse(t,i.parseComponentValue())}break}},xU="data-html2canvas-debug",wU=function(t){var e=t.getAttribute(xU);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Nm=function(t,e){var r=wU(t);return r===1||e===r},Ia=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Nm(r,3))debugger;this.styles=new gU(e,window.getComputedStyle(r,null)),Fm(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=o0(this.context,r),Nm(r,4)&&(this.flags|=16)}return t}(),vU="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Rv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var xh=0;xh<Rv.length;xh++)cu[Rv.charCodeAt(xh)]=xh;var yU=function(t){var e=t.length*.75,r=t.length,n,s=0,i,A,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<r;n+=4)i=cu[t.charCodeAt(n)],A=cu[t.charCodeAt(n+1)],o=cu[t.charCodeAt(n+2)],l=cu[t.charCodeAt(n+3)],d[s++]=i<<2|A>>4,d[s++]=(A&15)<<4|o>>2,d[s++]=(o&3)<<6|l&63;return c},bU=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},BU=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},$o=5,zx=11,Np=2,CU=zx-$o,LB=65536>>$o,NU=1<<$o,Sp=NU-1,SU=1024>>$o,jU=LB+SU,FU=jU,EU=32,_U=FU+EU,kU=65536>>zx,UU=1<<CU,IU=UU-1,Hv=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},QU=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},TU=function(t,e){var r=yU(t),n=Array.isArray(r)?BU(r):new Uint32Array(r),s=Array.isArray(r)?bU(r):new Uint16Array(r),i=24,A=Hv(s,i/2,n[4]/2),o=n[5]===2?Hv(s,(i+n[4])/2):QU(n,Math.ceil((i+n[4])/4));return new LU(n[0],n[1],n[2],n[3],A,o)},LU=function(){function t(e,r,n,s,i,A){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=i,this.data=A}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>$o],r=(r<<Np)+(e&Sp),this.data[r];if(e<=65535)return r=this.index[LB+(e-55296>>$o)],r=(r<<Np)+(e&Sp),this.data[r];if(e<this.highStart)return r=_U-kU+(e>>zx),r=this.index[r],r+=e>>$o&IU,r=this.index[r],r=(r<<Np)+(e&Sp),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),Mv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",OU=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var wh=0;wh<Mv.length;wh++)OU[Mv.charCodeAt(wh)]=wh;var PU=1,jp=2,Fp=3,$v=4,Kv=5,DU=7,Gv=8,Ep=9,_p=10,Vv=11,zv=12,qv=13,Wv=14,kp=15,RU=function(t){for(var e=[],r=0,n=t.length;r<n;){var s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((s&1023)<<10)+(i&1023)+65536):(e.push(s),r--)}else e.push(s)}return e},HU=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],s=-1,i="";++s<r;){var A=t[s];A<=65535?n.push(A):(A-=65536,n.push((A>>10)+55296,A%1024+56320)),(s+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},MU=TU(vU),Fi="",Up="",$U=function(t){return MU.get(t)},KU=function(t,e,r){var n=r-2,s=e[n],i=e[r-1],A=e[r];if(i===jp&&A===Fp)return Fi;if(i===jp||i===Fp||i===$v||A===jp||A===Fp||A===$v)return Up;if(i===Gv&&[Gv,Ep,Vv,zv].indexOf(A)!==-1||(i===Vv||i===Ep)&&(A===Ep||A===_p)||(i===zv||i===_p)&&A===_p||A===qv||A===Kv||A===DU||i===PU)return Fi;if(i===qv&&A===Wv){for(;s===Kv;)s=e[--n];if(s===Wv)return Fi}if(i===kp&&A===kp){for(var o=0;s===kp;)o++,s=e[--n];if(o%2===0)return Fi}return Up},GU=function(t){var e=RU(t),r=e.length,n=0,s=0,i=e.map($U);return{next:function(){if(n>=r)return{done:!0,value:null};for(var A=Fi;n<r&&(A=KU(e,i,++n))===Fi;);if(A!==Fi||n===r){var o=HU.apply(null,e.slice(s,n));return s=n,{value:o,done:!1}}return{done:!0,value:null}}}},VU=function(t){for(var e=GU(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},zU=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var s=r.getBoundingClientRect(),i=Math.round(s.height);if(t.body.removeChild(n),i===e)return!0}}return!1},qU=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,s=l0(n.data).map(function(l){return kn(l)}),i=0,A={},o=s.every(function(l,c){r.setStart(n,i),r.setEnd(n,i+l.length);var d=r.getBoundingClientRect();i+=l.length;var p=d.x>A.x||d.y>A.y;return A=d,c===0?!0:p});return t.body.removeChild(e),o},WU=function(){return typeof new Image().crossOrigin<"u"},JU=function(){return typeof new XMLHttpRequest().responseType=="string"},YU=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},Jv=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},XU=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var s=new Image,i=e.toDataURL();s.src=i;var A=Sm(r,r,0,0,s);return n.fillStyle="red",n.fillRect(0,0,r,r),Yv(A).then(function(o){n.drawImage(o,0,0);var l=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var c=t.createElement("div");return c.style.backgroundImage="url("+i+")",c.style.height=r+"px",Jv(l)?Yv(Sm(r,r,0,0,c)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),Jv(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},Sm=function(t,e,r,n,s){var i="http://www.w3.org/2000/svg",A=document.createElementNS(i,"svg"),o=document.createElementNS(i,"foreignObject");return A.setAttributeNS(null,"width",t.toString()),A.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",r.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),A.appendChild(o),o.appendChild(s),A},Yv=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},os={get SUPPORT_RANGE_BOUNDS(){var t=zU(document);return Object.defineProperty(os,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=os.SUPPORT_RANGE_BOUNDS&&qU(document);return Object.defineProperty(os,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=YU(document);return Object.defineProperty(os,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?XU(document):Promise.resolve(!1);return Object.defineProperty(os,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=WU();return Object.defineProperty(os,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=JU();return Object.defineProperty(os,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(os,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(os,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Su=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),ZU=function(t,e,r,n){var s=rI(e,r),i=[],A=0;return s.forEach(function(o){if(r.textDecorationLine.length||o.trim().length>0)if(os.SUPPORT_RANGE_BOUNDS){var l=Xv(n,A,o.length).getClientRects();if(l.length>1){var c=qx(o),d=0;c.forEach(function(g){i.push(new Su(g,AA.fromDOMRectList(t,Xv(n,d+A,g.length).getClientRects()))),d+=g.length})}else i.push(new Su(o,AA.fromDOMRectList(t,l)))}else{var p=n.splitText(o.length);i.push(new Su(o,eI(t,n))),n=p}else os.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));A+=o.length}),i},eI=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(n,e);var i=o0(t,n);return n.firstChild&&s.replaceChild(n.firstChild,n),i}}return AA.EMPTY},Xv=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var s=n.createRange();return s.setStart(t,e),s.setEnd(t,e+r),s},qx=function(t){if(os.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return VU(t)},tI=function(t,e){if(os.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return sI(t,e)},rI=function(t,e){return e.letterSpacing!==0?qx(t):tI(t,e)},nI=[32,160,4961,65792,65793,4153,4241],sI=function(t,e){for(var r=kE(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],s,i=function(){if(s.value){var A=s.value.slice(),o=l0(A),l="";o.forEach(function(c){nI.indexOf(c)===-1?l+=kn(c):(l.length&&n.push(l),n.push(kn(c)),l="")}),l.length&&n.push(l)}};!(s=r.next()).done;)i();return n},iI=function(){function t(e,r,n){this.text=aI(r.data,n.textTransform),this.textBounds=ZU(e,this.text,n,r)}return t}(),aI=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(AI,oI);case 2:return t.toUpperCase();default:return t}},AI=/(^|\s|:|-|\(|\))([a-z])/g,oI=function(t,e,r){return t.length>0?e+r.toUpperCase():t},OB=function(t){ia(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.src=n.currentSrc||n.src,s.intrinsicWidth=n.naturalWidth,s.intrinsicHeight=n.naturalHeight,s.context.cache.addImage(s.src),s}return e}(Ia),PB=function(t){ia(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.canvas=n,s.intrinsicWidth=n.width,s.intrinsicHeight=n.height,s}return e}(Ia),DB=function(t){ia(e,t);function e(r,n){var s=t.call(this,r,n)||this,i=new XMLSerializer,A=o0(r,n);return n.setAttribute("width",A.width+"px"),n.setAttribute("height",A.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),s.intrinsicWidth=n.width.baseVal.value,s.intrinsicHeight=n.height.baseVal.value,s.context.cache.addImage(s.svg),s}return e}(Ia),RB=function(t){ia(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.value=n.value,s}return e}(Ia),jm=function(t){ia(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.start=n.start,s.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,s}return e}(Ia),lI=[{type:15,flags:0,unit:"px",number:3}],cI=[{type:16,flags:0,number:50}],uI=function(t){return t.width>t.height?new AA(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new AA(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},dI=function(t){var e=t.type===hI?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},kf="checkbox",Uf="radio",hI="password",Zv=707406591,Wx=function(t){ia(e,t);function e(r,n){var s=t.call(this,r,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=dI(n),(s.type===kf||s.type===Uf)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=uI(s.bounds)),s.type){case kf:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=lI;break;case Uf:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=cI;break}return s}return e}(Ia),HB=function(t){ia(e,t);function e(r,n){var s=t.call(this,r,n)||this,i=n.options[n.selectedIndex||0];return s.value=i&&i.text||"",s}return e}(Ia),MB=function(t){ia(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.value=n.value,s}return e}(Ia),$B=function(t){ia(e,t);function e(r,n){var s=t.call(this,r,n)||this;s.src=n.src,s.width=parseInt(n.width,10)||0,s.height=parseInt(n.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){s.tree=GB(r,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?Cu(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):rA.TRANSPARENT,A=n.contentWindow.document.body?Cu(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):rA.TRANSPARENT;s.backgroundColor=no(i)?no(A)?s.styles.backgroundColor:A:i}}catch{}return s}return e}(Ia),fI=["OL","UL","MENU"],Vh=function(t,e,r,n){for(var s=e.firstChild,i=void 0;s;s=i)if(i=s.nextSibling,VB(s)&&s.data.trim().length>0)r.textNodes.push(new iI(t,s,r.styles));else if(rc(s))if(JB(s)&&s.assignedNodes)s.assignedNodes().forEach(function(o){return Vh(t,o,r,n)});else{var A=KB(t,s);A.styles.isVisible()&&(pI(s,A,n)?A.flags|=4:gI(A.styles)&&(A.flags|=2),fI.indexOf(s.tagName)!==-1&&(A.flags|=8),r.elements.push(A),s.slot,s.shadowRoot?Vh(t,s.shadowRoot,A,n):!If(s)&&!zB(s)&&!Qf(s)&&Vh(t,s,A,n))}},KB=function(t,e){return Em(e)?new OB(t,e):qB(e)?new PB(t,e):zB(e)?new DB(t,e):mI(e)?new RB(t,e):xI(e)?new jm(t,e):wI(e)?new Wx(t,e):Qf(e)?new HB(t,e):If(e)?new MB(t,e):WB(e)?new $B(t,e):new Ia(t,e)},GB=function(t,e){var r=KB(t,e);return r.flags|=4,Vh(t,e,r,r),r},pI=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||Jx(t)&&r.styles.isTransparent()},gI=function(t){return t.isPositioned()||t.isFloating()},VB=function(t){return t.nodeType===Node.TEXT_NODE},rc=function(t){return t.nodeType===Node.ELEMENT_NODE},Fm=function(t){return rc(t)&&typeof t.style<"u"&&!zh(t)},zh=function(t){return typeof t.className=="object"},mI=function(t){return t.tagName==="LI"},xI=function(t){return t.tagName==="OL"},wI=function(t){return t.tagName==="INPUT"},vI=function(t){return t.tagName==="HTML"},zB=function(t){return t.tagName==="svg"},Jx=function(t){return t.tagName==="BODY"},qB=function(t){return t.tagName==="CANVAS"},ey=function(t){return t.tagName==="VIDEO"},Em=function(t){return t.tagName==="IMG"},WB=function(t){return t.tagName==="IFRAME"},ty=function(t){return t.tagName==="STYLE"},yI=function(t){return t.tagName==="SCRIPT"},If=function(t){return t.tagName==="TEXTAREA"},Qf=function(t){return t.tagName==="SELECT"},JB=function(t){return t.tagName==="SLOT"},ry=function(t){return t.tagName.indexOf("-")>0},bI=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,s=e.counterReset,i=!0;n!==null&&n.forEach(function(o){var l=r.counters[o.counter];l&&o.increment!==0&&(i=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var A=[];return i&&s.forEach(function(o){var l=r.counters[o.counter];A.push(o.counter),l||(l=r.counters[o.counter]=[]),l.push(o.reset)}),A},t}(),ny={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},sy={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},BI={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},CI={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},_l=function(t,e,r,n,s,i){return t<e||t>r?td(t,s,i.length>0):n.integers.reduce(function(A,o,l){for(;t>=o;)t-=o,A+=n.values[l];return A},"")+i},YB=function(t,e,r,n){var s="";do r||t--,s=n(t)+s,t/=e;while(t*e>=e);return s},_n=function(t,e,r,n,s){var i=r-e+1;return(t<0?"-":"")+(YB(Math.abs(t),i,n,function(A){return kn(Math.floor(A%i)+e)})+s)},So=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return YB(Math.abs(t),n,!1,function(s){return e[Math.floor(s%n)]})+r},Dl=1,IA=2,QA=4,uu=8,Va=function(t,e,r,n,s,i){if(t<-9999||t>9999)return td(t,4,s.length>0);var A=Math.abs(t),o=s;if(A===0)return e[0]+o;for(var l=0;A>0&&l<=4;l++){var c=A%10;c===0&&qn(i,Dl)&&o!==""?o=e[c]+o:c>1||c===1&&l===0||c===1&&l===1&&qn(i,IA)||c===1&&l===1&&qn(i,QA)&&t>100||c===1&&l>1&&qn(i,uu)?o=e[c]+(l>0?r[l-1]:"")+o:c===1&&l>0&&(o=r[l-1]+o),A=Math.floor(A/10)}return(t<0?n:"")+o},iy="",ay="",Ay="",Ip="",td=function(t,e,r){var n=r?". ":"",s=r?"":"",i=r?", ":"",A=r?" ":"";switch(e){case 0:return""+A;case 1:return""+A;case 2:return""+A;case 5:var o=_n(t,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return So(t,"",s);case 6:return _l(t,1,3999,ny,3,n).toLowerCase();case 7:return _l(t,1,3999,ny,3,n);case 8:return _n(t,945,969,!1,n);case 9:return _n(t,97,122,!1,n);case 10:return _n(t,65,90,!1,n);case 11:return _n(t,1632,1641,!0,n);case 12:case 49:return _l(t,1,9999,sy,3,n);case 35:return _l(t,1,9999,sy,3,n).toLowerCase();case 13:return _n(t,2534,2543,!0,n);case 14:case 30:return _n(t,6112,6121,!0,n);case 15:return So(t,"",s);case 16:return So(t,"",s);case 17:case 48:return Va(t,"",iy,"",s,IA|QA|uu);case 47:return Va(t,"",ay,"",s,Dl|IA|QA|uu);case 42:return Va(t,"",iy,"",s,IA|QA|uu);case 41:return Va(t,"",ay,"",s,Dl|IA|QA|uu);case 26:return Va(t,"","",Ay,s,0);case 25:return Va(t,"","",Ay,s,Dl|IA|QA);case 31:return Va(t,"","",Ip,i,Dl|IA|QA);case 33:return Va(t,"","",Ip,i,0);case 32:return Va(t,"","",Ip,i,Dl|IA|QA);case 18:return _n(t,2406,2415,!0,n);case 20:return _l(t,1,19999,CI,3,n);case 21:return _n(t,2790,2799,!0,n);case 22:return _n(t,2662,2671,!0,n);case 22:return _l(t,1,10999,BI,3,n);case 23:return So(t,"");case 24:return So(t,"");case 27:return _n(t,3302,3311,!0,n);case 28:return So(t,"",s);case 29:return So(t,"",s);case 34:return _n(t,3792,3801,!0,n);case 37:return _n(t,6160,6169,!0,n);case 38:return _n(t,4160,4169,!0,n);case 39:return _n(t,2918,2927,!0,n);case 40:return _n(t,1776,1785,!0,n);case 43:return _n(t,3046,3055,!0,n);case 44:return _n(t,3174,3183,!0,n);case 45:return _n(t,3664,3673,!0,n);case 46:return _n(t,3872,3881,!0,n);case 3:default:return _n(t,48,57,!0,n)}},XB="data-html2canvas-ignore",oy=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new bI,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,s=NI(e,r);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,A=e.defaultView.pageYOffset,o=s.contentWindow,l=o.document,c=FI(s).then(function(){return _s(n,void 0,void 0,function(){var d,p;return ys(this,function(g){switch(g.label){case 0:return this.scrolledElements.forEach(UI),o&&(o.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==r.top||o.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-r.left,o.scrollY-r.top,0,0))),d=this.options.onclone,p=this.clonedReferenceElement,typeof p>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:g.sent(),g.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,jI(l)]:[3,4];case 3:g.sent(),g.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(l,p)}).then(function(){return s})]:[2,s]}})})});return l.open(),l.write(_I(document.doctype)+"<html></html>"),kI(this.referenceElement.ownerDocument,i,A),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},t.prototype.createElementClone=function(e){if(Nm(e,2))debugger;if(qB(e))return this.createCanvasClone(e);if(ey(e))return this.createVideoClone(e);if(ty(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return Em(r)&&(Em(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),ry(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return Qp(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(i,A){return A&&typeof A.cssText=="string"?i+A.cssText:i},""),s=e.cloneNode(!1);return s.textContent=n,s}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var s=e.cloneNode(!1);try{s.width=e.width,s.height=e.height;var i=e.getContext("2d"),A=s.getContext("2d");if(A)if(!this.options.allowTaint&&i)A.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var o=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}A.drawImage(e,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return s},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var s=e.ownerDocument.createElement("canvas");return s.width=e.offsetWidth,s.height=e.offsetHeight,s},t.prototype.appendChildNode=function(e,r,n){(!rc(r)||!yI(r)&&!r.hasAttribute(XB)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!rc(r)||!ty(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var s=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(rc(i)&&JB(i)&&typeof i.assignedNodes=="function"){var A=i.assignedNodes();A.length&&A.forEach(function(o){return s.appendChildNode(r,o,n)})}else this.appendChildNode(r,i,n)},t.prototype.cloneNode=function(e,r){if(VB(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&rc(e)&&(Fm(e)||zh(e))){var s=this.createElementClone(e);s.style.transitionProperty="none";var i=n.getComputedStyle(e),A=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&Fm(s)&&(this.clonedReferenceElement=s),Jx(s)&&TI(s);var l=this.counters.parse(new Dv(this.context,i)),c=this.resolvePseudoContent(e,s,A,ju.BEFORE);ry(e)&&(r=!0),ey(e)||this.cloneChildNodes(e,s,r),c&&s.insertBefore(c,s.firstChild);var d=this.resolvePseudoContent(e,s,o,ju.AFTER);return d&&s.appendChild(d),this.counters.pop(l),(i&&(this.options.copyStyles||zh(e))&&!WB(e)||r)&&Qp(i,s),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([s,e.scrollLeft,e.scrollTop]),(If(e)||Qf(e))&&(If(s)||Qf(s))&&(s.value=e.value),s}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,s){var i=this;if(n){var A=n.content,o=r.ownerDocument;if(!(!o||!A||A==="none"||A==="-moz-alt-content"||n.display==="none")){this.counters.parse(new Dv(this.context,n));var l=new mU(this.context,n),c=o.createElement("html2canvaspseudoelement");Qp(n,c),l.content.forEach(function(p){if(p.type===0)c.appendChild(o.createTextNode(p.value));else if(p.type===22){var g=o.createElement("img");g.src=p.value,g.style.opacity="1",c.appendChild(g)}else if(p.type===18){if(p.name==="attr"){var h=p.values.filter(Kr);h.length&&c.appendChild(o.createTextNode(e.getAttribute(h[0].value)||""))}else if(p.name==="counter"){var b=p.values.filter(Bc),v=b[0],S=b[1];if(v&&Kr(v)){var x=i.counters.getCounterValue(v.value),y=S&&Kr(S)?Cm.parse(i.context,S.value):3;c.appendChild(o.createTextNode(td(x,y,!1)))}}else if(p.name==="counters"){var B=p.values.filter(Bc),v=B[0],j=B[1],S=B[2];if(v&&Kr(v)){var O=i.counters.getCounterValues(v.value),k=S&&Kr(S)?Cm.parse(i.context,S.value):3,M=j&&j.type===0?j.value:"",K=O.map(function(_){return td(_,k,!1)}).join(M);c.appendChild(o.createTextNode(K))}}}else if(p.type===20)switch(p.value){case"open-quote":c.appendChild(o.createTextNode(Pv(l.quotes,i.quoteDepth++,!0)));break;case"close-quote":c.appendChild(o.createTextNode(Pv(l.quotes,--i.quoteDepth,!1)));break;default:c.appendChild(o.createTextNode(p.value))}}),c.className=_m+" "+km;var d=s===ju.BEFORE?" "+_m:" "+km;return zh(r)?r.className.baseValue+=d:r.className+=d,c}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),ju;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(ju||(ju={}));var NI=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(XB,"true"),t.body.appendChild(r),r},SI=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},jI=function(t){return Promise.all([].slice.call(t.images,0).map(SI))},FI=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var s=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var i=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},EI=["all","d","content"],Qp=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);EI.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},_I=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},kI=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},UI=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},II=":before",QI=":after",_m="___html2canvas___pseudoelement_before",km="___html2canvas___pseudoelement_after",ly=`{
    content: "" !important;
    display: none !important;
}`,TI=function(t){LI(t,"."+_m+II+ly+`
         .`+km+QI+ly)},LI=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},ZB=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),OI=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(Lp(e)||HI(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return _s(this,void 0,void 0,function(){var r,n,s,i,A=this;return ys(this,function(o){switch(o.label){case 0:return r=ZB.isSameOrigin(e),n=!Tp(e)&&this._options.useCORS===!0&&os.SUPPORT_CORS_IMAGES&&!r,s=!Tp(e)&&!r&&!Lp(e)&&typeof this._options.proxy=="string"&&os.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!Tp(e)&&!Lp(e)&&!s&&!n?[2]:(i=e,s?[4,this.proxy(i)]:[3,2]);case 1:i=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,c){var d=new Image;d.onload=function(){return l(d)},d.onerror=c,(MI(i)||n)&&(d.crossOrigin="anonymous"),d.src=i,d.complete===!0&&setTimeout(function(){return l(d)},500),A._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+A._options.imageTimeout+"ms) loading image")},A._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var s=e.substring(0,256);return new Promise(function(i,A){var o=os.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")i(l.response);else{var p=new FileReader;p.addEventListener("load",function(){return i(p.result)},!1),p.addEventListener("error",function(g){return A(g)},!1),p.readAsDataURL(l.response)}else A("Failed to proxy resource "+s+" with status code "+l.status)},l.onerror=A;var c=n.indexOf("?")>-1?"&":"?";if(l.open("GET",""+n+c+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),r._options.imageTimeout){var d=r._options.imageTimeout;l.timeout=d,l.ontimeout=function(){return A("Timed out ("+d+"ms) proxying "+s)}}l.send()})},t}(),PI=/^data:image\/svg\+xml/i,DI=/^data:image\/.*;base64,/i,RI=/^data:image\/.*/i,HI=function(t){return os.SUPPORT_SVG_DRAWING||!$I(t)},Tp=function(t){return RI.test(t)},MI=function(t){return DI.test(t)},Lp=function(t){return t.substr(0,4)==="blob"},$I=function(t){return t.substr(-3).toLowerCase()==="svg"||PI.test(t)},Ut=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),kl=function(t,e,r){return new Ut(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},vh=function(){function t(e,r,n,s){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=s}return t.prototype.subdivide=function(e,r){var n=kl(this.start,this.startControl,e),s=kl(this.startControl,this.endControl,e),i=kl(this.endControl,this.end,e),A=kl(n,s,e),o=kl(s,i,e),l=kl(A,o,e);return r?new t(this.start,n,A,l):new t(l,o,i,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),ki=function(t){return t.type===1},KI=function(){function t(e){var r=e.styles,n=e.bounds,s=lu(r.borderTopLeftRadius,n.width,n.height),i=s[0],A=s[1],o=lu(r.borderTopRightRadius,n.width,n.height),l=o[0],c=o[1],d=lu(r.borderBottomRightRadius,n.width,n.height),p=d[0],g=d[1],h=lu(r.borderBottomLeftRadius,n.width,n.height),b=h[0],v=h[1],S=[];S.push((i+l)/n.width),S.push((b+p)/n.width),S.push((A+v)/n.height),S.push((c+g)/n.height);var x=Math.max.apply(Math,S);x>1&&(i/=x,A/=x,l/=x,c/=x,p/=x,g/=x,b/=x,v/=x);var y=n.width-l,B=n.height-g,j=n.width-p,O=n.height-v,k=r.borderTopWidth,M=r.borderRightWidth,K=r.borderBottomWidth,N=r.borderLeftWidth,H=Xr(r.paddingTop,e.bounds.width),_=Xr(r.paddingRight,e.bounds.width),E=Xr(r.paddingBottom,e.bounds.width),G=Xr(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||A>0?on(n.left+N/3,n.top+k/3,i-N/3,A-k/3,Tr.TOP_LEFT):new Ut(n.left+N/3,n.top+k/3),this.topRightBorderDoubleOuterBox=i>0||A>0?on(n.left+y,n.top+k/3,l-M/3,c-k/3,Tr.TOP_RIGHT):new Ut(n.left+n.width-M/3,n.top+k/3),this.bottomRightBorderDoubleOuterBox=p>0||g>0?on(n.left+j,n.top+B,p-M/3,g-K/3,Tr.BOTTOM_RIGHT):new Ut(n.left+n.width-M/3,n.top+n.height-K/3),this.bottomLeftBorderDoubleOuterBox=b>0||v>0?on(n.left+N/3,n.top+O,b-N/3,v-K/3,Tr.BOTTOM_LEFT):new Ut(n.left+N/3,n.top+n.height-K/3),this.topLeftBorderDoubleInnerBox=i>0||A>0?on(n.left+N*2/3,n.top+k*2/3,i-N*2/3,A-k*2/3,Tr.TOP_LEFT):new Ut(n.left+N*2/3,n.top+k*2/3),this.topRightBorderDoubleInnerBox=i>0||A>0?on(n.left+y,n.top+k*2/3,l-M*2/3,c-k*2/3,Tr.TOP_RIGHT):new Ut(n.left+n.width-M*2/3,n.top+k*2/3),this.bottomRightBorderDoubleInnerBox=p>0||g>0?on(n.left+j,n.top+B,p-M*2/3,g-K*2/3,Tr.BOTTOM_RIGHT):new Ut(n.left+n.width-M*2/3,n.top+n.height-K*2/3),this.bottomLeftBorderDoubleInnerBox=b>0||v>0?on(n.left+N*2/3,n.top+O,b-N*2/3,v-K*2/3,Tr.BOTTOM_LEFT):new Ut(n.left+N*2/3,n.top+n.height-K*2/3),this.topLeftBorderStroke=i>0||A>0?on(n.left+N/2,n.top+k/2,i-N/2,A-k/2,Tr.TOP_LEFT):new Ut(n.left+N/2,n.top+k/2),this.topRightBorderStroke=i>0||A>0?on(n.left+y,n.top+k/2,l-M/2,c-k/2,Tr.TOP_RIGHT):new Ut(n.left+n.width-M/2,n.top+k/2),this.bottomRightBorderStroke=p>0||g>0?on(n.left+j,n.top+B,p-M/2,g-K/2,Tr.BOTTOM_RIGHT):new Ut(n.left+n.width-M/2,n.top+n.height-K/2),this.bottomLeftBorderStroke=b>0||v>0?on(n.left+N/2,n.top+O,b-N/2,v-K/2,Tr.BOTTOM_LEFT):new Ut(n.left+N/2,n.top+n.height-K/2),this.topLeftBorderBox=i>0||A>0?on(n.left,n.top,i,A,Tr.TOP_LEFT):new Ut(n.left,n.top),this.topRightBorderBox=l>0||c>0?on(n.left+y,n.top,l,c,Tr.TOP_RIGHT):new Ut(n.left+n.width,n.top),this.bottomRightBorderBox=p>0||g>0?on(n.left+j,n.top+B,p,g,Tr.BOTTOM_RIGHT):new Ut(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=b>0||v>0?on(n.left,n.top+O,b,v,Tr.BOTTOM_LEFT):new Ut(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||A>0?on(n.left+N,n.top+k,Math.max(0,i-N),Math.max(0,A-k),Tr.TOP_LEFT):new Ut(n.left+N,n.top+k),this.topRightPaddingBox=l>0||c>0?on(n.left+Math.min(y,n.width-M),n.top+k,y>n.width+M?0:Math.max(0,l-M),Math.max(0,c-k),Tr.TOP_RIGHT):new Ut(n.left+n.width-M,n.top+k),this.bottomRightPaddingBox=p>0||g>0?on(n.left+Math.min(j,n.width-N),n.top+Math.min(B,n.height-K),Math.max(0,p-M),Math.max(0,g-K),Tr.BOTTOM_RIGHT):new Ut(n.left+n.width-M,n.top+n.height-K),this.bottomLeftPaddingBox=b>0||v>0?on(n.left+N,n.top+Math.min(O,n.height-K),Math.max(0,b-N),Math.max(0,v-K),Tr.BOTTOM_LEFT):new Ut(n.left+N,n.top+n.height-K),this.topLeftContentBox=i>0||A>0?on(n.left+N+G,n.top+k+H,Math.max(0,i-(N+G)),Math.max(0,A-(k+H)),Tr.TOP_LEFT):new Ut(n.left+N+G,n.top+k+H),this.topRightContentBox=l>0||c>0?on(n.left+Math.min(y,n.width+N+G),n.top+k+H,y>n.width+N+G?0:l-N+G,c-(k+H),Tr.TOP_RIGHT):new Ut(n.left+n.width-(M+_),n.top+k+H),this.bottomRightContentBox=p>0||g>0?on(n.left+Math.min(j,n.width-(N+G)),n.top+Math.min(B,n.height+k+H),Math.max(0,p-(M+_)),g-(K+E),Tr.BOTTOM_RIGHT):new Ut(n.left+n.width-(M+_),n.top+n.height-(K+E)),this.bottomLeftContentBox=b>0||v>0?on(n.left+N+G,n.top+O,Math.max(0,b-(N+G)),v-(K+E),Tr.BOTTOM_LEFT):new Ut(n.left+N+G,n.top+n.height-(K+E))}return t}(),Tr;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Tr||(Tr={}));var on=function(t,e,r,n,s){var i=4*((Math.sqrt(2)-1)/3),A=r*i,o=n*i,l=t+r,c=e+n;switch(s){case Tr.TOP_LEFT:return new vh(new Ut(t,c),new Ut(t,c-o),new Ut(l-A,e),new Ut(l,e));case Tr.TOP_RIGHT:return new vh(new Ut(t,e),new Ut(t+A,e),new Ut(l,c-o),new Ut(l,c));case Tr.BOTTOM_RIGHT:return new vh(new Ut(l,e),new Ut(l,e+o),new Ut(t+A,c),new Ut(t,c));case Tr.BOTTOM_LEFT:default:return new vh(new Ut(l,c),new Ut(l-A,c),new Ut(t,e+o),new Ut(t,e))}},Tf=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},GI=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Lf=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},VI=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),yh=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),zI=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),qI=function(t){return t.type===0},e4=function(t){return t.type===1},WI=function(t){return t.type===2},cy=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},JI=function(t,e,r,n,s){return t.map(function(i,A){switch(A){case 0:return i.add(e,r);case 1:return i.add(e+n,r);case 2:return i.add(e+n,r+s);case 3:return i.add(e,r+s)}return i})},t4=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),r4=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new KI(this.container),this.container.styles.opacity<1&&this.effects.push(new zI(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new VI(n,s,i))}if(this.container.styles.overflowX!==0){var A=Tf(this.curves),o=Lf(this.curves);cy(A,o)?this.effects.push(new yh(A,6)):(this.effects.push(new yh(A,2)),this.effects.push(new yh(o,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,s=this.effects.slice(0);n;){var i=n.effects.filter(function(l){return!e4(l)});if(r||n.container.styles.position!==0||!n.parent){if(s.unshift.apply(s,i),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var A=Tf(n.curves),o=Lf(n.curves);cy(A,o)||s.unshift(new yh(o,6))}}else s.unshift.apply(s,i);n=n.parent}return s.filter(function(l){return qn(l.target,e)})},t}(),Um=function(t,e,r,n){t.container.elements.forEach(function(s){var i=qn(s.flags,4),A=qn(s.flags,2),o=new r4(s,t);qn(s.styles.display,2048)&&n.push(o);var l=qn(s.flags,8)?[]:n;if(i||A){var c=i||s.styles.isPositioned()?r:e,d=new t4(o);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var p=s.styles.zIndex.order;if(p<0){var g=0;c.negativeZIndex.some(function(b,v){return p>b.element.container.styles.zIndex.order?(g=v,!1):g>0}),c.negativeZIndex.splice(g,0,d)}else if(p>0){var h=0;c.positiveZIndex.some(function(b,v){return p>=b.element.container.styles.zIndex.order?(h=v+1,!1):h>0}),c.positiveZIndex.splice(h,0,d)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else s.styles.isFloating()?c.nonPositionedFloats.push(d):c.nonPositionedInlineLevel.push(d);Um(o,d,i?d:r,l)}else s.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),Um(o,e,r,l);qn(s.flags,8)&&n4(s,l)})},n4=function(t,e){for(var r=t instanceof jm?t.start:1,n=t instanceof jm?t.reversed:!1,s=0;s<e.length;s++){var i=e[s];i.container instanceof RB&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=td(r,i.container.styles.listStyleType,!0),r+=n?-1:1}},YI=function(t){var e=new r4(t,null),r=new t4(e),n=[];return Um(e,r,r,n),n4(e.container,n),r},uy=function(t,e){switch(e){case 0:return Qi(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Qi(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Qi(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Qi(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},XI=function(t,e){switch(e){case 0:return Qi(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Qi(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Qi(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Qi(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},ZI=function(t,e){switch(e){case 0:return Qi(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Qi(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Qi(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Qi(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},eQ=function(t,e){switch(e){case 0:return bh(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return bh(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return bh(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return bh(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},bh=function(t,e){var r=[];return ki(t)?r.push(t.subdivide(.5,!1)):r.push(t),ki(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},Qi=function(t,e,r,n){var s=[];return ki(t)?s.push(t.subdivide(.5,!1)):s.push(t),ki(r)?s.push(r.subdivide(.5,!0)):s.push(r),ki(n)?s.push(n.subdivide(.5,!0).reverse()):s.push(n),ki(e)?s.push(e.subdivide(.5,!1).reverse()):s.push(e),s},s4=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},Of=function(t){var e=t.styles,r=t.bounds,n=Xr(e.paddingLeft,r.width),s=Xr(e.paddingRight,r.width),i=Xr(e.paddingTop,r.width),A=Xr(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+s),-(e.borderTopWidth+e.borderBottomWidth+i+A))},tQ=function(t,e){return t===0?e.bounds:t===2?Of(e):s4(e)},rQ=function(t,e){return t===0?e.bounds:t===2?Of(e):s4(e)},Op=function(t,e,r){var n=tQ(Rl(t.styles.backgroundOrigin,e),t),s=rQ(Rl(t.styles.backgroundClip,e),t),i=nQ(Rl(t.styles.backgroundSize,e),r,n),A=i[0],o=i[1],l=lu(Rl(t.styles.backgroundPosition,e),n.width-A,n.height-o),c=sQ(Rl(t.styles.backgroundRepeat,e),l,i,n,s),d=Math.round(n.left+l[0]),p=Math.round(n.top+l[1]);return[c,d,p,A,o]},Ul=function(t){return Kr(t)&&t.value===uc.AUTO},Bh=function(t){return typeof t=="number"},nQ=function(t,e,r){var n=e[0],s=e[1],i=e[2],A=t[0],o=t[1];if(!A)return[0,0];if(Hn(A)&&o&&Hn(o))return[Xr(A,r.width),Xr(o,r.height)];var l=Bh(i);if(Kr(A)&&(A.value===uc.CONTAIN||A.value===uc.COVER)){if(Bh(i)){var c=r.width/r.height;return c<i!=(A.value===uc.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var d=Bh(n),p=Bh(s),g=d||p;if(Ul(A)&&(!o||Ul(o))){if(d&&p)return[n,s];if(!l&&!g)return[r.width,r.height];if(g&&l){var h=d?n:s*i,b=p?s:n/i;return[h,b]}var v=d?n:r.width,S=p?s:r.height;return[v,S]}if(l){var x=0,y=0;return Hn(A)?x=Xr(A,r.width):Hn(o)&&(y=Xr(o,r.height)),Ul(A)?x=y*i:(!o||Ul(o))&&(y=x/i),[x,y]}var B=null,j=null;if(Hn(A)?B=Xr(A,r.width):o&&Hn(o)&&(j=Xr(o,r.height)),B!==null&&(!o||Ul(o))&&(j=d&&p?B/n*s:r.height),j!==null&&Ul(A)&&(B=d&&p?j/s*n:r.width),B!==null&&j!==null)return[B,j];throw new Error("Unable to calculate background-size for element")},Rl=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},sQ=function(t,e,r,n,s){var i=e[0],A=e[1],o=r[0],l=r[1];switch(t){case 2:return[new Ut(Math.round(n.left),Math.round(n.top+A)),new Ut(Math.round(n.left+n.width),Math.round(n.top+A)),new Ut(Math.round(n.left+n.width),Math.round(l+n.top+A)),new Ut(Math.round(n.left),Math.round(l+n.top+A))];case 3:return[new Ut(Math.round(n.left+i),Math.round(n.top)),new Ut(Math.round(n.left+i+o),Math.round(n.top)),new Ut(Math.round(n.left+i+o),Math.round(n.height+n.top)),new Ut(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new Ut(Math.round(n.left+i),Math.round(n.top+A)),new Ut(Math.round(n.left+i+o),Math.round(n.top+A)),new Ut(Math.round(n.left+i+o),Math.round(n.top+A+l)),new Ut(Math.round(n.left+i),Math.round(n.top+A+l))];default:return[new Ut(Math.round(s.left),Math.round(s.top)),new Ut(Math.round(s.left+s.width),Math.round(s.top)),new Ut(Math.round(s.left+s.width),Math.round(s.height+s.top)),new Ut(Math.round(s.left),Math.round(s.height+s.top))]}},iQ="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",dy="Hidden Text",aQ=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),s=this._document.createElement("img"),i=this._document.createElement("span"),A=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",A.appendChild(n),s.src=iQ,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(dy)),n.appendChild(i),n.appendChild(s);var o=s.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(dy)),n.style.lineHeight="normal",s.style.verticalAlign="super";var l=s.offsetTop-n.offsetTop+2;return A.removeChild(n),{baseline:o,middle:l}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),i4=function(){function t(e,r){this.context=e,this.options=r}return t}(),AQ=1e4,oQ=function(t){ia(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s._activeEffects=[],s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),n.canvas||(s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px"),s.fontMetrics=new aQ(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),s}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(s){return n.applyEffect(s)})},e.prototype.applyEffect=function(r){this.ctx.save(),WI(r)&&(this.ctx.globalAlpha=r.opacity),qI(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),e4(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return _s(this,void 0,void 0,function(){var n;return ys(this,function(s){switch(s.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return _s(this,void 0,void 0,function(){return ys(this,function(n){switch(n.label){case 0:if(qn(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,s){var i=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+s);else{var A=qx(r.text);A.reduce(function(o,l){return i.ctx.fillText(l,o,r.bounds.top+s),o+i.ctx.measureText(l).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(A){return A==="normal"||A==="small-caps"}).join(""),s=hQ(r.fontFamily).join(", "),i=dd(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,i,s].join(" "),s,i]},e.prototype.renderTextNode=function(r,n){return _s(this,void 0,void 0,function(){var s,i,A,o,l,c,d,p,g=this;return ys(this,function(h){return s=this.createFontStyle(n),i=s[0],A=s[1],o=s[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(A,o),c=l.baseline,d=l.middle,p=n.paintOrder,r.textBounds.forEach(function(b){p.forEach(function(v){switch(v){case 0:g.ctx.fillStyle=Yn(n.color),g.renderTextWithLetterSpacing(b,n.letterSpacing,c);var S=n.textShadow;S.length&&b.text.trim().length&&(S.slice(0).reverse().forEach(function(x){g.ctx.shadowColor=Yn(x.color),g.ctx.shadowOffsetX=x.offsetX.number*g.options.scale,g.ctx.shadowOffsetY=x.offsetY.number*g.options.scale,g.ctx.shadowBlur=x.blur.number,g.renderTextWithLetterSpacing(b,n.letterSpacing,c)}),g.ctx.shadowColor="",g.ctx.shadowOffsetX=0,g.ctx.shadowOffsetY=0,g.ctx.shadowBlur=0),n.textDecorationLine.length&&(g.ctx.fillStyle=Yn(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(x){switch(x){case 1:g.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top+c),b.bounds.width,1);break;case 2:g.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top),b.bounds.width,1);break;case 3:g.ctx.fillRect(b.bounds.left,Math.ceil(b.bounds.top+d),b.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&b.text.trim().length&&(g.ctx.strokeStyle=Yn(n.webkitTextStrokeColor),g.ctx.lineWidth=n.webkitTextStrokeWidth,g.ctx.lineJoin=window.chrome?"miter":"round",g.ctx.strokeText(b.text,b.bounds.left,b.bounds.top+c)),g.ctx.strokeStyle="",g.ctx.lineWidth=0,g.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,s){if(s&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=Of(r),A=Lf(n);this.path(A),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return _s(this,void 0,void 0,function(){var n,s,i,A,o,l,y,y,c,d,p,g,j,h,b,O,v,S,x,y,B,j,O;return ys(this,function(k){switch(k.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,s=r.curves,i=n.styles,A=0,o=n.textNodes,k.label=1;case 1:return A<o.length?(l=o[A],[4,this.renderTextNode(l,i)]):[3,4];case 2:k.sent(),k.label=3;case 3:return A++,[3,1];case 4:if(!(n instanceof OB))return[3,8];k.label=5;case 5:return k.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return y=k.sent(),this.renderReplacedElement(n,s,y),[3,8];case 7:return k.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof PB&&this.renderReplacedElement(n,s,n.canvas),!(n instanceof DB))return[3,12];k.label=9;case 9:return k.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return y=k.sent(),this.renderReplacedElement(n,s,y),[3,12];case 11:return k.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof $B&&n.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,c.render(n.tree)]):[3,14];case 13:d=k.sent(),n.width&&n.height&&this.ctx.drawImage(d,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),k.label=14;case 14:if(n instanceof Wx&&(p=Math.min(n.bounds.width,n.bounds.height),n.type===kf?n.checked&&(this.ctx.save(),this.path([new Ut(n.bounds.left+p*.39363,n.bounds.top+p*.79),new Ut(n.bounds.left+p*.16,n.bounds.top+p*.5549),new Ut(n.bounds.left+p*.27347,n.bounds.top+p*.44071),new Ut(n.bounds.left+p*.39694,n.bounds.top+p*.5649),new Ut(n.bounds.left+p*.72983,n.bounds.top+p*.23),new Ut(n.bounds.left+p*.84,n.bounds.top+p*.34085),new Ut(n.bounds.left+p*.39363,n.bounds.top+p*.79)]),this.ctx.fillStyle=Yn(Zv),this.ctx.fill(),this.ctx.restore()):n.type===Uf&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+p/2,n.bounds.top+p/2,p/4,0,Math.PI*2,!0),this.ctx.fillStyle=Yn(Zv),this.ctx.fill(),this.ctx.restore())),lQ(n)&&n.value.length){switch(g=this.createFontStyle(i),j=g[0],h=g[1],b=this.fontMetrics.getMetrics(j,h).baseline,this.ctx.font=j,this.ctx.fillStyle=Yn(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=uQ(n.styles.textAlign),O=Of(n),v=0,n.styles.textAlign){case 1:v+=O.width/2;break;case 2:v+=O.width;break}S=O.add(v,0,0,-O.height/2+1),this.ctx.save(),this.path([new Ut(O.left,O.top),new Ut(O.left+O.width,O.top),new Ut(O.left+O.width,O.top+O.height),new Ut(O.left,O.top+O.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Su(n.value,S),i.letterSpacing,b),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!qn(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(x=n.styles.listStyleImage,x.type!==0)return[3,18];y=void 0,B=x.url,k.label=15;case 15:return k.trys.push([15,17,,18]),[4,this.context.cache.match(B)];case 16:return y=k.sent(),this.ctx.drawImage(y,n.bounds.left-(y.width+10),n.bounds.top),[3,18];case 17:return k.sent(),this.context.logger.error("Error loading list-style-image "+B),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(j=this.createFontStyle(i)[0],this.ctx.font=j,this.ctx.fillStyle=Yn(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",O=new AA(n.bounds.left,n.bounds.top+Xr(n.styles.paddingTop,n.bounds.width),n.bounds.width,Lv(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Su(r.listValue,O),i.letterSpacing,Lv(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),k.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return _s(this,void 0,void 0,function(){var n,s,x,i,A,x,o,l,x,c,d,x,p,g,x,h,b,x,v,S,x;return ys(this,function(y){switch(y.label){case 0:if(qn(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:y.sent(),n=0,s=r.negativeZIndex,y.label=2;case 2:return n<s.length?(x=s[n],[4,this.renderStack(x)]):[3,5];case 3:y.sent(),y.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:y.sent(),i=0,A=r.nonInlineLevel,y.label=7;case 7:return i<A.length?(x=A[i],[4,this.renderNode(x)]):[3,10];case 8:y.sent(),y.label=9;case 9:return i++,[3,7];case 10:o=0,l=r.nonPositionedFloats,y.label=11;case 11:return o<l.length?(x=l[o],[4,this.renderStack(x)]):[3,14];case 12:y.sent(),y.label=13;case 13:return o++,[3,11];case 14:c=0,d=r.nonPositionedInlineLevel,y.label=15;case 15:return c<d.length?(x=d[c],[4,this.renderStack(x)]):[3,18];case 16:y.sent(),y.label=17;case 17:return c++,[3,15];case 18:p=0,g=r.inlineLevel,y.label=19;case 19:return p<g.length?(x=g[p],[4,this.renderNode(x)]):[3,22];case 20:y.sent(),y.label=21;case 21:return p++,[3,19];case 22:h=0,b=r.zeroOrAutoZIndexOrTransformedOrOpacity,y.label=23;case 23:return h<b.length?(x=b[h],[4,this.renderStack(x)]):[3,26];case 24:y.sent(),y.label=25;case 25:return h++,[3,23];case 26:v=0,S=r.positiveZIndex,y.label=27;case 27:return v<S.length?(x=S[v],[4,this.renderStack(x)]):[3,30];case 28:y.sent(),y.label=29;case 29:return v++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(s,i){var A=ki(s)?s.start:s;i===0?n.ctx.moveTo(A.x,A.y):n.ctx.lineTo(A.x,A.y),ki(s)&&n.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},e.prototype.renderRepeat=function(r,n,s,i){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(s,i),this.ctx.fill(),this.ctx.translate(-s,-i)},e.prototype.resizeImage=function(r,n,s){var i;if(r.width===n&&r.height===s)return r;var A=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,o=A.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,s);var l=o.getContext("2d");return l.drawImage(r,0,0,r.width,r.height,0,0,n,s),o},e.prototype.renderBackgroundImage=function(r){return _s(this,void 0,void 0,function(){var n,s,i,A,o,l;return ys(this,function(c){switch(c.label){case 0:n=r.styles.backgroundImage.length-1,s=function(d){var p,g,h,H,ce,he,G,P,K,b,H,ce,he,G,P,v,S,x,y,B,j,O,k,M,K,N,H,_,E,G,P,ee,ce,he,ie,de,fe,ve,I,R,te,Y;return ys(this,function(le){switch(le.label){case 0:if(d.type!==0)return[3,5];p=void 0,g=d.url,le.label=1;case 1:return le.trys.push([1,3,,4]),[4,i.context.cache.match(g)];case 2:return p=le.sent(),[3,4];case 3:return le.sent(),i.context.logger.error("Error loading background-image "+g),[3,4];case 4:return p&&(h=Op(r,n,[p.width,p.height,p.width/p.height]),H=h[0],ce=h[1],he=h[2],G=h[3],P=h[4],K=i.ctx.createPattern(i.resizeImage(p,G,P),"repeat"),i.renderRepeat(H,K,ce,he)),[3,6];case 5:q_(d)?(b=Op(r,n,[null,null,null]),H=b[0],ce=b[1],he=b[2],G=b[3],P=b[4],v=$_(d.angle,G,P),S=v[0],x=v[1],y=v[2],B=v[3],j=v[4],O=document.createElement("canvas"),O.width=G,O.height=P,k=O.getContext("2d"),M=k.createLinearGradient(x,B,y,j),Qv(d.stops,S).forEach(function(pe){return M.addColorStop(pe.stop,Yn(pe.color))}),k.fillStyle=M,k.fillRect(0,0,G,P),G>0&&P>0&&(K=i.ctx.createPattern(O,"repeat"),i.renderRepeat(H,K,ce,he))):W_(d)&&(N=Op(r,n,[null,null,null]),H=N[0],_=N[1],E=N[2],G=N[3],P=N[4],ee=d.position.length===0?[Gx]:d.position,ce=Xr(ee[0],G),he=Xr(ee[ee.length-1],P),ie=K_(d,ce,he,G,P),de=ie[0],fe=ie[1],de>0&&fe>0&&(ve=i.ctx.createRadialGradient(_+ce,E+he,0,_+ce,E+he,de),Qv(d.stops,de*2).forEach(function(pe){return ve.addColorStop(pe.stop,Yn(pe.color))}),i.path(H),i.ctx.fillStyle=ve,de!==fe?(I=r.bounds.left+.5*r.bounds.width,R=r.bounds.top+.5*r.bounds.height,te=fe/de,Y=1/te,i.ctx.save(),i.ctx.translate(I,R),i.ctx.transform(1,0,0,te,0,0),i.ctx.translate(-I,-R),i.ctx.fillRect(_,Y*(E-R)+R,G,P*Y),i.ctx.restore()):i.ctx.fill())),le.label=6;case 6:return n--,[2]}})},i=this,A=0,o=r.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return A<o.length?(l=o[A],[5,s(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return A++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,s){return _s(this,void 0,void 0,function(){return ys(this,function(i){return this.path(uy(s,n)),this.ctx.fillStyle=Yn(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,s,i){return _s(this,void 0,void 0,function(){var A,o;return ys(this,function(l){switch(l.label){case 0:return n<3?[4,this.renderSolidBorder(r,s,i)]:[3,2];case 1:return l.sent(),[2];case 2:return A=XI(i,s),this.path(A),this.ctx.fillStyle=Yn(r),this.ctx.fill(),o=ZI(i,s),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return _s(this,void 0,void 0,function(){var n,s,i,A,o,l,c,d,p=this;return ys(this,function(g){switch(g.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,s=!no(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],A=cQ(Rl(n.backgroundClip,0),r.curves),s||n.boxShadow.length?(this.ctx.save(),this.path(A),this.ctx.clip(),no(n.backgroundColor)||(this.ctx.fillStyle=Yn(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:g.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(h){p.ctx.save();var b=Tf(r.curves),v=h.inset?0:AQ,S=JI(b,-v+(h.inset?1:-1)*h.spread.number,(h.inset?1:-1)*h.spread.number,h.spread.number*(h.inset?-2:2),h.spread.number*(h.inset?-2:2));h.inset?(p.path(b),p.ctx.clip(),p.mask(S)):(p.mask(b),p.ctx.clip(),p.path(S)),p.ctx.shadowOffsetX=h.offsetX.number+v,p.ctx.shadowOffsetY=h.offsetY.number,p.ctx.shadowColor=Yn(h.color),p.ctx.shadowBlur=h.blur.number,p.ctx.fillStyle=h.inset?Yn(h.color):"rgba(0,0,0,1)",p.ctx.fill(),p.ctx.restore()}),g.label=2;case 2:o=0,l=0,c=i,g.label=3;case 3:return l<c.length?(d=c[l],d.style!==0&&!no(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,o,r.curves,2)]:[3,11]):[3,13];case 4:return g.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,o,r.curves,3)];case 6:return g.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,o,r.curves)];case 8:return g.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,o,r.curves)];case 10:g.sent(),g.label=11;case 11:o++,g.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,s,i,A){return _s(this,void 0,void 0,function(){var o,l,c,d,p,g,h,b,v,S,x,y,B,j,O,k,O,k;return ys(this,function(M){return this.ctx.save(),o=eQ(i,s),l=uy(i,s),A===2&&(this.path(l),this.ctx.clip()),ki(l[0])?(c=l[0].start.x,d=l[0].start.y):(c=l[0].x,d=l[0].y),ki(l[1])?(p=l[1].end.x,g=l[1].end.y):(p=l[1].x,g=l[1].y),s===0||s===2?h=Math.abs(c-p):h=Math.abs(d-g),this.ctx.beginPath(),A===3?this.formatPath(o):this.formatPath(l.slice(0,2)),b=n<3?n*3:n*2,v=n<3?n*2:n,A===3&&(b=n,v=n),S=!0,h<=b*2?S=!1:h<=b*2+v?(x=h/(2*b+v),b*=x,v*=x):(y=Math.floor((h+v)/(b+v)),B=(h-y*b)/(y-1),j=(h-(y+1)*b)/y,v=j<=0||Math.abs(v-B)<Math.abs(v-j)?B:j),S&&(A===3?this.ctx.setLineDash([0,b+v]):this.ctx.setLineDash([b,v])),A===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=Yn(r),this.ctx.stroke(),this.ctx.setLineDash([]),A===2&&(ki(l[0])&&(O=l[3],k=l[0],this.ctx.beginPath(),this.formatPath([new Ut(O.end.x,O.end.y),new Ut(k.start.x,k.start.y)]),this.ctx.stroke()),ki(l[1])&&(O=l[1],k=l[2],this.ctx.beginPath(),this.formatPath([new Ut(O.end.x,O.end.y),new Ut(k.start.x,k.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return _s(this,void 0,void 0,function(){var n;return ys(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Yn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=YI(r),[4,this.renderStack(n)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(i4),lQ=function(t){return t instanceof MB||t instanceof HB?!0:t instanceof Wx&&t.type!==Uf&&t.type!==kf},cQ=function(t,e){switch(t){case 0:return Tf(e);case 2:return GI(e);case 1:default:return Lf(e)}},uQ=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},dQ=["-apple-system","system-ui"],hQ=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return dQ.indexOf(e)===-1}):t},fQ=function(t){ia(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=n,s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),s}return e.prototype.render=function(r){return _s(this,void 0,void 0,function(){var n,s;return ys(this,function(i){switch(i.label){case 0:return n=Sm(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,pQ(n)];case 1:return s=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Yn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(i4),pQ=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},gQ=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,th([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,th([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,th([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,th([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),mQ=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new gQ({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new OI(this,e)}return t.instanceCount=1,t}(),xQ=function(t,e){return e===void 0&&(e={}),wQ(t,e)};typeof window<"u"&&ZB.setContext(window);var wQ=function(t,e){return _s(void 0,void 0,void 0,function(){var r,n,s,i,A,o,l,c,d,p,g,h,b,v,S,x,y,B,j,O,M,k,M,K,N,H,_,E,G,P,ee,ce,he,ie,de,fe,ve,I,R,te;return ys(this,function(Y){switch(Y.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return s={allowTaint:(K=e.allowTaint)!==null&&K!==void 0?K:!1,imageTimeout:(N=e.imageTimeout)!==null&&N!==void 0?N:15e3,proxy:e.proxy,useCORS:(H=e.useCORS)!==null&&H!==void 0?H:!1},i=um({logging:(_=e.logging)!==null&&_!==void 0?_:!0,cache:e.cache},s),A={windowWidth:(E=e.windowWidth)!==null&&E!==void 0?E:n.innerWidth,windowHeight:(G=e.windowHeight)!==null&&G!==void 0?G:n.innerHeight,scrollX:(P=e.scrollX)!==null&&P!==void 0?P:n.pageXOffset,scrollY:(ee=e.scrollY)!==null&&ee!==void 0?ee:n.pageYOffset},o=new AA(A.scrollX,A.scrollY,A.windowWidth,A.windowHeight),l=new mQ(i,o),c=(ce=e.foreignObjectRendering)!==null&&ce!==void 0?ce:!1,d={allowTaint:(he=e.allowTaint)!==null&&he!==void 0?he:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),p=new oy(l,t,d),g=p.clonedReferenceElement,g?[4,p.toIFrame(r,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return h=Y.sent(),b=Jx(g)||vI(g)?JF(g.ownerDocument):o0(l,g),v=b.width,S=b.height,x=b.left,y=b.top,B=vQ(l,g,e.backgroundColor),j={canvas:e.canvas,backgroundColor:B,scale:(de=(ie=e.scale)!==null&&ie!==void 0?ie:n.devicePixelRatio)!==null&&de!==void 0?de:1,x:((fe=e.x)!==null&&fe!==void 0?fe:0)+x,y:((ve=e.y)!==null&&ve!==void 0?ve:0)+y,width:(I=e.width)!==null&&I!==void 0?I:Math.ceil(v),height:(R=e.height)!==null&&R!==void 0?R:Math.ceil(S)},c?(l.logger.debug("Document cloned, using foreign object rendering"),M=new fQ(l,j),[4,M.render(g)]):[3,3];case 2:return O=Y.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+x+","+y+" with size "+v+"x"+S+" using computed rendering"),l.logger.debug("Starting DOM parsing"),k=GB(l,g),B===k.styles.backgroundColor&&(k.styles.backgroundColor=rA.TRANSPARENT),l.logger.debug("Starting renderer for element at "+j.x+","+j.y+" with size "+j.width+"x"+j.height),M=new oQ(l,j),[4,M.render(k)];case 4:O=Y.sent(),Y.label=5;case 5:return(!((te=e.removeContainer)!==null&&te!==void 0)||te)&&(oy.destroy(h)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,O]}})})},vQ=function(t,e,r){var n=e.ownerDocument,s=n.documentElement?Cu(t,getComputedStyle(n.documentElement).backgroundColor):rA.TRANSPARENT,i=n.body?Cu(t,getComputedStyle(n.body).backgroundColor):rA.TRANSPARENT,A=typeof r=="string"?Cu(t,r):r===null?rA.TRANSPARENT:4294967295;return e===n.documentElement?no(s)?no(i)?A:i:s:A};const yQ=Object.freeze(Object.defineProperty({__proto__:null,default:xQ},Symbol.toStringTag,{value:"Module"})),bQ="modulepreload",BQ=function(t){return"/"+t},hy={},Pp=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const A=document.querySelector("meta[property=csp-nonce]"),o=(A==null?void 0:A.nonce)||(A==null?void 0:A.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=BQ(l),l in hy)return;hy[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":bQ,c||(p.as="script"),p.crossOrigin="",p.href=l,o&&p.setAttribute("nonce",o),document.head.appendChild(p),c)return new Promise((g,h)=>{p.addEventListener("load",g),p.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(A){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=A,window.dispatchEvent(o),!o.defaultPrevented)throw A}return s.then(A=>{for(const o of A||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})};function Hr(t){"@babel/helpers - typeof";return Hr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hr(t)}var sa=Uint8Array,oi=Uint16Array,Yx=Int32Array,Xx=new sa([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Zx=new sa([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),fy=new sa([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a4=function(t,e){for(var r=new oi(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var s=new Yx(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},A4=a4(Xx,2),CQ=A4.b,Im=A4.r;CQ[28]=258,Im[258]=28;var NQ=a4(Zx,0),py=NQ.r,Qm=new oi(32768);for(var nn=0;nn<32768;++nn){var kA=(nn&43690)>>1|(nn&21845)<<1;kA=(kA&52428)>>2|(kA&13107)<<2,kA=(kA&61680)>>4|(kA&3855)<<4,Qm[nn]=((kA&65280)>>8|(kA&255)<<8)>>1}var Fu=function(t,e,r){for(var n=t.length,s=0,i=new oi(e);s<n;++s)t[s]&&++i[t[s]-1];var A=new oi(e);for(s=1;s<e;++s)A[s]=A[s-1]+i[s-1]<<1;var o;if(r){o=new oi(1<<e);var l=15-e;for(s=0;s<n;++s)if(t[s])for(var c=s<<4|t[s],d=e-t[s],p=A[t[s]-1]++<<d,g=p|(1<<d)-1;p<=g;++p)o[Qm[p]>>l]=c}else for(o=new oi(n),s=0;s<n;++s)t[s]&&(o[s]=Qm[A[t[s]-1]++]>>15-t[s]);return o},Jo=new sa(288);for(var nn=0;nn<144;++nn)Jo[nn]=8;for(var nn=144;nn<256;++nn)Jo[nn]=9;for(var nn=256;nn<280;++nn)Jo[nn]=7;for(var nn=280;nn<288;++nn)Jo[nn]=8;var Pf=new sa(32);for(var nn=0;nn<32;++nn)Pf[nn]=5;var SQ=Fu(Jo,9,0),jQ=Fu(Pf,5,0),o4=function(t){return(t+7)/8|0},FQ=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new sa(t.subarray(e,r))},za=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Xc=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Dp=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var s=r.length,i=r.slice();if(!s)return{t:c4,l:0};if(s==1){var A=new sa(r[0].s+1);return A[r[0].s]=1,{t:A,l:1}}r.sort(function(O,k){return O.f-k.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,d=1,p=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=s-1;)o=r[r[c].f<r[p].f?c++:p++],l=r[c!=d&&r[c].f<r[p].f?c++:p++],r[d++]={s:-1,f:o.f+l.f,l:o,r:l};for(var g=i[0].s,n=1;n<s;++n)i[n].s>g&&(g=i[n].s);var h=new oi(g+1),b=Tm(r[d-1],h,0);if(b>e){var n=0,v=0,S=b-e,x=1<<S;for(i.sort(function(k,M){return h[M.s]-h[k.s]||k.f-M.f});n<s;++n){var y=i[n].s;if(h[y]>e)v+=x-(1<<b-h[y]),h[y]=e;else break}for(v>>=S;v>0;){var B=i[n].s;h[B]<e?v-=1<<e-h[B]++-1:++n}for(;n>=0&&v;--n){var j=i[n].s;h[j]==e&&(--h[j],++v)}b=e}return{t:new sa(h),l:b}},Tm=function(t,e,r){return t.s==-1?Math.max(Tm(t.l,e,r+1),Tm(t.r,e,r+1)):e[t.s]=r},gy=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new oi(++e),n=0,s=t[0],i=1,A=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==s&&o!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)A(32754);i>2&&(A(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(A(s),--i;i>6;i-=6)A(8304);i>2&&(A(i-3<<5|8208),i=0)}for(;i--;)A(s);i=1,s=t[o]}return{c:r.subarray(0,n),n:e}},Zc=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},l4=function(t,e,r){var n=r.length,s=o4(e+2);t[s]=n&255,t[s+1]=n>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var i=0;i<n;++i)t[s+i+4]=r[i];return(s+4+n)*8},my=function(t,e,r,n,s,i,A,o,l,c,d){za(e,d++,r),++s[256];for(var p=Dp(s,15),g=p.t,h=p.l,b=Dp(i,15),v=b.t,S=b.l,x=gy(g),y=x.c,B=x.n,j=gy(v),O=j.c,k=j.n,M=new oi(19),K=0;K<y.length;++K)++M[y[K]&31];for(var K=0;K<O.length;++K)++M[O[K]&31];for(var N=Dp(M,7),H=N.t,_=N.l,E=19;E>4&&!H[fy[E-1]];--E);var G=c+5<<3,P=Zc(s,Jo)+Zc(i,Pf)+A,ee=Zc(s,g)+Zc(i,v)+A+14+3*E+Zc(M,H)+2*M[16]+3*M[17]+7*M[18];if(l>=0&&G<=P&&G<=ee)return l4(e,d,t.subarray(l,l+c));var ce,he,ie,de;if(za(e,d,1+(ee<P)),d+=2,ee<P){ce=Fu(g,h,0),he=g,ie=Fu(v,S,0),de=v;var fe=Fu(H,_,0);za(e,d,B-257),za(e,d+5,k-1),za(e,d+10,E-4),d+=14;for(var K=0;K<E;++K)za(e,d+3*K,H[fy[K]]);d+=3*E;for(var ve=[y,O],I=0;I<2;++I)for(var R=ve[I],K=0;K<R.length;++K){var te=R[K]&31;za(e,d,fe[te]),d+=H[te],te>15&&(za(e,d,R[K]>>5&127),d+=R[K]>>12)}}else ce=SQ,he=Jo,ie=jQ,de=Pf;for(var K=0;K<o;++K){var Y=n[K];if(Y>255){var te=Y>>18&31;Xc(e,d,ce[te+257]),d+=he[te+257],te>7&&(za(e,d,Y>>23&31),d+=Xx[te]);var le=Y&31;Xc(e,d,ie[le]),d+=de[le],le>3&&(Xc(e,d,Y>>5&8191),d+=Zx[le])}else Xc(e,d,ce[Y]),d+=he[Y]}return Xc(e,d,ce[256]),d+he[256]},EQ=new Yx([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),c4=new sa(0),_Q=function(t,e,r,n,s,i){var A=i.z||t.length,o=new sa(n+A+5*(1+Math.ceil(A/7e3))+s),l=o.subarray(n,o.length-s),c=i.l,d=(i.r||0)&7;if(e){d&&(l[0]=i.r>>3);for(var p=EQ[e-1],g=p>>13,h=p&8191,b=(1<<r)-1,v=i.p||new oi(32768),S=i.h||new oi(b+1),x=Math.ceil(r/3),y=2*x,B=function(qe){return(t[qe]^t[qe+1]<<x^t[qe+2]<<y)&b},j=new Yx(25e3),O=new oi(288),k=new oi(32),M=0,K=0,N=i.i||0,H=0,_=i.w||0,E=0;N+2<A;++N){var G=B(N),P=N&32767,ee=S[G];if(v[P]=ee,S[G]=P,_<=N){var ce=A-N;if((M>7e3||H>24576)&&(ce>423||!c)){d=my(t,l,0,j,O,k,K,H,E,N-E,d),H=M=K=0,E=N;for(var he=0;he<286;++he)O[he]=0;for(var he=0;he<30;++he)k[he]=0}var ie=2,de=0,fe=h,ve=P-ee&32767;if(ce>2&&G==B(N-ve))for(var I=Math.min(g,ce)-1,R=Math.min(32767,N),te=Math.min(258,ce);ve<=R&&--fe&&P!=ee;){if(t[N+ie]==t[N+ie-ve]){for(var Y=0;Y<te&&t[N+Y]==t[N+Y-ve];++Y);if(Y>ie){if(ie=Y,de=ve,Y>I)break;for(var le=Math.min(ve,Y-2),pe=0,he=0;he<le;++he){var Fe=N-ve+he&32767,be=v[Fe],Oe=Fe-be&32767;Oe>pe&&(pe=Oe,ee=Fe)}}}P=ee,ee=v[P],ve+=P-ee&32767}if(de){j[H++]=268435456|Im[ie]<<18|py[de];var Ye=Im[ie]&31,ht=py[de]&31;K+=Xx[Ye]+Zx[ht],++O[257+Ye],++k[ht],_=N+ie,++M}else j[H++]=t[N],++O[t[N]]}}for(N=Math.max(N,_);N<A;++N)j[H++]=t[N],++O[t[N]];d=my(t,l,c,j,O,k,K,H,E,N-E,d),c||(i.r=d&7|l[d/8|0]<<3,d-=7,i.h=S,i.p=v,i.i=N,i.w=_)}else{for(var N=i.w||0;N<A+c;N+=65535){var ue=N+65535;ue>=A&&(l[d/8|0]=c,ue=A),d=l4(l,d+1,t.subarray(N,ue))}i.i=A}return FQ(o,0,n+o4(d)+s)},u4=function(){var t=1,e=0;return{p:function(r){for(var n=t,s=e,i=r.length|0,A=0;A!=i;){for(var o=Math.min(A+2655,i);A<o;++A)s+=n+=r[A];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}t=n,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},kQ=function(t,e,r,n,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),A=new sa(i.length+t.length);A.set(i),A.set(t,i.length),t=A,s.w=i.length}return _Q(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,s)},d4=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},UQ=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=u4();s.p(e.dictionary),d4(t,2,s.d())}};function Lm(t,e){e||(e={});var r=u4();r.p(t);var n=kQ(t,e,e.dictionary?6:2,4);return UQ(n,e),d4(n,n.length-4,r.d()),n}var IQ=typeof TextDecoder<"u"&&new TextDecoder,QQ=0;try{IQ.decode(c4,{stream:!0}),QQ=1}catch{}function TQ(t){if(Array.isArray(t))return t}function LQ(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,A,o=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){c=!0,s=d}finally{try{if(!l&&r.return!=null&&(A=r.return(),Object(A)!==A))return}finally{if(c)throw s}}return o}}function xy(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function OQ(t,e){if(t){if(typeof t=="string")return xy(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xy(t,e):void 0}}function PQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wy(t,e){return TQ(t)||LQ(t,e)||OQ(t,e)||PQ()}function vy(t,e="utf8"){return new TextDecoder(e).decode(t)}const DQ=new TextEncoder;function RQ(t){return DQ.encode(t)}const HQ=1024*8,MQ=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Rp={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class e1{constructor(e=HQ,r={}){Rr(this,"buffer");Rr(this,"byteLength");Rr(this,"byteOffset");Rr(this,"length");Rr(this,"offset");Rr(this,"lastWrittenByte");Rr(this,"littleEndian");Rr(this,"_data");Rr(this,"_mark");Rr(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const s=r.offset?r.offset>>>0:0,i=e.byteLength-s;let A=s;(ArrayBuffer.isView(e)||e instanceof e1)&&(e.byteLength!==e.buffer.byteLength&&(A=e.byteOffset+s),e=e.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=A,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,A,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,s=new Uint8Array(n);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=Rp[r].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+n);if(this.littleEndian===MQ&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(s,s+n));o.reverse();const l=new Rp[r](o.buffer);return this.offset+=n,l.reverse(),l}const A=new Rp[r](i);return this.offset+=n,A}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return vy(this.readBytes(e))}decodeText(e=1,r="utf8"){return vy(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(RQ(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function _c(t){let e=t.length;for(;--e>=0;)t[e]=0}const $Q=3,KQ=258,h4=29,GQ=256,VQ=GQ+1+h4,f4=30,zQ=512,qQ=new Array((VQ+2)*2);_c(qQ);const WQ=new Array(f4*2);_c(WQ);const JQ=new Array(zQ);_c(JQ);const YQ=new Array(KQ-$Q+1);_c(YQ);const XQ=new Array(h4);_c(XQ);const ZQ=new Array(f4);_c(ZQ);const eT=(t,e,r,n)=>{let s=t&65535|0,i=t>>>16&65535|0,A=0;for(;r!==0;){A=r>2e3?2e3:r,r-=A;do s=s+e[n++]|0,i=i+s|0;while(--A);s%=65521,i%=65521}return s|i<<16|0};var Om=eT;const tT=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},rT=new Uint32Array(tT()),nT=(t,e,r,n)=>{const s=rT,i=n+r;t^=-1;for(let A=n;A<i;A++)t=t>>>8^s[(t^e[A])&255];return t^-1};var Na=nT,Pm={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},p4={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const sT=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var iT=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)sT(r,n)&&(t[n]=r[n])}}return t},aT=t=>{let e=0;for(let n=0,s=t.length;n<s;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,s=0,i=t.length;n<i;n++){let A=t[n];r.set(A,s),s+=A.length}return r},g4={assign:iT,flattenChunks:aT};let m4=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{m4=!1}const rd=new Uint8Array(256);for(let t=0;t<256;t++)rd[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;rd[254]=rd[254]=1;var AT=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,s,i,A=t.length,o=0;for(s=0;s<A;s++)r=t.charCodeAt(s),(r&64512)===55296&&s+1<A&&(n=t.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),i=0,s=0;i<o;s++)r=t.charCodeAt(s),(r&64512)===55296&&s+1<A&&(n=t.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),r<128?e[i++]=r:r<2048?(e[i++]=192|r>>>6,e[i++]=128|r&63):r<65536?(e[i++]=224|r>>>12,e[i++]=128|r>>>6&63,e[i++]=128|r&63):(e[i++]=240|r>>>18,e[i++]=128|r>>>12&63,e[i++]=128|r>>>6&63,e[i++]=128|r&63);return e};const oT=(t,e)=>{if(e<65534&&t.subarray&&m4)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var lT=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,s;const i=new Array(r*2);for(s=0,n=0;n<r;){let A=t[n++];if(A<128){i[s++]=A;continue}let o=rd[A];if(o>4){i[s++]=65533,n+=o-1;continue}for(A&=o===2?31:o===3?15:7;o>1&&n<r;)A=A<<6|t[n++]&63,o--;if(o>1){i[s++]=65533;continue}A<65536?i[s++]=A:(A-=65536,i[s++]=55296|A>>10&1023,i[s++]=56320|A&1023)}return oT(i,s)},cT=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+rd[t[r]]>e?r:e},Dm={string2buf:AT,buf2string:lT,utf8border:cT};function uT(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var dT=uT;const Ch=16209,hT=16191;var fT=function(e,r){let n,s,i,A,o,l,c,d,p,g,h,b,v,S,x,y,B,j,O,k,M,K,N,H;const _=e.state;n=e.next_in,N=e.input,s=n+(e.avail_in-5),i=e.next_out,H=e.output,A=i-(r-e.avail_out),o=i+(e.avail_out-257),l=_.dmax,c=_.wsize,d=_.whave,p=_.wnext,g=_.window,h=_.hold,b=_.bits,v=_.lencode,S=_.distcode,x=(1<<_.lenbits)-1,y=(1<<_.distbits)-1;e:do{b<15&&(h+=N[n++]<<b,b+=8,h+=N[n++]<<b,b+=8),B=v[h&x];t:for(;;){if(j=B>>>24,h>>>=j,b-=j,j=B>>>16&255,j===0)H[i++]=B&65535;else if(j&16){O=B&65535,j&=15,j&&(b<j&&(h+=N[n++]<<b,b+=8),O+=h&(1<<j)-1,h>>>=j,b-=j),b<15&&(h+=N[n++]<<b,b+=8,h+=N[n++]<<b,b+=8),B=S[h&y];r:for(;;){if(j=B>>>24,h>>>=j,b-=j,j=B>>>16&255,j&16){if(k=B&65535,j&=15,b<j&&(h+=N[n++]<<b,b+=8,b<j&&(h+=N[n++]<<b,b+=8)),k+=h&(1<<j)-1,k>l){e.msg="invalid distance too far back",_.mode=Ch;break e}if(h>>>=j,b-=j,j=i-A,k>j){if(j=k-j,j>d&&_.sane){e.msg="invalid distance too far back",_.mode=Ch;break e}if(M=0,K=g,p===0){if(M+=c-j,j<O){O-=j;do H[i++]=g[M++];while(--j);M=i-k,K=H}}else if(p<j){if(M+=c+p-j,j-=p,j<O){O-=j;do H[i++]=g[M++];while(--j);if(M=0,p<O){j=p,O-=j;do H[i++]=g[M++];while(--j);M=i-k,K=H}}}else if(M+=p-j,j<O){O-=j;do H[i++]=g[M++];while(--j);M=i-k,K=H}for(;O>2;)H[i++]=K[M++],H[i++]=K[M++],H[i++]=K[M++],O-=3;O&&(H[i++]=K[M++],O>1&&(H[i++]=K[M++]))}else{M=i-k;do H[i++]=H[M++],H[i++]=H[M++],H[i++]=H[M++],O-=3;while(O>2);O&&(H[i++]=H[M++],O>1&&(H[i++]=H[M++]))}}else if(j&64){e.msg="invalid distance code",_.mode=Ch;break e}else{B=S[(B&65535)+(h&(1<<j)-1)];continue r}break}}else if(j&64)if(j&32){_.mode=hT;break e}else{e.msg="invalid literal/length code",_.mode=Ch;break e}else{B=v[(B&65535)+(h&(1<<j)-1)];continue t}break}}while(n<s&&i<o);O=b>>3,n-=O,b-=O<<3,h&=(1<<b)-1,e.next_in=n,e.next_out=i,e.avail_in=n<s?5+(s-n):5-(n-s),e.avail_out=i<o?257+(o-i):257-(i-o),_.hold=h,_.bits=b};const Il=15,yy=852,by=592,By=0,Hp=1,Cy=2,pT=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),gT=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),mT=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),xT=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),wT=(t,e,r,n,s,i,A,o)=>{const l=o.bits;let c=0,d=0,p=0,g=0,h=0,b=0,v=0,S=0,x=0,y=0,B,j,O,k,M,K=null,N;const H=new Uint16Array(Il+1),_=new Uint16Array(Il+1);let E=null,G,P,ee;for(c=0;c<=Il;c++)H[c]=0;for(d=0;d<n;d++)H[e[r+d]]++;for(h=l,g=Il;g>=1&&H[g]===0;g--);if(h>g&&(h=g),g===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,o.bits=1,0;for(p=1;p<g&&H[p]===0;p++);for(h<p&&(h=p),S=1,c=1;c<=Il;c++)if(S<<=1,S-=H[c],S<0)return-1;if(S>0&&(t===By||g!==1))return-1;for(_[1]=0,c=1;c<Il;c++)_[c+1]=_[c]+H[c];for(d=0;d<n;d++)e[r+d]!==0&&(A[_[e[r+d]]++]=d);if(t===By?(K=E=A,N=20):t===Hp?(K=pT,E=gT,N=257):(K=mT,E=xT,N=0),y=0,d=0,c=p,M=i,b=h,v=0,O=-1,x=1<<h,k=x-1,t===Hp&&x>yy||t===Cy&&x>by)return 1;for(;;){G=c-v,A[d]+1<N?(P=0,ee=A[d]):A[d]>=N?(P=E[A[d]-N],ee=K[A[d]-N]):(P=96,ee=0),B=1<<c-v,j=1<<b,p=j;do j-=B,s[M+(y>>v)+j]=G<<24|P<<16|ee|0;while(j!==0);for(B=1<<c-1;y&B;)B>>=1;if(B!==0?(y&=B-1,y+=B):y=0,d++,--H[c]===0){if(c===g)break;c=e[r+A[d]]}if(c>h&&(y&k)!==O){for(v===0&&(v=h),M+=p,b=c-v,S=1<<b;b+v<g&&(S-=H[b+v],!(S<=0));)b++,S<<=1;if(x+=1<<b,t===Hp&&x>yy||t===Cy&&x>by)return 1;O=y&k,s[O]=h<<24|b<<16|M-i|0}}return y!==0&&(s[M+y]=c-v<<24|64<<16|0),o.bits=h,0};var Eu=wT;const vT=0,x4=1,w4=2,{Z_FINISH:Ny,Z_BLOCK:yT,Z_TREES:Nh,Z_OK:Yo,Z_STREAM_END:bT,Z_NEED_DICT:BT,Z_STREAM_ERROR:Pi,Z_DATA_ERROR:v4,Z_MEM_ERROR:y4,Z_BUF_ERROR:CT,Z_DEFLATED:Sy}=p4,x0=16180,jy=16181,Fy=16182,Ey=16183,_y=16184,ky=16185,Uy=16186,Iy=16187,Qy=16188,Ty=16189,Df=16190,qa=16191,Mp=16192,Ly=16193,$p=16194,Oy=16195,Py=16196,Dy=16197,Ry=16198,Sh=16199,jh=16200,Hy=16201,My=16202,$y=16203,Ky=16204,Gy=16205,Kp=16206,Vy=16207,zy=16208,ln=16209,b4=16210,B4=16211,NT=852,ST=592,jT=15,FT=jT,qy=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function ET(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const el=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<x0||e.mode>B4?1:0},C4=t=>{if(el(t))return Pi;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=x0,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(NT),e.distcode=e.distdyn=new Int32Array(ST),e.sane=1,e.back=-1,Yo},N4=t=>{if(el(t))return Pi;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,C4(t)},S4=(t,e)=>{let r;if(el(t))return Pi;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Pi:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,N4(t))},j4=(t,e)=>{if(!t)return Pi;const r=new ET;t.state=r,r.strm=t,r.window=null,r.mode=x0;const n=S4(t,e);return n!==Yo&&(t.state=null),n},_T=t=>j4(t,FT);let Wy=!0,Gp,Vp;const kT=t=>{if(Wy){Gp=new Int32Array(512),Vp=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Eu(x4,t.lens,0,288,Gp,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Eu(w4,t.lens,0,32,Vp,0,t.work,{bits:5}),Wy=!1}t.lencode=Gp,t.lenbits=9,t.distcode=Vp,t.distbits=5},F4=(t,e,r,n)=>{let s;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(e.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>n&&(s=n),i.window.set(e.subarray(r-n,r-n+s),i.wnext),n-=s,n?(i.window.set(e.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},UT=(t,e)=>{let r,n,s,i,A,o,l,c,d,p,g,h,b,v,S=0,x,y,B,j,O,k,M,K;const N=new Uint8Array(4);let H,_;const E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(el(t)||!t.output||!t.input&&t.avail_in!==0)return Pi;r=t.state,r.mode===qa&&(r.mode=Mp),A=t.next_out,s=t.output,l=t.avail_out,i=t.next_in,n=t.input,o=t.avail_in,c=r.hold,d=r.bits,p=o,g=l,K=Yo;e:for(;;)switch(r.mode){case x0:if(r.wrap===0){r.mode=Mp;break}for(;d<16;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,N[0]=c&255,N[1]=c>>>8&255,r.check=Na(r.check,N,2,0),c=0,d=0,r.mode=jy;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=ln;break}if((c&15)!==Sy){t.msg="unknown compression method",r.mode=ln;break}if(c>>>=4,d-=4,M=(c&15)+8,r.wbits===0&&(r.wbits=M),M>15||M>r.wbits){t.msg="invalid window size",r.mode=ln;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=c&512?Ty:qa,c=0,d=0;break;case jy:for(;d<16;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if(r.flags=c,(r.flags&255)!==Sy){t.msg="unknown compression method",r.mode=ln;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=ln;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(N[0]=c&255,N[1]=c>>>8&255,r.check=Na(r.check,N,2,0)),c=0,d=0,r.mode=Fy;case Fy:for(;d<32;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(N[0]=c&255,N[1]=c>>>8&255,N[2]=c>>>16&255,N[3]=c>>>24&255,r.check=Na(r.check,N,4,0)),c=0,d=0,r.mode=Ey;case Ey:for(;d<16;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(N[0]=c&255,N[1]=c>>>8&255,r.check=Na(r.check,N,2,0)),c=0,d=0,r.mode=_y;case _y:if(r.flags&1024){for(;d<16;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(N[0]=c&255,N[1]=c>>>8&255,r.check=Na(r.check,N,2,0)),c=0,d=0}else r.head&&(r.head.extra=null);r.mode=ky;case ky:if(r.flags&1024&&(h=r.length,h>o&&(h=o),h&&(r.head&&(M=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+h),M)),r.flags&512&&r.wrap&4&&(r.check=Na(r.check,n,h,i)),o-=h,i+=h,r.length-=h),r.length))break e;r.length=0,r.mode=Uy;case Uy:if(r.flags&2048){if(o===0)break e;h=0;do M=n[i+h++],r.head&&M&&r.length<65536&&(r.head.name+=String.fromCharCode(M));while(M&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=Na(r.check,n,h,i)),o-=h,i+=h,M)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=Iy;case Iy:if(r.flags&4096){if(o===0)break e;h=0;do M=n[i+h++],r.head&&M&&r.length<65536&&(r.head.comment+=String.fromCharCode(M));while(M&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=Na(r.check,n,h,i)),o-=h,i+=h,M)break e}else r.head&&(r.head.comment=null);r.mode=Qy;case Qy:if(r.flags&512){for(;d<16;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if(r.wrap&4&&c!==(r.check&65535)){t.msg="header crc mismatch",r.mode=ln;break}c=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=qa;break;case Ty:for(;d<32;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}t.adler=r.check=qy(c),c=0,d=0,r.mode=Df;case Df:if(r.havedict===0)return t.next_out=A,t.avail_out=l,t.next_in=i,t.avail_in=o,r.hold=c,r.bits=d,BT;t.adler=r.check=1,r.mode=qa;case qa:if(e===yT||e===Nh)break e;case Mp:if(r.last){c>>>=d&7,d-=d&7,r.mode=Kp;break}for(;d<3;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}switch(r.last=c&1,c>>>=1,d-=1,c&3){case 0:r.mode=Ly;break;case 1:if(kT(r),r.mode=Sh,e===Nh){c>>>=2,d-=2;break e}break;case 2:r.mode=Py;break;case 3:t.msg="invalid block type",r.mode=ln}c>>>=2,d-=2;break;case Ly:for(c>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=ln;break}if(r.length=c&65535,c=0,d=0,r.mode=$p,e===Nh)break e;case $p:r.mode=Oy;case Oy:if(h=r.length,h){if(h>o&&(h=o),h>l&&(h=l),h===0)break e;s.set(n.subarray(i,i+h),A),o-=h,i+=h,l-=h,A+=h,r.length-=h;break}r.mode=qa;break;case Py:for(;d<14;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if(r.nlen=(c&31)+257,c>>>=5,d-=5,r.ndist=(c&31)+1,c>>>=5,d-=5,r.ncode=(c&15)+4,c>>>=4,d-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=ln;break}r.have=0,r.mode=Dy;case Dy:for(;r.have<r.ncode;){for(;d<3;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}r.lens[E[r.have++]]=c&7,c>>>=3,d-=3}for(;r.have<19;)r.lens[E[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,H={bits:r.lenbits},K=Eu(vT,r.lens,0,19,r.lencode,0,r.work,H),r.lenbits=H.bits,K){t.msg="invalid code lengths set",r.mode=ln;break}r.have=0,r.mode=Ry;case Ry:for(;r.have<r.nlen+r.ndist;){for(;S=r.lencode[c&(1<<r.lenbits)-1],x=S>>>24,y=S>>>16&255,B=S&65535,!(x<=d);){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if(B<16)c>>>=x,d-=x,r.lens[r.have++]=B;else{if(B===16){for(_=x+2;d<_;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if(c>>>=x,d-=x,r.have===0){t.msg="invalid bit length repeat",r.mode=ln;break}M=r.lens[r.have-1],h=3+(c&3),c>>>=2,d-=2}else if(B===17){for(_=x+3;d<_;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}c>>>=x,d-=x,M=0,h=3+(c&7),c>>>=3,d-=3}else{for(_=x+7;d<_;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}c>>>=x,d-=x,M=0,h=11+(c&127),c>>>=7,d-=7}if(r.have+h>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=ln;break}for(;h--;)r.lens[r.have++]=M}}if(r.mode===ln)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=ln;break}if(r.lenbits=9,H={bits:r.lenbits},K=Eu(x4,r.lens,0,r.nlen,r.lencode,0,r.work,H),r.lenbits=H.bits,K){t.msg="invalid literal/lengths set",r.mode=ln;break}if(r.distbits=6,r.distcode=r.distdyn,H={bits:r.distbits},K=Eu(w4,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,H),r.distbits=H.bits,K){t.msg="invalid distances set",r.mode=ln;break}if(r.mode=Sh,e===Nh)break e;case Sh:r.mode=jh;case jh:if(o>=6&&l>=258){t.next_out=A,t.avail_out=l,t.next_in=i,t.avail_in=o,r.hold=c,r.bits=d,fT(t,g),A=t.next_out,s=t.output,l=t.avail_out,i=t.next_in,n=t.input,o=t.avail_in,c=r.hold,d=r.bits,r.mode===qa&&(r.back=-1);break}for(r.back=0;S=r.lencode[c&(1<<r.lenbits)-1],x=S>>>24,y=S>>>16&255,B=S&65535,!(x<=d);){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if(y&&!(y&240)){for(j=x,O=y,k=B;S=r.lencode[k+((c&(1<<j+O)-1)>>j)],x=S>>>24,y=S>>>16&255,B=S&65535,!(j+x<=d);){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}c>>>=j,d-=j,r.back+=j}if(c>>>=x,d-=x,r.back+=x,r.length=B,y===0){r.mode=Gy;break}if(y&32){r.back=-1,r.mode=qa;break}if(y&64){t.msg="invalid literal/length code",r.mode=ln;break}r.extra=y&15,r.mode=Hy;case Hy:if(r.extra){for(_=r.extra;d<_;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=My;case My:for(;S=r.distcode[c&(1<<r.distbits)-1],x=S>>>24,y=S>>>16&255,B=S&65535,!(x<=d);){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if(!(y&240)){for(j=x,O=y,k=B;S=r.distcode[k+((c&(1<<j+O)-1)>>j)],x=S>>>24,y=S>>>16&255,B=S&65535,!(j+x<=d);){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}c>>>=j,d-=j,r.back+=j}if(c>>>=x,d-=x,r.back+=x,y&64){t.msg="invalid distance code",r.mode=ln;break}r.offset=B,r.extra=y&15,r.mode=$y;case $y:if(r.extra){for(_=r.extra;d<_;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=ln;break}r.mode=Ky;case Ky:if(l===0)break e;if(h=g-l,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=ln;break}h>r.wnext?(h-=r.wnext,b=r.wsize-h):b=r.wnext-h,h>r.length&&(h=r.length),v=r.window}else v=s,b=A-r.offset,h=r.length;h>l&&(h=l),l-=h,r.length-=h;do s[A++]=v[b++];while(--h);r.length===0&&(r.mode=jh);break;case Gy:if(l===0)break e;s[A++]=r.length,l--,r.mode=jh;break;case Kp:if(r.wrap){for(;d<32;){if(o===0)break e;o--,c|=n[i++]<<d,d+=8}if(g-=l,t.total_out+=g,r.total+=g,r.wrap&4&&g&&(t.adler=r.check=r.flags?Na(r.check,s,g,A-g):Om(r.check,s,g,A-g)),g=l,r.wrap&4&&(r.flags?c:qy(c))!==r.check){t.msg="incorrect data check",r.mode=ln;break}c=0,d=0}r.mode=Vy;case Vy:if(r.wrap&&r.flags){for(;d<32;){if(o===0)break e;o--,c+=n[i++]<<d,d+=8}if(r.wrap&4&&c!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=ln;break}c=0,d=0}r.mode=zy;case zy:K=bT;break e;case ln:K=v4;break e;case b4:return y4;case B4:default:return Pi}return t.next_out=A,t.avail_out=l,t.next_in=i,t.avail_in=o,r.hold=c,r.bits=d,(r.wsize||g!==t.avail_out&&r.mode<ln&&(r.mode<Kp||e!==Ny))&&F4(t,t.output,t.next_out,g-t.avail_out),p-=t.avail_in,g-=t.avail_out,t.total_in+=p,t.total_out+=g,r.total+=g,r.wrap&4&&g&&(t.adler=r.check=r.flags?Na(r.check,s,g,t.next_out-g):Om(r.check,s,g,t.next_out-g)),t.data_type=r.bits+(r.last?64:0)+(r.mode===qa?128:0)+(r.mode===Sh||r.mode===$p?256:0),(p===0&&g===0||e===Ny)&&K===Yo&&(K=CT),K},IT=t=>{if(el(t))return Pi;let e=t.state;return e.window&&(e.window=null),t.state=null,Yo},QT=(t,e)=>{if(el(t))return Pi;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,Yo):Pi},TT=(t,e)=>{const r=e.length;let n,s,i;return el(t)||(n=t.state,n.wrap!==0&&n.mode!==Df)?Pi:n.mode===Df&&(s=1,s=Om(s,e,r,0),s!==n.check)?v4:(i=F4(t,e,r,r),i?(n.mode=b4,y4):(n.havedict=1,Yo))};var LT=N4,OT=S4,PT=C4,DT=_T,RT=j4,HT=UT,MT=IT,$T=QT,KT=TT,GT="pako inflate (from Nodeca project)",Xa={inflateReset:LT,inflateReset2:OT,inflateResetKeep:PT,inflateInit:DT,inflateInit2:RT,inflate:HT,inflateEnd:MT,inflateGetHeader:$T,inflateSetDictionary:KT,inflateInfo:GT};function VT(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var zT=VT;const E4=Object.prototype.toString,{Z_NO_FLUSH:qT,Z_FINISH:WT,Z_OK:nd,Z_STREAM_END:zp,Z_NEED_DICT:qp,Z_STREAM_ERROR:JT,Z_DATA_ERROR:Jy,Z_MEM_ERROR:YT}=p4;function hd(t){this.options=g4.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new dT,this.strm.avail_out=0;let r=Xa.inflateInit2(this.strm,e.windowBits);if(r!==nd)throw new Error(Pm[r]);if(this.header=new zT,Xa.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Dm.string2buf(e.dictionary):E4.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Xa.inflateSetDictionary(this.strm,e.dictionary),r!==nd)))throw new Error(Pm[r])}hd.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let i,A,o;if(this.ended)return!1;for(e===~~e?A=e:A=e===!0?WT:qT,E4.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=Xa.inflate(r,A),i===qp&&s&&(i=Xa.inflateSetDictionary(r,s),i===nd?i=Xa.inflate(r,A):i===Jy&&(i=qp));r.avail_in>0&&i===zp&&r.state.wrap>0&&t[r.next_in]!==0;)Xa.inflateReset(r),i=Xa.inflate(r,A);switch(i){case JT:case Jy:case qp:case YT:return this.onEnd(i),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||i===zp))if(this.options.to==="string"){let l=Dm.utf8border(r.output,r.next_out),c=r.next_out-l,d=Dm.buf2string(r.output,l);r.next_out=c,r.avail_out=n-c,c&&r.output.set(r.output.subarray(l,l+c),0),this.onData(d)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===nd&&o===0)){if(i===zp)return i=Xa.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};hd.prototype.onData=function(t){this.chunks.push(t)};hd.prototype.onEnd=function(t){t===nd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g4.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function XT(t,e){const r=new hd(e);if(r.push(t),r.err)throw r.msg||Pm[r.err];return r.result}var ZT=hd,e6=XT,t6={Inflate:ZT,inflate:e6};const{Inflate:r6,inflate:n6}=t6;var Yy=r6,s6=n6;const _4=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;_4[t]=e}const Xy=4294967295;function i6(t,e,r){let n=t;for(let s=0;s<r;s++)n=_4[(n^e[s])&255]^n>>>8;return n}function a6(t,e){return(i6(Xy,t,e)^Xy)>>>0}function Zy(t,e,r){const n=t.readUint32(),s=a6(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(s!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${s}`)}function k4(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function U4(t,e,r,n){let s=0;for(;s<n;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-n]&255}function I4(t,e,r,n){let s=0;if(r.length===0)for(;s<n;s++)e[s]=t[s];else for(;s<n;s++)e[s]=t[s]+r[s]&255}function Q4(t,e,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+(e[i-s]>>1)&255}else{for(;i<s;i++)e[i]=t[i]+(r[i]>>1)&255;for(;i<n;i++)e[i]=t[i]+(e[i-s]+r[i]>>1)&255}}function T4(t,e,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-s]&255}else{for(;i<s;i++)e[i]=t[i]+r[i]&255;for(;i<n;i++)e[i]=t[i]+A6(e[i-s],r[i],r[i-s])&255}}function A6(t,e,r){const n=t+e-r,s=Math.abs(n-t),i=Math.abs(n-e),A=Math.abs(n-r);return s<=i&&s<=A?t:i<=A?e:r}function o6(t,e,r,n,s,i){switch(t){case 0:k4(e,r,s);break;case 1:U4(e,r,s,i);break;case 2:I4(e,r,n,s);break;case 3:Q4(e,r,n,s,i);break;case 4:T4(e,r,n,s,i);break;default:throw new Error(`Unsupported filter: ${t}`)}}const l6=new Uint16Array([255]),c6=new Uint8Array(l6.buffer),u6=c6[0]===255;function d6(t){const{data:e,width:r,height:n,channels:s,depth:i}=t,A=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(i/8)*s,l=new Uint8Array(n*r*o);let c=0;for(let d=0;d<7;d++){const p=A[d],g=Math.ceil((r-p.x)/p.xStep),h=Math.ceil((n-p.y)/p.yStep);if(g<=0||h<=0)continue;const b=g*o,v=new Uint8Array(b);for(let S=0;S<h;S++){const x=e[c++],y=e.subarray(c,c+b);c+=b;const B=new Uint8Array(b);o6(x,y,B,v,b,o),v.set(B);for(let j=0;j<g;j++){const O=p.x+j*p.xStep,k=p.y+S*p.yStep;if(!(O>=r||k>=n))for(let M=0;M<o;M++)l[(k*r+O)*o+M]=B[j*o+M]}}}if(i===16){const d=new Uint16Array(l.buffer);if(u6)for(let p=0;p<d.length;p++)d[p]=h6(d[p]);return d}else return l}function h6(t){return(t&255)<<8|t>>8&255}const f6=new Uint16Array([255]),p6=new Uint8Array(f6.buffer),g6=p6[0]===255,m6=new Uint8Array(0);function e2(t){const{data:e,width:r,height:n,channels:s,depth:i}=t,A=Math.ceil(i/8)*s,o=Math.ceil(i/8*s*r),l=new Uint8Array(n*o);let c=m6,d=0,p,g;for(let h=0;h<n;h++){switch(p=e.subarray(d+1,d+1+o),g=l.subarray(h*o,(h+1)*o),e[d]){case 0:k4(p,g,o);break;case 1:U4(p,g,o,A);break;case 2:I4(p,g,c,o);break;case 3:Q4(p,g,c,o,A);break;case 4:T4(p,g,c,o,A);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}c=g,d+=o+1}if(i===16){const h=new Uint16Array(l.buffer);if(g6)for(let b=0;b<h.length;b++)h[b]=x6(h[b]);return h}else return l}function x6(t){return(t&255)<<8|t>>8&255}const qh=Uint8Array.of(137,80,78,71,13,10,26,10);function t2(t){if(!w6(t.readBytes(qh.length)))throw new Error("wrong PNG signature")}function w6(t){if(t.length<qh.length)return!1;for(let e=0;e<qh.length;e++)if(t[e]!==qh[e])return!1;return!0}const v6="tEXt",y6=0,L4=new TextDecoder("latin1");function b6(t){if(C6(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const B6=/^[\u0000-\u00FF]*$/;function C6(t){if(!B6.test(t))throw new Error("invalid latin1 text")}function N6(t,e,r){const n=O4(e);t[n]=S6(e,r-n.length-1)}function O4(t){for(t.mark();t.readByte()!==y6;);const e=t.offset;t.reset();const r=L4.decode(t.readBytes(e-t.offset-1));return t.skip(1),b6(r),r}function S6(t,e){return L4.decode(t.readBytes(e))}const ti={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Wp={UNKNOWN:-1,DEFLATE:0},r2={UNKNOWN:-1,ADAPTIVE:0},Jp={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Fh={NONE:0,BACKGROUND:1,PREVIOUS:2},Yp={SOURCE:0,OVER:1};class j6 extends e1{constructor(r,n={}){super(r);Rr(this,"_checkCrc");Rr(this,"_inflator");Rr(this,"_png");Rr(this,"_apng");Rr(this,"_end");Rr(this,"_hasPalette");Rr(this,"_palette");Rr(this,"_hasTransparency");Rr(this,"_transparency");Rr(this,"_compressionMethod");Rr(this,"_filterMethod");Rr(this,"_interlaceMethod");Rr(this,"_colorType");Rr(this,"_isAnimated");Rr(this,"_numberOfFrames");Rr(this,"_numberOfPlays");Rr(this,"_frames");Rr(this,"_writingDataChunks");const{checkCrc:s=!1}=n;this._checkCrc=s,this._inflator=new Yy,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Wp.UNKNOWN,this._filterMethod=r2.UNKNOWN,this._interlaceMethod=Jp.UNKNOWN,this._colorType=ti.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(t2(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(t2(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const s=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case v6:N6(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Zy(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const s=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=s+r;break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Zy(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=F6(this.readUint8());const n=this.readUint8();this._colorType=n;let s;switch(n){case ti.GREYSCALE:s=1;break;case ti.TRUECOLOUR:s=3;break;case ti.INDEXED_COLOUR:s=1;break;case ti.GREYSCALE_ALPHA:s=2;break;case ti.TRUECOLOUR_ALPHA:s=4;break;case ti.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==Wp.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<n;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,s=this.offset+this.byteOffset;if(s+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case ti.GREYSCALE:case ti.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case ti.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const s=this.readByte();this._palette[n].push(s)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case ti.UNKNOWN:case ti.GREYSCALE_ALPHA:case ti.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=O4(this),s=this.readUint8();if(s!==Wp.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:s6(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),s=this.readByte();this._png.resolution={x:r,y:n,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(r);if(s){if(s.data=e2({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)n.data=s.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(s,i,n),this.addFrameDataToCanvas(n,s)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,s){switch(r.disposeOp){case Fh.NONE:break;case Fh.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let A=0;A<this._png.width;A++){const o=(i*r.width+A)*this._png.channels;for(let l=0;l<this._png.channels;l++)s.data[o+l]=0}break;case Fh.PREVIOUS:s.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const s=1<<this._png.depth,i=(A,o)=>{const l=((A+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,c=(A*n.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(n.blendOp){case Yp.SOURCE:for(let A=0;A<n.height;A++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=i(A,o);for(let d=0;d<this._png.channels;d++)r.data[l+d]=n.data[c+d]}break;case Yp.OVER:for(let A=0;A<n.height;A++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=i(A,o);for(let d=0;d<this._png.channels;d++){const p=n.data[c+this._png.channels-1]/s,g=d%(this._png.channels-1)===0?1:n.data[c+d],h=Math.floor(p*g+(1-p)*r.data[l+d]);r.data[l+d]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==r2.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Jp.NO_INTERLACE)this._png.data=e2({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Jp.ADAM7)this._png.data=d6({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Fh.NONE,blendOp:Yp.SOURCE,data:r}),this._inflator=new Yy,this._writingDataChunks=!1}}function F6(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var n2;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(n2||(n2={}));function E6(t,e){return new j6(t,e).decode()}var ur=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Xp(){ur.console&&typeof ur.console.log=="function"&&ur.console.log.apply(ur.console,arguments)}var zr={log:Xp,warn:function(t){ur.console&&(typeof ur.console.warn=="function"?ur.console.warn.apply(ur.console,arguments):Xp.call(null,arguments))},error:function(t){ur.console&&(typeof ur.console.error=="function"?ur.console.error.apply(ur.console,arguments):Xp(t))}};function Zp(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){_o(n.response,e,r)},n.onerror=function(){zr.error("could not download file")},n.send()}function s2(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Eh(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var _o=ur.saveAs||((typeof window>"u"?"undefined":Hr(window))!=="object"||window!==ur?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=ur.URL||ur.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?s2(s.href)?Zp(t,e,r):Eh(s,s.target="_blank"):Eh(s)):(s.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){Eh(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(s2(t))Zp(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Eh(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:Hr(i)!=="object"&&(zr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Zp(t,e,r);var s=t.type==="application/octet-stream",i=/constructor/i.test(ur.HTMLElement)||ur.safari,A=/CriOS\/[\d]+/.test(navigator.userAgent);if((A||s&&i)&&(typeof FileReader>"u"?"undefined":Hr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=A?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},o.readAsDataURL(t)}else{var l=ur.URL||ur.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function P4(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,A=s.exec(t);A&&(e=i(A),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var Wh=ur.atob.bind(ur),i2=ur.btoa.bind(ur);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function eg(t,e){var r=t[0],n=t[1],s=t[2],i=t[3];r=ms(r,n,s,i,e[0],7,-680876936),i=ms(i,r,n,s,e[1],12,-389564586),s=ms(s,i,r,n,e[2],17,606105819),n=ms(n,s,i,r,e[3],22,-1044525330),r=ms(r,n,s,i,e[4],7,-176418897),i=ms(i,r,n,s,e[5],12,1200080426),s=ms(s,i,r,n,e[6],17,-1473231341),n=ms(n,s,i,r,e[7],22,-45705983),r=ms(r,n,s,i,e[8],7,1770035416),i=ms(i,r,n,s,e[9],12,-1958414417),s=ms(s,i,r,n,e[10],17,-42063),n=ms(n,s,i,r,e[11],22,-1990404162),r=ms(r,n,s,i,e[12],7,1804603682),i=ms(i,r,n,s,e[13],12,-40341101),s=ms(s,i,r,n,e[14],17,-1502002290),r=xs(r,n=ms(n,s,i,r,e[15],22,1236535329),s,i,e[1],5,-165796510),i=xs(i,r,n,s,e[6],9,-1069501632),s=xs(s,i,r,n,e[11],14,643717713),n=xs(n,s,i,r,e[0],20,-373897302),r=xs(r,n,s,i,e[5],5,-701558691),i=xs(i,r,n,s,e[10],9,38016083),s=xs(s,i,r,n,e[15],14,-660478335),n=xs(n,s,i,r,e[4],20,-405537848),r=xs(r,n,s,i,e[9],5,568446438),i=xs(i,r,n,s,e[14],9,-1019803690),s=xs(s,i,r,n,e[3],14,-187363961),n=xs(n,s,i,r,e[8],20,1163531501),r=xs(r,n,s,i,e[13],5,-1444681467),i=xs(i,r,n,s,e[2],9,-51403784),s=xs(s,i,r,n,e[7],14,1735328473),r=ws(r,n=xs(n,s,i,r,e[12],20,-1926607734),s,i,e[5],4,-378558),i=ws(i,r,n,s,e[8],11,-2022574463),s=ws(s,i,r,n,e[11],16,1839030562),n=ws(n,s,i,r,e[14],23,-35309556),r=ws(r,n,s,i,e[1],4,-1530992060),i=ws(i,r,n,s,e[4],11,1272893353),s=ws(s,i,r,n,e[7],16,-155497632),n=ws(n,s,i,r,e[10],23,-1094730640),r=ws(r,n,s,i,e[13],4,681279174),i=ws(i,r,n,s,e[0],11,-358537222),s=ws(s,i,r,n,e[3],16,-722521979),n=ws(n,s,i,r,e[6],23,76029189),r=ws(r,n,s,i,e[9],4,-640364487),i=ws(i,r,n,s,e[12],11,-421815835),s=ws(s,i,r,n,e[15],16,530742520),r=vs(r,n=ws(n,s,i,r,e[2],23,-995338651),s,i,e[0],6,-198630844),i=vs(i,r,n,s,e[7],10,1126891415),s=vs(s,i,r,n,e[14],15,-1416354905),n=vs(n,s,i,r,e[5],21,-57434055),r=vs(r,n,s,i,e[12],6,1700485571),i=vs(i,r,n,s,e[3],10,-1894986606),s=vs(s,i,r,n,e[10],15,-1051523),n=vs(n,s,i,r,e[1],21,-2054922799),r=vs(r,n,s,i,e[8],6,1873313359),i=vs(i,r,n,s,e[15],10,-30611744),s=vs(s,i,r,n,e[6],15,-1560198380),n=vs(n,s,i,r,e[13],21,1309151649),r=vs(r,n,s,i,e[4],6,-145523070),i=vs(i,r,n,s,e[11],10,-1120210379),s=vs(s,i,r,n,e[2],15,718787259),n=vs(n,s,i,r,e[9],21,-343485551),t[0]=zA(r,t[0]),t[1]=zA(n,t[1]),t[2]=zA(s,t[2]),t[3]=zA(i,t[3])}function w0(t,e,r,n,s,i){return e=zA(zA(e,t),zA(n,i)),zA(e<<s|e>>>32-s,r)}function ms(t,e,r,n,s,i,A){return w0(e&r|~e&n,t,e,s,i,A)}function xs(t,e,r,n,s,i,A){return w0(e&n|r&~n,t,e,s,i,A)}function ws(t,e,r,n,s,i,A){return w0(e^r^n,t,e,s,i,A)}function vs(t,e,r,n,s,i,A){return w0(r^(e|~n),t,e,s,i,A)}function D4(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)eg(n,_6(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(eg(n,s),e=0;e<16;e++)s[e]=0;return s[14]=8*r,eg(n,s),n}function _6(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var a2="0123456789abcdef".split("");function k6(t){for(var e="",r=0;r<4;r++)e+=a2[t>>8*r+4&15]+a2[t>>8*r&15];return e}function U6(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Rm(t){return D4(t).map(U6).join("")}var I6=function(t){for(var e=0;e<t.length;e++)t[e]=k6(t[e]);return t.join("")}(D4("hello"))!="5d41402abc4b2a76b9719d911017c592";function zA(t,e){if(I6){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Hm(t,e){var r,n,s,i;if(t!==r){for(var A=(s=t,i=1+(256/t.length|0),new Array(i+1).join(s)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var d=o[l];c=(c+d+A.charCodeAt(l))%256,o[l]=o[c],o[c]=d}r=t,n=o}else o=n;var p=e.length,g=0,h=0,b="";for(l=0;l<p;l++)h=(h+(d=o[g=(g+1)%256]))%256,o[g]=o[h],o[h]=d,A=o[(o[g]+o[h])%256],b+=String.fromCharCode(e.charCodeAt(l)^A);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var A2={print:4,modify:8,copy:16,"annot-forms":32};function Hl(t,e,r,n){this.v=1,this.r=2;var s=192;t.forEach(function(o){if(A2.perm!==void 0)throw new Error("Invalid permission: "+o);s+=A2[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),A=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,A),this.P=-(1+(255^s)),this.encryptionKey=Rm(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Hm(this.encryptionKey,this.padding)}function Ml(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var s=t.charCodeAt(n);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):t[n]}return e}function o2(t){if(Hr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[r]){var A=e[r][i];try{A[0].apply(t,n)}catch(o){ur.console&&zr.error("jsPDF PubSub Error",o.message,o)}A[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Rf(t){if(!(this instanceof Rf))return new Rf(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function R4(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Qo(t,e,r,n,s){if(!(this instanceof Qo))return new Qo(t,e,r,n,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,R4.call(this,n,s)}function nc(t,e,r,n,s){if(!(this instanceof nc))return new nc(t,e,r,n,s);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,R4.call(this,n,s)}function Xt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],A=[],o=1,l=16,c="S",d=null;Hr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,s=t.format||s,i=t.compress||t.compressPdf||i,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),A=t.filters||(i===!0?["FlateEncode"]:A),n=n||"mm",r=(""+(r||"P")).toLowerCase();var p=t.putOnlyUsedFonts||!1,g={},h={internal:{},__private__:{}};h.__private__.PubSub=o2;var b="1.3",v=h.__private__.getPdfVersion=function(){return b};h.__private__.setPdfVersion=function(m){b=m};var S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return S};var x=h.__private__.getPageFormat=function(m){return S[m]};s=s||"a4";var y="compat",B="advanced",j=y;function O(){this.saveGraphicsState(),F(new Me(we,0,0,-we,0,da()*we).toString()+" cm"),this.setFontSize(this.getFontSize()/we),c="n",j=B}function k(){this.restoreGraphicsState(),c="S",j=y}var M=h.__private__.combineFontStyleAndFontWeight=function(m,Q){if(m=="bold"&&Q=="normal"||m=="bold"&&Q==400||m=="normal"&&Q=="italic"||m=="bold"&&Q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Q&&(m=Q==400||Q==="normal"?m==="italic"?"italic":"normal":Q!=700&&Q!=="bold"||m!=="normal"?(Q==700?"bold":Q)+""+m:"bold"),m};h.advancedAPI=function(m){var Q=j===y;return Q&&O.call(this),typeof m!="function"||(m(this),Q&&k.call(this)),this},h.compatAPI=function(m){var Q=j===B;return Q&&k.call(this),typeof m!="function"||(m(this),Q&&O.call(this)),this},h.isAdvancedAPI=function(){return j===B};var K,N=function(m){if(j!==B)throw new Error(m+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},H=h.roundToPrecision=h.__private__.roundToPrecision=function(m,Q){var ae=e||Q;if(isNaN(m)||isNaN(ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return m.toFixed(ae).replace(/0+$/,"")};K=h.hpf=h.__private__.hpf=typeof l=="number"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return H(m,l)}:l==="smart"?function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return H(m,m>-1&&m<1?16:5)}:function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.hpf");return H(m,16)};var _=h.f2=h.__private__.f2=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f2");return H(m,2)},E=h.__private__.f3=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.f3");return H(m,3)},G=h.scale=h.__private__.scale=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.scale");return j===y?m*we:j===B?m:void 0},P=function(m){return G(function(Q){return j===y?da()-Q:j===B?Q:void 0}(m))};h.__private__.setPrecision=h.setPrecision=function(m){typeof parseInt(m,10)=="number"&&(e=parseInt(m,10))};var ee,ce="00000000000000000000000000000000",he=h.__private__.getFileId=function(){return ce},ie=h.__private__.setFileId=function(m){return ce=m!==void 0&&/^[a-fA-F0-9]{32}$/.test(m)?m.toUpperCase():ce.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(un=new Hl(d.userPermissions,d.userPassword,d.ownerPassword,ce)),ce};h.setFileId=function(m){return ie(m),this},h.getFileId=function(){return he()};var de=h.__private__.convertDateToPDFDate=function(m){var Q=m.getTimezoneOffset(),ae=Q<0?"+":"-",me=Math.floor(Math.abs(Q/60)),Ie=Math.abs(Q%60),rt=[ae,te(me),"'",te(Ie),"'"].join("");return["D:",m.getFullYear(),te(m.getMonth()+1),te(m.getDate()),te(m.getHours()),te(m.getMinutes()),te(m.getSeconds()),rt].join("")},fe=h.__private__.convertPDFDateToDate=function(m){var Q=parseInt(m.substr(2,4),10),ae=parseInt(m.substr(6,2),10)-1,me=parseInt(m.substr(8,2),10),Ie=parseInt(m.substr(10,2),10),rt=parseInt(m.substr(12,2),10),lt=parseInt(m.substr(14,2),10);return new Date(Q,ae,me,Ie,rt,lt,0)},ve=h.__private__.setCreationDate=function(m){var Q;if(m===void 0&&(m=new Date),m instanceof Date)Q=de(m);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(m))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Q=m}return ee=Q},I=h.__private__.getCreationDate=function(m){var Q=ee;return m==="jsDate"&&(Q=fe(ee)),Q};h.setCreationDate=function(m){return ve(m),this},h.getCreationDate=function(m){return I(m)};var R,te=h.__private__.padd2=function(m){return("0"+parseInt(m)).slice(-2)},Y=h.__private__.padd2Hex=function(m){return("00"+(m=m.toString())).substr(m.length)},le=0,pe=[],Fe=[],be=0,Oe=[],Ye=[],ht=!1,ue=Fe;h.__private__.setCustomOutputDestination=function(m){ht=!0,ue=m};var qe=function(m){ht||(ue=m)};h.__private__.resetCustomOutputDestination=function(){ht=!1,ue=Fe};var F=h.__private__.out=function(m){return m=m.toString(),be+=m.length+1,ue.push(m),ue},se=h.__private__.write=function(m){return F(arguments.length===1?m.toString():Array.prototype.join.call(arguments," "))},Ke=h.__private__.getArrayBuffer=function(m){for(var Q=m.length,ae=new ArrayBuffer(Q),me=new Uint8Array(ae);Q--;)me[Q]=m.charCodeAt(Q);return ae},J=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return J};var ne=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(m){return ne=j===B?m/we:m,this};var Ne,W=h.__private__.getFontSize=h.getFontSize=function(){return j===y?ne:ne*we},He=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(m){return He=m,this},h.__private__.getR2L=h.getR2L=function(){return He};var Ve,$e=h.__private__.setZoomMode=function(m){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(m))Ne=m;else if(isNaN(m)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(m)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+m+'" is not recognized.');Ne=m}else Ne=parseInt(m,10)};h.__private__.getZoomMode=function(){return Ne};var Je,ct=h.__private__.setPageMode=function(m){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(m)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+m+'" is not recognized.');Ve=m};h.__private__.getPageMode=function(){return Ve};var Be=h.__private__.setLayoutMode=function(m){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(m)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+m+'" is not recognized.');Je=m};h.__private__.getLayoutMode=function(){return Je},h.__private__.setDisplayMode=h.setDisplayMode=function(m,Q,ae){return $e(m),Be(Q),ct(ae),this};var Ce={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(m){if(Object.keys(Ce).indexOf(m)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ce[m]},h.__private__.getDocumentProperties=function(){return Ce},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(m){for(var Q in Ce)Ce.hasOwnProperty(Q)&&m[Q]&&(Ce[Q]=m[Q]);return this},h.__private__.setDocumentProperty=function(m,Q){if(Object.keys(Ce).indexOf(m)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ce[m]=Q};var Z,we,_e,Xe,Ge,ge={},Qe={},ft=[],at={},vt={},pt={},xt={},Bt=null,Kt=0,Et=[],At=new o2(h),Br=t.hotfixes||[],L={},Ue={},st=[],Me=function m(Q,ae,me,Ie,rt,lt){if(!(this instanceof m))return new m(Q,ae,me,Ie,rt,lt);isNaN(Q)&&(Q=1),isNaN(ae)&&(ae=0),isNaN(me)&&(me=0),isNaN(Ie)&&(Ie=1),isNaN(rt)&&(rt=0),isNaN(lt)&&(lt=0),this._matrix=[Q,ae,me,Ie,rt,lt]};Object.defineProperty(Me.prototype,"sx",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(Me.prototype,"shy",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(Me.prototype,"shx",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(Me.prototype,"sy",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(Me.prototype,"tx",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(Me.prototype,"ty",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(Me.prototype,"a",{get:function(){return this._matrix[0]},set:function(m){this._matrix[0]=m}}),Object.defineProperty(Me.prototype,"b",{get:function(){return this._matrix[1]},set:function(m){this._matrix[1]=m}}),Object.defineProperty(Me.prototype,"c",{get:function(){return this._matrix[2]},set:function(m){this._matrix[2]=m}}),Object.defineProperty(Me.prototype,"d",{get:function(){return this._matrix[3]},set:function(m){this._matrix[3]=m}}),Object.defineProperty(Me.prototype,"e",{get:function(){return this._matrix[4]},set:function(m){this._matrix[4]=m}}),Object.defineProperty(Me.prototype,"f",{get:function(){return this._matrix[5]},set:function(m){this._matrix[5]=m}}),Object.defineProperty(Me.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Me.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Me.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Me.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Me.prototype.join=function(m){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(K).join(m)},Me.prototype.multiply=function(m){var Q=m.sx*this.sx+m.shy*this.shx,ae=m.sx*this.shy+m.shy*this.sy,me=m.shx*this.sx+m.sy*this.shx,Ie=m.shx*this.shy+m.sy*this.sy,rt=m.tx*this.sx+m.ty*this.shx+this.tx,lt=m.tx*this.shy+m.ty*this.sy+this.ty;return new Me(Q,ae,me,Ie,rt,lt)},Me.prototype.decompose=function(){var m=this.sx,Q=this.shy,ae=this.shx,me=this.sy,Ie=this.tx,rt=this.ty,lt=Math.sqrt(m*m+Q*Q),Lt=(m/=lt)*ae+(Q/=lt)*me;ae-=m*Lt,me-=Q*Lt;var Ht=Math.sqrt(ae*ae+me*me);return Lt/=Ht,m*(me/=Ht)<Q*(ae/=Ht)&&(m=-m,Q=-Q,Lt=-Lt,lt=-lt),{scale:new Me(lt,0,0,Ht,0,0),translate:new Me(1,0,0,1,Ie,rt),rotate:new Me(m,Q,-Q,m,0,0),skew:new Me(1,0,Lt,1,0,0)}},Me.prototype.toString=function(m){return this.join(" ")},Me.prototype.inversed=function(){var m=this.sx,Q=this.shy,ae=this.shx,me=this.sy,Ie=this.tx,rt=this.ty,lt=1/(m*me-Q*ae),Lt=me*lt,Ht=-Q*lt,Ar=-ae*lt,hr=m*lt;return new Me(Lt,Ht,Ar,hr,-Lt*Ie-Ar*rt,-Ht*Ie-hr*rt)},Me.prototype.applyToPoint=function(m){var Q=m.x*this.sx+m.y*this.shx+this.tx,ae=m.x*this.shy+m.y*this.sy+this.ty;return new vi(Q,ae)},Me.prototype.applyToRectangle=function(m){var Q=this.applyToPoint(m),ae=this.applyToPoint(new vi(m.x+m.w,m.y+m.h));return new vA(Q.x,Q.y,ae.x-Q.x,ae.y-Q.y)},Me.prototype.clone=function(){var m=this.sx,Q=this.shy,ae=this.shx,me=this.sy,Ie=this.tx,rt=this.ty;return new Me(m,Q,ae,me,Ie,rt)},h.Matrix=Me;var Rt=h.matrixMult=function(m,Q){return Q.multiply(m)},fr=new Me(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=fr;var _t=function(m,Q){if(!vt[m]){var ae=(Q instanceof Qo?"Sh":"P")+(Object.keys(at).length+1).toString(10);Q.id=ae,vt[m]=ae,at[ae]=Q,At.publish("addPattern",Q)}};h.ShadingPattern=Qo,h.TilingPattern=nc,h.addShadingPattern=function(m,Q){return N("addShadingPattern()"),_t(m,Q),this},h.beginTilingPattern=function(m){N("beginTilingPattern()"),yA(m.boundingBox[0],m.boundingBox[1],m.boundingBox[2]-m.boundingBox[0],m.boundingBox[3]-m.boundingBox[1],m.matrix)},h.endTilingPattern=function(m,Q){N("endTilingPattern()"),Q.stream=Ye[R].join(`
`),_t(m,Q),At.publish("endTilingPattern",Q),st.pop().restore()};var xr,ar=h.__private__.newObject=function(){var m=yt();return or(m,!0),m},yt=h.__private__.newObjectDeferred=function(){return le++,pe[le]=function(){return be},le},or=function(m,Q){return Q=typeof Q=="boolean"&&Q,pe[m]=be,Q&&F(m+" 0 obj"),m},$r=h.__private__.newAdditionalObject=function(){var m={objId:yt(),content:""};return Oe.push(m),m},an=yt(),qr=yt(),xn=h.__private__.decodeColorString=function(m){var Q=m.split(" ");if(Q.length!==2||Q[1]!=="g"&&Q[1]!=="G")Q.length!==5||Q[4]!=="k"&&Q[4]!=="K"||(Q=[(1-Q[0])*(1-Q[3]),(1-Q[1])*(1-Q[3]),(1-Q[2])*(1-Q[3]),"r"]);else{var ae=parseFloat(Q[0]);Q=[ae,ae,ae,"r"]}for(var me="#",Ie=0;Ie<3;Ie++)me+=("0"+Math.floor(255*parseFloat(Q[Ie])).toString(16)).slice(-2);return me},mt=h.__private__.encodeColorString=function(m){var Q;typeof m=="string"&&(m={ch1:m});var ae=m.ch1,me=m.ch2,Ie=m.ch3,rt=m.ch4,lt=m.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ae=="string"&&ae.charAt(0)!=="#"){var Lt=new P4(ae);if(Lt.ok)ae=Lt.toHex();else if(!/^\d*\.?\d*$/.test(ae))throw new Error('Invalid color "'+ae+'" passed to jsPDF.encodeColorString.')}if(typeof ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ae)&&(ae="#"+ae[1]+ae[1]+ae[2]+ae[2]+ae[3]+ae[3]),typeof ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ae)){var Ht=parseInt(ae.substr(1),16);ae=Ht>>16&255,me=Ht>>8&255,Ie=255&Ht}if(me===void 0||rt===void 0&&ae===me&&me===Ie)Q=typeof ae=="string"?ae+" "+lt[0]:m.precision===2?_(ae/255)+" "+lt[0]:E(ae/255)+" "+lt[0];else if(rt===void 0||Hr(rt)==="object"){if(rt&&!isNaN(rt.a)&&rt.a===0)return["1.","1.","1.",lt[1]].join(" ");Q=typeof ae=="string"?[ae,me,Ie,lt[1]].join(" "):m.precision===2?[_(ae/255),_(me/255),_(Ie/255),lt[1]].join(" "):[E(ae/255),E(me/255),E(Ie/255),lt[1]].join(" ")}else Q=typeof ae=="string"?[ae,me,Ie,rt,lt[2]].join(" "):m.precision===2?[_(ae),_(me),_(Ie),_(rt),lt[2]].join(" "):[E(ae),E(me),E(Ie),E(rt),lt[2]].join(" ");return Q},On=h.__private__.getFilters=function(){return A},ds=h.__private__.putStream=function(m){var Q=(m=m||{}).data||"",ae=m.filters||On(),me=m.alreadyAppliedFilters||[],Ie=m.addLength1||!1,rt=Q.length,lt=m.objectId,Lt=function(vn){return vn};if(d!==null&&lt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Lt=un.encryptor(lt,0));var Ht={};ae===!0&&(ae=["FlateEncode"]);var Ar=m.additionalKeyValues||[],hr=(Ht=Xt.API.processDataByFilters!==void 0?Xt.API.processDataByFilters(Q,ae):{data:Q,reverseChain:[]}).reverseChain+(Array.isArray(me)?me.join(" "):me.toString());if(Ht.data.length!==0&&(Ar.push({key:"Length",value:Ht.data.length}),Ie===!0&&Ar.push({key:"Length1",value:rt})),hr.length!=0)if(hr.split("/").length-1==1)Ar.push({key:"Filter",value:hr});else{Ar.push({key:"Filter",value:"["+hr+"]"});for(var Nr=0;Nr<Ar.length;Nr+=1)if(Ar[Nr].key==="DecodeParms"){for(var Wr=[],dn=0;dn<Ht.reverseChain.split("/").length-1;dn+=1)Wr.push("null");Wr.push(Ar[Nr].value),Ar[Nr].value="["+Wr.join(" ")+"]"}}F("<<");for(var Lr=0;Lr<Ar.length;Lr++)F("/"+Ar[Lr].key+" "+Ar[Lr].value);F(">>"),Ht.data.length!==0&&(F("stream"),F(Lt(Ht.data)),F("endstream"))},hi=h.__private__.putPage=function(m){var Q=m.number,ae=m.data,me=m.objId,Ie=m.contentsObjId;or(me,!0),F("<</Type /Page"),F("/Parent "+m.rootDictionaryObjId+" 0 R"),F("/Resources "+m.resourceDictionaryObjId+" 0 R"),F("/MediaBox ["+parseFloat(K(m.mediaBox.bottomLeftX))+" "+parseFloat(K(m.mediaBox.bottomLeftY))+" "+K(m.mediaBox.topRightX)+" "+K(m.mediaBox.topRightY)+"]"),m.cropBox!==null&&F("/CropBox ["+K(m.cropBox.bottomLeftX)+" "+K(m.cropBox.bottomLeftY)+" "+K(m.cropBox.topRightX)+" "+K(m.cropBox.topRightY)+"]"),m.bleedBox!==null&&F("/BleedBox ["+K(m.bleedBox.bottomLeftX)+" "+K(m.bleedBox.bottomLeftY)+" "+K(m.bleedBox.topRightX)+" "+K(m.bleedBox.topRightY)+"]"),m.trimBox!==null&&F("/TrimBox ["+K(m.trimBox.bottomLeftX)+" "+K(m.trimBox.bottomLeftY)+" "+K(m.trimBox.topRightX)+" "+K(m.trimBox.topRightY)+"]"),m.artBox!==null&&F("/ArtBox ["+K(m.artBox.bottomLeftX)+" "+K(m.artBox.bottomLeftY)+" "+K(m.artBox.topRightX)+" "+K(m.artBox.topRightY)+"]"),typeof m.userUnit=="number"&&m.userUnit!==1&&F("/UserUnit "+m.userUnit),At.publish("putPage",{objId:me,pageContext:Et[Q],pageNumber:Q,page:ae}),F("/Contents "+Ie+" 0 R"),F(">>"),F("endobj");var rt=ae.join(`
`);return j===B&&(rt+=`
Q`),or(Ie,!0),ds({data:rt,filters:On(),objectId:Ie}),F("endobj"),me},Qr=h.__private__.putPages=function(){var m,Q,ae=[];for(m=1;m<=Kt;m++)Et[m].objId=yt(),Et[m].contentsObjId=yt();for(m=1;m<=Kt;m++)ae.push(hi({number:m,data:Ye[m],objId:Et[m].objId,contentsObjId:Et[m].contentsObjId,mediaBox:Et[m].mediaBox,cropBox:Et[m].cropBox,bleedBox:Et[m].bleedBox,trimBox:Et[m].trimBox,artBox:Et[m].artBox,userUnit:Et[m].userUnit,rootDictionaryObjId:an,resourceDictionaryObjId:qr}));or(an,!0),F("<</Type /Pages");var me="/Kids [";for(Q=0;Q<Kt;Q++)me+=ae[Q]+" 0 R ";F(me+"]"),F("/Count "+Kt),F(">>"),F("endobj"),At.publish("postPutPages")},Ta=function(m){At.publish("putFont",{font:m,out:F,newObject:ar,putStream:ds}),m.isAlreadyPutted!==!0&&(m.objectNumber=ar(),F("<<"),F("/Type /Font"),F("/BaseFont /"+Ml(m.postScriptName)),F("/Subtype /Type1"),typeof m.encoding=="string"&&F("/Encoding /"+m.encoding),F("/FirstChar 32"),F("/LastChar 255"),F(">>"),F("endobj"))},cA=function(m){m.objectNumber=ar();var Q=[];Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Form"}),Q.push({key:"BBox",value:"["+[K(m.x),K(m.y),K(m.x+m.width),K(m.y+m.height)].join(" ")+"]"}),Q.push({key:"Matrix",value:"["+m.matrix.toString()+"]"});var ae=m.pages[1].join(`
`);ds({data:ae,additionalKeyValues:Q,objectId:m.objectNumber}),F("endobj")},fi=function(m,Q){Q||(Q=21);var ae=ar(),me=function(lt,Lt){var Ht,Ar=[],hr=1/(Lt-1);for(Ht=0;Ht<1;Ht+=hr)Ar.push(Ht);if(Ar.push(1),lt[0].offset!=0){var Nr={offset:0,color:lt[0].color};lt.unshift(Nr)}if(lt[lt.length-1].offset!=1){var Wr={offset:1,color:lt[lt.length-1].color};lt.push(Wr)}for(var dn="",Lr=0,vn=0;vn<Ar.length;vn++){for(Ht=Ar[vn];Ht>lt[Lr+1].offset;)Lr++;var hn=lt[Lr].offset,Pn=(Ht-hn)/(lt[Lr+1].offset-hn),Bi=lt[Lr].color,Os=lt[Lr+1].color;dn+=Y(Math.round((1-Pn)*Bi[0]+Pn*Os[0]).toString(16))+Y(Math.round((1-Pn)*Bi[1]+Pn*Os[1]).toString(16))+Y(Math.round((1-Pn)*Bi[2]+Pn*Os[2]).toString(16))}return dn.trim()}(m.colors,Q),Ie=[];Ie.push({key:"FunctionType",value:"0"}),Ie.push({key:"Domain",value:"[0.0 1.0]"}),Ie.push({key:"Size",value:"["+Q+"]"}),Ie.push({key:"BitsPerSample",value:"8"}),Ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ds({data:me,additionalKeyValues:Ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ae}),F("endobj"),m.objectNumber=ar(),F("<< /ShadingType "+m.type),F("/ColorSpace /DeviceRGB");var rt="/Coords ["+K(parseFloat(m.coords[0]))+" "+K(parseFloat(m.coords[1]))+" ";m.type===2?rt+=K(parseFloat(m.coords[2]))+" "+K(parseFloat(m.coords[3])):rt+=K(parseFloat(m.coords[2]))+" "+K(parseFloat(m.coords[3]))+" "+K(parseFloat(m.coords[4]))+" "+K(parseFloat(m.coords[5])),F(rt+="]"),m.matrix&&F("/Matrix ["+m.matrix.toString()+"]"),F("/Function "+ae+" 0 R"),F("/Extend [true true]"),F(">>"),F("endobj")},La=function(m,Q){var ae=yt(),me=ar();Q.push({resourcesOid:ae,objectOid:me}),m.objectNumber=me;var Ie=[];Ie.push({key:"Type",value:"/Pattern"}),Ie.push({key:"PatternType",value:"1"}),Ie.push({key:"PaintType",value:"1"}),Ie.push({key:"TilingType",value:"1"}),Ie.push({key:"BBox",value:"["+m.boundingBox.map(K).join(" ")+"]"}),Ie.push({key:"XStep",value:K(m.xStep)}),Ie.push({key:"YStep",value:K(m.yStep)}),Ie.push({key:"Resources",value:ae+" 0 R"}),m.matrix&&Ie.push({key:"Matrix",value:"["+m.matrix.toString()+"]"}),ds({data:m.stream,additionalKeyValues:Ie,objectId:m.objectNumber}),F("endobj")},kc=function(m){for(var Q in m.objectNumber=ar(),F("<<"),m)switch(Q){case"opacity":F("/ca "+_(m[Q]));break;case"stroke-opacity":F("/CA "+_(m[Q]))}F(">>"),F("endobj")},uo=function(m){or(m.resourcesOid,!0),F("<<"),F("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var Q in F("/Font <<"),ge)ge.hasOwnProperty(Q)&&(p===!1||p===!0&&g.hasOwnProperty(Q))&&F("/"+Q+" "+ge[Q].objectNumber+" 0 R");F(">>")}(),function(){if(Object.keys(at).length>0){for(var Q in F("/Shading <<"),at)at.hasOwnProperty(Q)&&at[Q]instanceof Qo&&at[Q].objectNumber>=0&&F("/"+Q+" "+at[Q].objectNumber+" 0 R");At.publish("putShadingPatternDict"),F(">>")}}(),function(Q){if(Object.keys(at).length>0){for(var ae in F("/Pattern <<"),at)at.hasOwnProperty(ae)&&at[ae]instanceof h.TilingPattern&&at[ae].objectNumber>=0&&at[ae].objectNumber<Q&&F("/"+ae+" "+at[ae].objectNumber+" 0 R");At.publish("putTilingPatternDict"),F(">>")}}(m.objectOid),function(){if(Object.keys(pt).length>0){var Q;for(Q in F("/ExtGState <<"),pt)pt.hasOwnProperty(Q)&&pt[Q].objectNumber>=0&&F("/"+Q+" "+pt[Q].objectNumber+" 0 R");At.publish("putGStateDict"),F(">>")}}(),function(){for(var Q in F("/XObject <<"),L)L.hasOwnProperty(Q)&&L[Q].objectNumber>=0&&F("/"+Q+" "+L[Q].objectNumber+" 0 R");At.publish("putXobjectDict"),F(">>")}(),F(">>"),F("endobj")},rl=function(m){Qe[m.fontName]=Qe[m.fontName]||{},Qe[m.fontName][m.fontStyle]=m.id},nl=function(m,Q,ae,me,Ie){var rt={id:"F"+(Object.keys(ge).length+1).toString(10),postScriptName:m,fontName:Q,fontStyle:ae,encoding:me,isStandardFont:Ie||!1,metadata:{}};return At.publish("addFont",{font:rt,instance:this}),ge[rt.id]=rt,rl(rt),rt.id},Ts=h.__private__.pdfEscape=h.pdfEscape=function(m,Q){return function(ae,me){var Ie,rt,lt,Lt,Ht,Ar,hr,Nr,Wr;if(lt=(me=me||{}).sourceEncoding||"Unicode",Ht=me.outputEncoding,(me.autoencode||Ht)&&ge[Z].metadata&&ge[Z].metadata[lt]&&ge[Z].metadata[lt].encoding&&(Lt=ge[Z].metadata[lt].encoding,!Ht&&ge[Z].encoding&&(Ht=ge[Z].encoding),!Ht&&Lt.codePages&&(Ht=Lt.codePages[0]),typeof Ht=="string"&&(Ht=Lt[Ht]),Ht)){for(hr=!1,Ar=[],Ie=0,rt=ae.length;Ie<rt;Ie++)(Nr=Ht[ae.charCodeAt(Ie)])?Ar.push(String.fromCharCode(Nr)):Ar.push(ae[Ie]),Ar[Ie].charCodeAt(0)>>8&&(hr=!0);ae=Ar.join("")}for(Ie=ae.length;hr===void 0&&Ie!==0;)ae.charCodeAt(Ie-1)>>8&&(hr=!0),Ie--;if(!hr)return ae;for(Ar=me.noBOM?[]:[254,255],Ie=0,rt=ae.length;Ie<rt;Ie++){if((Wr=(Nr=ae.charCodeAt(Ie))>>8)>>8)throw new Error("Character at position "+Ie+" of string '"+ae+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ar.push(Wr),Ar.push(Nr-(Wr<<8))}return String.fromCharCode.apply(void 0,Ar)}(m,Q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ho=h.__private__.beginPage=function(m){Ye[++Kt]=[],Et[Kt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(m[0]),topRightY:Number(m[1])}},dA(Kt),qe(Ye[R])},dr=function(m,Q){var ae,me,Ie;switch(r=Q||r,typeof m=="string"&&(ae=x(m.toLowerCase()),Array.isArray(ae)&&(me=ae[0],Ie=ae[1])),Array.isArray(m)&&(me=m[0]*we,Ie=m[1]*we),isNaN(me)&&(me=s[0],Ie=s[1]),(me>14400||Ie>14400)&&(zr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),me=Math.min(14400,me),Ie=Math.min(14400,Ie)),s=[me,Ie],r.substr(0,1)){case"l":Ie>me&&(s=[Ie,me]);break;case"p":me>Ie&&(s=[Ie,me])}ho(s),lr(gA),F(Da),xA!==0&&F(xA+" J"),wA!==0&&F(wA+" j"),At.publish("addPage",{pageNumber:Kt})},uA=function(m){m>0&&m<=Kt&&(Ye.splice(m,1),Et.splice(m,1),Kt--,R>Kt&&(R=Kt),this.setPage(R))},dA=function(m){m>0&&m<=Kt&&(R=m)},fo=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Ye.length-1},sl=function(m,Q,ae){var me,Ie=void 0;return ae=ae||{},m=m!==void 0?m:ge[Z].fontName,Q=Q!==void 0?Q:ge[Z].fontStyle,me=m.toLowerCase(),Qe[me]!==void 0&&Qe[me][Q]!==void 0?Ie=Qe[me][Q]:Qe[m]!==void 0&&Qe[m][Q]!==void 0?Ie=Qe[m][Q]:ae.disableWarning===!1&&zr.warn("Unable to look up font label for font '"+m+"', '"+Q+"'. Refer to getFontList() for available fonts."),Ie||ae.noFallback||(Ie=Qe.times[Q])==null&&(Ie=Qe.times.normal),Ie},zs=h.__private__.putInfo=function(){var m=ar(),Q=function(me){return me};for(var ae in d!==null&&(Q=un.encryptor(m,0)),F("<<"),F("/Producer ("+Ts(Q("jsPDF "+Xt.version))+")"),Ce)Ce.hasOwnProperty(ae)&&Ce[ae]&&F("/"+ae.substr(0,1).toUpperCase()+ae.substr(1)+" ("+Ts(Q(Ce[ae]))+")");F("/CreationDate ("+Ts(Q(ee))+")"),F(">>"),F("endobj")},kr=h.__private__.putCatalog=function(m){var Q=(m=m||{}).rootDictionaryObjId||an;switch(ar(),F("<<"),F("/Type /Catalog"),F("/Pages "+Q+" 0 R"),Ne||(Ne="fullwidth"),Ne){case"fullwidth":F("/OpenAction [3 0 R /FitH null]");break;case"fullheight":F("/OpenAction [3 0 R /FitV null]");break;case"fullpage":F("/OpenAction [3 0 R /Fit]");break;case"original":F("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ae=""+Ne;ae.substr(ae.length-1)==="%"&&(Ne=parseInt(Ne)/100),typeof Ne=="number"&&F("/OpenAction [3 0 R /XYZ null null "+_(Ne)+"]")}switch(Je||(Je="continuous"),Je){case"continuous":F("/PageLayout /OneColumn");break;case"single":F("/PageLayout /SinglePage");break;case"two":case"twoleft":F("/PageLayout /TwoColumnLeft");break;case"tworight":F("/PageLayout /TwoColumnRight")}Ve&&F("/PageMode /"+Ve),At.publish("putCatalog"),F(">>"),F("endobj")},Oa=h.__private__.putTrailer=function(){F("trailer"),F("<<"),F("/Size "+(le+1)),F("/Root "+le+" 0 R"),F("/Info "+(le-1)+" 0 R"),d!==null&&F("/Encrypt "+un.oid+" 0 R"),F("/ID [ <"+ce+"> <"+ce+"> ]"),F(">>")},wn=h.__private__.putHeader=function(){F("%PDF-"+b),F("%")},il=h.__private__.putXRef=function(){var m="0000000000";F("xref"),F("0 "+(le+1)),F("0000000000 65535 f ");for(var Q=1;Q<=le;Q++)typeof pe[Q]=="function"?F((m+pe[Q]()).slice(-10)+" 00000 n "):pe[Q]!==void 0?F((m+pe[Q]).slice(-10)+" 00000 n "):F("0000000000 00000 n ")},pi=h.__private__.buildDocument=function(){var m;le=0,be=0,Fe=[],pe=[],Oe=[],an=yt(),qr=yt(),qe(Fe),At.publish("buildDocument"),wn(),Qr(),function(){At.publish("putAdditionalObjects");for(var ae=0;ae<Oe.length;ae++){var me=Oe[ae];or(me.objId,!0),F(me.content),F("endobj")}At.publish("postPutAdditionalObjects")}(),m=[],function(){for(var ae in ge)ge.hasOwnProperty(ae)&&(p===!1||p===!0&&g.hasOwnProperty(ae))&&Ta(ge[ae])}(),function(){var ae;for(ae in pt)pt.hasOwnProperty(ae)&&kc(pt[ae])}(),function(){for(var ae in L)L.hasOwnProperty(ae)&&cA(L[ae])}(),function(ae){var me;for(me in at)at.hasOwnProperty(me)&&(at[me]instanceof Qo?fi(at[me]):at[me]instanceof nc&&La(at[me],ae))}(m),At.publish("putResources"),m.forEach(uo),uo({resourcesOid:qr,objectOid:Number.MAX_SAFE_INTEGER}),At.publish("postPutResources"),d!==null&&(un.oid=ar(),F("<<"),F("/Filter /Standard"),F("/V "+un.v),F("/R "+un.r),F("/U <"+un.toHexString(un.U)+">"),F("/O <"+un.toHexString(un.O)+">"),F("/P "+un.P),F(">>"),F("endobj")),zs(),kr();var Q=be;return il(),Oa(),F("startxref"),F(""+Q),F("%%EOF"),qe(Ye[R]),Fe.join(`
`)},hA=h.__private__.getBlob=function(m){return new Blob([Ke(m)],{type:"application/pdf"})},fA=h.output=h.__private__.output=(xr=function(m,Q){switch(typeof(Q=Q||{})=="string"?Q={filename:Q}:Q.filename=Q.filename||"generated.pdf",m){case void 0:return pi();case"save":h.save(Q.filename);break;case"arraybuffer":return Ke(pi());case"blob":return hA(pi());case"bloburi":case"bloburl":if(ur.URL!==void 0&&typeof ur.URL.createObjectURL=="function")return ur.URL&&ur.URL.createObjectURL(hA(pi()))||void 0;zr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ae="",me=pi();try{ae=i2(me)}catch{ae=i2(unescape(encodeURIComponent(me)))}return"data:application/pdf;filename="+Q.filename+";base64,"+ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ur)==="[object Window]"){var Ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",rt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Q.pdfObjectUrl&&(Ie=Q.pdfObjectUrl,rt="");var lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ie+'"'+rt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Q)+");<\/script></body></html>",Lt=ur.open();return Lt!==null&&Lt.document.write(lt),Lt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ur)==="[object Window]"){var Ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Q.filename+'" width="500px" height="400px" /></body></html>',Ar=ur.open();if(Ar!==null){Ar.document.write(Ht);var hr=this;Ar.document.documentElement.querySelector("#pdfViewer").onload=function(){Ar.document.title=Q.filename,Ar.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(hr.output("bloburl"))}}return Ar}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ur)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Nr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Q)+'"></iframe></body></html>',Wr=ur.open();if(Wr!==null&&(Wr.document.write(Nr),Wr.document.title=Q.filename),Wr||typeof safari>"u")return Wr;break;case"datauri":case"dataurl":return ur.document.location.href=this.output("datauristring",Q);default:return null}},xr.foo=function(){try{return xr.apply(this,arguments)}catch(ae){var m=ae.stack||"";~m.indexOf(" at ")&&(m=m.split(" at ")[1]);var Q="Error in function "+m.split(`
`)[0].split("<")[0]+": "+ae.message;if(!ur.console)throw new Error(Q);ur.console.error(Q,ae),ur.alert&&alert(Q)}},xr.foo.bar=xr,xr.foo),wr=function(m){return Array.isArray(Br)===!0&&Br.indexOf(m)>-1};switch(n){case"pt":we=1;break;case"mm":we=72/25.4;break;case"cm":we=72/2.54;break;case"in":we=72;break;case"px":we=wr("px_scaling")==1?.75:96/72;break;case"pc":case"em":we=12;break;case"ex":we=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);we=n}var un=null;ve(),ie();var Di=h.__private__.getPageInfo=h.getPageInfo=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Et[m].objId,pageNumber:m,pageContext:Et[m]}},nr=h.__private__.getPageInfoByObjId=function(m){if(isNaN(m)||m%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Q in Et)if(Et[Q].objId===m)break;return Di(Q)},gi=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Et[R].objId,pageNumber:R,pageContext:Et[R]}};h.addPage=function(){return dr.apply(this,arguments),this},h.setPage=function(){return dA.apply(this,arguments),qe.call(this,Ye[R]),this},h.insertPage=function(m){return this.addPage(),this.movePage(R,m),this},h.movePage=function(m,Q){var ae,me;if(m>Q){ae=Ye[m],me=Et[m];for(var Ie=m;Ie>Q;Ie--)Ye[Ie]=Ye[Ie-1],Et[Ie]=Et[Ie-1];Ye[Q]=ae,Et[Q]=me,this.setPage(Q)}else if(m<Q){ae=Ye[m],me=Et[m];for(var rt=m;rt<Q;rt++)Ye[rt]=Ye[rt+1],Et[rt]=Et[rt+1];Ye[Q]=ae,Et[Q]=me,this.setPage(Q)}return this},h.deletePage=function(){return uA.apply(this,arguments),this},h.__private__.text=h.text=function(m,Q,ae,me,Ie){var rt,lt,Lt,Ht,Ar,hr,Nr,Wr,dn,Lr=(me=me||{}).scope||this;if(typeof m=="number"&&typeof Q=="number"&&(typeof ae=="string"||Array.isArray(ae))){var vn=ae;ae=Q,Q=m,m=vn}if(arguments[3]instanceof Me==0?(Lt=arguments[4],Ht=arguments[5],Hr(Nr=arguments[3])==="object"&&Nr!==null||(typeof Lt=="string"&&(Ht=Lt,Lt=null),typeof Nr=="string"&&(Ht=Nr,Nr=null),typeof Nr=="number"&&(Lt=Nr,Nr=null),me={flags:Nr,angle:Lt,align:Ht})):(N("The transform parameter of text() with a Matrix value"),dn=Ie),isNaN(Q)||isNaN(ae)||m==null)throw new Error("Invalid arguments passed to jsPDF.text");if(m.length===0)return Lr;var hn,Pn="",Bi=typeof me.lineHeightFactor=="number"?me.lineHeightFactor:la,Os=Lr.internal.scaleFactor;function Ci(Wt){return Wt=Wt.split("	").join(Array(me.TabLen||9).join(" ")),Ts(Wt,Nr)}function BA(Wt){for(var Vt,cr=Wt.concat(),br=[],yn=cr.length;yn--;)typeof(Vt=cr.shift())=="string"?br.push(Vt):Array.isArray(Wt)&&(Vt.length===1||Vt[1]===void 0&&Vt[2]===void 0)?br.push(Vt[0]):br.push([Vt[0],Vt[1],Vt[2]]);return br}function Ha(Wt,Vt){var cr;if(typeof Wt=="string")cr=Vt(Wt)[0];else if(Array.isArray(Wt)){for(var br,yn,Gr=Wt.concat(),en=[],bn=Gr.length;bn--;)typeof(br=Gr.shift())=="string"?en.push(Vt(br)[0]):Array.isArray(br)&&typeof br[0]=="string"&&(yn=Vt(br[0],br[1],br[2]),en.push([yn[0],yn[1],yn[2]]));cr=en}return cr}var Ri=!1,ha=!0;if(typeof m=="string")Ri=!0;else if(Array.isArray(m)){var fa=m.concat();lt=[];for(var Hi,Dn=fa.length;Dn--;)(typeof(Hi=fa.shift())!="string"||Array.isArray(Hi)&&typeof Hi[0]!="string")&&(ha=!1);Ri=ha}if(Ri===!1)throw new Error('Type of text must be string or Array. "'+m+'" is not recognized.');typeof m=="string"&&(m=m.match(/[\r?\n]/)?m.split(/\r\n|\r|\n/g):[m]);var pa=ne/Lr.internal.scaleFactor,ga=pa*(Bi-1);switch(me.baseline){case"bottom":ae-=ga;break;case"top":ae+=pa-ga;break;case"hanging":ae+=pa-2*ga;break;case"middle":ae+=pa/2-ga}if((hr=me.maxWidth||0)>0&&(typeof m=="string"?m=Lr.splitTextToSize(m,hr):Object.prototype.toString.call(m)==="[object Array]"&&(m=m.reduce(function(Wt,Vt){return Wt.concat(Lr.splitTextToSize(Vt,hr))},[]))),rt={text:m,x:Q,y:ae,options:me,mutex:{pdfEscape:Ts,activeFontKey:Z,fonts:ge,activeFontSize:ne}},At.publish("preProcessText",rt),m=rt.text,Lt=(me=rt.options).angle,dn instanceof Me==0&&Lt&&typeof Lt=="number"){Lt*=Math.PI/180,me.rotationDirection===0&&(Lt=-Lt),j===B&&(Lt=-Lt);var U=Math.cos(Lt),z=Math.sin(Lt);dn=new Me(U,z,-z,U,0,0)}else Lt&&Lt instanceof Me&&(dn=Lt);j!==B||dn||(dn=fr),(Ar=me.charSpace||wi)!==void 0&&(Pn+=K(G(Ar))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Wr=me.horizontalScale)!==void 0&&(Pn+=K(100*Wr)+` Tz
`),me.lang;var re=-1,xe=me.renderingMode!==void 0?me.renderingMode:me.stroke,Te=Lr.internal.getCurrentPageInfo().pageContext;switch(xe){case 0:case!1:case"fill":re=0;break;case 1:case!0:case"stroke":re=1;break;case 2:case"fillThenStroke":re=2;break;case 3:case"invisible":re=3;break;case 4:case"fillAndAddForClipping":re=4;break;case 5:case"strokeAndAddPathForClipping":re=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":re=6;break;case 7:case"addToPathForClipping":re=7}var Pe=Te.usedRenderingMode!==void 0?Te.usedRenderingMode:-1;re!==-1?Pn+=re+` Tr
`:Pe!==-1&&(Pn+=`0 Tr
`),re!==-1&&(Te.usedRenderingMode=re),Ht=me.align||"left";var ke,We=ne*Bi,Ee=Lr.internal.pageSize.getWidth(),ze=ge[Z];Ar=me.charSpace||wi,hr=me.maxWidth||0,Nr=Object.assign({autoencode:!0,noBOM:!0},me.flags);var ot=[],Ze=function(Wt){return Lr.getStringUnitWidth(Wt,{font:ze,charSpace:Ar,fontSize:ne,doKerning:!1})*ne/Os};if(Object.prototype.toString.call(m)==="[object Array]"){var Gt;lt=BA(m),Ht!=="left"&&(ke=lt.map(Ze));var Ct,Zt=0;if(Ht==="right"){Q-=ke[0],m=[],Dn=lt.length;for(var Se=0;Se<Dn;Se++)Se===0?(Ct=mi(Q),Gt=xi(ae)):(Ct=G(Zt-ke[Se]),Gt=-We),m.push([lt[Se],Ct,Gt]),Zt=ke[Se]}else if(Ht==="center"){Q-=ke[0]/2,m=[],Dn=lt.length;for(var Qt=0;Qt<Dn;Qt++)Qt===0?(Ct=mi(Q),Gt=xi(ae)):(Ct=G((Zt-ke[Qt])/2),Gt=-We),m.push([lt[Qt],Ct,Gt]),Zt=ke[Qt]}else if(Ht==="left"){m=[],Dn=lt.length;for(var er=0;er<Dn;er++)m.push(lt[er])}else if(Ht==="justify"&&ze.encoding==="Identity-H"){m=[],Dn=lt.length,hr=hr!==0?hr:Ee;for(var et=0,Nt=0;Nt<Dn;Nt++)if(Gt=Nt===0?xi(ae):-We,Ct=Nt===0?mi(Q):et,Nt<Dn-1){var kt=G((hr-ke[Nt])/(lt[Nt].split(" ").length-1)),zt=lt[Nt].split(" ");m.push([zt[0]+" ",Ct,Gt]),et=0;for(var It=1;It<zt.length;It++){var jt=(Ze(zt[It-1]+" "+zt[It])-Ze(zt[It]))*Os+kt;It==zt.length-1?m.push([zt[It],jt,0]):m.push([zt[It]+" ",jt,0]),et-=jt}}else m.push([lt[Nt],Ct,Gt]);m.push(["",et,0])}else{if(Ht!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(m=[],Dn=lt.length,hr=hr!==0?hr:Ee,Nt=0;Nt<Dn;Nt++){Gt=Nt===0?xi(ae):-We,Ct=Nt===0?mi(Q):0;var qt=lt[Nt].split(" ").length-1,gr=qt>0?(hr-ke[Nt])/qt:0;Nt<Dn-1?ot.push(K(G(gr))):ot.push(0),m.push([lt[Nt],Ct,Gt])}}}(typeof me.R2L=="boolean"?me.R2L:He)===!0&&(m=Ha(m,function(Wt,Vt,cr){return[Wt.split("").reverse().join(""),Vt,cr]})),rt={text:m,x:Q,y:ae,options:me,mutex:{pdfEscape:Ts,activeFontKey:Z,fonts:ge,activeFontSize:ne}},At.publish("postProcessText",rt),m=rt.text,hn=rt.mutex.isHex||!1;var Sr=ge[Z].encoding;Sr!=="WinAnsiEncoding"&&Sr!=="StandardEncoding"||(m=Ha(m,function(Wt,Vt,cr){return[Ci(Wt),Vt,cr]})),lt=BA(m),m=[];for(var Or,rr,Er,An=Array.isArray(lt[0])?1:0,hs="",Ns=function(Wt,Vt,cr){var br="";return cr instanceof Me?(cr=typeof me.angle=="number"?Rt(cr,new Me(1,0,0,1,Wt,Vt)):Rt(new Me(1,0,0,1,Wt,Vt),cr),j===B&&(cr=Rt(new Me(1,0,0,-1,0,0),cr)),br=cr.join(" ")+` Tm
`):br=K(Wt)+" "+K(Vt)+` Td
`,br},Jn=0;Jn<lt.length;Jn++){switch(hs="",An){case 1:Er=(hn?"<":"(")+lt[Jn][0]+(hn?">":")"),Or=parseFloat(lt[Jn][1]),rr=parseFloat(lt[Jn][2]);break;case 0:Er=(hn?"<":"(")+lt[Jn]+(hn?">":")"),Or=mi(Q),rr=xi(ae)}ot!==void 0&&ot[Jn]!==void 0&&(hs=ot[Jn]+` Tw
`),Jn===0?m.push(hs+Ns(Or,rr,dn)+Er):An===0?m.push(hs+Er):An===1&&m.push(hs+Ns(Or,rr,dn)+Er)}m=An===0?m.join(` Tj
T* `):m.join(` Tj
`),m+=` Tj
`;var Ss=`BT
/`;return Ss+=Z+" "+ne+` Tf
`,Ss+=K(ne*Bi)+` TL
`,Ss+=ca+`
`,Ss+=Pn,Ss+=m,F(Ss+="ET"),g[Z]=!0,Lr};var al=h.__private__.clip=h.clip=function(m){return F(m==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return al("evenodd")},h.__private__.discardPath=h.discardPath=function(){return F("n"),this};var qs=h.__private__.isValidStyle=function(m){var Q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(m)!==-1&&(Q=!0),Q};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(m){return qs(m)&&(c=m),this};var po=h.__private__.getStyle=h.getStyle=function(m){var Q=c;switch(m){case"D":case"S":Q="S";break;case"F":Q="f";break;case"FD":case"DF":Q="B";break;case"f":case"f*":case"B":case"B*":Q=m}return Q},go=h.close=function(){return F("h"),this};h.stroke=function(){return F("S"),this},h.fill=function(m){return Pa("f",m),this},h.fillEvenOdd=function(m){return Pa("f*",m),this},h.fillStroke=function(m){return Pa("B",m),this},h.fillStrokeEvenOdd=function(m){return Pa("B*",m),this};var Pa=function(m,Q){Hr(Q)==="object"?ol(Q,m):F(m)},oa=function(m){m===null||j===B&&m===void 0||(m=po(m),F(m))};function Al(m,Q,ae,me,Ie){var rt=new nc(Q||this.boundingBox,ae||this.xStep,me||this.yStep,this.gState,Ie||this.matrix);rt.stream=this.stream;var lt=m+"$$"+this.cloneIndex+++"$$";return _t(lt,rt),rt}var ol=function(m,Q){var ae=vt[m.key],me=at[ae];if(me instanceof Qo)F("q"),F(ll(Q)),me.gState&&h.setGState(me.gState),F(m.matrix.toString()+" cm"),F("/"+ae+" sh"),F("Q");else if(me instanceof nc){var Ie=new Me(1,0,0,-1,0,da());m.matrix&&(Ie=Ie.multiply(m.matrix||fr),ae=Al.call(me,m.key,m.boundingBox,m.xStep,m.yStep,Ie).id),F("q"),F("/Pattern cs"),F("/"+ae+" scn"),me.gState&&h.setGState(me.gState),F(Q),F("Q")}},ll=function(m){switch(m){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},pA=h.moveTo=function(m,Q){return F(K(G(m))+" "+K(P(Q))+" m"),this},mo=h.lineTo=function(m,Q){return F(K(G(m))+" "+K(P(Q))+" l"),this},Ls=h.curveTo=function(m,Q,ae,me,Ie,rt){return F([K(G(m)),K(P(Q)),K(G(ae)),K(P(me)),K(G(Ie)),K(P(rt)),"c"].join(" ")),this};h.__private__.line=h.line=function(m,Q,ae,me,Ie){if(isNaN(m)||isNaN(Q)||isNaN(ae)||isNaN(me)||!qs(Ie))throw new Error("Invalid arguments passed to jsPDF.line");return j===y?this.lines([[ae-m,me-Q]],m,Q,[1,1],Ie||"S"):this.lines([[ae-m,me-Q]],m,Q,[1,1]).stroke()},h.__private__.lines=h.lines=function(m,Q,ae,me,Ie,rt){var lt,Lt,Ht,Ar,hr,Nr,Wr,dn,Lr,vn,hn,Pn;if(typeof m=="number"&&(Pn=ae,ae=Q,Q=m,m=Pn),me=me||[1,1],rt=rt||!1,isNaN(Q)||isNaN(ae)||!Array.isArray(m)||!Array.isArray(me)||!qs(Ie)||typeof rt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(pA(Q,ae),lt=me[0],Lt=me[1],Ar=m.length,vn=Q,hn=ae,Ht=0;Ht<Ar;Ht++)(hr=m[Ht]).length===2?(vn=hr[0]*lt+vn,hn=hr[1]*Lt+hn,mo(vn,hn)):(Nr=hr[0]*lt+vn,Wr=hr[1]*Lt+hn,dn=hr[2]*lt+vn,Lr=hr[3]*Lt+hn,vn=hr[4]*lt+vn,hn=hr[5]*Lt+hn,Ls(Nr,Wr,dn,Lr,vn,hn));return rt&&go(),oa(Ie),this},h.path=function(m){for(var Q=0;Q<m.length;Q++){var ae=m[Q],me=ae.c;switch(ae.op){case"m":pA(me[0],me[1]);break;case"l":mo(me[0],me[1]);break;case"c":Ls.apply(this,me);break;case"h":go()}}return this},h.__private__.rect=h.rect=function(m,Q,ae,me,Ie){if(isNaN(m)||isNaN(Q)||isNaN(ae)||isNaN(me)||!qs(Ie))throw new Error("Invalid arguments passed to jsPDF.rect");return j===y&&(me=-me),F([K(G(m)),K(P(Q)),K(G(ae)),K(G(me)),"re"].join(" ")),oa(Ie),this},h.__private__.triangle=h.triangle=function(m,Q,ae,me,Ie,rt,lt){if(isNaN(m)||isNaN(Q)||isNaN(ae)||isNaN(me)||isNaN(Ie)||isNaN(rt)||!qs(lt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ae-m,me-Q],[Ie-ae,rt-me],[m-Ie,Q-rt]],m,Q,[1,1],lt,!0),this},h.__private__.roundedRect=h.roundedRect=function(m,Q,ae,me,Ie,rt,lt){if(isNaN(m)||isNaN(Q)||isNaN(ae)||isNaN(me)||isNaN(Ie)||isNaN(rt)||!qs(lt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Lt=4/3*(Math.SQRT2-1);return Ie=Math.min(Ie,.5*ae),rt=Math.min(rt,.5*me),this.lines([[ae-2*Ie,0],[Ie*Lt,0,Ie,rt-rt*Lt,Ie,rt],[0,me-2*rt],[0,rt*Lt,-Ie*Lt,rt,-Ie,rt],[2*Ie-ae,0],[-Ie*Lt,0,-Ie,-rt*Lt,-Ie,-rt],[0,2*rt-me],[0,-rt*Lt,Ie*Lt,-rt,Ie,-rt]],m+Ie,Q,[1,1],lt,!0),this},h.__private__.ellipse=h.ellipse=function(m,Q,ae,me,Ie){if(isNaN(m)||isNaN(Q)||isNaN(ae)||isNaN(me)||!qs(Ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var rt=4/3*(Math.SQRT2-1)*ae,lt=4/3*(Math.SQRT2-1)*me;return pA(m+ae,Q),Ls(m+ae,Q-lt,m+rt,Q-me,m,Q-me),Ls(m-rt,Q-me,m-ae,Q-lt,m-ae,Q),Ls(m-ae,Q+lt,m-rt,Q+me,m,Q+me),Ls(m+rt,Q+me,m+ae,Q+lt,m+ae,Q),oa(Ie),this},h.__private__.circle=h.circle=function(m,Q,ae,me){if(isNaN(m)||isNaN(Q)||isNaN(ae)||!qs(me))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(m,Q,ae,ae,me)},h.setFont=function(m,Q,ae){return ae&&(Q=M(Q,ae)),Z=sl(m,Q,{disableWarning:!1}),this};var cl=h.__private__.getFont=h.getFont=function(){return ge[sl.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var m,Q,ae={};for(m in Qe)if(Qe.hasOwnProperty(m))for(Q in ae[m]=[],Qe[m])Qe[m].hasOwnProperty(Q)&&ae[m].push(Q);return ae},h.addFont=function(m,Q,ae,me,Ie){var rt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&rt.indexOf(arguments[3])!==-1?Ie=arguments[3]:arguments[3]&&rt.indexOf(arguments[3])==-1&&(ae=M(ae,me)),nl.call(this,m,Q,ae,Ie=Ie||"Identity-H")};var la,gA=t.lineWidth||.200025,ul=h.__private__.getLineWidth=h.getLineWidth=function(){return gA},lr=h.__private__.setLineWidth=h.setLineWidth=function(m){return gA=m,F(K(G(m))+" w"),this};h.__private__.setLineDash=Xt.API.setLineDash=Xt.API.setLineDashPattern=function(m,Q){if(m=m||[],Q=Q||0,isNaN(Q)||!Array.isArray(m))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return m=m.map(function(ae){return K(G(ae))}).join(" "),Q=K(G(Q)),F("["+m+"] "+Q+" d"),this};var dl=h.__private__.getLineHeight=h.getLineHeight=function(){return ne*la};h.__private__.getLineHeight=h.getLineHeight=function(){return ne*la};var hl=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(m){return typeof(m=m||1.15)=="number"&&(la=m),this},fl=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return la};hl(t.lineHeight);var mi=h.__private__.getHorizontalCoordinate=function(m){return G(m)},xi=h.__private__.getVerticalCoordinate=function(m){return j===B?m:Et[R].mediaBox.topRightY-Et[R].mediaBox.bottomLeftY-G(m)},pl=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(m){return K(mi(m))},gl=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(m){return K(xi(m))},Da=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return xn(Da)},h.__private__.setStrokeColor=h.setDrawColor=function(m,Q,ae,me){return Da=mt({ch1:m,ch2:Q,ch3:ae,ch4:me,pdfColorType:"draw",precision:2}),F(Da),this};var mA=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return xn(mA)},h.__private__.setFillColor=h.setFillColor=function(m,Q,ae,me){return mA=mt({ch1:m,ch2:Q,ch3:ae,ch4:me,pdfColorType:"fill",precision:2}),F(mA),this};var ca=t.textColor||"0 g",ml=h.__private__.getTextColor=h.getTextColor=function(){return xn(ca)};h.__private__.setTextColor=h.setTextColor=function(m,Q,ae,me){return ca=mt({ch1:m,ch2:Q,ch3:ae,ch4:me,pdfColorType:"text",precision:3}),this};var wi=t.charSpace,xl=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(wi||0)};h.__private__.setCharSpace=h.setCharSpace=function(m){if(isNaN(m))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return wi=m,this};var xA=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(m){var Q=h.CapJoinStyles[m];if(Q===void 0)throw new Error("Line cap style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xA=Q,F(Q+" J"),this};var wA=0;h.__private__.setLineJoin=h.setLineJoin=function(m){var Q=h.CapJoinStyles[m];if(Q===void 0)throw new Error("Line join style of '"+m+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wA=Q,F(Q+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(m){if(m=m||0,isNaN(m))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return F(K(G(m))+" M"),this},h.GState=Rf,h.setGState=function(m){(m=typeof m=="string"?pt[xt[m]]:xo(null,m)).equals(Bt)||(F("/"+m.id+" gs"),Bt=m)};var xo=function(m,Q){if(!m||!xt[m]){var ae=!1;for(var me in pt)if(pt.hasOwnProperty(me)&&pt[me].equals(Q)){ae=!0;break}if(ae)Q=pt[me];else{var Ie="GS"+(Object.keys(pt).length+1).toString(10);pt[Ie]=Q,Q.id=Ie}return m&&(xt[m]=Q.id),At.publish("addGState",Q),Q}};h.addGState=function(m,Q){return xo(m,Q),this},h.saveGraphicsState=function(){return F("q"),ft.push({key:Z,size:ne,color:ca}),this},h.restoreGraphicsState=function(){F("Q");var m=ft.pop();return Z=m.key,ne=m.size,ca=m.color,Bt=null,this},h.setCurrentTransformationMatrix=function(m){return F(m.toString()+" cm"),this},h.comment=function(m){return F("#"+m),this};var vi=function(m,Q){var ae=m||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ae},set:function(rt){isNaN(rt)||(ae=parseFloat(rt))}});var me=Q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return me},set:function(rt){isNaN(rt)||(me=parseFloat(rt))}});var Ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ie},set:function(rt){Ie=rt.toString()}}),this},vA=function(m,Q,ae,me){vi.call(this,m,Q),this.type="rect";var Ie=ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ie},set:function(lt){isNaN(lt)||(Ie=parseFloat(lt))}});var rt=me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return rt},set:function(lt){isNaN(lt)||(rt=parseFloat(lt))}}),this},Ra=function(){this.page=Kt,this.currentPage=R,this.pages=Ye.slice(0),this.pagesContext=Et.slice(0),this.x=_e,this.y=Xe,this.matrix=Ge,this.width=bA(R),this.height=vo(R),this.outputDestination=ue,this.id="",this.objectNumber=-1};Ra.prototype.restore=function(){Kt=this.page,R=this.currentPage,Et=this.pagesContext,Ye=this.pages,_e=this.x,Xe=this.y,Ge=this.matrix,wo(R,this.width),yi(R,this.height),ue=this.outputDestination};var yA=function(m,Q,ae,me,Ie){st.push(new Ra),Kt=R=0,Ye=[],_e=m,Xe=Q,Ge=Ie,ho([ae,me])};for(var ua in h.beginFormObject=function(m,Q,ae,me,Ie){return yA(m,Q,ae,me,Ie),this},h.endFormObject=function(m){return function(Q){if(Ue[Q])st.pop().restore();else{var ae=new Ra,me="Xo"+(Object.keys(L).length+1).toString(10);ae.id=me,Ue[Q]=me,L[me]=ae,At.publish("addFormObject",ae),st.pop().restore()}}(m),this},h.doFormObject=function(m,Q){var ae=L[Ue[m]];return F("q"),F(Q.toString()+" cm"),F("/"+ae.id+" Do"),F("Q"),this},h.getFormObject=function(m){var Q=L[Ue[m]];return{x:Q.x,y:Q.y,width:Q.width,height:Q.height,matrix:Q.matrix}},h.save=function(m,Q){return m=m||"generated.pdf",(Q=Q||{}).returnPromise=Q.returnPromise||!1,Q.returnPromise===!1?(_o(hA(pi()),m),typeof _o.unload=="function"&&ur.setTimeout&&setTimeout(_o.unload,911),this):new Promise(function(ae,me){try{var Ie=_o(hA(pi()),m);typeof _o.unload=="function"&&ur.setTimeout&&setTimeout(_o.unload,911),ae(Ie)}catch(rt){me(rt.message)}})},Xt.API)Xt.API.hasOwnProperty(ua)&&(ua==="events"&&Xt.API.events.length?function(m,Q){var ae,me,Ie;for(Ie=Q.length-1;Ie!==-1;Ie--)ae=Q[Ie][0],me=Q[Ie][1],m.subscribe.apply(m,[ae].concat(typeof me=="function"?[me]:me))}(At,Xt.API.events):h[ua]=Xt.API[ua]);function bA(m){return Et[m].mediaBox.topRightX-Et[m].mediaBox.bottomLeftX}function wo(m,Q){Et[m].mediaBox.topRightX=Q+Et[m].mediaBox.bottomLeftX}function vo(m){return Et[m].mediaBox.topRightY-Et[m].mediaBox.bottomLeftY}function yi(m,Q){Et[m].mediaBox.topRightY=Q+Et[m].mediaBox.bottomLeftY}var bi=h.getPageWidth=function(m){return bA(m=m||R)/we},yo=h.setPageWidth=function(m,Q){wo(m,Q*we)},da=h.getPageHeight=function(m){return vo(m=m||R)/we},bo=h.setPageHeight=function(m,Q){yi(m,Q*we)};return h.internal={pdfEscape:Ts,getStyle:po,getFont:cl,getFontSize:W,getCharSpace:xl,getTextColor:ml,getLineHeight:dl,getLineHeightFactor:fl,getLineWidth:ul,write:se,getHorizontalCoordinate:mi,getVerticalCoordinate:xi,getCoordinateString:pl,getVerticalCoordinateString:gl,collections:{},newObject:ar,newAdditionalObject:$r,newObjectDeferred:yt,newObjectDeferredBegin:or,getFilters:On,putStream:ds,events:At,scaleFactor:we,pageSize:{getWidth:function(){return bi(R)},setWidth:function(m){yo(R,m)},getHeight:function(){return da(R)},setHeight:function(m){bo(R,m)}},encryptionOptions:d,encryption:un,getEncryptor:function(m){return d!==null?un.encryptor(m,0):function(Q){return Q}},output:fA,getNumberOfPages:fo,get pages(){return Ye},out:F,f2:_,f3:E,getPageInfo:Di,getPageInfoByObjId:nr,getCurrentPageInfo:gi,getPDFVersion:v,Point:vi,Rectangle:vA,Matrix:Me,hasHotfix:wr},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return bi(R)},set:function(m){yo(R,m)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return da(R)},set:function(m){bo(R,m)},enumerable:!0,configurable:!0}),(function(m){for(var Q=0,ae=J.length;Q<ae;Q++){var me=nl.call(this,m[Q][0],m[Q][1],m[Q][2],J[Q][3],!0);p===!1&&(g[me]=!0);var Ie=m[Q][0].split("-");rl({id:me,fontName:Ie[0],fontStyle:Ie[1]||""})}At.publish("addFonts",{fonts:ge,dictionary:Qe})}).call(h,J),Z="F1",dr(s,r),At.publish("initialized"),h}Hl.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Hl.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Hl.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Hl.prototype.processOwnerPassword=function(t,e){return Hm(Rm(e).substr(0,5),t)},Hl.prototype.encryptor=function(t,e){var r=Rm(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Hm(r,n)}},Rf.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Hr(t)!==Hr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Xt.API={events:[]},Xt.version="4.1.0";var Nn=Xt.API,t1=1,tl=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ql=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Hf=function(t){return t.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var r=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(r.length===1?"0"+r:r)})},pr=function(t){return t.toFixed(2)},UA=function(t){return t.toFixed(5)};Nn.__acroform__={};var Vs=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},l2=function(t){return t*t1},Sa=function(t){var e=new M4,r=Dt.internal.getHeight(t)||0,n=Dt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(pr(n)),Number(pr(r))],e},Q6=Nn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},T6=Nn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},L6=Nn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Qn=Nn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return L6(t,e-1)},Tn=Nn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Q6(t,e-1)},Ln=Nn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return T6(t,e-1)},O6=Nn.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,s=t[0],i=t[1],A=t[2],o=t[3],l={};return l.lowerLeft_X=r(s)||0,l.lowerLeft_Y=n(i+o)||0,l.upperRight_X=r(s+A)||0,l.upperRight_Y=n(i)||0,[Number(pr(l.lowerLeft_X)),Number(pr(l.lowerLeft_Y)),Number(pr(l.upperRight_X)),Number(pr(l.upperRight_Y))]},P6=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=Mm(t,r),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+pr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Sa(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},Mm=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(_){return _.split(`
`)}):s.map(function(_){return[_]});var i=r,A=Dt.internal.getHeight(t)||0;A=A<0?-A:A;var o=Dt.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(_,E,G){if(_+1<s.length){var P=E+" "+s[_+1][0];return _h(P,t,G).width<=o-4}return!1};i++;e:for(;i>0;){e="",i--;var c,d,p=_h("3",t,i).height,g=t.multiline?A-i:(A-p)/2,h=g+=2,b=0,v=0,S=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+_h(e,t,i=12).width+", FieldWidth:"+o+`
`;break}for(var x="",y=0,B=0;B<s.length;B++)if(s.hasOwnProperty(B)){var j=!1;if(s[B].length!==1&&S!==s[B].length-1){if((p+2)*(y+2)+2>A)continue e;x+=s[B][S],j=!0,v=B,B--}else{x=(x+=s[B][S]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var O=parseInt(B),k=l(O,x,i),M=B>=s.length-1;if(k&&!M){x+=" ",S=0;continue}if(k||M){if(M)v=O;else if(t.multiline&&(p+2)*(y+2)+2>A)continue e}else{if(!t.multiline||(p+2)*(y+2)+2>A)continue e;v=O}}for(var K="",N=b;N<=v;N++){var H=s[N];if(t.multiline){if(N===v){K+=H[S]+" ",S=(S+1)%H.length;continue}if(N===b){K+=H[H.length-1]+" ";continue}}K+=H[0]+" "}switch(K=K.substr(K.length-1)==" "?K.substr(0,K.length-1):K,d=_h(K,t,i).width,t.textAlign){case"right":c=o-d-2;break;case"center":c=(o-d)/2;break;default:c=2}e+=pr(c)+" "+pr(h)+` Td
`,e+="("+tl(K)+`) Tj
`,e+=-pr(c)+` 0 Td
`,h=-(i+2),d=0,b=j?v:v+1,y++,x=""}break}return n.text=e,n.fontSize=i,n},_h=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},D6={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},R6=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},H6=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(aa.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(D6)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");t1=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new $4,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&R6(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var A in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(A)){var o=n[A],l=[],c=o.Rect;if(o.Rect&&(o.Rect=O6(o.Rect,s)),s.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Dt.createDefaultAppearanceStream(o),Hr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=P6(o);l.push({key:"AP",value:"<</N "+d+">>"}),s.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var p="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var h=o.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var A in h)if(h.hasOwnProperty(A)){var b=h[A];typeof b=="function"&&(b=b.call(s,o)),p+="/"+A+" "+b+" ",s.internal.acroformPlugin.xForms.indexOf(b)>=0||s.internal.acroformPlugin.xForms.push(b)}}else typeof(b=h)=="function"&&(b=b.call(s,o)),p+="/"+A+" "+b,s.internal.acroformPlugin.xForms.indexOf(b)>=0||s.internal.acroformPlugin.xForms.push(b);p+=">>"}l.push({key:"AP",value:`<<
`+p+">>"})}s.internal.putStream({additionalKeyValues:l,objectId:o.objId}),s.internal.out("endobj")}i&&function(v,S){for(var x in v)if(v.hasOwnProperty(x)){var y=x,B=v[x];S.internal.newObjectDeferredBegin(B.objId,!0),Hr(B)==="object"&&typeof B.putStream=="function"&&B.putStream(),delete v[y]}}(s.internal.acroformPlugin.xForms,s)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},H4=Nn.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(A){return A};if(Array.isArray(t)){for(var s="[",i=0;i<t.length;i++)switch(i!==0&&(s+=" "),Hr(t[i])){case"boolean":case"number":case"object":s+=t[i].toString();break;case"string":t[i].substr(0,1)==="/"?s+="/"+Hf(t[i].substr(1)):(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),s+="("+tl(n(t[i].toString()))+")")}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},tg=function(t,e,r){var n=function(s){return s};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+tl(n(t))+")"},Ea=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ea.prototype.toString=function(){return this.objId+" 0 R"},Ea.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ea.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],s=this[n];s&&(Array.isArray(s)?t.push({key:n,value:H4(s,this.objId,this.scope)}):s instanceof Ea?(s.scope=this.scope,t.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:n,value:s}))}return t};var M4=function(){Ea.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Vs(M4,Ea);var $4=function(){Ea.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+tl(r(t))+")"}},set:function(r){t=r}})};Vs($4,Ea);var aa=function t(){Ea.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Qn(e,3)},set:function(x){x?this.F=Tn(e,3):this.F=Ln(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Mf)return;i="FieldObject"+t.FieldNum++}var x=function(y){return y};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+tl(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var A="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return A},set:function(x){A=x}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/t1:c},set:function(x){c=x}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(x){d=x}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof Mf||this instanceof Ko))return tg(p,this.objId,this.scope)},set:function(x){x=x.toString(),p=x}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Zn==0?tg(g,this.objId,this.scope):g},set:function(x){x=x.toString(),g=this instanceof Zn==0?x.substr(0,1)==="("?Ql(x.substr(1,x.length-2)):Ql(x):x}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Zn==1?Ql(g.substr(1,g.length-1)):g},set:function(x){x=x.toString(),g=this instanceof Zn==1?"/"+Hf(x):x}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Zn==0?tg(h,this.objId,this.scope):h},set:function(x){x=x.toString(),h=this instanceof Zn==0?x.substr(0,1)==="("?Ql(x.substr(1,x.length-2)):Ql(x):x}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Zn==1?Ql(h.substr(1,h.length-1)):h},set:function(x){x=x.toString(),h=this instanceof Zn==1?"/"+Hf(x):x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(x){x=!!x,v=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(x){b=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,1)},set:function(x){x?this.Ff=Tn(this.Ff,1):this.Ff=Ln(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,2)},set:function(x){x?this.Ff=Tn(this.Ff,2):this.Ff=Ln(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,3)},set:function(x){x?this.Ff=Tn(this.Ff,3):this.Ff=Ln(this.Ff,3)}});var S=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(S!==null)return S},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');S=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(S){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:S=2;break;case"center":case 1:S=1;break;default:S=0}}})};Vs(aa,Ea);var dc=function(){aa.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return H4(e,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(i,A,o){o||(o=1);for(var l,c=[];l=A.exec(i);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,18)},set:function(r){r?this.Ff=Tn(this.Ff,18):this.Ff=Ln(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Tn(this.Ff,19):this.Ff=Ln(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,20)},set:function(r){r?(this.Ff=Tn(this.Ff,20),e.sort()):this.Ff=Ln(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,22)},set:function(r){r?this.Ff=Tn(this.Ff,22):this.Ff=Ln(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,23)},set:function(r){r?this.Ff=Tn(this.Ff,23):this.Ff=Ln(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,27)},set:function(r){r?this.Ff=Tn(this.Ff,27):this.Ff=Ln(this.Ff,27)}}),this.hasAppearanceStream=!1};Vs(dc,aa);var hc=function(){dc.call(this),this.fontName="helvetica",this.combo=!1};Vs(hc,dc);var fc=function(){hc.call(this),this.combo=!0};Vs(fc,hc);var Jh=function(){fc.call(this),this.edit=!0};Vs(Jh,fc);var Zn=function(){aa.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,15)},set:function(r){r?this.Ff=Tn(this.Ff,15):this.Ff=Ln(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,16)},set:function(r){r?this.Ff=Tn(this.Ff,16):this.Ff=Ln(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,17)},set:function(r){r?this.Ff=Tn(this.Ff,17):this.Ff=Ln(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,26)},set:function(r){r?this.Ff=Tn(this.Ff,26):this.Ff=Ln(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,s=[];for(n in s.push("<<"),e)s.push("/"+n+" ("+tl(r(e[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){Hr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+Hf(r)}})};Vs(Zn,aa);var Yh=function(){Zn.call(this),this.pushButton=!0};Vs(Yh,Zn);var pc=function(){Zn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Vs(pc,Zn);var Mf=function(){var t,e;aa.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(o){return o};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,A=[];for(i in A.push("<<"),n)A.push("/"+i+" ("+tl(s(n[i]))+")");return A.push(">>"),A.join(`
`)},set:function(s){Hr(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Dt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Vs(Mf,aa),pc.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},pc.prototype.createOption=function(t){var e=new Mf;return e.Parent=this,e.optionName=t,this.Kids.push(e),M6.call(this.scope,e),e};var Xh=function(){Zn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Dt.CheckBox.createAppearanceStream()};Vs(Xh,Zn);var Ko=function(){aa.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,13)},set:function(e){e?this.Ff=Tn(this.Ff,13):this.Ff=Ln(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,21)},set:function(e){e?this.Ff=Tn(this.Ff,21):this.Ff=Ln(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,23)},set:function(e){e?this.Ff=Tn(this.Ff,23):this.Ff=Ln(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,24)},set:function(e){e?this.Ff=Tn(this.Ff,24):this.Ff=Ln(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,25)},set:function(e){e?this.Ff=Tn(this.Ff,25):this.Ff=Ln(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,26)},set:function(e){e?this.Ff=Tn(this.Ff,26):this.Ff=Ln(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Vs(Ko,aa);var Zh=function(){Ko.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,14)},set:function(t){t?this.Ff=Tn(this.Ff,14):this.Ff=Ln(this.Ff,14)}}),this.password=!0};Vs(Zh,Ko);var Dt={CheckBox:{createAppearanceStream:function(){return{N:{On:Dt.CheckBox.YesNormal},D:{On:Dt.CheckBox.YesPushDown,Off:Dt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Sa(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=Mm(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+pr(Dt.internal.getWidth(t))+" "+pr(Dt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+pr(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Sa(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),s=[],i=Dt.internal.getHeight(t),A=Dt.internal.getWidth(t),o=Mm(t,t.caption);return s.push("1 g"),s.push("0 0 "+pr(A)+" "+pr(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+pr(A-1)+" "+pr(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+pr(o.fontSize)+" Tf "+n),s.push(o.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=Sa(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+pr(Dt.internal.getWidth(t))+" "+pr(Dt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Dt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Dt.RadioButton.Circle.YesNormal,e.D[t]=Dt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Sa(t);e.scope=t.scope;var r=[],n=Dt.internal.getWidth(t)<=Dt.internal.getHeight(t)?Dt.internal.getWidth(t)/4:Dt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Dt.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+UA(Dt.internal.getWidth(t)/2)+" "+UA(Dt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Sa(t);e.scope=t.scope;var r=[],n=Dt.internal.getWidth(t)<=Dt.internal.getHeight(t)?Dt.internal.getWidth(t)/4:Dt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Dt.internal.Bezier_C).toFixed(5)),A=Number((n*Dt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+UA(Dt.internal.getWidth(t)/2)+" "+UA(Dt.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+UA(Dt.internal.getWidth(t)/2)+" "+UA(Dt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+A+" "+A+" "+n+" 0 "+n+" c"),r.push("-"+A+" "+n+" -"+n+" "+A+" -"+n+" 0 c"),r.push("-"+n+" -"+A+" -"+A+" -"+n+" 0 -"+n+" c"),r.push(A+" -"+n+" "+n+" -"+A+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Sa(t);e.scope=t.scope;var r=[],n=Dt.internal.getWidth(t)<=Dt.internal.getHeight(t)?Dt.internal.getWidth(t)/4:Dt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*Dt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+UA(Dt.internal.getWidth(t)/2)+" "+UA(Dt.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Dt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Dt.RadioButton.Cross.YesNormal,e.D[t]=Dt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Sa(t);e.scope=t.scope;var r=[],n=Dt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+pr(Dt.internal.getWidth(t)-2)+" "+pr(Dt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(pr(n.x1.x)+" "+pr(n.x1.y)+" m"),r.push(pr(n.x2.x)+" "+pr(n.x2.y)+" l"),r.push(pr(n.x4.x)+" "+pr(n.x4.y)+" m"),r.push(pr(n.x3.x)+" "+pr(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Sa(t);e.scope=t.scope;var r=Dt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+pr(Dt.internal.getWidth(t))+" "+pr(Dt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+pr(Dt.internal.getWidth(t)-2)+" "+pr(Dt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(pr(r.x1.x)+" "+pr(r.x1.y)+" m"),n.push(pr(r.x2.x)+" "+pr(r.x2.y)+" l"),n.push(pr(r.x4.x)+" "+pr(r.x4.y)+" m"),n.push(pr(r.x3.x)+" "+pr(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Sa(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+pr(Dt.internal.getWidth(t))+" "+pr(Dt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Dt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Dt.internal.getWidth(t),r=Dt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Dt.internal.getWidth=function(t){var e=0;return Hr(t)==="object"&&(e=l2(t.Rect[2])),e},Dt.internal.getHeight=function(t){var e=0;return Hr(t)==="object"&&(e=l2(t.Rect[3])),e};var M6=Nn.addField=function(t){if(H6(this,t),!(t instanceof aa))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Nn.AcroFormChoiceField=dc,Nn.AcroFormListBox=hc,Nn.AcroFormComboBox=fc,Nn.AcroFormEditBox=Jh,Nn.AcroFormButton=Zn,Nn.AcroFormPushButton=Yh,Nn.AcroFormRadioButton=pc,Nn.AcroFormCheckBox=Xh,Nn.AcroFormTextField=Ko,Nn.AcroFormPasswordField=Zh,Nn.AcroFormAppearance=Dt,Nn.AcroForm={ChoiceField:dc,ListBox:hc,ComboBox:fc,EditBox:Jh,Button:Zn,PushButton:Yh,RadioButton:pc,CheckBox:Xh,TextField:Ko,PasswordField:Zh,Appearance:Dt},Xt.AcroForm={ChoiceField:dc,ListBox:hc,ComboBox:fc,EditBox:Jh,Button:Zn,PushButton:Yh,RadioButton:pc,CheckBox:Xh,TextField:Ko,PasswordField:Zh,Appearance:Dt};Xt.AcroForm;function K4(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=t.__addimage__.getImageFileTypeByImageData=function(_,E){var G,P,ee,ce,he,ie=r;if((E=E||r)==="RGBA"||_.data!==void 0&&_.data instanceof Uint8ClampedArray&&"height"in _&&"width"in _)return"RGBA";if(k(_))for(he in n)for(ee=n[he],G=0;G<ee.length;G+=1){for(ce=!0,P=0;P<ee[G].length;P+=1)if(ee[G][P]!==void 0&&ee[G][P]!==_[P]){ce=!1;break}if(ce===!0){ie=he;break}}else for(he in n)for(ee=n[he],G=0;G<ee.length;G+=1){for(ce=!0,P=0;P<ee[G].length;P+=1)if(ee[G][P]!==void 0&&ee[G][P]!==_.charCodeAt(P)){ce=!1;break}if(ce===!0){ie=he;break}}return ie===r&&E!==r&&(ie=E),ie},i=function _(E){for(var G=this.internal.write,P=this.internal.putStream,ee=(0,this.internal.getFilters)();ee.indexOf("FlateEncode")!==-1;)ee.splice(ee.indexOf("FlateEncode"),1);E.objectId=this.internal.newObject();var ce=[];if(ce.push({key:"Type",value:"/XObject"}),ce.push({key:"Subtype",value:"/Image"}),ce.push({key:"Width",value:E.width}),ce.push({key:"Height",value:E.height}),E.colorSpace===x.INDEXED?ce.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(E.palette.length/3-1)+" "+("sMask"in E&&E.sMask!==void 0?E.objectId+2:E.objectId+1)+" 0 R]"}):(ce.push({key:"ColorSpace",value:"/"+E.colorSpace}),E.colorSpace===x.DEVICE_CMYK&&ce.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ce.push({key:"BitsPerComponent",value:E.bitsPerComponent}),"decodeParameters"in E&&E.decodeParameters!==void 0&&ce.push({key:"DecodeParms",value:"<<"+E.decodeParameters+">>"}),"transparency"in E&&Array.isArray(E.transparency)&&E.transparency.length>0){for(var he="",ie=0,de=E.transparency.length;ie<de;ie++)he+=E.transparency[ie]+" "+E.transparency[ie]+" ";ce.push({key:"Mask",value:"["+he+"]"})}E.sMask!==void 0&&ce.push({key:"SMask",value:E.objectId+1+" 0 R"});var fe=E.filter!==void 0?["/"+E.filter]:void 0;if(P({data:E.data,additionalKeyValues:ce,alreadyAppliedFilters:fe,objectId:E.objectId}),G("endobj"),"sMask"in E&&E.sMask!==void 0){var ve,I=(ve=E.sMaskBitsPerComponent)!==null&&ve!==void 0?ve:E.bitsPerComponent,R={width:E.width,height:E.height,colorSpace:"DeviceGray",bitsPerComponent:I,data:E.sMask};"filter"in E&&(R.decodeParameters="/Predictor ".concat(E.predictor," /Colors 1 /BitsPerComponent ").concat(I," /Columns ").concat(E.width),R.filter=E.filter),_.call(this,R)}if(E.colorSpace===x.INDEXED){var te=this.internal.newObject();P({data:K(new Uint8Array(E.palette)),objectId:te}),G("endobj")}},A=function(){var _=this.internal.collections[e+"images"];for(var E in _)i.call(this,_[E])},o=function(){var _,E=this.internal.collections[e+"images"],G=this.internal.write;for(var P in E)G("/I"+(_=E[P]).index,_.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",A),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var _=this.internal.collections[e+"images"];return l.call(this),_},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},p=function(_){return typeof t["process"+_.toUpperCase()]=="function"},g=function(_){return Hr(_)==="object"&&_.nodeType===1},h=function(_,E){if(_.nodeName==="IMG"&&_.hasAttribute("src")){var G=""+_.getAttribute("src");if(G.indexOf("data:image/")===0)return Wh(unescape(G).split("base64,").pop());var P=t.loadFile(G,!0);if(P!==void 0)return P}if(_.nodeName==="CANVAS"){if(_.width===0||_.height===0)throw new Error("Given canvas must have data. Canvas width: "+_.width+", height: "+_.height);var ee;switch(E){case"PNG":ee="image/png";break;case"WEBP":ee="image/webp";break;default:ee="image/jpeg"}return Wh(_.toDataURL(ee,1).split("base64,").pop())}},b=function(_){var E=this.internal.collections[e+"images"];if(E){for(var G in E)if(_===E[G].alias)return E[G]}},v=function(_,E,G){return _||E||(_=-96,E=-96),_<0&&(_=-1*G.width*72/_/this.internal.scaleFactor),E<0&&(E=-1*G.height*72/E/this.internal.scaleFactor),_===0&&(_=E*G.width/G.height),E===0&&(E=_*G.height/G.width),[_,E]},S=function(_,E,G,P,ee,ce){var he=v.call(this,G,P,ee),ie=this.internal.getCoordinateString,de=this.internal.getVerticalCoordinateString,fe=c.call(this);if(G=he[0],P=he[1],fe[ee.index]=ee,ce){ce*=Math.PI/180;var ve=Math.cos(ce),I=Math.sin(ce),R=function(Y){return Y.toFixed(4)},te=[R(ve),R(I),R(-1*I),R(ve),0,0,"cm"]}this.internal.write("q"),ce?(this.internal.write([1,"0","0",1,ie(_),de(E+P),"cm"].join(" ")),this.internal.write(te.join(" ")),this.internal.write([ie(G),"0","0",ie(P),"0","0","cm"].join(" "))):this.internal.write([ie(G),"0","0",ie(P),ie(_),de(E+P),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ee.index+" Do"),this.internal.write("Q")},x=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},B=t.__addimage__.sHashCode=function(_){var E,G,P=0;if(typeof _=="string")for(G=_.length,E=0;E<G;E++)P=(P<<5)-P+_.charCodeAt(E),P|=0;else if(k(_))for(G=_.byteLength/2,E=0;E<G;E++)P=(P<<5)-P+_[E],P|=0;return P},j=t.__addimage__.validateStringAsBase64=function(_){(_=_||"").toString().trim();var E=!0;return _.length===0&&(E=!1),_.length%4!=0&&(E=!1),/^[A-Za-z0-9+/]+$/.test(_.substr(0,_.length-2))===!1&&(E=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(_.substr(-2))===!1&&(E=!1),E},O=t.__addimage__.extractImageFromDataUrl=function(_){if(_==null||!(_=_.trim()).startsWith("data:"))return null;var E=_.indexOf(",");return E<0?null:_.substring(0,E).trim().endsWith("base64")?_.substring(E+1):null};t.__addimage__.isArrayBuffer=function(_){return _ instanceof ArrayBuffer};var k=t.__addimage__.isArrayBufferView=function(_){return _ instanceof Int8Array||_ instanceof Uint8Array||_ instanceof Uint8ClampedArray||_ instanceof Int16Array||_ instanceof Uint16Array||_ instanceof Int32Array||_ instanceof Uint32Array||_ instanceof Float32Array||_ instanceof Float64Array},M=t.__addimage__.binaryStringToUint8Array=function(_){for(var E=_.length,G=new Uint8Array(E),P=0;P<E;P++)G[P]=_.charCodeAt(P);return G},K=t.__addimage__.arrayBufferToBinaryString=function(_){for(var E="",G=k(_)?_:new Uint8Array(_),P=0;P<G.length;P+=8192)E+=String.fromCharCode.apply(null,G.subarray(P,P+8192));return E};t.addImage=function(){var _,E,G,P,ee,ce,he,ie,de;if(typeof arguments[1]=="number"?(E=r,G=arguments[1],P=arguments[2],ee=arguments[3],ce=arguments[4],he=arguments[5],ie=arguments[6],de=arguments[7]):(E=arguments[1],G=arguments[2],P=arguments[3],ee=arguments[4],ce=arguments[5],he=arguments[6],ie=arguments[7],de=arguments[8]),Hr(_=arguments[0])==="object"&&!g(_)&&"imageData"in _){var fe=_;_=fe.imageData,E=fe.format||E||r,G=fe.x||G||0,P=fe.y||P||0,ee=fe.w||fe.width||ee,ce=fe.h||fe.height||ce,he=fe.alias||he,ie=fe.compression||ie,de=fe.rotation||fe.angle||de}var ve=this.internal.getFilters();if(ie===void 0&&ve.indexOf("FlateEncode")!==-1&&(ie="SLOW"),isNaN(G)||isNaN(P))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var I=N.call(this,_,E,he,ie);return S.call(this,G,P,ee,ce,I,de),this};var N=function(_,E,G,P){var ee,ce,he;if(typeof _=="string"&&s(_)===r){_=unescape(_);var ie=H(_,!1);(ie!==""||(ie=t.loadFile(_,!0))!==void 0)&&(_=ie)}if(g(_)&&(_=h(_,E)),E=s(_,E),!p(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(((he=G)==null||he.length===0)&&(G=function(de){return typeof de=="string"||k(de)?B(de):k(de.data)?B(de.data):null}(_)),(ee=b.call(this,G))||(_ instanceof Uint8Array||E==="RGBA"||(ce=_,_=M(_)),ee=this["process"+E.toUpperCase()](_,d.call(this),G,function(de){return de&&typeof de=="string"&&(de=de.toUpperCase()),de in t.image_compression?de:y.NONE}(P),ce)),!ee)throw new Error("An unknown error occurred whilst processing the image.");return ee},H=t.__addimage__.convertBase64ToBinaryString=function(_,E){E=typeof E!="boolean"||E;var G,P="";if(typeof _=="string"){var ee;G=(ee=O(_))!==null&&ee!==void 0?ee:_;try{P=Wh(G)}catch(ce){if(E)throw j(G)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ce.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return P};t.getImageProperties=function(_){var E,G,P="";if(g(_)&&(_=h(_)),typeof _=="string"&&s(_)===r&&((P=H(_,!1))===""&&(P=t.loadFile(_)||""),_=P),G=s(_),!p(G))throw new Error("addImage does not support files of type '"+G+"', please ensure that a plugin for '"+G+"' support is added.");if(_ instanceof Uint8Array||(_=M(_)),!(E=this["process"+G.toUpperCase()](_)))throw new Error("An unknown error occurred whilst processing the image");return E.fileType=G,E}})(Xt.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Xt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,s,i,A=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,d=!1,p=0;p<c.length&&!d;p++)switch((n=c[p]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var g=0;g<c.length;g++){n=c[g];var h=this.internal.pdfEscape,b=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),S=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(v.objId),y=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+A(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+A(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+h(x(n.contents))+")",i+=" /Popup "+S.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+h(x(y))+") >>",v.content=i;var B=v.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+A(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+A(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+B,n.open&&(i+=" /Open true"),i+=" >>",S.content=i,this.internal.write(v.objId,"0 R",S.objId,"0 R");break;case"freetext":s="/Rect ["+A(n.bounds.x)+" "+o(n.bounds.y)+" "+A(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var j=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+h(b(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var O=this.annotations._nameMap[n.options.name];n.options.pageNumber=O.page,n.options.top=O.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+h(b(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var k=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+k+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,s,i,A){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+s),h:c(n+i)},options:A,type:"link"})},t.textWithLink=function(r,n,s,i){var A,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var d=this.splitTextToSize(r,o).length;A=Math.ceil(c*d)}else o=l,A=c;return this.text(r,n,s,i),s+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,s-c,o,A,i),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Xt.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(v){return e[v.charCodeAt(0)]!==void 0},A=t.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},o=t.__arabicParser__.isArabicEndLetter=function(v){return A(v)&&i(v)&&e[v.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(v){return A(v)&&s.indexOf(v.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return A(v)&&i(v)&&e[v.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(v){return A(v)&&i(v)&&e[v.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(v){return A(v)&&i(v)&&e[v.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(v){return A(v)&&i(v)&&e[v.charCodeAt(0)].length==4},p=t.__arabicParser__.resolveLigatures=function(v){var S=0,x=r,y="",B=0;for(S=0;S<v.length;S+=1)x[v.charCodeAt(S)]!==void 0?(B++,typeof(x=x[v.charCodeAt(S)])=="number"&&(y+=String.fromCharCode(x),x=r,B=0),S===v.length-1&&(x=r,y+=v.charAt(S-(B-1)),S-=B-1,B=0)):(x=r,y+=v.charAt(S-B),S-=B,B=0);return y};t.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&n[v.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(v,S,x){return A(v)?i(v)===!1?-1:!c(v)||!A(S)&&!A(x)||!A(x)&&o(S)||o(v)&&!A(S)||o(v)&&l(S)||o(v)&&o(S)?0:d(v)&&A(S)&&!o(S)&&A(x)&&c(x)?3:o(v)||!A(x)?1:2:-1},h=function(v){var S=0,x=0,y=0,B="",j="",O="",k=(v=v||"").split("\\s+"),M=[];for(S=0;S<k.length;S+=1){for(M.push(""),x=0;x<k[S].length;x+=1)B=k[S][x],j=k[S][x-1],O=k[S][x+1],A(B)?(y=g(B,j,O),M[S]+=y!==-1?String.fromCharCode(e[B.charCodeAt(0)][y]):B):M[S]+=B;M[S]=p(M[S])}return M.join(" ")},b=t.__arabicParser__.processArabic=t.processArabic=function(){var v,S=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(S)){var y=0;for(x=[],y=0;y<S.length;y+=1)Array.isArray(S[y])?x.push([h(S[y][0]),S[y][1],S[y][2]]):x.push([h(S[y])]);v=x}else v=h(S);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};t.events.push(["preProcessText",b])}(Xt.API),Xt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(o){s=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var A={};Object.defineProperty(this,"style",{get:function(){return A},set:function(o){A=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Xt.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(v){l=v}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(v){g=v}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(v){b=v}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var d=(c=c||{}).fontSize||this.getFontSize(),p=c.font||this.getFont(),g=c.scaleFactor||this.internal.scaleFactor,h=0,b=0,v=0,S=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var x=c.maxWidth;x>0?typeof l=="string"?l=this.splitTextToSize(l,x):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(B,j){return B.concat(S.splitTextToSize(j,x))},[])):l=Array.isArray(l)?l:[l];for(var y=0;y<l.length;y++)h<(v=this.getStringUnitWidth(l[y],{font:p})*d)&&(h=v);return h!==0&&(b=l.length),{w:h/=g,h:Math.max((b*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var A=t.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var c=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=p.top,h&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,d,p,g){if(n.call(this),!d)throw new Error("No data for PDF table.");var h,b,v,S,x=[],y=[],B=[],j={},O={},k=[],M=[],K=(g=g||{}).autoSize||!1,N=g.printHeaders!==!1,H=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,_=g.margins||Object.assign({width:this.getPageWidth()},e),E=typeof g.padding=="number"?g.padding:3,G=g.headerBackgroundColor||"#c8c8c8",P=g.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=N,this.internal.__cell__.margins=_,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=G,this.internal.__cell__.headerTextColor=P,this.setFontSize(H),p==null)y=x=Object.keys(d[0]),B=x.map(function(){return"left"});else if(Array.isArray(p)&&Hr(p[0])==="object")for(x=p.map(function(fe){return fe.name}),y=p.map(function(fe){return fe.prompt||fe.name||""}),B=p.map(function(fe){return fe.align||"left"}),h=0;h<p.length;h+=1)O[p[h].name]=.7499990551181103*p[h].width;else Array.isArray(p)&&typeof p[0]=="string"&&(y=x=p,B=x.map(function(){return"left"}));if(K||Array.isArray(p)&&typeof p[0]=="string")for(h=0;h<x.length;h+=1){for(j[S=x[h]]=d.map(function(fe){return fe[S]}),this.setFont(void 0,"bold"),k.push(this.getTextDimensions(y[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=j[S],this.setFont(void 0,"normal"),v=0;v<b.length;v+=1)k.push(this.getTextDimensions(b[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);O[S]=Math.max.apply(null,k)+E+E,k=[]}if(N){var ee={};for(h=0;h<x.length;h+=1)ee[x[h]]={},ee[x[h]].text=y[h],ee[x[h]].align=B[h];var ce=o.call(this,ee,O);M=x.map(function(fe){return new i(l,c,O[fe],ce,ee[fe].text,void 0,ee[fe].align)}),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var he=p.reduce(function(fe,ve){return fe[ve.name]=ve.align,fe},{});for(h=0;h<d.length;h+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:h,data:d[h]},this);var ie=o.call(this,d[h],O);for(v=0;v<x.length;v+=1){var de=d[h][x[v]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:h,col:v,data:de},this),A.call(this,new i(l,c,O[x[v]],ie,de,h+2,he[x[v]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var d=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(h){var b=l[h];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,c[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*p/g+d+d},this).reduce(function(h,b){return Math.max(h,b)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(d.y=this.internal.__cell__.margins.top||0,g.push(d)),d.lineNumber=l;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),A.call(this,d),this.setTextColor(b)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),r=!1}}(Xt.API);var G4={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},V4=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],$m=K4(V4),z4=[100,200,300,400,500,600,700,800,900],$6=K4(z4);function rg(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return G4[i=i||"normal"]?i:"normal"}(t.style),n=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(t.weight),s=function(i){return typeof $m[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,r,n].join(" ")}}}function c2(t,e,r,n){var s;for(s=r;s>=0&&s<e.length;s+=n)if(t[e[s]])return t[e[s]];for(s=r;s>=0&&s<e.length;s-=n)if(t[e[s]])return t[e[s]]}var K6={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},u2={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function d2(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function h2(t){return t.trimLeft()}function G6(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function V6(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Tl,kh,f2,p2,g2,ng=["times"];function m2(t,e,r,n,s){var i=4,A=w2;switch(s){case Xt.API.image_compression.FAST:i=1,A=x2;break;case Xt.API.image_compression.MEDIUM:i=6,A=v2;break;case Xt.API.image_compression.SLOW:i=9,A=y2}t=function(l,c,d,p){for(var g,h=l.length/c,b=new Uint8Array(l.length+h),v=[z6,x2,w2,v2,y2],S=0;S<h;S+=1){var x=S*c,y=l.subarray(x,x+c);if(p)b.set(p(y,d,g),x+S);else{for(var B=v.length,j=[],O=0;O<B;O+=1)j[O]=v[O](y,d,g);var k=W6(j.concat());b.set(j[k],x+S)}g=y}return b}(t,e,Math.ceil(r*n/8),A);var o=Lm(t,{level:i});return Xt.API.__addimage__.arrayBufferToBinaryString(o)}function z6(t){var e=Array.apply([],t);return e.unshift(0),e}function x2(t,e){var r=t.length,n=[];n[0]=1;for(var s=0;s<r;s+=1){var i=t[s-e]||0;n[s+1]=t[s]-i+256&255}return n}function w2(t,e,r){var n=t.length,s=[];s[0]=2;for(var i=0;i<n;i+=1){var A=r&&r[i]||0;s[i+1]=t[i]-A+256&255}return s}function v2(t,e,r){var n=t.length,s=[];s[0]=3;for(var i=0;i<n;i+=1){var A=t[i-e]||0,o=r&&r[i]||0;s[i+1]=t[i]+256-(A+o>>>1)&255}return s}function y2(t,e,r){var n=t.length,s=[];s[0]=4;for(var i=0;i<n;i+=1){var A=q6(t[i-e]||0,r&&r[i]||0,r&&r[i-e]||0);s[i+1]=t[i]-A+256&255}return s}function q6(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),s=Math.abs(t-r),i=Math.abs(t+e-r-r);return n<=s&&n<=i?t:s<=i?e:r}function W6(t){var e=t.map(function(r){return r.reduce(function(n,s){return n+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function sg(t,e,r){var n=e*r,s=Math.floor(n/8),i=16-(n-8*s+r),A=(1<<r)-1;return q4(t,s)>>i&A}function b2(t,e,r,n){var s=r*n,i=Math.floor(s/8),A=16-(s-8*i+n),o=(1<<n)-1,l=(e&o)<<A;(function(c,d,p){if(d+1<c.byteLength)c.setUint16(d,p,!1);else{var g=p>>8&255;c.setUint8(d,g)}})(t,i,q4(t,i)&~(o<<A)&65535|l)}function q4(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function J6(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,s=t[e++],i=s>>7,A=1<<1+(7&s);t[e++],t[e++];var o=null,l=null;i&&(o=e,l=A,e+=3*A);var c=!0,d=[],p=0,g=null,h=0,b=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,b=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((_=t[e++])>=0))throw Error("Invalid block size");if(_===0)break;e+=_}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var v=t[e++];p=t[e++]|t[e++]<<8,g=t[e++],1&v||(g=null),h=v>>2&7,e++;break;case 254:for(;;){if(!((_=t[e++])>=0))throw Error("Invalid block size");if(_===0)break;e+=_}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var S=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,B=t[e++]|t[e++]<<8,j=t[e++],O=j>>6&1,k=1<<1+(7&j),M=o,K=l,N=!1;j>>7&&(N=!0,M=e,K=k,e+=3*k);var H=e;for(e++;;){var _;if(!((_=t[e++])>=0))throw Error("Invalid block size");if(_===0)break;e+=_}d.push({x:S,y:x,width:y,height:B,has_local_palette:N,palette_offset:M,palette_size:K,data_offset:H,data_length:e-H,transparent_index:g,interlaced:!!O,delay:p,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return b},this.frameInfo=function(E){if(E<0||E>=d.length)throw new Error("Frame index out of range.");return d[E]},this.decodeAndBlitFrameBGRA=function(E,G){var P=this.frameInfo(E),ee=P.width*P.height,ce=new Uint8Array(ee);B2(t,P.data_offset,ce,ee);var he=P.palette_offset,ie=P.transparent_index;ie===null&&(ie=256);var de=P.width,fe=r-de,ve=de,I=4*(P.y*r+P.x),R=4*((P.y+P.height)*r+P.x),te=I,Y=4*fe;P.interlaced===!0&&(Y+=4*r*7);for(var le=8,pe=0,Fe=ce.length;pe<Fe;++pe){var be=ce[pe];if(ve===0&&(ve=de,(te+=Y)>=R&&(Y=4*fe+4*r*(le-1),te=I+(de+fe)*(le<<1),le>>=1)),be===ie)te+=4;else{var Oe=t[he+3*be],Ye=t[he+3*be+1],ht=t[he+3*be+2];G[te++]=ht,G[te++]=Ye,G[te++]=Oe,G[te++]=255}--ve}},this.decodeAndBlitFrameRGBA=function(E,G){var P=this.frameInfo(E),ee=P.width*P.height,ce=new Uint8Array(ee);B2(t,P.data_offset,ce,ee);var he=P.palette_offset,ie=P.transparent_index;ie===null&&(ie=256);var de=P.width,fe=r-de,ve=de,I=4*(P.y*r+P.x),R=4*((P.y+P.height)*r+P.x),te=I,Y=4*fe;P.interlaced===!0&&(Y+=4*r*7);for(var le=8,pe=0,Fe=ce.length;pe<Fe;++pe){var be=ce[pe];if(ve===0&&(ve=de,(te+=Y)>=R&&(Y=4*fe+4*r*(le-1),te=I+(de+fe)*(le<<1),le>>=1)),be===ie)te+=4;else{var Oe=t[he+3*be],Ye=t[he+3*be+1],ht=t[he+3*be+2];G[te++]=Oe,G[te++]=Ye,G[te++]=ht,G[te++]=255}--ve}}}function B2(t,e,r,n){for(var s=t[e++],i=1<<s,A=i+1,o=A+1,l=s+1,c=(1<<l)-1,d=0,p=0,g=0,h=t[e++],b=new Int32Array(4096),v=null;;){for(;d<16&&h!==0;)p|=t[e++]<<d,d+=8,h===1?h=t[e++]:--h;if(d<l)break;var S=p&c;if(p>>=l,d-=l,S!==i){if(S===A)break;for(var x=S<o?S:v,y=0,B=x;B>i;)B=b[B]>>8,++y;var j=B;if(g+y+(x!==S?1:0)>n)return void zr.log("Warning, gif stream longer than expected.");r[g++]=j;var O=g+=y;for(x!==S&&(r[g++]=j),B=x;y--;)B=b[B],r[--O]=255&B,B>>=8;v!==null&&o<4096&&(b[o++]=v<<8|j,o>=c+1&&l<12&&(++l,c=c<<1|1)),v=S}else o=A+1,c=(1<<(l=s+1))-1,v=null}return g!==n&&zr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function ig(t){var e,r,n,s,i,A=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),p=new Array(65535),g=new Array(65535),h=new Array(64),b=new Array(64),v=[],S=0,x=7,y=new Array(64),B=new Array(64),j=new Array(64),O=new Array(256),k=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],K=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],_=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ee=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ce(I,R){for(var te=0,Y=0,le=new Array,pe=1;pe<=16;pe++){for(var Fe=1;Fe<=I[pe];Fe++)le[R[Y]]=[],le[R[Y]][0]=te,le[R[Y]][1]=pe,Y++,te++;te*=2}return le}function he(I){for(var R=I[0],te=I[1]-1;te>=0;)R&1<<te&&(S|=1<<x),te--,--x<0&&(S==255?(ie(255),ie(0)):ie(S),x=7,S=0)}function ie(I){v.push(I)}function de(I){ie(I>>8&255),ie(255&I)}function fe(I,R,te,Y,le){for(var pe,Fe=le[0],be=le[240],Oe=function(ne,Ne){var W,He,Ve,$e,Je,ct,Be,Ce,Z,we,_e=0;for(Z=0;Z<8;++Z){W=ne[_e],He=ne[_e+1],Ve=ne[_e+2],$e=ne[_e+3],Je=ne[_e+4],ct=ne[_e+5],Be=ne[_e+6];var Xe=W+(Ce=ne[_e+7]),Ge=W-Ce,ge=He+Be,Qe=He-Be,ft=Ve+ct,at=Ve-ct,vt=$e+Je,pt=$e-Je,xt=Xe+vt,Bt=Xe-vt,Kt=ge+ft,Et=ge-ft;ne[_e]=xt+Kt,ne[_e+4]=xt-Kt;var At=.707106781*(Et+Bt);ne[_e+2]=Bt+At,ne[_e+6]=Bt-At;var Br=.382683433*((xt=pt+at)-(Et=Qe+Ge)),L=.5411961*xt+Br,Ue=1.306562965*Et+Br,st=.707106781*(Kt=at+Qe),Me=Ge+st,Rt=Ge-st;ne[_e+5]=Rt+L,ne[_e+3]=Rt-L,ne[_e+1]=Me+Ue,ne[_e+7]=Me-Ue,_e+=8}for(_e=0,Z=0;Z<8;++Z){W=ne[_e],He=ne[_e+8],Ve=ne[_e+16],$e=ne[_e+24],Je=ne[_e+32],ct=ne[_e+40],Be=ne[_e+48];var fr=W+(Ce=ne[_e+56]),_t=W-Ce,xr=He+Be,ar=He-Be,yt=Ve+ct,or=Ve-ct,$r=$e+Je,an=$e-Je,qr=fr+$r,xn=fr-$r,mt=xr+yt,On=xr-yt;ne[_e]=qr+mt,ne[_e+32]=qr-mt;var ds=.707106781*(On+xn);ne[_e+16]=xn+ds,ne[_e+48]=xn-ds;var hi=.382683433*((qr=an+or)-(On=ar+_t)),Qr=.5411961*qr+hi,Ta=1.306562965*On+hi,cA=.707106781*(mt=or+ar),fi=_t+cA,La=_t-cA;ne[_e+40]=La+Qr,ne[_e+24]=La-Qr,ne[_e+8]=fi+Ta,ne[_e+56]=fi-Ta,_e++}for(Z=0;Z<64;++Z)we=ne[Z]*Ne[Z],h[Z]=we>0?we+.5|0:we-.5|0;return h}(I,R),Ye=0;Ye<64;++Ye)b[M[Ye]]=Oe[Ye];var ht=b[0]-te;te=b[0],ht==0?he(Y[0]):(he(Y[g[pe=32767+ht]]),he(p[pe]));for(var ue=63;ue>0&&b[ue]==0;)ue--;if(ue==0)return he(Fe),te;for(var qe,F=1;F<=ue;){for(var se=F;b[F]==0&&F<=ue;)++F;var Ke=F-se;if(Ke>=16){qe=Ke>>4;for(var J=1;J<=qe;++J)he(be);Ke&=15}pe=32767+b[F],he(le[(Ke<<4)+g[pe]]),he(p[pe]),F++}return ue!=63&&he(Fe),te}function ve(I){I=Math.min(Math.max(I,1),100),i!=I&&(function(R){for(var te=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var le=A((te[Y]*R+50)/100);le=Math.min(Math.max(le,1),255),o[M[Y]]=le}for(var pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Fe=0;Fe<64;Fe++){var be=A((pe[Fe]*R+50)/100);be=Math.min(Math.max(be,1),255),l[M[Fe]]=be}for(var Oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ye=0,ht=0;ht<8;ht++)for(var ue=0;ue<8;ue++)c[Ye]=1/(o[M[Ye]]*Oe[ht]*Oe[ue]*8),d[Ye]=1/(l[M[Ye]]*Oe[ht]*Oe[ue]*8),Ye++}(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),i=I)}this.encode=function(I,R){R&&ve(R),v=new Array,S=0,x=7,de(65496),de(65504),de(16),ie(74),ie(70),ie(73),ie(70),ie(0),ie(1),ie(1),ie(0),de(1),de(1),ie(0),ie(0),function(){de(65499),de(132),ie(0);for(var He=0;He<64;He++)ie(o[He]);ie(1);for(var Ve=0;Ve<64;Ve++)ie(l[Ve])}(),function(He,Ve){de(65472),de(17),ie(8),de(Ve),de(He),ie(3),ie(1),ie(17),ie(0),ie(2),ie(17),ie(1),ie(3),ie(17),ie(1)}(I.width,I.height),function(){de(65476),de(418),ie(0);for(var He=0;He<16;He++)ie(K[He+1]);for(var Ve=0;Ve<=11;Ve++)ie(N[Ve]);ie(16);for(var $e=0;$e<16;$e++)ie(H[$e+1]);for(var Je=0;Je<=161;Je++)ie(_[Je]);ie(1);for(var ct=0;ct<16;ct++)ie(E[ct+1]);for(var Be=0;Be<=11;Be++)ie(G[Be]);ie(17);for(var Ce=0;Ce<16;Ce++)ie(P[Ce+1]);for(var Z=0;Z<=161;Z++)ie(ee[Z])}(),de(65498),de(12),ie(3),ie(1),ie(0),ie(2),ie(17),ie(3),ie(17),ie(0),ie(63),ie(0);var te=0,Y=0,le=0;S=0,x=7,this.encode.displayName="_encode_";for(var pe,Fe,be,Oe,Ye,ht,ue,qe,F,se=I.data,Ke=I.width,J=I.height,ne=4*Ke,Ne=0;Ne<J;){for(pe=0;pe<ne;){for(Ye=ne*Ne+pe,ue=-1,qe=0,F=0;F<64;F++)ht=Ye+(qe=F>>3)*ne+(ue=4*(7&F)),Ne+qe>=J&&(ht-=ne*(Ne+1+qe-J)),pe+ue>=ne&&(ht-=pe+ue-ne+4),Fe=se[ht++],be=se[ht++],Oe=se[ht++],y[F]=(k[Fe]+k[be+256|0]+k[Oe+512|0]>>16)-128,B[F]=(k[Fe+768|0]+k[be+1024|0]+k[Oe+1280|0]>>16)-128,j[F]=(k[Fe+1280|0]+k[be+1536|0]+k[Oe+1792|0]>>16)-128;te=fe(y,c,te,e,n),Y=fe(B,d,Y,r,s),le=fe(j,d,le,r,s),pe+=32}Ne+=8}if(x>=0){var W=[];W[1]=x+1,W[0]=(1<<x+1)-1,he(W)}return de(65497),new Uint8Array(v)},t=t||50,function(){for(var I=String.fromCharCode,R=0;R<256;R++)O[R]=I(R)}(),e=ce(K,N),r=ce(E,G),n=ce(H,_),s=ce(P,ee),function(){for(var I=1,R=2,te=1;te<=15;te++){for(var Y=I;Y<R;Y++)g[32767+Y]=te,p[32767+Y]=[],p[32767+Y][1]=te,p[32767+Y][0]=Y;for(var le=-(R-1);le<=-I;le++)g[32767+le]=te,p[32767+le]=[],p[32767+le][1]=te,p[32767+le][0]=R-1+le;I<<=1,R<<=1}}(),function(){for(var I=0;I<256;I++)k[I]=19595*I,k[I+256|0]=38470*I,k[I+512|0]=7471*I+32768,k[I+768|0]=-11059*I,k[I+1024|0]=-21709*I,k[I+1280|0]=32768*I+8421375,k[I+1536|0]=-27439*I,k[I+1792|0]=-5329*I}(),ve(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function zi(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function C2(t){function e(N){if(!N)throw Error("assert :P")}function r(N,H,_){for(var E=0;4>E;E++)if(N[H+E]!=_.charCodeAt(E))return!0;return!1}function n(N,H,_,E,G){for(var P=0;P<G;P++)N[H+P]=_[E+P]}function s(N,H,_,E){for(var G=0;G<E;G++)N[H+G]=_}function i(N){return new Int32Array(N)}function A(N,H){for(var _=[],E=0;E<N;E++)_.push(new H);return _}function o(N,H){var _=[];return function E(G,P,ee){for(var ce=ee[P],he=0;he<ce&&(G.push(ee.length>P+1?[]:new H),!(ee.length<P+1));he++)E(G[he],P+1,ee)}(_,0,N),_}var l=function(){var N=this;function H(u,f){for(var w=1<<f-1>>>0;u&w;)w>>>=1;return w?(u&w-1)+w:u}function _(u,f,w,C,T){e(!(C%w));do u[f+(C-=w)]=T;while(0<C)}function E(u,f,w,C,T){if(e(2328>=T),512>=T)var D=i(512);else if((D=i(T))==null)return 0;return function($,V,X,Ae,ye,Re){var oe,je,Le=V,tt=1<<X,De=i(16),nt=i(16);for(e(ye!=0),e(Ae!=null),e($!=null),e(0<X),je=0;je<ye;++je){if(15<Ae[je])return 0;++De[Ae[je]]}if(De[0]==ye)return 0;for(nt[1]=0,oe=1;15>oe;++oe){if(De[oe]>1<<oe)return 0;nt[oe+1]=nt[oe]+De[oe]}for(je=0;je<ye;++je)oe=Ae[je],0<Ae[je]&&(Re[nt[oe]++]=je);if(nt[15]==1)return(Ae=new G).g=0,Ae.value=Re[0],_($,Le,1,tt,Ae),tt;var it,gt=-1,ut=tt-1,Jt=0,Pt=1,vr=1,Mt=1<<X;for(je=0,oe=1,ye=2;oe<=X;++oe,ye<<=1){if(Pt+=vr<<=1,0>(vr-=De[oe]))return 0;for(;0<De[oe];--De[oe])(Ae=new G).g=oe,Ae.value=Re[je++],_($,Le+Jt,ye,Mt,Ae),Jt=H(Jt,oe)}for(oe=X+1,ye=2;15>=oe;++oe,ye<<=1){if(Pt+=vr<<=1,0>(vr-=De[oe]))return 0;for(;0<De[oe];--De[oe]){if(Ae=new G,(Jt&ut)!=gt){for(Le+=Mt,it=1<<(gt=oe)-X;15>gt&&!(0>=(it-=De[gt]));)++gt,it<<=1;tt+=Mt=1<<(it=gt-X),$[V+(gt=Jt&ut)].g=it+X,$[V+gt].value=Le-V-gt}Ae.g=oe-X,Ae.value=Re[je++],_($,Le+(Jt>>X),ye,Mt,Ae),Jt=H(Jt,oe)}}return Pt!=2*nt[15]-1?0:tt}(u,f,w,C,T,D)}function G(){this.value=this.g=0}function P(){this.value=this.g=0}function ee(){this.G=A(5,G),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=A(Ze,P)}function ce(u,f,w,C){e(u!=null),e(f!=null),e(2147483648>C),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=f,u.pa=w,u.Jd=f,u.Yc=w+C,u.Zc=4<=C?w+C-4+1:w,Fe(u)}function he(u,f){for(var w=0;0<f--;)w|=Oe(u,128)<<f;return w}function ie(u,f){var w=he(u,f);return be(u)?-w:w}function de(u,f,w,C){var T,D=0;for(e(u!=null),e(f!=null),e(4294967288>C),u.Sb=C,u.Ra=0,u.u=0,u.h=0,4<C&&(C=4),T=0;T<C;++T)D+=f[w+T]<<8*T;u.Ra=D,u.bb=C,u.oa=f,u.pa=w}function fe(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<Zt-8>>>0,++u.bb,u.u-=8;Y(u)&&(u.h=1,u.u=0)}function ve(u,f){if(e(0<=f),!u.h&&f<=Ct){var w=te(u)&Gt[f];return u.u+=f,fe(u),w}return u.h=1,u.u=0}function I(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function te(u){return u.Ra>>>(u.u&Zt-1)>>>0}function Y(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>Zt}function le(u,f){u.u=f,u.h=Y(u)}function pe(u){u.u>=Se&&(e(u.u>=Se),fe(u))}function Fe(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function be(u){return he(u,1)}function Oe(u,f){var w=u.Ca;0>u.b&&Fe(u);var C=u.b,T=w*f>>>8,D=(u.I>>>C>T)+0;for(D?(w-=T,u.I-=T+1<<C>>>0):w=T+1,C=w,T=0;256<=C;)T+=8,C>>=8;return C=7^T+Qt[C],u.b-=C,u.Ca=(w<<C)-1,D}function Ye(u,f,w){u[f+0]=w>>24&255,u[f+1]=w>>16&255,u[f+2]=w>>8&255,u[f+3]=255&w}function ht(u,f){return u[f+0]|u[f+1]<<8}function ue(u,f){return ht(u,f)|u[f+2]<<16}function qe(u,f){return ht(u,f)|ht(u,f+2)<<16}function F(u,f){var w=1<<f;return e(u!=null),e(0<f),u.X=i(w),u.X==null?0:(u.Mb=32-f,u.Xa=f,1)}function se(u,f){e(u!=null),e(f!=null),e(u.Xa==f.Xa),n(f.X,0,u.X,0,1<<f.Xa)}function Ke(){this.X=[],this.Xa=this.Mb=0}function J(u,f,w,C){e(w!=null),e(C!=null);var T=w[0],D=C[0];return T==0&&(T=(u*D+f/2)/f),D==0&&(D=(f*T+u/2)/u),0>=T||0>=D?0:(w[0]=T,C[0]=D,1)}function ne(u,f){return u+(1<<f)-1>>>f}function Ne(u,f){return((4278255360&u)+(4278255360&f)>>>0&4278255360)+((16711935&u)+(16711935&f)>>>0&16711935)>>>0}function W(u,f){N[f]=function(w,C,T,D,$,V,X){var Ae;for(Ae=0;Ae<$;++Ae){var ye=N[u](V[X+Ae-1],T,D+Ae);V[X+Ae]=Ne(w[C+Ae],ye)}}}function He(){this.ud=this.hd=this.jd=0}function Ve(u,f){return((4278124286&(u^f))>>>1)+(u&f)>>>0}function $e(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function Je(u,f){return $e(u+(u-f+.5>>1))}function ct(u,f,w){return Math.abs(f-w)-Math.abs(u-w)}function Be(u,f,w,C,T,D,$){for(C=D[$-1],w=0;w<T;++w)D[$+w]=C=Ne(u[f+w],C)}function Ce(u,f,w,C,T){var D;for(D=0;D<w;++D){var $=u[f+D],V=$>>8&255,X=16711935&(X=(X=16711935&$)+((V<<16)+V));C[T+D]=(4278255360&$)+X>>>0}}function Z(u,f){f.jd=255&u,f.hd=u>>8&255,f.ud=u>>16&255}function we(u,f,w,C,T,D){var $;for($=0;$<C;++$){var V=f[w+$],X=V>>>8,Ae=V,ye=255&(ye=(ye=V>>>16)+((u.jd<<24>>24)*(X<<24>>24)>>>5));Ae=255&(Ae=(Ae+=(u.hd<<24>>24)*(X<<24>>24)>>>5)+((u.ud<<24>>24)*(ye<<24>>24)>>>5)),T[D+$]=(4278255360&V)+(ye<<16)+Ae}}function _e(u,f,w,C,T){N[f]=function(D,$,V,X,Ae,ye,Re,oe,je){for(X=Re;X<oe;++X)for(Re=0;Re<je;++Re)Ae[ye++]=T(V[C(D[$++])])},N[u]=function(D,$,V,X,Ae,ye,Re){var oe=8>>D.b,je=D.Ea,Le=D.K[0],tt=D.w;if(8>oe)for(D=(1<<D.b)-1,tt=(1<<oe)-1;$<V;++$){var De,nt=0;for(De=0;De<je;++De)De&D||(nt=C(X[Ae++])),ye[Re++]=T(Le[nt&tt]),nt>>=oe}else N["VP8LMapColor"+w](X,Ae,Le,tt,ye,Re,$,V,je)}}function Xe(u,f,w,C,T){for(w=f+w;f<w;){var D=u[f++];C[T++]=D>>16&255,C[T++]=D>>8&255,C[T++]=255&D}}function Ge(u,f,w,C,T){for(w=f+w;f<w;){var D=u[f++];C[T++]=D>>16&255,C[T++]=D>>8&255,C[T++]=255&D,C[T++]=D>>24&255}}function ge(u,f,w,C,T){for(w=f+w;f<w;){var D=($=u[f++])>>16&240|$>>12&15,$=240&$|$>>28&15;C[T++]=D,C[T++]=$}}function Qe(u,f,w,C,T){for(w=f+w;f<w;){var D=($=u[f++])>>16&248|$>>13&7,$=$>>5&224|$>>3&31;C[T++]=D,C[T++]=$}}function ft(u,f,w,C,T){for(w=f+w;f<w;){var D=u[f++];C[T++]=255&D,C[T++]=D>>8&255,C[T++]=D>>16&255}}function at(u,f,w,C,T,D){if(D==0)for(w=f+w;f<w;)Ye(C,((D=u[f++])[0]>>24|D[1]>>8&65280|D[2]<<8&16711680|D[3]<<24)>>>0),T+=32;else n(C,T,u,f,w)}function vt(u,f){N[f][0]=N[u+"0"],N[f][1]=N[u+"1"],N[f][2]=N[u+"2"],N[f][3]=N[u+"3"],N[f][4]=N[u+"4"],N[f][5]=N[u+"5"],N[f][6]=N[u+"6"],N[f][7]=N[u+"7"],N[f][8]=N[u+"8"],N[f][9]=N[u+"9"],N[f][10]=N[u+"10"],N[f][11]=N[u+"11"],N[f][12]=N[u+"12"],N[f][13]=N[u+"13"],N[f][14]=N[u+"0"],N[f][15]=N[u+"0"]}function pt(u){return u==b0||u==B0||u==bd||u==C0}function xt(){this.eb=[],this.size=this.A=this.fb=0}function Bt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Kt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new xt,this.f.kb=new Bt,this.sd=null}function Et(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function At(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Br(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function L(u,f){var w=u.T,C=f.ba.f.RGBA,T=C.eb,D=C.fb+u.ka*C.A,$=Si[f.ba.S],V=u.y,X=u.O,Ae=u.f,ye=u.N,Re=u.ea,oe=u.W,je=f.cc,Le=f.dc,tt=f.Mc,De=f.Nc,nt=u.ka,it=u.ka+u.T,gt=u.U,ut=gt+1>>1;for(nt==0?$(V,X,null,null,Ae,ye,Re,oe,Ae,ye,Re,oe,T,D,null,null,gt):($(f.ec,f.fc,V,X,je,Le,tt,De,Ae,ye,Re,oe,T,D-C.A,T,D,gt),++w);nt+2<it;nt+=2)je=Ae,Le=ye,tt=Re,De=oe,ye+=u.Rc,oe+=u.Rc,D+=2*C.A,$(V,(X+=2*u.fa)-u.fa,V,X,je,Le,tt,De,Ae,ye,Re,oe,T,D-C.A,T,D,gt);return X+=u.fa,u.j+it<u.o?(n(f.ec,f.fc,V,X,gt),n(f.cc,f.dc,Ae,ye,ut),n(f.Mc,f.Nc,Re,oe,ut),w--):1&it||$(V,X,null,null,Ae,ye,Re,oe,Ae,ye,Re,oe,T,D+C.A,null,null,gt),w}function Ue(u,f,w){var C=u.F,T=[u.J];if(C!=null){var D=u.U,$=f.ba.S,V=$==yd||$==bd;f=f.ba.f.RGBA;var X=[0],Ae=u.ka;X[0]=u.T,u.Kb&&(Ae==0?--X[0]:(--Ae,T[0]-=u.width),u.j+u.ka+u.T==u.o&&(X[0]=u.o-u.j-Ae));var ye=f.eb;Ae=f.fb+Ae*f.A,u=a1(C,T[0],u.width,D,X,ye,Ae+(V?0:3),f.A),e(w==X),u&&pt($)&&Uc(ye,Ae,V,D,X,f.A)}return 0}function st(u){var f=u.ma,w=f.ba.S,C=11>w,T=w==wd||w==vd||w==yd||w==y0||w==12||pt(w);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!Ee(f.Oa,u,T?11:12))return 0;if(T&&pt(w)&&BA(),u.da)alert("todo:use_scaling");else{if(C){if(f.Ib=Br,u.Kb){if(w=u.U+1>>1,f.memory=i(u.U+2*w),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+u.U,f.Mc=f.cc,f.Nc=f.dc+w,f.Ib=L,BA()}}else alert("todo:EmitYUV");T&&(f.Jb=Ue,C&&Os())}if(C&&!b1){for(u=0;256>u;++u)pC[u]=89858*(u-128)+Cd>>Bd,xC[u]=-22014*(u-128)+Cd,mC[u]=-45773*(u-128),gC[u]=113618*(u-128)+Cd>>Bd;for(u=Qc;u<j0;++u)f=76283*(u-16)+Cd>>Bd,wC[u-Qc]=zs(f,255),vC[u-Qc]=zs(f+8>>4,15);b1=1}return 1}function Me(u){var f=u.ma,w=u.U,C=u.T;return e(!(1&u.ka)),0>=w||0>=C?0:(w=f.Ib(u,f),f.Jb!=null&&f.Jb(u,f,w),f.Dc+=w,1)}function Rt(u){u.ma.memory=null}function fr(u,f,w,C){return ve(u,8)!=47?0:(f[0]=ve(u,14)+1,w[0]=ve(u,14)+1,C[0]=ve(u,1),ve(u,3)!=0?0:!u.h)}function _t(u,f){if(4>u)return u+1;var w=u-2>>1;return(2+(1&u)<<w)+ve(f,w)+1}function xr(u,f){return 120<f?f-120:1<=(w=((w=tC[f-1])>>4)*u+(8-(15&w)))?w:1;var w}function ar(u,f,w){var C=te(w),T=u[f+=255&C].g-8;return 0<T&&(le(w,w.u+8),C=te(w),f+=u[f].value,f+=C&(1<<T)-1),le(w,w.u+u[f].g),u[f].value}function yt(u,f,w){return w.g+=u.g,w.value+=u.value<<f>>>0,e(8>=w.g),u.g}function or(u,f,w){var C=u.xc;return e((f=C==0?0:u.vc[u.md*(w>>C)+(f>>C)])<u.Wb),u.Ya[f]}function $r(u,f,w,C){var T=u.ab,D=u.c*f,$=u.C;f=$+f;var V=w,X=C;for(C=u.Ta,w=u.Ua;0<T--;){var Ae=u.gc[T],ye=$,Re=f,oe=V,je=X,Le=(X=C,V=w,Ae.Ea);switch(e(ye<Re),e(Re<=Ae.nc),Ae.hc){case 2:Nt(oe,je,(Re-ye)*Le,X,V);break;case 0:var tt=ye,De=Re,nt=X,it=V,gt=(Mt=Ae).Ea;tt==0&&(er(oe,je,null,null,1,nt,it),Be(oe,je+1,0,0,gt-1,nt,it+1),je+=gt,it+=gt,++tt);for(var ut=1<<Mt.b,Jt=ut-1,Pt=ne(gt,Mt.b),vr=Mt.K,Mt=Mt.w+(tt>>Mt.b)*Pt;tt<De;){var Fr=vr,$n=Mt,yr=1;for(et(oe,je,nt,it-gt,1,nt,it);yr<gt;){var $t=(yr&~Jt)+ut;$t>gt&&($t=gt),(0,qt[Fr[$n++]>>8&15])(oe,je+ +yr,nt,it+yr-gt,$t-yr,nt,it+yr),yr=$t}je+=gt,it+=gt,++tt&Jt||(Mt+=Pt)}Re!=Ae.nc&&n(X,V-Le,X,V+(Re-ye-1)*Le,Le);break;case 1:for(Le=oe,De=je,gt=(oe=Ae.Ea)-(it=oe&~(nt=(je=1<<Ae.b)-1)),tt=ne(oe,Ae.b),ut=Ae.K,Ae=Ae.w+(ye>>Ae.b)*tt;ye<Re;){for(Jt=ut,Pt=Ae,vr=new He,Mt=De+it,Fr=De+oe;De<Mt;)Z(Jt[Pt++],vr),gr(vr,Le,De,je,X,V),De+=je,V+=je;De<Fr&&(Z(Jt[Pt++],vr),gr(vr,Le,De,gt,X,V),De+=gt,V+=gt),++ye&nt||(Ae+=tt)}break;case 3:if(oe==X&&je==V&&0<Ae.b){for(De=X,oe=Le=V+(Re-ye)*Le-(it=(Re-ye)*ne(Ae.Ea,Ae.b)),je=X,nt=V,tt=[],it=(gt=it)-1;0<=it;--it)tt[it]=je[nt+it];for(it=gt-1;0<=it;--it)De[oe+it]=tt[it];kt(Ae,ye,Re,X,Le,X,V)}else kt(Ae,ye,Re,oe,je,X,V)}V=C,X=w}X!=w&&n(C,w,V,X,D)}function an(u,f){var w=u.V,C=u.Ba+u.c*u.C,T=f-u.C;if(e(f<=u.l.o),e(16>=T),0<T){var D=u.l,$=u.Ta,V=u.Ua,X=D.width;if($r(u,T,w,C),T=V=[V],e((w=u.C)<(C=f)),e(D.v<D.va),C>D.o&&(C=D.o),w<D.j){var Ae=D.j-w;w=D.j,T[0]+=Ae*X}if(w>=C?w=0:(T[0]+=4*D.v,D.ka=w-D.j,D.U=D.va-D.v,D.T=C-w,w=1),w){if(V=V[0],11>(w=u.ca).S){var ye=w.f.RGBA,Re=(C=w.S,T=D.U,D=D.T,Ae=ye.eb,ye.A),oe=D;for(ye=ye.fb+u.Ma*ye.A;0<oe--;){var je=$,Le=V,tt=T,De=Ae,nt=ye;switch(C){case xd:Sr(je,Le,tt,De,nt);break;case wd:Or(je,Le,tt,De,nt);break;case b0:Or(je,Le,tt,De,nt),Uc(De,nt,0,tt,1,0);break;case h1:An(je,Le,tt,De,nt);break;case vd:at(je,Le,tt,De,nt,1);break;case B0:at(je,Le,tt,De,nt,1),Uc(De,nt,0,tt,1,0);break;case yd:at(je,Le,tt,De,nt,0);break;case bd:at(je,Le,tt,De,nt,0),Uc(De,nt,1,tt,1,0);break;case y0:rr(je,Le,tt,De,nt);break;case C0:rr(je,Le,tt,De,nt),i1(De,nt,tt,1,0);break;case f1:Er(je,Le,tt,De,nt);break;default:e(0)}V+=X,ye+=Re}u.Ma+=D}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=w.height)}}u.C=f,e(u.C<=u.i)}function qr(u){var f;if(0<u.ua)return 0;for(f=0;f<u.Wb;++f){var w=u.Ya[f].G,C=u.Ya[f].H;if(0<w[1][C[1]+0].g||0<w[2][C[2]+0].g||0<w[3][C[3]+0].g)return 0}return 1}function xn(u,f,w,C,T,D){if(u.Z!=0){var $=u.qd,V=u.rd;for(e(NA[u.Z]!=null);f<w;++f)NA[u.Z]($,V,C,T,C,T,D),$=C,V=T,T+=D;u.qd=$,u.rd=V}}function mt(u,f){var w=u.l.ma,C=w.Z==0||w.Z==1?u.l.j:u.C;if(C=u.C<C?C:u.C,e(f<=u.l.o),f>C){var T=u.l.width,D=w.ca,$=w.tb+T*C,V=u.V,X=u.Ba+u.c*C,Ae=u.gc;e(u.ab==1),e(Ae[0].hc==3),It(Ae[0],C,f,V,X,D,$),xn(w,C,f,D,$,T)}u.C=u.Ma=f}function On(u,f,w,C,T,D,$){var V=u.$/C,X=u.$%C,Ae=u.m,ye=u.s,Re=w+u.$,oe=Re;T=w+C*T;var je=w+C*D,Le=280+ye.ua,tt=u.Pb?V:16777216,De=0<ye.ua?ye.Wa:null,nt=ye.wc,it=Re<je?or(ye,X,V):null;e(u.C<D),e(je<=T);var gt=!1;e:for(;;){for(;gt||Re<je;){var ut=0;if(V>=tt){var Jt=Re-w;e((tt=u).Pb),tt.wd=tt.m,tt.xd=Jt,0<tt.s.ua&&se(tt.s.Wa,tt.s.vb),tt=V+nC}if(X&nt||(it=or(ye,X,V)),e(it!=null),it.Qb&&(f[Re]=it.qb,gt=!0),!gt)if(pe(Ae),it.jc){ut=Ae,Jt=f;var Pt=Re,vr=it.pd[te(ut)&Ze-1];e(it.jc),256>vr.g?(le(ut,ut.u+vr.g),Jt[Pt]=vr.value,ut=0):(le(ut,ut.u+vr.g-256),e(256<=vr.value),ut=vr.value),ut==0&&(gt=!0)}else ut=ar(it.G[0],it.H[0],Ae);if(Ae.h)break;if(gt||256>ut){if(!gt)if(it.nd)f[Re]=(it.qb|ut<<8)>>>0;else{if(pe(Ae),gt=ar(it.G[1],it.H[1],Ae),pe(Ae),Jt=ar(it.G[2],it.H[2],Ae),Pt=ar(it.G[3],it.H[3],Ae),Ae.h)break;f[Re]=(Pt<<24|gt<<16|ut<<8|Jt)>>>0}if(gt=!1,++Re,++X>=C&&(X=0,++V,$!=null&&V<=D&&!(V%16)&&$(u,V),De!=null))for(;oe<Re;)ut=f[oe++],De.X[(506832829*ut&4294967295)>>>De.Mb]=ut}else if(280>ut){if(ut=_t(ut-256,Ae),Jt=ar(it.G[4],it.H[4],Ae),pe(Ae),Jt=xr(C,Jt=_t(Jt,Ae)),Ae.h)break;if(Re-w<Jt||T-Re<ut)break e;for(Pt=0;Pt<ut;++Pt)f[Re+Pt]=f[Re+Pt-Jt];for(Re+=ut,X+=ut;X>=C;)X-=C,++V,$!=null&&V<=D&&!(V%16)&&$(u,V);if(e(Re<=T),X&nt&&(it=or(ye,X,V)),De!=null)for(;oe<Re;)ut=f[oe++],De.X[(506832829*ut&4294967295)>>>De.Mb]=ut}else{if(!(ut<Le))break e;for(gt=ut-280,e(De!=null);oe<Re;)ut=f[oe++],De.X[(506832829*ut&4294967295)>>>De.Mb]=ut;ut=Re,e(!(gt>>>(Jt=De).Xa)),f[ut]=Jt.X[gt],gt=!0}gt||e(Ae.h==Y(Ae))}if(u.Pb&&Ae.h&&Re<T)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&se(u.s.vb,u.s.Wa);else{if(Ae.h)break e;$!=null&&$(u,V>D?D:V),u.a=0,u.$=Re-w}return 1}return u.a=3,0}function ds(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var f=u.Wa;f!=null&&(f.X=null),u.vb=null,e(u!=null)}function hi(){var u=new Ar;return u==null?null:(u.a=0,u.xb=m1,vt("Predictor","VP8LPredictors"),vt("Predictor","VP8LPredictors_C"),vt("PredictorAdd","VP8LPredictorsAdd"),vt("PredictorAdd","VP8LPredictorsAdd_C"),Nt=Ce,gr=we,Sr=Xe,Or=Ge,rr=ge,Er=Qe,An=ft,N.VP8LMapColor32b=zt,N.VP8LMapColor8b=jt,u)}function Qr(u,f,w,C,T){var D=1,$=[u],V=[f],X=C.m,Ae=C.s,ye=null,Re=0;e:for(;;){if(w)for(;D&&ve(X,1);){var oe=$,je=V,Le=C,tt=1,De=Le.m,nt=Le.gc[Le.ab],it=ve(De,2);if(Le.Oc&1<<it)D=0;else{switch(Le.Oc|=1<<it,nt.hc=it,nt.Ea=oe[0],nt.nc=je[0],nt.K=[null],++Le.ab,e(4>=Le.ab),it){case 0:case 1:nt.b=ve(De,3)+2,tt=Qr(ne(nt.Ea,nt.b),ne(nt.nc,nt.b),0,Le,nt.K),nt.K=nt.K[0];break;case 3:var gt,ut=ve(De,8)+1,Jt=16<ut?0:4<ut?1:2<ut?2:3;if(oe[0]=ne(nt.Ea,Jt),nt.b=Jt,gt=tt=Qr(ut,1,0,Le,nt.K)){var Pt,vr=ut,Mt=nt,Fr=1<<(8>>Mt.b),$n=i(Fr);if($n==null)gt=0;else{var yr=Mt.K[0],$t=Mt.w;for($n[0]=Mt.K[0][0],Pt=1;Pt<1*vr;++Pt)$n[Pt]=Ne(yr[$t+Pt],$n[Pt-1]);for(;Pt<4*Fr;++Pt)$n[Pt]=0;Mt.K[0]=null,Mt.K[0]=$n,gt=1}}tt=gt;break;case 2:break;default:e(0)}D=tt}}if($=$[0],V=V[0],D&&ve(X,1)&&!(D=1<=(Re=ve(X,4))&&11>=Re)){C.a=3;break e}var St;if(St=D)t:{var Fn,mr,_r,tn=C,ts=$,js=V,Bn=Re,fs=w,Fs=tn.m,Kn=tn.s,Ur=[null],Pr=1,Cn=0,Dr=rC[Bn];r:for(;;){if(fs&&ve(Fs,1)){var rs=ve(Fs,3)+2,$i=ne(ts,rs),En=ne(js,rs),Ps=$i*En;if(!Qr($i,En,0,tn,Ur))break r;for(Ur=Ur[0],Kn.xc=rs,Fn=0;Fn<Ps;++Fn){var Vr=Ur[Fn]>>8&65535;Ur[Fn]=Vr,Vr>=Pr&&(Pr=Vr+1)}}if(Fs.h)break r;for(mr=0;5>mr;++mr){var Gn=p1[mr];!mr&&0<Bn&&(Gn+=1<<Bn),Cn<Gn&&(Cn=Gn)}var Js=A(Pr*Dr,G),Es=Pr,Ys=A(Es,ee);if(Ys==null)var Xs=null;else e(65536>=Es),Xs=Ys;var Ds=i(Cn);if(Xs==null||Ds==null||Js==null){tn.a=1;break r}var Zs=Js;for(Fn=_r=0;Fn<Pr;++Fn){var Jr=Xs[Fn],ei=Jr.G,Ki=Jr.H,Bo=0,$a=1,ns=0;for(mr=0;5>mr;++mr){Gn=p1[mr],ei[mr]=Zs,Ki[mr]=_r,!mr&&0<Bn&&(Gn+=1<<Bn);s:{var Sd,F0=Gn,jd=tn,Tc=Ds,BC=Zs,CC=_r,E0=0,SA=jd.m,NC=ve(SA,1);if(s(Tc,0,0,F0),NC){var SC=ve(SA,1)+1,jC=ve(SA,1),N1=ve(SA,jC==0?1:8);Tc[N1]=1,SC==2&&(Tc[N1=ve(SA,8)]=1);var Fd=1}else{var S1=i(19),j1=ve(SA,4)+4;if(19<j1){jd.a=3;var Ed=0;break s}for(Sd=0;Sd<j1;++Sd)S1[eC[Sd]]=ve(SA,3);var _0=void 0,Lc=void 0,F1=jd,FC=S1,_d=F0,E1=Tc,k0=0,jA=F1.m,_1=8,k1=A(128,G);n:for(;E(k1,0,7,FC,19);){if(ve(jA,1)){var EC=2+2*ve(jA,3);if((_0=2+ve(jA,EC))>_d)break n}else _0=_d;for(Lc=0;Lc<_d&&_0--;){pe(jA);var U1=k1[0+(127&te(jA))];le(jA,jA.u+U1.g);var wl=U1.value;if(16>wl)E1[Lc++]=wl,wl!=0&&(_1=wl);else{var _C=wl==16,I1=wl-16,kC=X4[I1],Q1=ve(jA,Y4[I1])+kC;if(Lc+Q1>_d)break n;for(var UC=_C?_1:0;0<Q1--;)E1[Lc++]=UC}}k0=1;break n}k0||(F1.a=3),Fd=k0}(Fd=Fd&&!SA.h)&&(E0=E(BC,CC,8,Tc,F0)),Fd&&E0!=0?Ed=E0:(jd.a=3,Ed=0)}if(Ed==0)break r;if($a&&Z4[mr]==1&&($a=Zs[_r].g==0),Bo+=Zs[_r].g,_r+=Ed,3>=mr){var Oc,U0=Ds[0];for(Oc=1;Oc<Gn;++Oc)Ds[Oc]>U0&&(U0=Ds[Oc]);ns+=U0}}if(Jr.nd=$a,Jr.Qb=0,$a&&(Jr.qb=(ei[3][Ki[3]+0].value<<24|ei[1][Ki[1]+0].value<<16|ei[2][Ki[2]+0].value)>>>0,Bo==0&&256>ei[0][Ki[0]+0].value&&(Jr.Qb=1,Jr.qb+=ei[0][Ki[0]+0].value<<8)),Jr.jc=!Jr.Qb&&6>ns,Jr.jc){var kd,Ka=Jr;for(kd=0;kd<Ze;++kd){var FA=kd,EA=Ka.pd[FA],Ud=Ka.G[0][Ka.H[0]+FA];256<=Ud.value?(EA.g=Ud.g+256,EA.value=Ud.value):(EA.g=0,EA.value=0,FA>>=yt(Ud,8,EA),FA>>=yt(Ka.G[1][Ka.H[1]+FA],16,EA),FA>>=yt(Ka.G[2][Ka.H[2]+FA],0,EA),yt(Ka.G[3][Ka.H[3]+FA],24,EA))}}}Kn.vc=Ur,Kn.Wb=Pr,Kn.Ya=Xs,Kn.yc=Js,St=1;break t}St=0}if(!(D=St)){C.a=3;break e}if(0<Re){if(Ae.ua=1<<Re,!F(Ae.Wa,Re)){C.a=1,D=0;break e}}else Ae.ua=0;var I0=C,T1=$,IC=V,Q0=I0.s,T0=Q0.xc;if(I0.c=T1,I0.i=IC,Q0.md=ne(T1,T0),Q0.wc=T0==0?-1:(1<<T0)-1,w){C.xb=cC;break e}if((ye=i($*V))==null){C.a=1,D=0;break e}D=(D=On(C,ye,0,$,V,V,null))&&!X.h;break e}return D?(T!=null?T[0]=ye:(e(ye==null),e(w)),C.$=0,w||ds(Ae)):ds(Ae),D}function Ta(u,f){var w=u.c*u.i,C=w+f+16*f;return e(u.c<=f),u.V=i(C),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+w+f,1)}function cA(u,f){var w=u.C,C=f-w,T=u.V,D=u.Ba+u.c*w;for(e(f<=u.l.o);0<C;){var $=16<C?16:C,V=u.l.ma,X=u.l.width,Ae=X*$,ye=V.ca,Re=V.tb+X*w,oe=u.Ta,je=u.Ua;$r(u,$,T,D),A1(oe,je,ye,Re,Ae),xn(V,w,w+$,ye,Re,X),C-=$,T+=$*u.c,w+=$}e(w==f),u.C=u.Ma=f}function fi(){this.ub=this.yd=this.td=this.Rb=0}function La(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function kc(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function uo(){this.Yb=function(){var u=[];return function f(w,C,T){for(var D=T[C],$=0;$<D&&(w.push(T.length>C+1?[]:0),!(T.length<C+1));$++)f(w[$],C+1,T)}(u,0,[3,11]),u}()}function rl(){this.jb=i(3),this.Wc=o([4,8],uo),this.Xc=o([4,17],uo)}function nl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Ts(){this.ld=this.La=this.dd=this.tc=0}function ho(){this.Na=this.la=0}function dr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function uA(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function dA(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ts),this.Y=0,this.ya=Array(new uA),this.aa=0,this.l=new kr}function fo(){this.y=i(16),this.f=i(8),this.ea=i(8)}function sl(){this.cb=this.a=0,this.sc="",this.m=new I,this.Od=new fi,this.Kc=new La,this.ed=new nl,this.Qa=new kc,this.Ic=this.$c=this.Aa=0,this.D=new dA,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=A(8,I),this.ia=0,this.pb=A(4,dr),this.Pa=new rl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new fo),this.Hd=0,this.rb=Array(new ho),this.sb=0,this.wa=Array(new Ts),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new uA),this.L=this.aa=0,this.gd=o([4,2],Ts),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function zs(u,f){return 0>u?0:u>f?f:u}function kr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Oa(){var u=new sl;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Ic||(Ic=hA)),u}function wn(u,f,w){return u.a==0&&(u.a=f,u.sc=w,u.cb=0),0}function il(u,f,w){return 3<=w&&u[f+0]==157&&u[f+1]==1&&u[f+2]==42}function pi(u,f){if(u==null)return 0;if(u.a=0,u.sc="OK",f==null)return wn(u,2,"null VP8Io passed to VP8GetHeaders()");var w=f.data,C=f.w,T=f.ha;if(4>T)return wn(u,7,"Truncated header.");var D=w[C+0]|w[C+1]<<8|w[C+2]<<16,$=u.Od;if($.Rb=!(1&D),$.td=D>>1&7,$.yd=D>>4&1,$.ub=D>>5,3<$.td)return wn(u,3,"Incorrect keyframe parameters.");if(!$.yd)return wn(u,4,"Frame not displayable.");C+=3,T-=3;var V=u.Kc;if($.Rb){if(7>T)return wn(u,7,"cannot parse picture header");if(!il(w,C,T))return wn(u,3,"Bad code word");V.c=16383&(w[C+4]<<8|w[C+3]),V.Td=w[C+4]>>6,V.i=16383&(w[C+6]<<8|w[C+5]),V.Ud=w[C+6]>>6,C+=7,T-=7,u.za=V.c+15>>4,u.Ub=V.i+15>>4,f.width=V.c,f.height=V.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,s((D=u.Pa).jb,0,255,D.jb.length),e((D=u.Qa)!=null),D.Cb=0,D.Bb=0,D.Fb=1,s(D.Zb,0,0,D.Zb.length),s(D.Lb,0,0,D.Lb)}if($.ub>T)return wn(u,7,"bad partition length");ce(D=u.m,w,C,$.ub),C+=$.ub,T-=$.ub,$.Rb&&(V.Ld=be(D),V.Kd=be(D)),V=u.Qa;var X,Ae=u.Pa;if(e(D!=null),e(V!=null),V.Cb=be(D),V.Cb){if(V.Bb=be(D),be(D)){for(V.Fb=be(D),X=0;4>X;++X)V.Zb[X]=be(D)?ie(D,7):0;for(X=0;4>X;++X)V.Lb[X]=be(D)?ie(D,6):0}if(V.Bb)for(X=0;3>X;++X)Ae.jb[X]=be(D)?he(D,8):255}else V.Bb=0;if(D.Ka)return wn(u,3,"cannot parse segment header");if((V=u.ed).zd=be(D),V.Tb=he(D,6),V.wb=he(D,3),V.Pc=be(D),V.Pc&&be(D)){for(Ae=0;4>Ae;++Ae)be(D)&&(V.vd[Ae]=ie(D,6));for(Ae=0;4>Ae;++Ae)be(D)&&(V.od[Ae]=ie(D,6))}if(u.L=V.Tb==0?0:V.zd?1:2,D.Ka)return wn(u,3,"cannot parse filter header");var ye=T;if(T=X=C,C=X+ye,V=ye,u.Xb=(1<<he(u.m,2))-1,ye<3*(Ae=u.Xb))w=7;else{for(X+=3*Ae,V-=3*Ae,ye=0;ye<Ae;++ye){var Re=w[T+0]|w[T+1]<<8|w[T+2]<<16;Re>V&&(Re=V),ce(u.Jc[+ye],w,X,Re),X+=Re,V-=Re,T+=3}ce(u.Jc[+Ae],w,X,V),w=X<C?0:5}if(w!=0)return wn(u,w,"cannot parse partitions");for(w=he(X=u.m,7),T=be(X)?ie(X,4):0,C=be(X)?ie(X,4):0,V=be(X)?ie(X,4):0,Ae=be(X)?ie(X,4):0,X=be(X)?ie(X,4):0,ye=u.Qa,Re=0;4>Re;++Re){if(ye.Cb){var oe=ye.Zb[Re];ye.Fb||(oe+=w)}else{if(0<Re){u.pb[Re]=u.pb[0];continue}oe=w}var je=u.pb[Re];je.Sc[0]=N0[zs(oe+T,127)],je.Sc[1]=S0[zs(oe+0,127)],je.Eb[0]=2*N0[zs(oe+C,127)],je.Eb[1]=101581*S0[zs(oe+V,127)]>>16,8>je.Eb[1]&&(je.Eb[1]=8),je.Qc[0]=N0[zs(oe+Ae,117)],je.Qc[1]=S0[zs(oe+X,127)],je.lc=oe+X}if(!$.Rb)return wn(u,4,"Not a key frame.");for(be(D),$=u.Pa,w=0;4>w;++w){for(T=0;8>T;++T)for(C=0;3>C;++C)for(V=0;11>V;++V)Ae=Oe(D,oC[w][T][C][V])?he(D,8):aC[w][T][C][V],$.Wc[w][T].Yb[C][V]=Ae;for(T=0;17>T;++T)$.Xc[w][T]=$.Wc[w][lC[T]]}return u.kc=be(D),u.kc&&(u.Bd=he(D,8)),u.cb=1}function hA(u,f,w,C,T,D,$){var V=f[T].Yb[w];for(w=0;16>T;++T){if(!Oe(u,V[w+0]))return T;for(;!Oe(u,V[w+1]);)if(V=f[++T].Yb[0],w=0,T==16)return 16;var X=f[T+1].Yb;if(Oe(u,V[w+2])){var Ae=u,ye=0;if(Oe(Ae,(oe=V)[(Re=w)+3]))if(Oe(Ae,oe[Re+6])){for(V=0,Re=2*(ye=Oe(Ae,oe[Re+8]))+(oe=Oe(Ae,oe[Re+9+ye])),ye=0,oe=sC[Re];oe[V];++V)ye+=ye+Oe(Ae,oe[V]);ye+=3+(8<<Re)}else Oe(Ae,oe[Re+7])?(ye=7+2*Oe(Ae,165),ye+=Oe(Ae,145)):ye=5+Oe(Ae,159);else ye=Oe(Ae,oe[Re+4])?3+Oe(Ae,oe[Re+5]):2;V=X[2]}else ye=1,V=X[1];X=$+iC[T],0>(Ae=u).b&&Fe(Ae);var Re,oe=Ae.b,je=(Re=Ae.Ca>>1)-(Ae.I>>oe)>>31;--Ae.b,Ae.Ca+=je,Ae.Ca|=1,Ae.I-=(Re+1&je)<<oe,D[X]=((ye^je)-je)*C[(0<T)+0]}return 16}function fA(u){var f=u.rb[u.sb-1];f.la=0,f.Na=0,s(u.zc,0,0,u.zc.length),u.ja=0}function wr(u,f,w,C,T){T=u[f+w+32*C]+(T>>3),u[f+w+32*C]=-256&T?0>T?0:255:T}function un(u,f,w,C,T,D){wr(u,f,0,w,C+T),wr(u,f,1,w,C+D),wr(u,f,2,w,C-D),wr(u,f,3,w,C-T)}function Di(u){return(20091*u>>16)+u}function nr(u,f,w,C){var T,D=0,$=i(16);for(T=0;4>T;++T){var V=u[f+0]+u[f+8],X=u[f+0]-u[f+8],Ae=(35468*u[f+4]>>16)-Di(u[f+12]),ye=Di(u[f+4])+(35468*u[f+12]>>16);$[D+0]=V+ye,$[D+1]=X+Ae,$[D+2]=X-Ae,$[D+3]=V-ye,D+=4,f++}for(T=D=0;4>T;++T)V=(u=$[D+0]+4)+$[D+8],X=u-$[D+8],Ae=(35468*$[D+4]>>16)-Di($[D+12]),wr(w,C,0,0,V+(ye=Di($[D+4])+(35468*$[D+12]>>16))),wr(w,C,1,0,X+Ae),wr(w,C,2,0,X-Ae),wr(w,C,3,0,V-ye),D++,C+=32}function gi(u,f,w,C){var T=u[f+0]+4,D=35468*u[f+4]>>16,$=Di(u[f+4]),V=35468*u[f+1]>>16;un(w,C,0,T+$,u=Di(u[f+1]),V),un(w,C,1,T+D,u,V),un(w,C,2,T-D,u,V),un(w,C,3,T-$,u,V)}function al(u,f,w,C,T){nr(u,f,w,C),T&&nr(u,f+16,w,C+4)}function qs(u,f,w,C){Ns(u,f+0,w,C,1),Ns(u,f+32,w,C+128,1)}function po(u,f,w,C){var T;for(u=u[f+0]+4,T=0;4>T;++T)for(f=0;4>f;++f)wr(w,C,f,T,u)}function go(u,f,w,C){u[f+0]&&Wt(u,f+0,w,C),u[f+16]&&Wt(u,f+16,w,C+4),u[f+32]&&Wt(u,f+32,w,C+128),u[f+48]&&Wt(u,f+48,w,C+128+4)}function Pa(u,f,w,C){var T,D=i(16);for(T=0;4>T;++T){var $=u[f+0+T]+u[f+12+T],V=u[f+4+T]+u[f+8+T],X=u[f+4+T]-u[f+8+T],Ae=u[f+0+T]-u[f+12+T];D[0+T]=$+V,D[8+T]=$-V,D[4+T]=Ae+X,D[12+T]=Ae-X}for(T=0;4>T;++T)$=(u=D[0+4*T]+3)+D[3+4*T],V=D[1+4*T]+D[2+4*T],X=D[1+4*T]-D[2+4*T],Ae=u-D[3+4*T],w[C+0]=$+V>>3,w[C+16]=Ae+X>>3,w[C+32]=$-V>>3,w[C+48]=Ae-X>>3,C+=64}function oa(u,f,w){var C,T=f-32,D=Ws,$=255-u[T-1];for(C=0;C<w;++C){var V,X=D,Ae=$+u[f-1];for(V=0;V<w;++V)u[f+V]=X[Ae+u[T+V]];f+=32}}function Al(u,f){oa(u,f,4)}function ol(u,f){oa(u,f,8)}function ll(u,f){oa(u,f,16)}function pA(u,f){var w;for(w=0;16>w;++w)n(u,f+32*w,u,f-32,16)}function mo(u,f){var w;for(w=16;0<w;--w)s(u,f,u[f-1],16),f+=32}function Ls(u,f,w){var C;for(C=0;16>C;++C)s(f,w+32*C,u,16)}function cl(u,f){var w,C=16;for(w=0;16>w;++w)C+=u[f-1+32*w]+u[f+w-32];Ls(C>>5,u,f)}function la(u,f){var w,C=8;for(w=0;16>w;++w)C+=u[f-1+32*w];Ls(C>>4,u,f)}function gA(u,f){var w,C=8;for(w=0;16>w;++w)C+=u[f+w-32];Ls(C>>4,u,f)}function ul(u,f){Ls(128,u,f)}function lr(u,f,w){return u+2*f+w+2>>2}function dl(u,f){var w,C=f-32;for(C=new Uint8Array([lr(u[C-1],u[C+0],u[C+1]),lr(u[C+0],u[C+1],u[C+2]),lr(u[C+1],u[C+2],u[C+3]),lr(u[C+2],u[C+3],u[C+4])]),w=0;4>w;++w)n(u,f+32*w,C,0,C.length)}function hl(u,f){var w=u[f-1],C=u[f-1+32],T=u[f-1+64],D=u[f-1+96];Ye(u,f+0,16843009*lr(u[f-1-32],w,C)),Ye(u,f+32,16843009*lr(w,C,T)),Ye(u,f+64,16843009*lr(C,T,D)),Ye(u,f+96,16843009*lr(T,D,D))}function fl(u,f){var w,C=4;for(w=0;4>w;++w)C+=u[f+w-32]+u[f-1+32*w];for(C>>=3,w=0;4>w;++w)s(u,f+32*w,C,4)}function mi(u,f){var w=u[f-1+0],C=u[f-1+32],T=u[f-1+64],D=u[f-1-32],$=u[f+0-32],V=u[f+1-32],X=u[f+2-32],Ae=u[f+3-32];u[f+0+96]=lr(C,T,u[f-1+96]),u[f+1+96]=u[f+0+64]=lr(w,C,T),u[f+2+96]=u[f+1+64]=u[f+0+32]=lr(D,w,C),u[f+3+96]=u[f+2+64]=u[f+1+32]=u[f+0+0]=lr($,D,w),u[f+3+64]=u[f+2+32]=u[f+1+0]=lr(V,$,D),u[f+3+32]=u[f+2+0]=lr(X,V,$),u[f+3+0]=lr(Ae,X,V)}function xi(u,f){var w=u[f+1-32],C=u[f+2-32],T=u[f+3-32],D=u[f+4-32],$=u[f+5-32],V=u[f+6-32],X=u[f+7-32];u[f+0+0]=lr(u[f+0-32],w,C),u[f+1+0]=u[f+0+32]=lr(w,C,T),u[f+2+0]=u[f+1+32]=u[f+0+64]=lr(C,T,D),u[f+3+0]=u[f+2+32]=u[f+1+64]=u[f+0+96]=lr(T,D,$),u[f+3+32]=u[f+2+64]=u[f+1+96]=lr(D,$,V),u[f+3+64]=u[f+2+96]=lr($,V,X),u[f+3+96]=lr(V,X,X)}function pl(u,f){var w=u[f-1+0],C=u[f-1+32],T=u[f-1+64],D=u[f-1-32],$=u[f+0-32],V=u[f+1-32],X=u[f+2-32],Ae=u[f+3-32];u[f+0+0]=u[f+1+64]=D+$+1>>1,u[f+1+0]=u[f+2+64]=$+V+1>>1,u[f+2+0]=u[f+3+64]=V+X+1>>1,u[f+3+0]=X+Ae+1>>1,u[f+0+96]=lr(T,C,w),u[f+0+64]=lr(C,w,D),u[f+0+32]=u[f+1+96]=lr(w,D,$),u[f+1+32]=u[f+2+96]=lr(D,$,V),u[f+2+32]=u[f+3+96]=lr($,V,X),u[f+3+32]=lr(V,X,Ae)}function gl(u,f){var w=u[f+0-32],C=u[f+1-32],T=u[f+2-32],D=u[f+3-32],$=u[f+4-32],V=u[f+5-32],X=u[f+6-32],Ae=u[f+7-32];u[f+0+0]=w+C+1>>1,u[f+1+0]=u[f+0+64]=C+T+1>>1,u[f+2+0]=u[f+1+64]=T+D+1>>1,u[f+3+0]=u[f+2+64]=D+$+1>>1,u[f+0+32]=lr(w,C,T),u[f+1+32]=u[f+0+96]=lr(C,T,D),u[f+2+32]=u[f+1+96]=lr(T,D,$),u[f+3+32]=u[f+2+96]=lr(D,$,V),u[f+3+64]=lr($,V,X),u[f+3+96]=lr(V,X,Ae)}function Da(u,f){var w=u[f-1+0],C=u[f-1+32],T=u[f-1+64],D=u[f-1+96];u[f+0+0]=w+C+1>>1,u[f+2+0]=u[f+0+32]=C+T+1>>1,u[f+2+32]=u[f+0+64]=T+D+1>>1,u[f+1+0]=lr(w,C,T),u[f+3+0]=u[f+1+32]=lr(C,T,D),u[f+3+32]=u[f+1+64]=lr(T,D,D),u[f+3+64]=u[f+2+64]=u[f+0+96]=u[f+1+96]=u[f+2+96]=u[f+3+96]=D}function mA(u,f){var w=u[f-1+0],C=u[f-1+32],T=u[f-1+64],D=u[f-1+96],$=u[f-1-32],V=u[f+0-32],X=u[f+1-32],Ae=u[f+2-32];u[f+0+0]=u[f+2+32]=w+$+1>>1,u[f+0+32]=u[f+2+64]=C+w+1>>1,u[f+0+64]=u[f+2+96]=T+C+1>>1,u[f+0+96]=D+T+1>>1,u[f+3+0]=lr(V,X,Ae),u[f+2+0]=lr($,V,X),u[f+1+0]=u[f+3+32]=lr(w,$,V),u[f+1+32]=u[f+3+64]=lr(C,w,$),u[f+1+64]=u[f+3+96]=lr(T,C,w),u[f+1+96]=lr(D,T,C)}function ca(u,f){var w;for(w=0;8>w;++w)n(u,f+32*w,u,f-32,8)}function ml(u,f){var w;for(w=0;8>w;++w)s(u,f,u[f-1],8),f+=32}function wi(u,f,w){var C;for(C=0;8>C;++C)s(f,w+32*C,u,8)}function xl(u,f){var w,C=8;for(w=0;8>w;++w)C+=u[f+w-32]+u[f-1+32*w];wi(C>>4,u,f)}function xA(u,f){var w,C=4;for(w=0;8>w;++w)C+=u[f+w-32];wi(C>>3,u,f)}function wA(u,f){var w,C=4;for(w=0;8>w;++w)C+=u[f-1+32*w];wi(C>>3,u,f)}function xo(u,f){wi(128,u,f)}function vi(u,f,w){var C=u[f-w],T=u[f+0],D=3*(T-C)+v0[1020+u[f-2*w]-u[f+w]],$=md[112+(D+4>>3)];u[f-w]=Ws[255+C+md[112+(D+3>>3)]],u[f+0]=Ws[255+T-$]}function vA(u,f,w,C){var T=u[f+0],D=u[f+w];return Ni[255+u[f-2*w]-u[f-w]]>C||Ni[255+D-T]>C}function Ra(u,f,w,C){return 4*Ni[255+u[f-w]-u[f+0]]+Ni[255+u[f-2*w]-u[f+w]]<=C}function yA(u,f,w,C,T){var D=u[f-3*w],$=u[f-2*w],V=u[f-w],X=u[f+0],Ae=u[f+w],ye=u[f+2*w],Re=u[f+3*w];return 4*Ni[255+V-X]+Ni[255+$-Ae]>C?0:Ni[255+u[f-4*w]-D]<=T&&Ni[255+D-$]<=T&&Ni[255+$-V]<=T&&Ni[255+Re-ye]<=T&&Ni[255+ye-Ae]<=T&&Ni[255+Ae-X]<=T}function ua(u,f,w,C){var T=2*C+1;for(C=0;16>C;++C)Ra(u,f+C,w,T)&&vi(u,f+C,w)}function bA(u,f,w,C){var T=2*C+1;for(C=0;16>C;++C)Ra(u,f+C*w,1,T)&&vi(u,f+C*w,1)}function wo(u,f,w,C){var T;for(T=3;0<T;--T)ua(u,f+=4*w,w,C)}function vo(u,f,w,C){var T;for(T=3;0<T;--T)bA(u,f+=4,w,C)}function yi(u,f,w,C,T,D,$,V){for(D=2*D+1;0<T--;){if(yA(u,f,w,D,$))if(vA(u,f,w,V))vi(u,f,w);else{var X=u,Ae=f,ye=w,Re=X[Ae-2*ye],oe=X[Ae-ye],je=X[Ae+0],Le=X[Ae+ye],tt=X[Ae+2*ye],De=27*(it=v0[1020+3*(je-oe)+v0[1020+Re-Le]])+63>>7,nt=18*it+63>>7,it=9*it+63>>7;X[Ae-3*ye]=Ws[255+X[Ae-3*ye]+it],X[Ae-2*ye]=Ws[255+Re+nt],X[Ae-ye]=Ws[255+oe+De],X[Ae+0]=Ws[255+je-De],X[Ae+ye]=Ws[255+Le-nt],X[Ae+2*ye]=Ws[255+tt-it]}f+=C}}function bi(u,f,w,C,T,D,$,V){for(D=2*D+1;0<T--;){if(yA(u,f,w,D,$))if(vA(u,f,w,V))vi(u,f,w);else{var X=u,Ae=f,ye=w,Re=X[Ae-ye],oe=X[Ae+0],je=X[Ae+ye],Le=md[112+(4+(tt=3*(oe-Re))>>3)],tt=md[112+(tt+3>>3)],De=Le+1>>1;X[Ae-2*ye]=Ws[255+X[Ae-2*ye]+De],X[Ae-ye]=Ws[255+Re+tt],X[Ae+0]=Ws[255+oe-Le],X[Ae+ye]=Ws[255+je-De]}f+=C}}function yo(u,f,w,C,T,D){yi(u,f,w,1,16,C,T,D)}function da(u,f,w,C,T,D){yi(u,f,1,w,16,C,T,D)}function bo(u,f,w,C,T,D){var $;for($=3;0<$;--$)bi(u,f+=4*w,w,1,16,C,T,D)}function m(u,f,w,C,T,D){var $;for($=3;0<$;--$)bi(u,f+=4,1,w,16,C,T,D)}function Q(u,f,w,C,T,D,$,V){yi(u,f,T,1,8,D,$,V),yi(w,C,T,1,8,D,$,V)}function ae(u,f,w,C,T,D,$,V){yi(u,f,1,T,8,D,$,V),yi(w,C,1,T,8,D,$,V)}function me(u,f,w,C,T,D,$,V){bi(u,f+4*T,T,1,8,D,$,V),bi(w,C+4*T,T,1,8,D,$,V)}function Ie(u,f,w,C,T,D,$,V){bi(u,f+4,1,T,8,D,$,V),bi(w,C+4,1,T,8,D,$,V)}function rt(){this.ba=new Kt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new At,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function lt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Lt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ht(){this.ua=0,this.Wa=new Ke,this.vb=new Ke,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ee,this.yc=new G}function Ar(){this.xb=this.a=0,this.l=new kr,this.ca=new Kt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ht,this.ab=0,this.gc=A(4,Lt),this.Oc=0}function hr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new kr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Nr(u,f,w,C,T,D,$){for(u=u==null?0:u[f+0],f=0;f<$;++f)T[D+f]=u+w[C+f]&255,u=T[D+f]}function Wr(u,f,w,C,T,D,$){var V;if(u==null)Nr(null,null,w,C,T,D,$);else for(V=0;V<$;++V)T[D+V]=u[f+V]+w[C+V]&255}function dn(u,f,w,C,T,D,$){if(u==null)Nr(null,null,w,C,T,D,$);else{var V,X=u[f+0],Ae=X,ye=X;for(V=0;V<$;++V)Ae=ye+(X=u[f+V])-Ae,ye=w[C+V]+(-256&Ae?0>Ae?0:255:Ae)&255,Ae=X,T[D+V]=ye}}function Lr(u,f,w,C){var T=f.width,D=f.o;if(e(u!=null&&f!=null),0>w||0>=C||w+C>D)return null;if(!u.Cc){if(u.ga==null){var $;if(u.ga=new hr,($=u.ga==null)||($=f.width*f.o,e(u.Gb.length==0),u.Gb=i($),u.Uc=0,u.Gb==null?$=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,$=1),$=!$),!$){$=u.ga;var V=u.Fa,X=u.P,Ae=u.qc,ye=u.mb,Re=u.nb,oe=X+1,je=Ae-1,Le=$.l;if(e(V!=null&&ye!=null&&f!=null),NA[0]=null,NA[1]=Nr,NA[2]=Wr,NA[3]=dn,$.ca=ye,$.tb=Re,$.c=f.width,$.i=f.height,e(0<$.c&&0<$.i),1>=Ae)f=0;else if($.$a=3&V[X+0],$.Z=V[X+0]>>2&3,$.Lc=V[X+0]>>4&3,X=V[X+0]>>6&3,0>$.$a||1<$.$a||4<=$.Z||1<$.Lc||X)f=0;else if(Le.put=Me,Le.ac=st,Le.bc=Rt,Le.ma=$,Le.width=f.width,Le.height=f.height,Le.Da=f.Da,Le.v=f.v,Le.va=f.va,Le.j=f.j,Le.o=f.o,$.$a)e:{e($.$a==1),f=hi();t:for(;;){if(f==null){f=0;break e}if(e($!=null),$.mc=f,f.c=$.c,f.i=$.i,f.l=$.l,f.l.ma=$,f.l.width=$.c,f.l.height=$.i,f.a=0,de(f.m,V,oe,je),!Qr($.c,$.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&qr(f.s)?($.ic=1,V=f.c*f.i,f.Ta=null,f.Ua=0,f.V=i(V),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):($.ic=0,f=Ta(f,$.c)),!f))break t;f=1;break e}$.mc=null,f=0}else f=je>=$.c*$.i;$=!f}if($)return null;u.ga.Lc!=1?u.Ga=0:C=D-w}e(u.ga!=null),e(w+C<=D);e:{if(f=(V=u.ga).c,D=V.l.o,V.$a==0){if(oe=u.rc,je=u.Vc,Le=u.Fa,X=u.P+1+w*f,Ae=u.mb,ye=u.nb+w*f,e(X<=u.P+u.qc),V.Z!=0)for(e(NA[V.Z]!=null),$=0;$<C;++$)NA[V.Z](oe,je,Le,X,Ae,ye,f),oe=Ae,je=ye,ye+=f,X+=f;else for($=0;$<C;++$)n(Ae,ye,Le,X,f),oe=Ae,je=ye,ye+=f,X+=f;u.rc=oe,u.Vc=je}else{if(e(V.mc!=null),f=w+C,e(($=V.mc)!=null),e(f<=$.i),$.C>=f)f=1;else if(V.ic||Os(),V.ic){V=$.V,oe=$.Ba,je=$.c;var tt=$.i,De=(Le=1,X=$.$/je,Ae=$.$%je,ye=$.m,Re=$.s,$.$),nt=je*tt,it=je*f,gt=Re.wc,ut=De<it?or(Re,Ae,X):null;e(De<=nt),e(f<=tt),e(qr(Re));t:for(;;){for(;!ye.h&&De<it;){if(Ae&gt||(ut=or(Re,Ae,X)),e(ut!=null),pe(ye),256>(tt=ar(ut.G[0],ut.H[0],ye)))V[oe+De]=tt,++De,++Ae>=je&&(Ae=0,++X<=f&&!(X%16)&&mt($,X));else{if(!(280>tt)){Le=0;break t}tt=_t(tt-256,ye);var Jt,Pt=ar(ut.G[4],ut.H[4],ye);if(pe(ye),!(De>=(Pt=xr(je,Pt=_t(Pt,ye)))&&nt-De>=tt)){Le=0;break t}for(Jt=0;Jt<tt;++Jt)V[oe+De+Jt]=V[oe+De+Jt-Pt];for(De+=tt,Ae+=tt;Ae>=je;)Ae-=je,++X<=f&&!(X%16)&&mt($,X);De<it&&Ae&gt&&(ut=or(Re,Ae,X))}e(ye.h==Y(ye))}mt($,X>f?f:X);break t}!Le||ye.h&&De<nt?(Le=0,$.a=ye.h?5:3):$.$=De,f=Le}else f=On($,$.V,$.Ba,$.c,$.i,f,cA);if(!f){C=0;break e}}w+C>=D&&(u.Cc=1),C=1}if(!C)return null;if(u.Cc&&((C=u.ga)!=null&&(C.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+w*T}function vn(u,f,w,C,T,D){for(;0<T--;){var $,V=u,X=f+(w?1:0),Ae=u,ye=f+(w?0:3);for($=0;$<C;++$){var Re=Ae[ye+4*$];Re!=255&&(Re*=32897,V[X+4*$+0]=V[X+4*$+0]*Re>>23,V[X+4*$+1]=V[X+4*$+1]*Re>>23,V[X+4*$+2]=V[X+4*$+2]*Re>>23)}f+=D}}function hn(u,f,w,C,T){for(;0<C--;){var D;for(D=0;D<w;++D){var $=u[f+2*D+0],V=15&(Ae=u[f+2*D+1]),X=4369*V,Ae=(240&Ae|Ae>>4)*X>>16;u[f+2*D+0]=(240&$|$>>4)*X>>16&240|(15&$|$<<4)*X>>16>>4&15,u[f+2*D+1]=240&Ae|V}f+=T}}function Pn(u,f,w,C,T,D,$,V){var X,Ae,ye=255;for(Ae=0;Ae<T;++Ae){for(X=0;X<C;++X){var Re=u[f+X];D[$+4*X]=Re,ye&=Re}f+=w,$+=V}return ye!=255}function Bi(u,f,w,C,T){var D;for(D=0;D<T;++D)w[C+D]=u[f+D]>>8}function Os(){Uc=vn,i1=hn,a1=Pn,A1=Bi}function Ci(u,f,w){N[u]=function(C,T,D,$,V,X,Ae,ye,Re,oe,je,Le,tt,De,nt,it,gt){var ut,Jt=gt-1>>1,Pt=V[X+0]|Ae[ye+0]<<16,vr=Re[oe+0]|je[Le+0]<<16;e(C!=null);var Mt=3*Pt+vr+131074>>2;for(f(C[T+0],255&Mt,Mt>>16,tt,De),D!=null&&(Mt=3*vr+Pt+131074>>2,f(D[$+0],255&Mt,Mt>>16,nt,it)),ut=1;ut<=Jt;++ut){var Fr=V[X+ut]|Ae[ye+ut]<<16,$n=Re[oe+ut]|je[Le+ut]<<16,yr=Pt+Fr+vr+$n+524296,$t=yr+2*(Fr+vr)>>3;Mt=$t+Pt>>1,Pt=(yr=yr+2*(Pt+$n)>>3)+Fr>>1,f(C[T+2*ut-1],255&Mt,Mt>>16,tt,De+(2*ut-1)*w),f(C[T+2*ut-0],255&Pt,Pt>>16,tt,De+(2*ut-0)*w),D!=null&&(Mt=yr+vr>>1,Pt=$t+$n>>1,f(D[$+2*ut-1],255&Mt,Mt>>16,nt,it+(2*ut-1)*w),f(D[$+2*ut+0],255&Pt,Pt>>16,nt,it+(2*ut+0)*w)),Pt=Fr,vr=$n}1&gt||(Mt=3*Pt+vr+131074>>2,f(C[T+gt-1],255&Mt,Mt>>16,tt,De+(gt-1)*w),D!=null&&(Mt=3*vr+Pt+131074>>2,f(D[$+gt-1],255&Mt,Mt>>16,nt,it+(gt-1)*w)))}}function BA(){Si[xd]=uC,Si[wd]=x1,Si[h1]=dC,Si[vd]=w1,Si[yd]=v1,Si[y0]=y1,Si[f1]=hC,Si[b0]=x1,Si[B0]=w1,Si[bd]=v1,Si[C0]=y1}function Ha(u){return u&-16384?0>u?0:255:u>>fC}function Ri(u,f){return Ha((19077*u>>8)+(26149*f>>8)-14234)}function ha(u,f,w){return Ha((19077*u>>8)-(6419*f>>8)-(13320*w>>8)+8708)}function fa(u,f){return Ha((19077*u>>8)+(33050*f>>8)-17685)}function Hi(u,f,w,C,T){C[T+0]=Ri(u,w),C[T+1]=ha(u,f,w),C[T+2]=fa(u,f)}function Dn(u,f,w,C,T){C[T+0]=fa(u,f),C[T+1]=ha(u,f,w),C[T+2]=Ri(u,w)}function pa(u,f,w,C,T){var D=ha(u,f,w);f=D<<3&224|fa(u,f)>>3,C[T+0]=248&Ri(u,w)|D>>5,C[T+1]=f}function ga(u,f,w,C,T){var D=240&fa(u,f)|15;C[T+0]=240&Ri(u,w)|ha(u,f,w)>>4,C[T+1]=D}function U(u,f,w,C,T){C[T+0]=255,Hi(u,f,w,C,T+1)}function z(u,f,w,C,T){Dn(u,f,w,C,T),C[T+3]=255}function re(u,f,w,C,T){Hi(u,f,w,C,T),C[T+3]=255}function xe(u,f,w){N[u]=function(C,T,D,$,V,X,Ae,ye,Re){for(var oe=ye+(-2&Re)*w;ye!=oe;)f(C[T+0],D[$+0],V[X+0],Ae,ye),f(C[T+1],D[$+0],V[X+0],Ae,ye+w),T+=2,++$,++X,ye+=2*w;1&Re&&f(C[T+0],D[$+0],V[X+0],Ae,ye)}}function Te(u,f,w){return w==0?u==0?f==0?6:5:f==0?4:0:w}function Pe(u,f,w,C,T){switch(u>>>30){case 3:Ns(f,w,C,T,0);break;case 2:Jn(f,w,C,T);break;case 1:Wt(f,w,C,T)}}function ke(u,f){var w,C,T=f.M,D=f.Nb,$=u.oc,V=u.pc+40,X=u.oc,Ae=u.pc+584,ye=u.oc,Re=u.pc+600;for(w=0;16>w;++w)$[V+32*w-1]=129;for(w=0;8>w;++w)X[Ae+32*w-1]=129,ye[Re+32*w-1]=129;for(0<T?$[V-1-32]=X[Ae-1-32]=ye[Re-1-32]=129:(s($,V-32-1,127,21),s(X,Ae-32-1,127,9),s(ye,Re-32-1,127,9)),C=0;C<u.za;++C){var oe=f.ya[f.aa+C];if(0<C){for(w=-1;16>w;++w)n($,V+32*w-4,$,V+32*w+12,4);for(w=-1;8>w;++w)n(X,Ae+32*w-4,X,Ae+32*w+4,4),n(ye,Re+32*w-4,ye,Re+32*w+4,4)}var je=u.Gd,Le=u.Hd+C,tt=oe.ad,De=oe.Hc;if(0<T&&(n($,V-32,je[Le].y,0,16),n(X,Ae-32,je[Le].f,0,8),n(ye,Re-32,je[Le].ea,0,8)),oe.Za){var nt=$,it=V-32+16;for(0<T&&(C>=u.za-1?s(nt,it,je[Le].y[15],4):n(nt,it,je[Le+1].y,0,4)),w=0;4>w;w++)nt[it+128+w]=nt[it+256+w]=nt[it+384+w]=nt[it+0+w];for(w=0;16>w;++w,De<<=2)nt=$,it=V+B1[w],Mi[oe.Ob[w]](nt,it),Pe(De,tt,16*+w,nt,it)}else if(nt=Te(C,T,oe.Ob[0]),CA[nt]($,V),De!=0)for(w=0;16>w;++w,De<<=2)Pe(De,tt,16*+w,$,V+B1[w]);for(w=oe.Gc,nt=Te(C,T,oe.Dd),Ma[nt](X,Ae),Ma[nt](ye,Re),De=tt,nt=X,it=Ae,255&(oe=0|w)&&(170&oe?Ss(De,256,nt,it):Vt(De,256,nt,it)),oe=ye,De=Re,255&(w>>=8)&&(170&w?Ss(tt,320,oe,De):Vt(tt,320,oe,De)),T<u.Ub-1&&(n(je[Le].y,0,$,V+480,16),n(je[Le].f,0,X,Ae+224,8),n(je[Le].ea,0,ye,Re+224,8)),w=8*D*u.B,je=u.sa,Le=u.ta+16*C+16*D*u.R,tt=u.qa,oe=u.ra+8*C+w,De=u.Ha,nt=u.Ia+8*C+w,w=0;16>w;++w)n(je,Le+w*u.R,$,V+32*w,16);for(w=0;8>w;++w)n(tt,oe+w*u.B,X,Ae+32*w,8),n(De,nt+w*u.B,ye,Re+32*w,8)}}function We(u,f,w,C,T,D,$,V,X){var Ae=[0],ye=[0],Re=0,oe=X!=null?X.kd:0,je=X??new lt;if(u==null||12>w)return 7;je.data=u,je.w=f,je.ha=w,f=[f],w=[w],je.gb=[je.gb];e:{var Le=f,tt=w,De=je.gb;if(e(u!=null),e(tt!=null),e(De!=null),De[0]=0,12<=tt[0]&&!r(u,Le[0],"RIFF")){if(r(u,Le[0]+8,"WEBP")){De=3;break e}var nt=qe(u,Le[0]+4);if(12>nt||4294967286<nt){De=3;break e}if(oe&&nt>tt[0]-8){De=7;break e}De[0]=nt,Le[0]+=12,tt[0]-=12}De=0}if(De!=0)return De;for(nt=0<je.gb[0],w=w[0];;){e:{var it=u;tt=f,De=w;var gt=Ae,ut=ye,Jt=Le=[0];if((Mt=Re=[Re])[0]=0,8>De[0])De=7;else{if(!r(it,tt[0],"VP8X")){if(qe(it,tt[0]+4)!=10){De=3;break e}if(18>De[0]){De=7;break e}var Pt=qe(it,tt[0]+8),vr=1+ue(it,tt[0]+12);if(2147483648<=vr*(it=1+ue(it,tt[0]+15))){De=3;break e}Jt!=null&&(Jt[0]=Pt),gt!=null&&(gt[0]=vr),ut!=null&&(ut[0]=it),tt[0]+=18,De[0]-=18,Mt[0]=1}De=0}}if(Re=Re[0],Le=Le[0],De!=0)return De;if(tt=!!(2&Le),!nt&&Re)return 3;if(D!=null&&(D[0]=!!(16&Le)),$!=null&&($[0]=tt),V!=null&&(V[0]=0),$=Ae[0],Le=ye[0],Re&&tt&&X==null){De=0;break}if(4>w){De=7;break}if(nt&&Re||!nt&&!Re&&!r(u,f[0],"ALPH")){w=[w],je.na=[je.na],je.P=[je.P],je.Sa=[je.Sa];e:{Pt=u,De=f,nt=w;var Mt=je.gb;gt=je.na,ut=je.P,Jt=je.Sa,vr=22,e(Pt!=null),e(nt!=null),it=De[0];var Fr=nt[0];for(e(gt!=null),e(Jt!=null),gt[0]=null,ut[0]=null,Jt[0]=0;;){if(De[0]=it,nt[0]=Fr,8>Fr){De=7;break e}var $n=qe(Pt,it+4);if(4294967286<$n){De=3;break e}var yr=8+$n+1&-2;if(vr+=yr,0<Mt&&vr>Mt){De=3;break e}if(!r(Pt,it,"VP8 ")||!r(Pt,it,"VP8L")){De=0;break e}if(Fr[0]<yr){De=7;break e}r(Pt,it,"ALPH")||(gt[0]=Pt,ut[0]=it+8,Jt[0]=$n),it+=yr,Fr-=yr}}if(w=w[0],je.na=je.na[0],je.P=je.P[0],je.Sa=je.Sa[0],De!=0)break}w=[w],je.Ja=[je.Ja],je.xa=[je.xa];e:if(Mt=u,De=f,nt=w,gt=je.gb[0],ut=je.Ja,Jt=je.xa,Pt=De[0],it=!r(Mt,Pt,"VP8 "),vr=!r(Mt,Pt,"VP8L"),e(Mt!=null),e(nt!=null),e(ut!=null),e(Jt!=null),8>nt[0])De=7;else{if(it||vr){if(Mt=qe(Mt,Pt+4),12<=gt&&Mt>gt-12){De=3;break e}if(oe&&Mt>nt[0]-8){De=7;break e}ut[0]=Mt,De[0]+=8,nt[0]-=8,Jt[0]=vr}else Jt[0]=5<=nt[0]&&Mt[Pt+0]==47&&!(Mt[Pt+4]>>5),ut[0]=nt[0];De=0}if(w=w[0],je.Ja=je.Ja[0],je.xa=je.xa[0],f=f[0],De!=0)break;if(4294967286<je.Ja)return 3;if(V==null||tt||(V[0]=je.xa?2:1),$=[$],Le=[Le],je.xa){if(5>w){De=7;break}V=$,oe=Le,tt=D,u==null||5>w?u=0:5<=w&&u[f+0]==47&&!(u[f+4]>>5)?(nt=[0],Mt=[0],gt=[0],de(ut=new R,u,f,w),fr(ut,nt,Mt,gt)?(V!=null&&(V[0]=nt[0]),oe!=null&&(oe[0]=Mt[0]),tt!=null&&(tt[0]=gt[0]),u=1):u=0):u=0}else{if(10>w){De=7;break}V=Le,u==null||10>w||!il(u,f+3,w-3)?u=0:(oe=u[f+0]|u[f+1]<<8|u[f+2]<<16,tt=16383&(u[f+7]<<8|u[f+6]),u=16383&(u[f+9]<<8|u[f+8]),1&oe||3<(oe>>1&7)||!(oe>>4&1)||oe>>5>=je.Ja||!tt||!u?u=0:($&&($[0]=tt),V&&(V[0]=u),u=1))}if(!u||($=$[0],Le=Le[0],Re&&(Ae[0]!=$||ye[0]!=Le)))return 3;X!=null&&(X[0]=je,X.offset=f-X.w,e(4294967286>f-X.w),e(X.offset==X.ha-w));break}return De==0||De==7&&Re&&X==null?(D!=null&&(D[0]|=je.na!=null&&0<je.na.length),C!=null&&(C[0]=$),T!=null&&(T[0]=Le),0):De}function Ee(u,f,w){var C=f.width,T=f.height,D=0,$=0,V=C,X=T;if(f.Da=u!=null&&0<u.Da,f.Da&&(V=u.cd,X=u.bd,D=u.v,$=u.j,11>w||(D&=-2,$&=-2),0>D||0>$||0>=V||0>=X||D+V>C||$+X>T))return 0;if(f.v=D,f.j=$,f.va=D+V,f.o=$+X,f.U=V,f.T=X,f.da=u!=null&&0<u.da,f.da){if(!J(V,X,w=[u.ib],D=[u.hb]))return 0;f.ib=w[0],f.hb=D[0]}return f.ob=u!=null&&u.ob,f.Kb=u==null||!u.Sd,f.da&&(f.ob=f.ib<3*C/4&&f.hb<3*T/4,f.Kb=0),1}function ze(u){if(u==null)return 2;if(11>u.S){var f=u.f.RGBA;f.fb+=(u.height-1)*f.A,f.A=-f.A}else f=u.f.kb,u=u.height,f.O+=(u-1)*f.fa,f.fa=-f.fa,f.N+=(u-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(u-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(u-1)*f.lb,f.lb=-f.lb);return 0}function ot(u,f,w,C){if(C==null||0>=u||0>=f)return 2;if(w!=null){if(w.Da){var T=w.cd,D=w.bd,$=-2&w.v,V=-2&w.j;if(0>$||0>V||0>=T||0>=D||$+T>u||V+D>f)return 2;u=T,f=D}if(w.da){if(!J(u,f,T=[w.ib],D=[w.hb]))return 2;u=T[0],f=D[0]}}C.width=u,C.height=f;e:{var X=C.width,Ae=C.height;if(u=C.S,0>=X||0>=Ae||!(u>=xd&&13>u))u=2;else{if(0>=C.Rd&&C.sd==null){$=D=T=f=0;var ye=(V=X*C1[u])*Ae;if(11>u||(D=(Ae+1)/2*(f=(X+1)/2),u==12&&($=(T=X)*Ae)),(Ae=i(ye+2*D+$))==null){u=1;break e}C.sd=Ae,11>u?((X=C.f.RGBA).eb=Ae,X.fb=0,X.A=V,X.size=ye):((X=C.f.kb).y=Ae,X.O=0,X.fa=V,X.Fd=ye,X.f=Ae,X.N=0+ye,X.Ab=f,X.Cd=D,X.ea=Ae,X.W=0+ye+D,X.Db=f,X.Ed=D,u==12&&(X.F=Ae,X.J=0+ye+2*D),X.Tc=$,X.lb=T)}if(f=1,T=C.S,D=C.width,$=C.height,T>=xd&&13>T)if(11>T)u=C.f.RGBA,f&=(V=Math.abs(u.A))*($-1)+D<=u.size,f&=V>=D*C1[T],f&=u.eb!=null;else{u=C.f.kb,V=(D+1)/2,ye=($+1)/2,X=Math.abs(u.fa),Ae=Math.abs(u.Ab);var Re=Math.abs(u.Db),oe=Math.abs(u.lb),je=oe*($-1)+D;f&=X*($-1)+D<=u.Fd,f&=Ae*(ye-1)+V<=u.Cd,f=(f&=Re*(ye-1)+V<=u.Ed)&X>=D&Ae>=V&Re>=V,f&=u.y!=null,f&=u.f!=null,f&=u.ea!=null,T==12&&(f&=oe>=D,f&=je<=u.Tc,f&=u.F!=null)}else f=0;u=f?0:2}}return u!=0||w!=null&&w.fd&&(u=ze(C)),u}var Ze=64,Gt=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ct=24,Zt=32,Se=8,Qt=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];W("Predictor0","PredictorAdd0"),N.Predictor0=function(){return 4278190080},N.Predictor1=function(u){return u},N.Predictor2=function(u,f,w){return f[w+0]},N.Predictor3=function(u,f,w){return f[w+1]},N.Predictor4=function(u,f,w){return f[w-1]},N.Predictor5=function(u,f,w){return Ve(Ve(u,f[w+1]),f[w+0])},N.Predictor6=function(u,f,w){return Ve(u,f[w-1])},N.Predictor7=function(u,f,w){return Ve(u,f[w+0])},N.Predictor8=function(u,f,w){return Ve(f[w-1],f[w+0])},N.Predictor9=function(u,f,w){return Ve(f[w+0],f[w+1])},N.Predictor10=function(u,f,w){return Ve(Ve(u,f[w-1]),Ve(f[w+0],f[w+1]))},N.Predictor11=function(u,f,w){var C=f[w+0];return 0>=ct(C>>24&255,u>>24&255,(f=f[w-1])>>24&255)+ct(C>>16&255,u>>16&255,f>>16&255)+ct(C>>8&255,u>>8&255,f>>8&255)+ct(255&C,255&u,255&f)?C:u},N.Predictor12=function(u,f,w){var C=f[w+0];return($e((u>>24&255)+(C>>24&255)-((f=f[w-1])>>24&255))<<24|$e((u>>16&255)+(C>>16&255)-(f>>16&255))<<16|$e((u>>8&255)+(C>>8&255)-(f>>8&255))<<8|$e((255&u)+(255&C)-(255&f)))>>>0},N.Predictor13=function(u,f,w){var C=f[w-1];return(Je((u=Ve(u,f[w+0]))>>24&255,C>>24&255)<<24|Je(u>>16&255,C>>16&255)<<16|Je(u>>8&255,C>>8&255)<<8|Je(255&u,255&C))>>>0};var er=N.PredictorAdd0;N.PredictorAdd1=Be,W("Predictor2","PredictorAdd2"),W("Predictor3","PredictorAdd3"),W("Predictor4","PredictorAdd4"),W("Predictor5","PredictorAdd5"),W("Predictor6","PredictorAdd6"),W("Predictor7","PredictorAdd7"),W("Predictor8","PredictorAdd8"),W("Predictor9","PredictorAdd9"),W("Predictor10","PredictorAdd10"),W("Predictor11","PredictorAdd11"),W("Predictor12","PredictorAdd12"),W("Predictor13","PredictorAdd13");var et=N.PredictorAdd2;_e("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),_e("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var Nt,kt=N.ColorIndexInverseTransform,zt=N.MapARGB,It=N.VP8LColorIndexInverseTransformAlpha,jt=N.MapAlpha,qt=N.VP8LPredictorsAdd=[];qt.length=16,(N.VP8LPredictors=[]).length=16,(N.VP8LPredictorsAdd_C=[]).length=16,(N.VP8LPredictors_C=[]).length=16;var gr,Sr,Or,rr,Er,An,hs,Ns,Jn,Ss,Wt,Vt,cr,br,yn,Gr,en,bn,fd,pd,gd,r1,n1,s1,Uc,i1,a1,A1,o1=i(511),l1=i(2041),c1=i(225),u1=i(767),d1=0,v0=l1,md=c1,Ws=u1,Ni=o1,xd=0,wd=1,h1=2,vd=3,yd=4,y0=5,f1=6,b0=7,B0=8,bd=9,C0=10,Y4=[2,3,7],X4=[3,3,11],p1=[280,256,256,256,40],Z4=[0,1,1,1,0],eC=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],tC=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],rC=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],nC=8,N0=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],S0=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ic=null,sC=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],iC=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],g1=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],aC=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],AC=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],oC=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],lC=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],CA=[],Mi=[],Ma=[],cC=1,m1=2,NA=[],Si=[];Ci("UpsampleRgbLinePair",Hi,3),Ci("UpsampleBgrLinePair",Dn,3),Ci("UpsampleRgbaLinePair",re,4),Ci("UpsampleBgraLinePair",z,4),Ci("UpsampleArgbLinePair",U,4),Ci("UpsampleRgba4444LinePair",ga,2),Ci("UpsampleRgb565LinePair",pa,2);var uC=N.UpsampleRgbLinePair,dC=N.UpsampleBgrLinePair,x1=N.UpsampleRgbaLinePair,w1=N.UpsampleBgraLinePair,v1=N.UpsampleArgbLinePair,y1=N.UpsampleRgba4444LinePair,hC=N.UpsampleRgb565LinePair,Bd=16,Cd=1<<Bd-1,Qc=-227,j0=482,fC=6,b1=0,pC=i(256),gC=i(256),mC=i(256),xC=i(256),wC=i(j0-Qc),vC=i(j0-Qc);xe("YuvToRgbRow",Hi,3),xe("YuvToBgrRow",Dn,3),xe("YuvToRgbaRow",re,4),xe("YuvToBgraRow",z,4),xe("YuvToArgbRow",U,4),xe("YuvToRgba4444Row",ga,2),xe("YuvToRgb565Row",pa,2);var B1=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Nd=[0,2,8],yC=[8,7,6,4,4,2,2,2,1,1,1,1],bC=1;this.WebPDecodeRGBA=function(u,f,w,C,T){var D=wd,$=new rt,V=new Kt;$.ba=V,V.S=D,V.width=[V.width],V.height=[V.height];var X=V.width,Ae=V.height,ye=new Et;if(ye==null||u==null)var Re=2;else e(ye!=null),Re=We(u,f,w,ye.width,ye.height,ye.Pd,ye.Qd,ye.format,null);if(Re!=0?X=0:(X!=null&&(X[0]=ye.width[0]),Ae!=null&&(Ae[0]=ye.height[0]),X=1),X){V.width=V.width[0],V.height=V.height[0],C!=null&&(C[0]=V.width),T!=null&&(T[0]=V.height);e:{if(C=new kr,(T=new lt).data=u,T.w=f,T.ha=w,T.kd=1,f=[0],e(T!=null),((u=We(T.data,T.w,T.ha,null,null,null,f,null,T))==0||u==7)&&f[0]&&(u=4),(f=u)==0){if(e($!=null),C.data=T.data,C.w=T.w+T.offset,C.ha=T.ha-T.offset,C.put=Me,C.ac=st,C.bc=Rt,C.ma=$,T.xa){if((u=hi())==null){$=1;break e}if(function(oe,je){var Le=[0],tt=[0],De=[0];t:for(;;){if(oe==null)return 0;if(je==null)return oe.a=2,0;if(oe.l=je,oe.a=0,de(oe.m,je.data,je.w,je.ha),!fr(oe.m,Le,tt,De)){oe.a=3;break t}if(oe.xb=m1,je.width=Le[0],je.height=tt[0],!Qr(Le[0],tt[0],1,oe,null))break t;return 1}return e(oe.a!=0),0}(u,C)){if(C=(f=ot(C.width,C.height,$.Oa,$.ba))==0){t:{C=u;r:for(;;){if(C==null){C=0;break t}if(e(C.s.yc!=null),e(C.s.Ya!=null),e(0<C.s.Wb),e((w=C.l)!=null),e((T=w.ma)!=null),C.xb!=0){if(C.ca=T.ba,C.tb=T.tb,e(C.ca!=null),!Ee(T.Oa,w,vd)){C.a=2;break r}if(!Ta(C,w.width)||w.da)break r;if((w.da||pt(C.ca.S))&&Os(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),C.ca.f.kb.F!=null&&Os()),C.Pb&&0<C.s.ua&&C.s.vb.X==null&&!F(C.s.vb,C.s.Wa.Xa)){C.a=1;break r}C.xb=0}if(!On(C,C.V,C.Ba,C.c,C.i,w.o,an))break r;T.Dc=C.Ma,C=1;break t}e(C.a!=0),C=0}C=!C}C&&(f=u.a)}else f=u.a}else{if((u=new Oa)==null){$=1;break e}if(u.Fa=T.na,u.P=T.P,u.qc=T.Sa,pi(u,C)){if((f=ot(C.width,C.height,$.Oa,$.ba))==0){if(u.Aa=0,w=$.Oa,e((T=u)!=null),w!=null){if(0<(X=0>(X=w.Md)?0:100<X?255:255*X/100)){for(Ae=ye=0;4>Ae;++Ae)12>(Re=T.pb[Ae]).lc&&(Re.ia=X*yC[0>Re.lc?0:Re.lc]>>3),ye|=Re.ia;ye&&(alert("todo:VP8InitRandom"),T.ia=1)}T.Ga=w.Id,100<T.Ga?T.Ga=100:0>T.Ga&&(T.Ga=0)}(function(oe,je){if(oe==null)return 0;if(je==null)return wn(oe,2,"NULL VP8Io parameter in VP8Decode().");if(!oe.cb&&!pi(oe,je))return 0;if(e(oe.cb),je.ac==null||je.ac(je)){je.ob&&(oe.L=0);var Le=Nd[oe.L];if(oe.L==2?(oe.yb=0,oe.zb=0):(oe.yb=je.v-Le>>4,oe.zb=je.j-Le>>4,0>oe.yb&&(oe.yb=0),0>oe.zb&&(oe.zb=0)),oe.Va=je.o+15+Le>>4,oe.Hb=je.va+15+Le>>4,oe.Hb>oe.za&&(oe.Hb=oe.za),oe.Va>oe.Ub&&(oe.Va=oe.Ub),0<oe.L){var tt=oe.ed;for(Le=0;4>Le;++Le){var De;if(oe.Qa.Cb){var nt=oe.Qa.Lb[Le];oe.Qa.Fb||(nt+=tt.Tb)}else nt=tt.Tb;for(De=0;1>=De;++De){var it=oe.gd[Le][De],gt=nt;if(tt.Pc&&(gt+=tt.vd[0],De&&(gt+=tt.od[0])),0<(gt=0>gt?0:63<gt?63:gt)){var ut=gt;0<tt.wb&&(ut=4<tt.wb?ut>>2:ut>>1)>9-tt.wb&&(ut=9-tt.wb),1>ut&&(ut=1),it.dd=ut,it.tc=2*gt+ut,it.ld=40<=gt?2:15<=gt?1:0}else it.tc=0;it.La=De}}}Le=0}else wn(oe,6,"Frame setup failed"),Le=oe.a;if(Le=Le==0){if(Le){oe.$c=0,0<oe.Aa||(oe.Ic=bC);t:{Le=oe.Ic,tt=4*(ut=oe.za);var Jt=32*ut,Pt=ut+1,vr=0<oe.L?ut*(0<oe.Aa?2:1):0,Mt=(oe.Aa==2?2:1)*ut;if((it=tt+832+(De=3*(16*Le+Nd[oe.L])/2*Jt)+(nt=oe.Fa!=null&&0<oe.Fa.length?oe.Kc.c*oe.Kc.i:0))!=it)Le=0;else{if(it>oe.Vb){if(oe.Vb=0,oe.Ec=i(it),oe.Fc=0,oe.Ec==null){Le=wn(oe,1,"no memory during frame initialization.");break t}oe.Vb=it}it=oe.Ec,gt=oe.Fc,oe.Ac=it,oe.Bc=gt,gt+=tt,oe.Gd=A(Jt,fo),oe.Hd=0,oe.rb=A(Pt+1,ho),oe.sb=1,oe.wa=vr?A(vr,Ts):null,oe.Y=0,oe.D.Nb=0,oe.D.wa=oe.wa,oe.D.Y=oe.Y,0<oe.Aa&&(oe.D.Y+=ut),e(!0),oe.oc=it,oe.pc=gt,gt+=832,oe.ya=A(Mt,uA),oe.aa=0,oe.D.ya=oe.ya,oe.D.aa=oe.aa,oe.Aa==2&&(oe.D.aa+=ut),oe.R=16*ut,oe.B=8*ut,ut=(Jt=Nd[oe.L])*oe.R,Jt=Jt/2*oe.B,oe.sa=it,oe.ta=gt+ut,oe.qa=oe.sa,oe.ra=oe.ta+16*Le*oe.R+Jt,oe.Ha=oe.qa,oe.Ia=oe.ra+8*Le*oe.B+Jt,oe.$c=0,gt+=De,oe.mb=nt?it:null,oe.nb=nt?gt:null,e(gt+nt<=oe.Fc+oe.Vb),fA(oe),s(oe.Ac,oe.Bc,0,tt),Le=1}}if(Le){if(je.ka=0,je.y=oe.sa,je.O=oe.ta,je.f=oe.qa,je.N=oe.ra,je.ea=oe.Ha,je.Vd=oe.Ia,je.fa=oe.R,je.Rc=oe.B,je.F=null,je.J=0,!d1){for(Le=-255;255>=Le;++Le)o1[255+Le]=0>Le?-Le:Le;for(Le=-1020;1020>=Le;++Le)l1[1020+Le]=-128>Le?-128:127<Le?127:Le;for(Le=-112;112>=Le;++Le)c1[112+Le]=-16>Le?-16:15<Le?15:Le;for(Le=-255;510>=Le;++Le)u1[255+Le]=0>Le?0:255<Le?255:Le;d1=1}hs=Pa,Ns=al,Ss=qs,Wt=po,Vt=go,Jn=gi,cr=yo,br=da,yn=Q,Gr=ae,en=bo,bn=m,fd=me,pd=Ie,gd=ua,r1=bA,n1=wo,s1=vo,Mi[0]=fl,Mi[1]=Al,Mi[2]=dl,Mi[3]=hl,Mi[4]=mi,Mi[5]=pl,Mi[6]=xi,Mi[7]=gl,Mi[8]=mA,Mi[9]=Da,CA[0]=cl,CA[1]=ll,CA[2]=pA,CA[3]=mo,CA[4]=la,CA[5]=gA,CA[6]=ul,Ma[0]=xl,Ma[1]=ol,Ma[2]=ca,Ma[3]=ml,Ma[4]=wA,Ma[5]=xA,Ma[6]=xo,Le=1}else Le=0}Le&&(Le=function(Fr,$n){for(Fr.M=0;Fr.M<Fr.Va;++Fr.M){var yr,$t=Fr.Jc[Fr.M&Fr.Xb],St=Fr.m,Fn=Fr;for(yr=0;yr<Fn.za;++yr){var mr=St,_r=Fn,tn=_r.Ac,ts=_r.Bc+4*yr,js=_r.zc,Bn=_r.ya[_r.aa+yr];if(_r.Qa.Bb?Bn.$b=Oe(mr,_r.Pa.jb[0])?2+Oe(mr,_r.Pa.jb[2]):Oe(mr,_r.Pa.jb[1]):Bn.$b=0,_r.kc&&(Bn.Ad=Oe(mr,_r.Bd)),Bn.Za=!Oe(mr,145)+0,Bn.Za){var fs=Bn.Ob,Fs=0;for(_r=0;4>_r;++_r){var Kn,Ur=js[0+_r];for(Kn=0;4>Kn;++Kn){Ur=AC[tn[ts+Kn]][Ur];for(var Pr=g1[Oe(mr,Ur[0])];0<Pr;)Pr=g1[2*Pr+Oe(mr,Ur[Pr])];Ur=-Pr,tn[ts+Kn]=Ur}n(fs,Fs,tn,ts,4),Fs+=4,js[0+_r]=Ur}}else Ur=Oe(mr,156)?Oe(mr,128)?1:3:Oe(mr,163)?2:0,Bn.Ob[0]=Ur,s(tn,ts,Ur,4),s(js,0,Ur,4);Bn.Dd=Oe(mr,142)?Oe(mr,114)?Oe(mr,183)?1:3:2:0}if(Fn.m.Ka)return wn(Fr,7,"Premature end-of-partition0 encountered.");for(;Fr.ja<Fr.za;++Fr.ja){if(Fn=$t,mr=(St=Fr).rb[St.sb-1],tn=St.rb[St.sb+St.ja],yr=St.ya[St.aa+St.ja],ts=St.kc?yr.Ad:0)mr.la=tn.la=0,yr.Za||(mr.Na=tn.Na=0),yr.Hc=0,yr.Gc=0,yr.ia=0;else{var Cn,Dr;if(mr=tn,tn=Fn,ts=St.Pa.Xc,js=St.ya[St.aa+St.ja],Bn=St.pb[js.$b],_r=js.ad,fs=0,Fs=St.rb[St.sb-1],Ur=Kn=0,s(_r,fs,0,384),js.Za)var rs=0,$i=ts[3];else{Pr=i(16);var En=mr.Na+Fs.Na;if(En=Ic(tn,ts[1],En,Bn.Eb,0,Pr,0),mr.Na=Fs.Na=(0<En)+0,1<En)hs(Pr,0,_r,fs);else{var Ps=Pr[0]+3>>3;for(Pr=0;256>Pr;Pr+=16)_r[fs+Pr]=Ps}rs=1,$i=ts[0]}var Vr=15&mr.la,Gn=15&Fs.la;for(Pr=0;4>Pr;++Pr){var Js=1&Gn;for(Ps=Dr=0;4>Ps;++Ps)Vr=Vr>>1|(Js=(En=Ic(tn,$i,En=Js+(1&Vr),Bn.Sc,rs,_r,fs))>rs)<<7,Dr=Dr<<2|(3<En?3:1<En?2:_r[fs+0]!=0),fs+=16;Vr>>=4,Gn=Gn>>1|Js<<7,Kn=(Kn<<8|Dr)>>>0}for($i=Vr,rs=Gn>>4,Cn=0;4>Cn;Cn+=2){for(Dr=0,Vr=mr.la>>4+Cn,Gn=Fs.la>>4+Cn,Pr=0;2>Pr;++Pr){for(Js=1&Gn,Ps=0;2>Ps;++Ps)En=Js+(1&Vr),Vr=Vr>>1|(Js=0<(En=Ic(tn,ts[2],En,Bn.Qc,0,_r,fs)))<<3,Dr=Dr<<2|(3<En?3:1<En?2:_r[fs+0]!=0),fs+=16;Vr>>=2,Gn=Gn>>1|Js<<5}Ur|=Dr<<4*Cn,$i|=Vr<<4<<Cn,rs|=(240&Gn)<<Cn}mr.la=$i,Fs.la=rs,js.Hc=Kn,js.Gc=Ur,js.ia=43690&Ur?0:Bn.ia,ts=!(Kn|Ur)}if(0<St.L&&(St.wa[St.Y+St.ja]=St.gd[yr.$b][yr.Za],St.wa[St.Y+St.ja].La|=!ts),Fn.Ka)return wn(Fr,7,"Premature end-of-file encountered.")}if(fA(Fr),St=$n,Fn=1,yr=($t=Fr).D,mr=0<$t.L&&$t.M>=$t.zb&&$t.M<=$t.Va,$t.Aa==0)t:{if(yr.M=$t.M,yr.uc=mr,ke($t,yr),Fn=1,yr=(Dr=$t.D).Nb,mr=(Ur=Nd[$t.L])*$t.R,tn=Ur/2*$t.B,Pr=16*yr*$t.R,Ps=8*yr*$t.B,ts=$t.sa,js=$t.ta-mr+Pr,Bn=$t.qa,_r=$t.ra-tn+Ps,fs=$t.Ha,Fs=$t.Ia-tn+Ps,Gn=(Vr=Dr.M)==0,Kn=Vr>=$t.Va-1,$t.Aa==2&&ke($t,Dr),Dr.uc)for(Js=(En=$t).D.M,e(En.D.uc),Dr=En.yb;Dr<En.Hb;++Dr){rs=Dr,$i=Js;var Es=(Ys=(ns=En).D).Nb;Cn=ns.R;var Ys=Ys.wa[Ys.Y+rs],Xs=ns.sa,Ds=ns.ta+16*Es*Cn+16*rs,Zs=Ys.dd,Jr=Ys.tc;if(Jr!=0)if(e(3<=Jr),ns.L==1)0<rs&&r1(Xs,Ds,Cn,Jr+4),Ys.La&&s1(Xs,Ds,Cn,Jr),0<$i&&gd(Xs,Ds,Cn,Jr+4),Ys.La&&n1(Xs,Ds,Cn,Jr);else{var ei=ns.B,Ki=ns.qa,Bo=ns.ra+8*Es*ei+8*rs,$a=ns.Ha,ns=ns.Ia+8*Es*ei+8*rs;Es=Ys.ld,0<rs&&(br(Xs,Ds,Cn,Jr+4,Zs,Es),Gr(Ki,Bo,$a,ns,ei,Jr+4,Zs,Es)),Ys.La&&(bn(Xs,Ds,Cn,Jr,Zs,Es),pd(Ki,Bo,$a,ns,ei,Jr,Zs,Es)),0<$i&&(cr(Xs,Ds,Cn,Jr+4,Zs,Es),yn(Ki,Bo,$a,ns,ei,Jr+4,Zs,Es)),Ys.La&&(en(Xs,Ds,Cn,Jr,Zs,Es),fd(Ki,Bo,$a,ns,ei,Jr,Zs,Es))}}if($t.ia&&alert("todo:DitherRow"),St.put!=null){if(Dr=16*Vr,Vr=16*(Vr+1),Gn?(St.y=$t.sa,St.O=$t.ta+Pr,St.f=$t.qa,St.N=$t.ra+Ps,St.ea=$t.Ha,St.W=$t.Ia+Ps):(Dr-=Ur,St.y=ts,St.O=js,St.f=Bn,St.N=_r,St.ea=fs,St.W=Fs),Kn||(Vr-=Ur),Vr>St.o&&(Vr=St.o),St.F=null,St.J=null,$t.Fa!=null&&0<$t.Fa.length&&Dr<Vr&&(St.J=Lr($t,St,Dr,Vr-Dr),St.F=$t.mb,St.F==null&&St.F.length==0)){Fn=wn($t,3,"Could not decode alpha data.");break t}Dr<St.j&&(Ur=St.j-Dr,Dr=St.j,e(!(1&Ur)),St.O+=$t.R*Ur,St.N+=$t.B*(Ur>>1),St.W+=$t.B*(Ur>>1),St.F!=null&&(St.J+=St.width*Ur)),Dr<Vr&&(St.O+=St.v,St.N+=St.v>>1,St.W+=St.v>>1,St.F!=null&&(St.J+=St.v),St.ka=Dr-St.j,St.U=St.va-St.v,St.T=Vr-Dr,Fn=St.put(St))}yr+1!=$t.Ic||Kn||(n($t.sa,$t.ta-mr,ts,js+16*$t.R,mr),n($t.qa,$t.ra-tn,Bn,_r+8*$t.B,tn),n($t.Ha,$t.Ia-tn,fs,Fs+8*$t.B,tn))}if(!Fn)return wn(Fr,6,"Output aborted.")}return 1}(oe,je)),je.bc!=null&&je.bc(je),Le&=1}return Le?(oe.cb=0,Le):0})(u,C)||(f=u.a)}}else f=u.a}f==0&&$.Oa!=null&&$.Oa.fd&&(f=ze($.ba))}$=f}D=$!=0?null:11>D?V.f.RGBA.eb:V.f.kb.y}else D=null;return D};var C1=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(N,H){for(var _="",E=0;E<4;E++)_+=String.fromCharCode(N[H++]);return _}function d(N,H){return N[H+0]|N[H+1]<<8}function p(N,H){return(N[H+0]|N[H+1]<<8|N[H+2]<<16)>>>0}function g(N,H){return(N[H+0]|N[H+1]<<8|N[H+2]<<16|N[H+3]<<24)>>>0}new l;var h=[0],b=[0],v=[],S=new l,x=t,y=function(N,H){var _={},E=0,G=!1,P=0,ee=0;if(_.frames=[],!function(I,R){for(var te=0;te<4;te++)if(I[R+te]!="RIFF".charCodeAt(te))return!0;return!1}(N,H)){for(g(N,H+=4),H+=8;H<N.length;){var ce=c(N,H),he=g(N,H+=4);H+=4;var ie=he+(1&he);switch(ce){case"VP8 ":case"VP8L":_.frames[E]===void 0&&(_.frames[E]={}),(ve=_.frames[E]).src_off=G?ee:H-8,ve.src_size=P+he+8,E++,G&&(G=!1,P=0,ee=0);break;case"VP8X":(ve=_.header={}).feature_flags=N[H];var de=H+4;ve.canvas_width=1+p(N,de),de+=3,ve.canvas_height=1+p(N,de),de+=3;break;case"ALPH":G=!0,P=ie+8,ee=H-8;break;case"ANIM":(ve=_.header).bgcolor=g(N,H),de=H+4,ve.loop_count=d(N,de),de+=2;break;case"ANMF":var fe,ve;(ve=_.frames[E]={}).offset_x=2*p(N,H),H+=3,ve.offset_y=2*p(N,H),H+=3,ve.width=1+p(N,H),H+=3,ve.height=1+p(N,H),H+=3,ve.duration=p(N,H),H+=3,fe=N[H++],ve.dispose=1&fe,ve.blend=fe>>1&1}ce!="ANMF"&&(H+=ie)}return _}}(x,0);y.response=x,y.rgbaoutput=!0,y.dataurl=!1;var B=y.header?y.header:null,j=y.frames?y.frames:null;if(B){B.loop_counter=B.loop_count,h=[B.canvas_height],b=[B.canvas_width];for(var O=0;O<j.length&&j[O].blend!=0;O++);}var k=j[0],M=S.WebPDecodeRGBA(x,k.src_off,k.src_size,b,h);k.rgba=M,k.imgwidth=b[0],k.imgheight=h[0];for(var K=0;K<b[0]*h[0]*4;K++)v[K]=M[K];return this.width=b,this.height=h,this.data=v,this}/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */function Y6(){var t,e=this.internal.__metadata__.metadata,r=unescape(encodeURIComponent(e));t=this.internal.__metadata__.rawXml?r:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+t.length+" >>"),this.internal.write("stream"),this.internal.write(t),this.internal.write("endstream"),this.internal.write("endobj")}function X6(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(t){var e,r,n,s,i,A,o,l,c,d=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new l,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new A,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new A,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,A=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var p=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var R=I;Object.defineProperty(this,"pdf",{get:function(){return R}});var te=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return te},set:function(F){te=!!F}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(F){Y=!!F}});var le=0;Object.defineProperty(this,"posX",{get:function(){return le},set:function(F){isNaN(F)||(le=F)}});var pe=0;Object.defineProperty(this,"posY",{get:function(){return pe},set:function(F){isNaN(F)||(pe=F)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(F){var se;typeof F=="number"?se=[F,F,F,F]:((se=new Array(4))[0]=F[0],se[1]=F.length>=2?F[1]:se[0],se[2]=F.length>=3?F[2]:se[0],se[3]=F.length>=4?F[3]:se[1]),c.margin=se}});var Fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Fe},set:function(F){Fe=F}});var be=0;Object.defineProperty(this,"lastBreak",{get:function(){return be},set:function(F){be=F}});var Oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Oe},set:function(F){Oe=F}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(F){F instanceof d&&(c=F)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(F){c.path=F}});var Ye=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ye},set:function(F){Ye=F}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(F){var se;se=g(F),this.ctx.fillStyle=se.style,this.ctx.isFillTransparent=se.a===0,this.ctx.fillOpacity=se.a,this.pdf.setFillColor(se.r,se.g,se.b,{a:se.a}),this.pdf.setTextColor(se.r,se.g,se.b,{a:se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(F){var se=g(F);this.ctx.strokeStyle=se.style,this.ctx.isStrokeTransparent=se.a===0,this.ctx.strokeOpacity=se.a,se.a===0?this.pdf.setDrawColor(255,255,255):(se.a,this.pdf.setDrawColor(se.r,se.g,se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(F){["butt","round","square"].indexOf(F)!==-1&&(this.ctx.lineCap=F,this.pdf.setLineCap(F))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(F){isNaN(F)||(this.ctx.lineWidth=F,this.pdf.setLineWidth(F))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(F){["bevel","round","miter"].indexOf(F)!==-1&&(this.ctx.lineJoin=F,this.pdf.setLineJoin(F))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(F){isNaN(F)||(this.ctx.miterLimit=F,this.pdf.setMiterLimit(F))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(F){this.ctx.textBaseline=F}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(F){["right","end","center","left","start"].indexOf(F)!==-1&&(this.ctx.textAlign=F)}});var ht=null,ue=null,qe=null;Object.defineProperty(this,"fontFaces",{get:function(){return qe},set:function(F){ht=null,ue=null,qe=F}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(F){var se;if(this.ctx.font=F,(se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(F))!==null){var Ke=se[1];se[2];var J=se[3],ne=se[4];se[5];var Ne=se[6],W=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ne)[2];ne=Math.floor(W==="px"?parseFloat(ne)*this.pdf.internal.scaleFactor:W==="em"?parseFloat(ne)*this.pdf.getFontSize():parseFloat(ne)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ne);var He=function(_e){var Xe,Ge,ge=[],Qe=_e.trim();if(Qe==="")return ng;if(Qe in u2)return[u2[Qe]];for(;Qe!=="";){switch(Ge=null,Xe=(Qe=h2(Qe)).charAt(0)){case'"':case"'":Ge=G6(Qe.substring(1),Xe);break;default:Ge=V6(Qe)}if(Ge===null||(ge.push(Ge[0]),(Qe=h2(Ge[1]))!==""&&Qe.charAt(0)!==","))return ng;Qe=Qe.replace(/^,/,"")}return ge}(Ne);if(this.fontFaces){var Ve=function(_e,Xe){var Ge=_e.getFontList(),ge=JSON.stringify(Ge);if(ht===null||ue!==ge){var Qe=function(ft){var at=[];return Object.keys(ft).forEach(function(vt){ft[vt].forEach(function(pt){var xt=null;switch(pt){case"bold":xt={family:vt,weight:"bold"};break;case"italic":xt={family:vt,style:"italic"};break;case"bolditalic":xt={family:vt,weight:"bold",style:"italic"};break;case"":case"normal":xt={family:vt}}xt!==null&&(xt.ref={name:vt,style:pt},at.push(xt))})}),at}(Ge);ht=function(ft){for(var at={},vt=0;vt<ft.length;++vt){var pt=rg(ft[vt]),xt=pt.family,Bt=pt.stretch,Kt=pt.style,Et=pt.weight;at[xt]=at[xt]||{},at[xt][Bt]=at[xt][Bt]||{},at[xt][Bt][Kt]=at[xt][Bt][Kt]||{},at[xt][Bt][Kt][Et]=pt}return at}(Qe.concat(Xe)),ue=ge}return ht}(this.pdf,this.fontFaces),$e=He.map(function(_e){return{family:_e,stretch:"normal",weight:J,style:Ke}}),Je=function(_e,Xe,Ge){for(var ge=(Ge=Ge||{}).defaultFontFamily||"times",Qe=Object.assign({},K6,Ge.genericFontFamilies||{}),ft=null,at=null,vt=0;vt<Xe.length;++vt)if(Qe[(ft=rg(Xe[vt])).family]&&(ft.family=Qe[ft.family]),_e.hasOwnProperty(ft.family)){at=_e[ft.family];break}if(!(at=at||_e[ge]))throw new Error("Could not find a font-family for the rule '"+d2(ft)+"' and default family '"+ge+"'.");if(at=function(pt,xt){if(xt[pt])return xt[pt];var Bt=$m[pt],Kt=Bt<=$m.normal?-1:1,Et=c2(xt,V4,Bt,Kt);if(!Et)throw new Error("Could not find a matching font-stretch value for "+pt);return Et}(ft.stretch,at),at=function(pt,xt){if(xt[pt])return xt[pt];for(var Bt=G4[pt],Kt=0;Kt<Bt.length;++Kt)if(xt[Bt[Kt]])return xt[Bt[Kt]];throw new Error("Could not find a matching font-style for "+pt)}(ft.style,at),!(at=function(pt,xt){if(xt[pt])return xt[pt];if(pt===400&&xt[500])return xt[500];if(pt===500&&xt[400])return xt[400];var Bt=$6[pt],Kt=c2(xt,z4,Bt,pt<400?-1:1);if(!Kt)throw new Error("Could not find a matching font-weight for value "+pt);return Kt}(ft.weight,at)))throw new Error("Failed to resolve a font for the rule '"+d2(ft)+"'.");return at}(Ve,$e);this.pdf.setFont(Je.ref.name,Je.ref.style)}else{var ct="";(J==="bold"||parseInt(J,10)>=700||Ke==="bold")&&(ct="bold"),Ke==="italic"&&(ct+="italic"),ct.length===0&&(ct="normal");for(var Be="",Ce={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Z=0;Z<He.length;Z++){if(this.pdf.internal.getFont(He[Z],ct,{noFallback:!0,disableWarning:!0})!==void 0){Be=He[Z];break}if(ct==="bolditalic"&&this.pdf.internal.getFont(He[Z],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Be=He[Z],ct="bold";else if(this.pdf.internal.getFont(He[Z],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Be=He[Z],ct="normal";break}}if(Be===""){for(var we=0;we<He.length;we++)if(Ce[He[we]]){Be=Ce[He[we]];break}}Be=Be===""?"Times":Be,this.pdf.setFont(Be,ct)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(F){this.ctx.globalCompositeOperation=F}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(F){this.ctx.globalAlpha=F}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(F){this.ctx.lineDashOffset=F,ve.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(F){this.ctx.lineDash=F,ve.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(F){this.ctx.ignoreClearRect=!!F}})};p.prototype.setLineDash=function(I){this.lineDash=I},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){j.call(this,"fill",!1)},p.prototype.stroke=function(){j.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(I,R){if(isNaN(I)||isNaN(R))throw zr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var te=this.ctx.transform.applyToPoint(new A(I,R));this.path.push({type:"mt",x:te.x,y:te.y}),this.ctx.lastPoint=new A(I,R)},p.prototype.closePath=function(){var I=new A(0,0),R=0;for(R=this.path.length-1;R!==-1;R--)if(this.path[R].type==="begin"&&Hr(this.path[R+1])==="object"&&typeof this.path[R+1].x=="number"){I=new A(this.path[R+1].x,this.path[R+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new A(I.x,I.y)},p.prototype.lineTo=function(I,R){if(isNaN(I)||isNaN(R))throw zr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var te=this.ctx.transform.applyToPoint(new A(I,R));this.path.push({type:"lt",x:te.x,y:te.y}),this.ctx.lastPoint=new A(te.x,te.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},p.prototype.quadraticCurveTo=function(I,R,te,Y){if(isNaN(te)||isNaN(Y)||isNaN(I)||isNaN(R))throw zr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var le=this.ctx.transform.applyToPoint(new A(te,Y)),pe=this.ctx.transform.applyToPoint(new A(I,R));this.path.push({type:"qct",x1:pe.x,y1:pe.y,x:le.x,y:le.y}),this.ctx.lastPoint=new A(le.x,le.y)},p.prototype.bezierCurveTo=function(I,R,te,Y,le,pe){if(isNaN(le)||isNaN(pe)||isNaN(I)||isNaN(R)||isNaN(te)||isNaN(Y))throw zr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Fe=this.ctx.transform.applyToPoint(new A(le,pe)),be=this.ctx.transform.applyToPoint(new A(I,R)),Oe=this.ctx.transform.applyToPoint(new A(te,Y));this.path.push({type:"bct",x1:be.x,y1:be.y,x2:Oe.x,y2:Oe.y,x:Fe.x,y:Fe.y}),this.ctx.lastPoint=new A(Fe.x,Fe.y)},p.prototype.arc=function(I,R,te,Y,le,pe){if(isNaN(I)||isNaN(R)||isNaN(te)||isNaN(Y)||isNaN(le))throw zr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(pe=!!pe,!this.ctx.transform.isIdentity){var Fe=this.ctx.transform.applyToPoint(new A(I,R));I=Fe.x,R=Fe.y;var be=this.ctx.transform.applyToPoint(new A(0,te)),Oe=this.ctx.transform.applyToPoint(new A(0,0));te=Math.sqrt(Math.pow(be.x-Oe.x,2)+Math.pow(be.y-Oe.y,2))}Math.abs(le-Y)>=2*Math.PI&&(Y=0,le=2*Math.PI),this.path.push({type:"arc",x:I,y:R,radius:te,startAngle:Y,endAngle:le,counterclockwise:pe})},p.prototype.arcTo=function(I,R,te,Y,le){throw new Error("arcTo not implemented.")},p.prototype.rect=function(I,R,te,Y){if(isNaN(I)||isNaN(R)||isNaN(te)||isNaN(Y))throw zr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,R),this.lineTo(I+te,R),this.lineTo(I+te,R+Y),this.lineTo(I,R+Y),this.lineTo(I,R),this.lineTo(I+te,R),this.lineTo(I,R)},p.prototype.fillRect=function(I,R,te,Y){if(isNaN(I)||isNaN(R)||isNaN(te)||isNaN(Y))throw zr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var le={};this.lineCap!=="butt"&&(le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,R,te,Y),this.fill(),le.hasOwnProperty("lineCap")&&(this.lineCap=le.lineCap),le.hasOwnProperty("lineJoin")&&(this.lineJoin=le.lineJoin)}},p.prototype.strokeRect=function(I,R,te,Y){if(isNaN(I)||isNaN(R)||isNaN(te)||isNaN(Y))throw zr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(I,R,te,Y),this.stroke())},p.prototype.clearRect=function(I,R,te,Y){if(isNaN(I)||isNaN(R)||isNaN(te)||isNaN(Y))throw zr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,R,te,Y))},p.prototype.save=function(I){I=typeof I!="boolean"||I;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("q");if(this.pdf.setPage(R),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},p.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("Q");this.pdf.setPage(R),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(I){var R,te,Y,le;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))R=0,te=0,Y=0,le=0;else{var pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(pe!==null)R=parseInt(pe[1]),te=parseInt(pe[2]),Y=parseInt(pe[3]),le=1;else if((pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)R=parseInt(pe[1]),te=parseInt(pe[2]),Y=parseInt(pe[3]),le=parseFloat(pe[4]);else{if(le=1,typeof I=="string"&&I.charAt(0)!=="#"){var Fe=new P4(I);I=Fe.ok?Fe.toHex():"#000000"}I.length===4?(R=I.substring(1,2),R+=R,te=I.substring(2,3),te+=te,Y=I.substring(3,4),Y+=Y):(R=I.substring(1,3),te=I.substring(3,5),Y=I.substring(5,7)),R=parseInt(R,16),te=parseInt(te,16),Y=parseInt(Y,16)}}return{r:R,g:te,b:Y,a:le,style:I}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(I,R,te,Y){if(isNaN(R)||isNaN(te)||typeof I!="string")throw zr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!h.call(this)){var le=ie(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;E.call(this,{text:I,x:R,y:te,scale:pe,angle:le,align:this.textAlign,maxWidth:Y})}},p.prototype.strokeText=function(I,R,te,Y){if(isNaN(R)||isNaN(te)||typeof I!="string")throw zr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){Y=isNaN(Y)?void 0:Y;var le=ie(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;E.call(this,{text:I,x:R,y:te,scale:pe,renderingMode:"stroke",angle:le,align:this.textAlign,maxWidth:Y})}},p.prototype.measureText=function(I){if(typeof I!="string")throw zr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var R=this.pdf,te=this.pdf.internal.scaleFactor,Y=R.internal.getFontSize(),le=R.getStringUnitWidth(I)*Y/R.internal.scaleFactor;return new function(pe){var Fe=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Fe}}),this}({width:le*=Math.round(96*te/72*1e4)/1e4})},p.prototype.scale=function(I,R){if(isNaN(I)||isNaN(R))throw zr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var te=new l(I,0,0,R,0,0);this.ctx.transform=this.ctx.transform.multiply(te)},p.prototype.rotate=function(I){if(isNaN(I))throw zr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var R=new l(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(R)},p.prototype.translate=function(I,R){if(isNaN(I)||isNaN(R))throw zr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var te=new l(1,0,0,1,I,R);this.ctx.transform=this.ctx.transform.multiply(te)},p.prototype.transform=function(I,R,te,Y,le,pe){if(isNaN(I)||isNaN(R)||isNaN(te)||isNaN(Y)||isNaN(le)||isNaN(pe))throw zr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Fe=new l(I,R,te,Y,le,pe);this.ctx.transform=this.ctx.transform.multiply(Fe)},p.prototype.setTransform=function(I,R,te,Y,le,pe){I=isNaN(I)?1:I,R=isNaN(R)?0:R,te=isNaN(te)?0:te,Y=isNaN(Y)?1:Y,le=isNaN(le)?0:le,pe=isNaN(pe)?0:pe,this.ctx.transform=new l(I,R,te,Y,le,pe)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(I,R,te,Y,le,pe,Fe,be,Oe){var Ye=this.pdf.getImageProperties(I),ht=1,ue=1,qe=1,F=1;Y!==void 0&&be!==void 0&&(qe=be/Y,F=Oe/le,ht=Ye.width/Y*be/Y,ue=Ye.height/le*Oe/le),pe===void 0&&(pe=R,Fe=te,R=0,te=0),Y!==void 0&&be===void 0&&(be=Y,Oe=le),Y===void 0&&be===void 0&&(be=Ye.width,Oe=Ye.height);var se=this.ctx.transform.decompose(),Ke=ie(se.rotate.shx),J=new l,ne=(J=(J=(J=J.multiply(se.translate)).multiply(se.skew)).multiply(se.scale)).applyToRectangle(new o(pe-R*qe,Fe-te*F,Y*ht,le*ue));if(this.autoPaging){for(var Ne,W=S.call(this,ne),He=[],Ve=0;Ve<W.length;Ve+=1)He.indexOf(W[Ve])===-1&&He.push(W[Ve]);B(He);for(var $e=He[0],Je=He[He.length-1],ct=$e;ct<Je+1;ct++){this.pdf.setPage(ct);var Be=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ce=ct===1?this.posY+this.margin[0]:this.margin[0],Z=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],we=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],_e=ct===1?0:Z+(ct-2)*we;if(this.ctx.clip_path.length!==0){var Xe=this.path;Ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Ne,this.posX+this.margin[3],-_e+Ce+this.ctx.prevPageLastElemOffset),O.call(this,"fill",!0),this.path=Xe}var Ge=JSON.parse(JSON.stringify(ne));Ge=y([Ge],this.posX+this.margin[3],-_e+Ce+this.ctx.prevPageLastElemOffset)[0];var ge=(ct>$e||ct<Je)&&v.call(this);ge&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Be,we,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",Ge.x,Ge.y,Ge.w,Ge.h,null,null,Ke),ge&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(I,"JPEG",ne.x,ne.y,ne.w,ne.h,null,null,Ke)};var S=function(I,R,te){var Y=[];R=R||this.pdf.internal.pageSize.width,te=te||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var le=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":Y.push(Math.floor((I.y+le)/te)+1);break;case"arc":Y.push(Math.floor((I.y+le-I.radius)/te)+1),Y.push(Math.floor((I.y+le+I.radius)/te)+1);break;case"qct":var pe=de(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);Y.push(Math.floor((pe.y+le)/te)+1),Y.push(Math.floor((pe.y+pe.h+le)/te)+1);break;case"bct":var Fe=fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);Y.push(Math.floor((Fe.y+le)/te)+1),Y.push(Math.floor((Fe.y+Fe.h+le)/te)+1);break;case"rect":Y.push(Math.floor((I.y+le)/te)+1),Y.push(Math.floor((I.y+I.h+le)/te)+1)}for(var be=0;be<Y.length;be+=1)for(;this.pdf.internal.getNumberOfPages()<Y[be];)x.call(this);return Y},x=function(){var I=this.fillStyle,R=this.strokeStyle,te=this.font,Y=this.lineCap,le=this.lineWidth,pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=R,this.font=te,this.lineCap=Y,this.lineWidth=le,this.lineJoin=pe},y=function(I,R,te){for(var Y=0;Y<I.length;Y++)switch(I[Y].type){case"bct":I[Y].x2+=R,I[Y].y2+=te;case"qct":I[Y].x1+=R,I[Y].y1+=te;default:I[Y].x+=R,I[Y].y+=te}return I},B=function(I){return I.sort(function(R,te){return R-te})},j=function(I,R){var te=this.fillStyle,Y=this.strokeStyle,le=this.lineCap,pe=this.lineWidth,Fe=Math.abs(pe*this.ctx.transform.scaleX),be=this.lineJoin;if(this.autoPaging){for(var Oe,Ye,ht=JSON.parse(JSON.stringify(this.path)),ue=JSON.parse(JSON.stringify(this.path)),qe=[],F=0;F<ue.length;F++)if(ue[F].x!==void 0)for(var se=S.call(this,ue[F]),Ke=0;Ke<se.length;Ke+=1)qe.indexOf(se[Ke])===-1&&qe.push(se[Ke]);for(var J=0;J<qe.length;J++)for(;this.pdf.internal.getNumberOfPages()<qe[J];)x.call(this);B(qe);for(var ne=qe[0],Ne=qe[qe.length-1],W=ne;W<Ne+1;W++){this.pdf.setPage(W),this.fillStyle=te,this.strokeStyle=Y,this.lineCap=le,this.lineWidth=Fe,this.lineJoin=be;var He=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ve=W===1?this.posY+this.margin[0]:this.margin[0],$e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Je=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=W===1?0:$e+(W-2)*Je;if(this.ctx.clip_path.length!==0){var Be=this.path;Oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Oe,this.posX+this.margin[3],-ct+Ve+this.ctx.prevPageLastElemOffset),O.call(this,I,!0),this.path=Be}if(Ye=JSON.parse(JSON.stringify(ht)),this.path=y(Ye,this.posX+this.margin[3],-ct+Ve+this.ctx.prevPageLastElemOffset),R===!1||W===0){var Ce=(W>ne||W<Ne)&&v.call(this);Ce&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],He,Je,null).clip().discardPath()),O.call(this,I,R),Ce&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}this.path=ht}else this.lineWidth=Fe,O.call(this,I,R),this.lineWidth=pe},O=function(I,R){if((I!=="stroke"||R||!b.call(this))&&(I==="stroke"||R||!h.call(this))){for(var te,Y,le=[],pe=this.path,Fe=0;Fe<pe.length;Fe++){var be=pe[Fe];switch(be.type){case"begin":le.push({begin:!0});break;case"close":le.push({close:!0});break;case"mt":le.push({start:be,deltas:[],abs:[]});break;case"lt":var Oe=le.length;if(pe[Fe-1]&&!isNaN(pe[Fe-1].x)&&(te=[be.x-pe[Fe-1].x,be.y-pe[Fe-1].y],Oe>0)){for(;Oe>=0;Oe--)if(le[Oe-1].close!==!0&&le[Oe-1].begin!==!0){le[Oe-1].deltas.push(te),le[Oe-1].abs.push(be);break}}break;case"bct":te=[be.x1-pe[Fe-1].x,be.y1-pe[Fe-1].y,be.x2-pe[Fe-1].x,be.y2-pe[Fe-1].y,be.x-pe[Fe-1].x,be.y-pe[Fe-1].y],le[le.length-1].deltas.push(te);break;case"qct":var Ye=pe[Fe-1].x+2/3*(be.x1-pe[Fe-1].x),ht=pe[Fe-1].y+2/3*(be.y1-pe[Fe-1].y),ue=be.x+2/3*(be.x1-be.x),qe=be.y+2/3*(be.y1-be.y),F=be.x,se=be.y;te=[Ye-pe[Fe-1].x,ht-pe[Fe-1].y,ue-pe[Fe-1].x,qe-pe[Fe-1].y,F-pe[Fe-1].x,se-pe[Fe-1].y],le[le.length-1].deltas.push(te);break;case"arc":le.push({deltas:[],abs:[],arc:!0}),Array.isArray(le[le.length-1].abs)&&le[le.length-1].abs.push(be)}}Y=R?null:I==="stroke"?"stroke":"fill";for(var Ke=!1,J=0;J<le.length;J++)if(le[J].arc)for(var ne=le[J].abs,Ne=0;Ne<ne.length;Ne++){var W=ne[Ne];W.type==="arc"?K.call(this,W.x,W.y,W.radius,W.startAngle,W.endAngle,W.counterclockwise,void 0,R,!Ke):G.call(this,W.x,W.y),Ke=!0}else if(le[J].close===!0)this.pdf.internal.out("h"),Ke=!1;else if(le[J].begin!==!0){var He=le[J].start.x,Ve=le[J].start.y;P.call(this,le[J].deltas,He,Ve),Ke=!0}Y&&N.call(this,Y),R&&H.call(this)}},k=function(I){var R=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,te=R*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-te;case"top":return I+R-te;case"hanging":return I+R-2*te;case"middle":return I+R/2-te;default:return I}},M=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(R,te){this.colorStops.push([R,te])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var K=function(I,R,te,Y,le,pe,Fe,be,Oe){for(var Ye=ce.call(this,te,Y,le,pe),ht=0;ht<Ye.length;ht++){var ue=Ye[ht];ht===0&&(Oe?_.call(this,ue.x1+I,ue.y1+R):G.call(this,ue.x1+I,ue.y1+R)),ee.call(this,I,R,ue.x2,ue.y2,ue.x3,ue.y3,ue.x4,ue.y4)}be?H.call(this):N.call(this,Fe)},N=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},_=function(I,R){this.pdf.internal.out(r(I)+" "+n(R)+" m")},E=function(I){var R;switch(I.align){case"right":case"end":R="right";break;case"center":R="center";break;default:R="left"}var te,Y,le,pe=this.pdf.getTextDimensions(I.text),Fe=k.call(this,I.y),be=M.call(this,Fe)-pe.h,Oe=this.ctx.transform.applyToPoint(new A(I.x,Fe));if(this.autoPaging){var Ye=this.ctx.transform.decompose(),ht=new l;ht=(ht=(ht=ht.multiply(Ye.translate)).multiply(Ye.skew)).multiply(Ye.scale);for(var ue=this.ctx.transform.applyToRectangle(new o(I.x,Fe,pe.w,pe.h)),qe=ht.applyToRectangle(new o(I.x,be,pe.w,pe.h)),F=S.call(this,qe),se=[],Ke=0;Ke<F.length;Ke+=1)se.indexOf(F[Ke])===-1&&se.push(F[Ke]);B(se);for(var J=se[0],ne=se[se.length-1],Ne=J;Ne<ne+1;Ne++){this.pdf.setPage(Ne);var W=Ne===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ve=this.pdf.internal.pageSize.height-this.margin[2],$e=Ve-this.margin[0],Je=this.pdf.internal.pageSize.width-this.margin[1],ct=Je-this.margin[3],Be=Ne===1?0:He+(Ne-2)*$e;if(this.ctx.clip_path.length!==0){var Ce=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(te,this.posX+this.margin[3],-1*Be+W),O.call(this,"fill",!0),this.path=Ce}var Z=y([JSON.parse(JSON.stringify(qe))],this.posX+this.margin[3],-Be+W+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(Y=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Y*I.scale),le=this.lineWidth,this.lineWidth=le*I.scale);var we=this.autoPaging!=="text";if(we||Z.y+Z.h<=Ve){if(we||Z.y>=W&&Z.x<=Je){var _e=we?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||Je-Z.x)[0],Xe=y([JSON.parse(JSON.stringify(ue))],this.posX+this.margin[3],-Be+W+this.ctx.prevPageLastElemOffset)[0],Ge=we&&(Ne>J||Ne<ne)&&v.call(this);Ge&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,$e,null).clip().discardPath()),this.pdf.text(_e,Xe.x,Xe.y,{angle:I.angle,align:R,renderingMode:I.renderingMode}),Ge&&this.pdf.restoreGraphicsState()}}else Z.y<Ve&&(this.ctx.prevPageLastElemOffset+=Ve-Z.y);I.scale>=.01&&(this.pdf.setFontSize(Y),this.lineWidth=le)}}else I.scale>=.01&&(Y=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Y*I.scale),le=this.lineWidth,this.lineWidth=le*I.scale),this.pdf.text(I.text,Oe.x+this.posX,Oe.y+this.posY,{angle:I.angle,align:R,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(Y),this.lineWidth=le)},G=function(I,R,te,Y){te=te||0,Y=Y||0,this.pdf.internal.out(r(I+te)+" "+n(R+Y)+" l")},P=function(I,R,te){return this.pdf.lines(I,R,te,null,null)},ee=function(I,R,te,Y,le,pe,Fe,be){this.pdf.internal.out([e(s(te+I)),e(i(Y+R)),e(s(le+I)),e(i(pe+R)),e(s(Fe+I)),e(i(be+R)),"c"].join(" "))},ce=function(I,R,te,Y){for(var le=2*Math.PI,pe=Math.PI/2;R>te;)R-=le;var Fe=Math.abs(te-R);Fe<le&&Y&&(Fe=le-Fe);for(var be=[],Oe=Y?-1:1,Ye=R;Fe>1e-5;){var ht=Ye+Oe*Math.min(Fe,pe);be.push(he.call(this,I,Ye,ht)),Fe-=Math.abs(ht-Ye),Ye=ht}return be},he=function(I,R,te){var Y=(te-R)/2,le=I*Math.cos(Y),pe=I*Math.sin(Y),Fe=le,be=-pe,Oe=Fe*Fe+be*be,Ye=Oe+Fe*le+be*pe,ht=4/3*(Math.sqrt(2*Oe*Ye)-Ye)/(Fe*pe-be*le),ue=Fe-ht*be,qe=be+ht*Fe,F=ue,se=-qe,Ke=Y+R,J=Math.cos(Ke),ne=Math.sin(Ke);return{x1:I*Math.cos(R),y1:I*Math.sin(R),x2:ue*J-qe*ne,y2:ue*ne+qe*J,x3:F*J-se*ne,y3:F*ne+se*J,x4:I*Math.cos(te),y4:I*Math.sin(te)}},ie=function(I){return 180*I/Math.PI},de=function(I,R,te,Y,le,pe){var Fe=I+.5*(te-I),be=R+.5*(Y-R),Oe=le+.5*(te-le),Ye=pe+.5*(Y-pe),ht=Math.min(I,le,Fe,Oe),ue=Math.max(I,le,Fe,Oe),qe=Math.min(R,pe,be,Ye),F=Math.max(R,pe,be,Ye);return new o(ht,qe,ue-ht,F-qe)},fe=function(I,R,te,Y,le,pe,Fe,be){var Oe,Ye,ht,ue,qe,F,se,Ke,J,ne,Ne,W,He,Ve,$e=te-I,Je=Y-R,ct=le-te,Be=pe-Y,Ce=Fe-le,Z=be-pe;for(Ye=0;Ye<41;Ye++)J=(se=(ht=I+(Oe=Ye/40)*$e)+Oe*((qe=te+Oe*ct)-ht))+Oe*(qe+Oe*(le+Oe*Ce-qe)-se),ne=(Ke=(ue=R+Oe*Je)+Oe*((F=Y+Oe*Be)-ue))+Oe*(F+Oe*(pe+Oe*Z-F)-Ke),Ye==0?(Ne=J,W=ne,He=J,Ve=ne):(Ne=Math.min(Ne,J),W=Math.min(W,ne),He=Math.max(He,J),Ve=Math.max(Ve,ne));return new o(Math.round(Ne),Math.round(W),Math.round(He-Ne),Math.round(Ve-W))},ve=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,R,te=(I=this.ctx.lineDash,R=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:R}));this.prevLineDash!==te&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=te)}}})(Xt.API),function(t){var e=function(A){var o,l,c,d,p,g,h,b,v,S;for(l=[],c=0,d=(A+=o="\0\0\0\0".slice(A.length%4||4)).length;d>c;c+=4)(p=(A.charCodeAt(c)<<24)+(A.charCodeAt(c+1)<<16)+(A.charCodeAt(c+2)<<8)+A.charCodeAt(c+3))!==0?(g=(p=((p=((p=((p=(p-(S=p%85))/85)-(v=p%85))/85)-(b=p%85))/85)-(h=p%85))/85)%85,l.push(g+33,h+33,b+33,v+33,S+33)):l.push(122);return function(x,y){for(var B=y;B>0;B--)x.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(A){var o,l,c,d,p,g=String,h="length",b=255,v="charCodeAt",S="slice",x="replace";for(A[S](-2),A=A[S](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),c=[],d=0,p=(A+=o="uuuuu"[S](A[h]%5||5))[h];p>d;d+=5)l=52200625*(A[v](d)-33)+614125*(A[v](d+1)-33)+7225*(A[v](d+2)-33)+85*(A[v](d+3)-33)+(A[v](d+4)-33),c.push(b&l>>24,b&l>>16,b&l>>8,b&l);return function(y,B){for(var j=B;j>0;j--)y.pop()}(c,o[h]),g.fromCharCode.apply(g,c)},n=function(A){return A.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(A){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((A=A.replace(/\s/g,"")).indexOf(">")!==-1&&(A=A.substr(0,A.indexOf(">"))),A.length%2&&(A+="0"),o.test(A)===!1)return"";for(var l="",c=0;c<A.length;c+=2)l+=String.fromCharCode("0x"+(A[c]+A[c+1]));return l},i=function(A){for(var o=new Uint8Array(A.length),l=A.length;l--;)o[l]=A.charCodeAt(l);return(o=Lm(o)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};t.processDataByFilters=function(A,o){var l=0,c=A||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=s(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(Xt.API),function(t){t.loadFile=function(e,r,n){return function(s,i,A){i=i!==!1,A=typeof A=="function"?A:function(){};var o=void 0;try{o=function(l,c,d){var p=new XMLHttpRequest,g=0,h=function(b){var v=b.length,S=[],x=String.fromCharCode;for(g=0;g<v;g+=1)S.push(x(255&b.charCodeAt(g)));return S.join("")};if(p.open("GET",l,!c),p.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(p.onload=function(){p.status===200?d(h(this.responseText)):d(void 0)}),p.send(null),c&&p.status===200)return h(p.responseText)}(s,i,A)}catch{}return o}(e,r,n)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile}(Xt.API),function(t){function e(){return(ur.html2canvas?Promise.resolve(ur.html2canvas):Pp(()=>Promise.resolve().then(()=>yQ),void 0)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(ur.DOMPurify?Promise.resolve(ur.DOMPurify):Pp(()=>import("./purify.es-1770186194211.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=Hr(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},s=function(o,l){var c=document.createElement(o);for(var d in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[d]=l.style[d];return c},i=function o(l,c){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),p=l.firstChild;p;p=p.nextSibling)c!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||d.appendChild(o(p,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d},A=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),c);return(d=d.setProgress(1,o,1,[o])).set(l)};(A.prototype=Object.create(Promise.prototype)).constructor=A,A.convert=function(o,l){return o.__proto__=l||A.prototype,o},A.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},A.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(r).then(function(c){return this.set({src:s("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},A.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},A.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},A.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},A.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(l){var c=this.opt.jsPDF,d=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var h=0;h<d.length;++h){var b=d[h],v=b.src.find(function(S){return S.format==="truetype"});v&&c.addFont(v.url,b.ref.name,b.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,c.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},A.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},A.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},A.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},A.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},A.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},A.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},A.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},A.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in A.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},A.prototype.get=function(o,l){return this.then(function(){var c=o in A.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},A.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},A.prototype.setPageSize=function(o){function l(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(o=o||Xt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},A.prototype.setProgress=function(o,l,c,d){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},A.prototype.updateProgress=function(o,l,c,d){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},A.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(d,p){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(g){return c.updateProgress(null,d),g}).then(d,p).then(function(g){return c.updateProgress(1),g})})},A.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),l&&(l=l.bind(d));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:A.convert(Object.assign({},d),Promise.prototype),g=c.call(p,o,l);return A.convert(g,d.__proto__)},A.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},A.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},A.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return A.convert(l,this)},A.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},A.prototype.error=function(o){return this.then(function(){throw new Error(o)})},A.prototype.using=A.prototype.set,A.prototype.saveAs=A.prototype.save,A.prototype.export=A.prototype.output,A.prototype.run=A.prototype.then,Xt.getPageSize=function(o,l,c){if(Hr(o)==="object"){var d=o;o=d.orientation,l=d.unit||l,c=d.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var p,g=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+l}var b,v=0,S=0;if(h.hasOwnProperty(g))v=h[g][1]/p,S=h[g][0]/p;else try{v=c[1],S=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",S>v&&(b=S,S=v,v=b);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>S&&(b=S,S=v,v=b)}return{width:S,height:v,unit:l,k:p,orientation:o}},t.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(rg):null;var c=new A(l);return l.worker?c:c.from(o).doCallback()}}(Xt.API),Xt.API.addJS=function(t){var e,r,n=t;return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+n+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&r!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var A=s[i],o=n.exec(A);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(A)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,d=[];for(i=0;i<c;i++){var p=r.internal.newObject();d.push(p);var g=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<d.length;i++)r.internal.write("(page_"+(i+1)+")"+d[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var A={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(A),A},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var A=n.children[i];this.objStart(A),this.line("/Title "+this.makeString(A.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),A.children.length>0&&(this.line("/First "+this.makeRef(A.children[0])),this.line("/Last "+this.makeRef(A.children[A.children.length-1])));var o=this.count=this.count_r({count:0},A);if(o>0&&this.line("/Count "+o),A.options&&A.options.pageNumber){var l=r.internal.getPageInfo(A.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(Xt.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,s,i,A,o){var l,c=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=A||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(p){for(var g,h=256*p.charCodeAt(4)+p.charCodeAt(5),b=p.length,v={width:0,height:0,numcomponents:1},S=4;S<b;S+=2){if(S+=h,e.indexOf(p.charCodeAt(S+1))!==-1){g=256*p.charCodeAt(S+5)+p.charCodeAt(S+6),v={width:256*p.charCodeAt(S+7)+p.charCodeAt(S+8),height:g,numcomponents:p.charCodeAt(S+9)};break}h=256*p.charCodeAt(S+2)+p.charCodeAt(S+3)}return v}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:s}}return d}}(Xt.API),Xt.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var s,i=E6(t,{checkCrc:!0}),A=i.width,o=i.height,l=i.channels,c=i.palette,d=i.depth;s=c&&l===1?function(K){for(var N=K.width,H=K.height,_=K.data,E=K.palette,G=K.depth,P=!1,ee=[],ce=[],he=void 0,ie=!1,de=0,fe=0;fe<E.length;fe++){var ve=wy(E[fe],4),I=ve[0],R=ve[1],te=ve[2],Y=ve[3];ee.push(I,R,te),Y!=null&&(Y===0?(de++,ce.length<1&&ce.push(fe)):Y<255&&(ie=!0))}if(ie||de>1){P=!0,ce=void 0;var le=N*H;he=new Uint8Array(le);for(var pe=new DataView(_.buffer),Fe=0;Fe<le;Fe++){var be=sg(pe,Fe,G),Oe=wy(E[be],4)[3];he[Fe]=Oe}}else de===0&&(ce=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:P?8:void 0,colorBytes:_,alphaBytes:he,needSMask:P,palette:ee,mask:ce}}(i):l===2||l===4?function(K){for(var N=K.data,H=K.width,_=K.height,E=K.channels,G=K.depth,P=E===2?"DeviceGray":"DeviceRGB",ee=E-1,ce=H*_,he=ee,ie=ce*he,de=1*ce,fe=Math.ceil(ie*G/8),ve=Math.ceil(de*G/8),I=new Uint8Array(fe),R=new Uint8Array(ve),te=new DataView(N.buffer),Y=new DataView(I.buffer),le=new DataView(R.buffer),pe=!1,Fe=0;Fe<ce;Fe++){for(var be=Fe*E,Oe=0;Oe<he;Oe++)b2(Y,sg(te,be+Oe,G),Fe*he+Oe,G);var Ye=sg(te,be+he,G);Ye<(1<<G)-1&&(pe=!0),b2(le,Ye,1*Fe,G)}return{colorSpace:P,colorsPerPixel:ee,sMaskBitsPerComponent:pe?G:void 0,colorBytes:I,alphaBytes:R,needSMask:pe}}(i):function(K){var N=K.data,H=K.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:H,colorsPerPixel:H==="DeviceGray"?1:3,colorBytes:N instanceof Uint16Array?function(_){for(var E=_.length,G=new Uint8Array(2*E),P=new DataView(G.buffer,G.byteOffset,G.byteLength),ee=0;ee<E;ee++)P.setUint16(2*ee,_[ee],!1);return G}(N):N,needSMask:!1}}(i);var p,g,h,b=s,v=b.colorSpace,S=b.colorsPerPixel,x=b.sMaskBitsPerComponent,y=b.colorBytes,B=b.alphaBytes,j=b.needSMask,O=b.palette,k=b.mask,M=null;return n!==Xt.API.image_compression.NONE&&typeof Lm=="function"?(M=function(K){var N;switch(K){case Xt.API.image_compression.FAST:N=11;break;case Xt.API.image_compression.MEDIUM:N=13;break;case Xt.API.image_compression.SLOW:N=14;break;default:N=12}return N}(n),p=this.decode.FLATE_DECODE,g="/Predictor ".concat(M," /Colors ").concat(S," /BitsPerComponent ").concat(d," /Columns ").concat(A),t=m2(y,Math.ceil(A*S*d/8),S,d,n),j&&(h=m2(B,Math.ceil(A*x/8),1,x,n))):(p=void 0,g=void 0,t=y,j&&(h=B)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:t,index:e,filter:p,decodeParameters:g,transparency:k,palette:O,sMask:h,predictor:M,width:A,height:o,bitsPerComponent:d,sMaskBitsPerComponent:x,colorSpace:v}}},function(t){t.processGIF89A=function(e,r,n,s){var i=new J6(e),A=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:A,height:o},d=new ig(100).encode(c,100);return t.processJPEG.call(this,d,r,n,s)},t.processGIF87A=t.processGIF89A}(Xt.API),zi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},zi.prototype.parseBGR=function(){this.pos=this.offset;var t="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[t]()}catch(r){zr.log("bit decode error:"+r)}},zi.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),A=n*this.width*4+8*s*4,o=0;o<8&&8*s+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[A+4*o]=l.blue,this.data[A+4*o+1]=l.green,this.data[A+4*o+2]=l.red,this.data[A+4*o+3]=255}r!==0&&(this.pos+=4-r)}},zi.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<t;s++){var i=this.datav.getUint8(this.pos++,!0),A=n*this.width*4+2*s*4,o=i>>4,l=15&i,c=this.palette[o];if(this.data[A]=c.blue,this.data[A+1]=c.green,this.data[A+2]=c.red,this.data[A+3]=255,2*s+1>=this.width)break;c=this.palette[l],this.data[A+4]=c.blue,this.data[A+4+1]=c.green,this.data[A+4+2]=c.red,this.data[A+4+3]=255}e!==0&&(this.pos+=4-e)}},zi.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var A=this.palette[s];this.data[i]=A.red,this.data[i+1]=A.green,this.data[i+2]=A.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},zi.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var A=(i&e)/e*255|0,o=(i>>5&e)/e*255|0,l=(i>>10&e)/e*255|0,c=i>>15?255:0,d=n*this.width*4+4*s;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=A,this.data[d+3]=c}this.pos+=t}},zi.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var A=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(A&e)/e*255|0,l=(A>>5&r)/r*255|0,c=(A>>11)/e*255|0,d=s*this.width*4+4*i;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=t}},zi.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),A=e*this.width*4+4*r;this.data[A]=i,this.data[A+1]=s,this.data[A+2]=n,this.data[A+3]=255}this.pos+=this.width%4}},zi.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),A=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=A}},zi.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,s){var i=new zi(e,!1),A=i.width,o=i.height,l={data:i.getData(),width:A,height:o},c=new ig(100).encode(l,100);return t.processJPEG.call(this,c,r,n,s)}}(Xt.API),C2.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,s){var i=new C2(e),A=i.width,o=i.height,l={data:i.getData(),width:A,height:o},c=new ig(100).encode(l,100);return t.processJPEG.call(this,c,r,n,s)}}(Xt.API),Xt.API.processRGBA=function(t,e,r){for(var n=t.data,s=n.length,i=new Uint8Array(s/4*3),A=new Uint8Array(s/4),o=0,l=0,c=0;c<s;c+=4){var d=n[c],p=n[c+1],g=n[c+2],h=n[c+3];i[o++]=d,i[o++]=p,i[o++]=g,A[l++]=h}var b=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(A),data:b,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Xt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Tl=Xt.API,kh=Tl.getCharWidthsArray=function(t,e){var r,n,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),A=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:s.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:s.metadata.Unicode.kerning,d=c.fof?c.fof:1,p=e.doKerning!==!1,g=0,h=t.length,b=0,v=o[0]||l,S=[];for(r=0;r<h;r++)n=t.charCodeAt(r),typeof s.metadata.widthOfString=="function"?S.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+A*(1e3/i)||0)/1e3):(g=p&&Hr(c[n])==="object"&&!isNaN(parseInt(c[n][b],10))?c[n][b]/d:0,S.push((o[n]||v)/l+g)),b=n;return S},f2=Tl.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return Tl.processArabic&&(t=Tl.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,s)/r:kh.apply(this,arguments).reduce(function(i,A){return i+A},0)},p2=function(t,e,r,n){for(var s=[],i=0,A=t.length,o=0;i!==A&&o+e[i]<r;)o+=e[i],i++;s.push(t.slice(0,i));var l=i;for(o=0;i!==A;)o+e[i]>n&&(s.push(t.slice(l,i)),o=0,l=i),o+=e[i],i++;return l!==i&&s.push(t.slice(l,i)),s},g2=function(t,e,r){r||(r={});var n,s,i,A,o,l,c,d=[],p=[d],g=r.textIndent||0,h=0,b=0,v=t.split(" "),S=kh.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?v[0].length+2:r.lineIndent||0){var x=Array(l).join(" "),y=[];v.map(function(j){(j=j.split(/\s*\n/)).length>1?y=y.concat(j.map(function(O,k){return(k&&O.length?`
`:"")+O})):y.push(j[0])}),v=y,l=f2.apply(this,[x,r])}for(i=0,A=v.length;i<A;i++){var B=0;if(n=v[i],l&&n[0]==`
`&&(n=n.substr(1),B=1),g+h+(b=(s=kh.apply(this,[n,r])).reduce(function(j,O){return j+O},0))>e||B){if(b>e){for(o=p2.apply(this,[n,s,e-(g+h),e]),d.push(o.shift()),d=[o.pop()];o.length;)p.push([o.shift()]);b=s.slice(n.length-(d[0]?d[0].length:0)).reduce(function(j,O){return j+O},0)}else d=[n];p.push(d),g=b+l,h=S}else d.push(n),g+=h+b,h=S}return c=l?function(j,O){return(O?x:"")+j.join(" ")}:function(j){return j.join(" ")},p.map(c)},Tl.splitTextToSize=function(t,e,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var p=this.internal.getFont(d.fontName,d.fontStyle),g="Unicode";return p.metadata[g]?{widths:p.metadata[g].widths||{0:1},kerning:p.metadata[g].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var A=1*this.internal.scaleFactor*e/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(g2.apply(this,[n[o],A,i]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},s={},i=0;i<16;i++)n[r[i]]=e[i],s[e[i]]=r[i];var A=function(g){return"0x"+parseInt(g,10).toString(16)},o=t.__fontmetrics__.compress=function(g){var h,b,v,S,x=["{"];for(var y in g){if(h=g[y],isNaN(parseInt(y,10))?b="'"+y+"'":(y=parseInt(y,10),b=(b=A(y).slice(2)).slice(0,-1)+s[b.slice(-1)]),typeof h=="number")h<0?(v=A(h).slice(3),S="-"):(v=A(h).slice(2),S=""),v=S+v.slice(0,-1)+s[v.slice(-1)];else{if(Hr(h)!=="object")throw new Error("Don't know what to do with value type "+Hr(h)+".");v=o(h)}x.push(b+v)}return x.push("}"),x.join("")},l=t.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,b,v,S,x={},y=1,B=x,j=[],O="",k="",M=g.length-1,K=1;K<M;K+=1)(S=g[K])=="'"?h?(v=h.join(""),h=void 0):h=[]:h?h.push(S):S=="{"?(j.push([B,v]),B={},v=void 0):S=="}"?((b=j.pop())[0][b[1]]=B,v=void 0,B=b[0]):S=="-"?y=-1:v===void 0?n.hasOwnProperty(S)?(O+=n[S],v=parseInt(O,16)*y,y=1,O=""):O+=S:n.hasOwnProperty(S)?(k+=n[S],B[v]=parseInt(k,16)*y,y=1,v=void 0,k=""):k+=S;return x},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},p={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var h=g.font,b=p.Unicode[h.postScriptName];b&&(h.metadata.Unicode={},h.metadata.Unicode.widths=b.widths,h.metadata.Unicode.kerning=b.kerning);var v=d.Unicode[h.postScriptName];v&&(h.metadata.Unicode.encoding=v,h.encoding=v.codePages[0])}])}(Xt.API),function(t){var e=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};t.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(A,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(Wh(o)),A.metadata=t.API.TTFFont.open(o),A.metadata.Unicode=A.metadata.Unicode||{encoding:{},kerning:{},widths:[]},A.metadata.glyIdsUsed=[0]})(s,n)}}])}(Xt),Xt.API.addSvgAsImage=function(t,e,r,n,s,i,A,o){if(isNaN(e)||isNaN(r))throw zr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(s))throw zr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=s;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(ur.canvg?Promise.resolve(ur.canvg):Pp(()=>import("./index.es-1770186194211.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(c,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(d)}).then(function(){p.addImage(l.toDataURL("image/jpeg",1),e,r,n,s,A,o)})},Xt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(e,r);return this},Xt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,s,i,A={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(A),l=[],c=0,d=0,p=0;function g(b,v){var S,x=!1;for(S=0;S<b.length;S+=1)b[S]===v&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(A)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=o.length;for(p=0;p<h;p+=1)r[o[p]].value=r[o[p]].defaultValue,r[o[p]].explicitSet=!1}if(Hr(t)==="object"){for(s in t)if(i=t[s],g(o,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&g(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(d=0;d<i[c].length;d+=1)typeof i[c][d]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[s].value="["+l.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,v=[];for(b in r)r[b].explicitSet===!0&&(r[b].type==="name"?v.push("/"+b+" /"+r[b].value):v.push("/"+b+" "+r[b].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},Xt.API.addMetadata=function(t,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:t,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",X6),this.internal.events.subscribe("postPutResources",Y6)),this},function(t){var e=t.API,r=e.pdfEscape16=function(i,A){for(var o,l=A.metadata.Unicode.widths,c=["","0","00","000","0000"],d=[""],p=0,g=i.length;p<g;++p){if(o=A.metadata.characterToGlyph(i.charCodeAt(p)),A.metadata.glyIdsUsed.push(o),A.metadata.toUnicode[o]=i.charCodeAt(p),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(A.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(c[4-o.length],o)}return d.join("")},n=function(i){var A,o,l,c,d,p,g;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],p=0,g=(o=Object.keys(i).sort(function(h,b){return h-b})).length;p<g;p++)A=o[p],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[A]!==void 0&&i[A]!==null&&typeof i[A].toString=="function"&&(c=("0000"+i[A].toString(16)).slice(-4),A=("0000"+(+A).toString(16)).slice(-4),l.push("<"+A+"><"+c+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(A){var o=A.font,l=A.out,c=A.newObject,d=A.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var p=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",b=0;b<g.length;b++)h+=String.fromCharCode(g[b]);var v=c();d({data:h,addLength1:!0,objectId:v}),l("endobj");var S=c();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:S}),l("endobj");var x=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Ml(o.fontName)),l("/FontFile2 "+v+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var y=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Ml(o.fontName)),l("/FontDescriptor "+x+" 0 R"),l("/W "+t.API.PDFObject.convert(p)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+S+" 0 R"),l("/BaseFont /"+Ml(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+y+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(A){var o=A.font,l=A.out,c=A.newObject,d=A.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var p=o.metadata.rawData,g="",h=0;h<p.length;h++)g+=String.fromCharCode(p[h]);var b=c();d({data:g,addLength1:!0,objectId:b}),l("endobj");var v=c();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var S=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+b+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Ml(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var x=0;x<o.metadata.hmtx.widths.length;x++)o.metadata.hmtx.widths[x]=parseInt(o.metadata.hmtx.widths[x]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+Ml(o.fontName)+"/FontDescriptor "+S+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]);var s=function(i){var A,o=i.text||"",l=i.x,c=i.y,d=i.options||{},p=i.mutex||{},g=p.pdfEscape,h=p.activeFontKey,b=p.fonts,v=h,S="",x=0,y="",B=b[v].encoding;if(b[v].encoding!=="Identity-H")return{text:o,x:l,y:c,options:d,mutex:p};for(y=o,v=h,Array.isArray(o)&&(y=o[0]),x=0;x<y.length;x+=1)b[v].metadata.hasOwnProperty("cmap")&&(A=b[v].metadata.cmap.unicode.codeMap[y[x].charCodeAt(0)]),A||y[x].charCodeAt(0)<256&&b[v].metadata.hasOwnProperty("Unicode")?S+=y[x]:S+="";var j="";return parseInt(v.slice(1))<14||B==="WinAnsiEncoding"?j=g(S,v).split("").map(function(O){return O.charCodeAt(0).toString(16)}).join(""):B==="Identity-H"&&(j=r(S,b[v])),p.isHex=!0,{text:j,x:l,y:c,options:d,mutex:p}};e.events.push(["postProcessText",function(i){var A=i.text||"",o=[],l={text:A,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(A)){var c=0;for(c=0;c<A.length;c+=1)Array.isArray(A[c])&&A[c].length===3?o.push([s(Object.assign({},l,{text:A[c][0]})).text,A[c][1],A[c][2]]):o.push(s(Object.assign({},l,{text:A[c]})).text);i.text=o}else i.text=s(Object.assign({},l,{text:A})).text}])}(Xt),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Xt.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var s,i,A,o,l,c,d,p=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},S=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,B=0;this.__bidiEngine__={};var j=function(_){var E=_.charCodeAt(),G=E>>8,P=v[G];return P!==void 0?p[256*P+(255&E)]:G===252||G===253?"AL":x.test(G)?"L":G===8?"R":"N"},O=function(_){for(var E,G=0;G<_.length;G++){if((E=j(_.charAt(G)))==="L")return!1;if(E==="R")return!0}return!1},k=function(_,E,G,P){var ee,ce,he,ie,de=E[P];switch(de){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"N":case"AN":break;case"EN":y&&(de="AN");break;case"AL":y=!0,de="R";break;case"WS":case"BN":de="N";break;case"CS":P<1||P+1>=E.length||(ee=G[P-1])!=="EN"&&ee!=="AN"||(ce=E[P+1])!=="EN"&&ce!=="AN"?de="N":y&&(ce="AN"),de=ce===ee?ce:"N";break;case"ES":de=(ee=P>0?G[P-1]:"B")==="EN"&&P+1<E.length&&E[P+1]==="EN"?"EN":"N";break;case"ET":if(P>0&&G[P-1]==="EN"){de="EN";break}if(y){de="N";break}for(he=P+1,ie=E.length;he<ie&&E[he]==="ET";)he++;de=he<ie&&E[he]==="EN"?"EN":"N";break;case"NSM":if(A&&!o){for(ie=E.length,he=P+1;he<ie&&E[he]==="NSM";)he++;if(he<ie){var fe=_[P],ve=fe>=1425&&fe<=2303||fe===64286;if(ee=E[he],ve&&(ee==="R"||ee==="AL")){de="R";break}}}de=P<1||(ee=E[P-1])==="B"?"N":G[P-1];break;case"B":y=!1,s=!0,de=B;break;case"S":i=!0,de="N"}return de},M=function(_,E,G){var P=_.split("");return G&&K(P,G,{hiLevel:B}),P.reverse(),E&&E.reverse(),P.join("")},K=function(_,E,G){var P,ee,ce,he,ie,de=-1,fe=_.length,ve=0,I=[],R=B?h:g,te=[];for(y=!1,s=!1,i=!1,ee=0;ee<fe;ee++)te[ee]=j(_[ee]);for(ce=0;ce<fe;ce++){if(ie=ve,I[ce]=k(_,te,I,ce),P=240&(ve=R[ie][b[I[ce]]]),ve&=15,E[ce]=he=R[ve][5],P>0)if(P===16){for(ee=de;ee<ce;ee++)E[ee]=1;de=-1}else de=-1;if(R[ve][6])de===-1&&(de=ce);else if(de>-1){for(ee=de;ee<ce;ee++)E[ee]=he;de=-1}te[ce]==="B"&&(E[ce]=0),G.hiLevel|=he}i&&function(Y,le,pe){for(var Fe=0;Fe<pe;Fe++)if(Y[Fe]==="S"){le[Fe]=B;for(var be=Fe-1;be>=0&&Y[be]==="WS";be--)le[be]=B}}(te,E,fe)},N=function(_,E,G,P,ee){if(!(ee.hiLevel<_)){if(_===1&&B===1&&!s)return E.reverse(),void(G&&G.reverse());for(var ce,he,ie,de,fe=E.length,ve=0;ve<fe;){if(P[ve]>=_){for(ie=ve+1;ie<fe&&P[ie]>=_;)ie++;for(de=ve,he=ie-1;de<he;de++,he--)ce=E[de],E[de]=E[he],E[he]=ce,G&&(ce=G[de],G[de]=G[he],G[he]=ce);ve=ie}ve++}}},H=function(_,E,G){var P=_.split(""),ee={hiLevel:B};return G||(G=[]),K(P,G,ee),function(ce,he,ie){if(ie.hiLevel!==0&&d)for(var de,fe=0;fe<ce.length;fe++)he[fe]===1&&(de=S.indexOf(ce[fe]))>=0&&(ce[fe]=S[de+1])}(P,G,ee),N(2,P,E,G,ee),N(1,P,E,G,ee),P.join("")};return this.__bidiEngine__.doBidiReorder=function(_,E,G){if(function(ee,ce){if(ce)for(var he=0;he<ee.length;he++)ce[he]=he;o===void 0&&(o=O(ee)),c===void 0&&(c=O(ee))}(_,E),A||!l||c)if(A&&l&&o^c)B=o?1:0,_=M(_,E,G);else if(!A&&l&&c)B=o?1:0,_=H(_,E,G),_=M(_,E);else if(!A||o||l||c){if(A&&!l&&o^c)_=M(_,E),o?(B=0,_=H(_,E,G)):(B=1,_=H(_,E,G),_=M(_,E));else if(A&&o&&!l&&c)B=1,_=H(_,E,G),_=M(_,E);else if(!A&&!l&&o^c){var P=d;o?(B=1,_=H(_,E,G),B=0,d=!1,_=H(_,E,G),d=P):(B=0,_=H(_,E,G),_=M(_,E),B=1,d=!1,_=H(_,E,G),d=P,_=M(_,E))}}else B=0,_=H(_,E,G);else B=o?1:0,_=H(_,E,G);return _},this.__bidiEngine__.setOptions=function(_){_&&(A=_.isInputVisual,l=_.isOutputVisual,o=_.isInputRtl,c=_.isOutputRtl,d=_.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var A=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var o=0;for(A=[],o=0;o<s.length;o+=1)Object.prototype.toString.call(s[o])==="[object Array]"?A.push([r.doBidiReorder(s[o][0]),s[o][1],s[o][2]]):A.push([r.doBidiReorder(s[o])]);n.text=A}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(Xt),Xt.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Ao(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new hL(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Z6(this.contents),this.head=new tL(this),this.name=new aL(this),this.cmap=new W4(this),this.toUnicode={},this.hhea=new rL(this),this.maxp=new AL(this),this.hmtx=new oL(this),this.post=new sL(this),this.os2=new nL(this),this.loca=new dL(this),this.glyf=new lL(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var A,o,l,c;for(c=[],A=0,o=(l=this.bbox).length;A<o;A++)e=l[A],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var s,i,A,o;for(A=0,i=0,o=(e=""+e).length;0<=o?i<o:i>o;i=0<=o?++i:--i)s=e.charCodeAt(i),A+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return A*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Aa,Ao=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,s;for(s=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(e.charCodeAt(r)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,s,i,A,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),A=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^A)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*A+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,s,i;for(i=[],n=0,s=e.length;n<s;n++)r=e[n],i.push(this.writeByte(r));return i},t}(),Z6=function(){var t;function e(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,s,i,A,o,l,c,d,p,g,h,b,v;for(v in h=Object.keys(r).length,l=Math.log(2),p=16*Math.floor(Math.log(h)/l),A=Math.floor(p/l),d=16*h-p,(s=new Ao).writeInt(this.scalarType),s.writeShort(h),s.writeShort(p),s.writeShort(A),s.writeShort(d),i=16*h,c=s.pos+i,o=null,b=[],r)for(g=r[v],s.writeString(v),s.writeInt(t(g)),s.writeInt(c),s.writeInt(g.length),b=b.concat(g),v==="head"&&(o=c),c+=g.length;c%4;)b.push(0),c++;return s.write(b),n=2981146554-t(s.data),s.pos=o+8,s.writeUInt32(n),s.data},t=function(r){var n,s,i,A;for(r=J4.call(r);r.length%4;)r.push(0);for(i=new Ao(r),s=0,n=0,A=r.length;n<A;n=n+=4)s+=i.readUInt32();return 4294967295&s},e}(),eL={}.hasOwnProperty,Qa=function(t,e){for(var r in e)eL.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Aa=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var tL=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Qa(t,Aa),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new Ao).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),N2=function(){function t(e,r){var n,s,i,A,o,l,c,d,p,g,h,b,v,S,x,y,B;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),g=h/2,e.pos+=6,i=function(){var j,O;for(O=[],l=j=0;0<=g?j<g:j>g;l=0<=g?++j:--j)O.push(e.readUInt16());return O}(),e.pos+=2,v=function(){var j,O;for(O=[],l=j=0;0<=g?j<g:j>g;l=0<=g?++j:--j)O.push(e.readUInt16());return O}(),c=function(){var j,O;for(O=[],l=j=0;0<=g?j<g:j>g;l=0<=g?++j:--j)O.push(e.readUInt16());return O}(),d=function(){var j,O;for(O=[],l=j=0;0<=g?j<g:j>g;l=0<=g?++j:--j)O.push(e.readUInt16());return O}(),s=(this.length-e.pos+this.offset)/2,o=function(){var j,O;for(O=[],l=j=0;0<=s?j<s:j>s;l=0<=s?++j:--j)O.push(e.readUInt16());return O}(),l=x=0,B=i.length;x<B;l=++x)for(S=i[l],n=y=b=v[l];b<=S?y<=S:y>=S;n=b<=S?++y:--y)d[l]===0?A=n+c[l]:(A=o[d[l]/2+(n-b)-(g-l)]||0)!==0&&(A+=c[l]),this.codeMap[n]=65535&A}e.pos=p}return t.encode=function(e,r){var n,s,i,A,o,l,c,d,p,g,h,b,v,S,x,y,B,j,O,k,M,K,N,H,_,E,G,P,ee,ce,he,ie,de,fe,ve,I,R,te,Y,le,pe,Fe,be,Oe,Ye,ht;switch(P=new Ao,A=Object.keys(e).sort(function(ue,qe){return ue-qe}),r){case"macroman":for(v=0,S=function(){var ue=[];for(b=0;b<256;++b)ue.push(0);return ue}(),y={0:0},i={},ee=0,de=A.length;ee<de;ee++)y[be=e[s=A[ee]]]==null&&(y[be]=++v),i[s]={old:e[s],new:y[e[s]]},S[s]=y[e[s]];return P.writeUInt16(1),P.writeUInt16(0),P.writeUInt32(12),P.writeUInt16(0),P.writeUInt16(262),P.writeUInt16(0),P.write(S),{charMap:i,subtable:P.data,maxGlyphID:v+1};case"unicode":for(E=[],p=[],B=0,y={},n={},x=c=null,ce=0,fe=A.length;ce<fe;ce++)y[O=e[s=A[ce]]]==null&&(y[O]=++B),n[s]={old:O,new:y[O]},o=y[O]-s,x!=null&&o===c||(x&&p.push(x),E.push(s),c=o),x=s;for(x&&p.push(x),p.push(65535),E.push(65535),H=2*(N=E.length),K=2*Math.pow(Math.log(N)/Math.LN2,2),g=Math.log(K/2)/Math.LN2,M=2*N-K,l=[],k=[],h=[],b=he=0,ve=E.length;he<ve;b=++he){if(_=E[b],d=p[b],_===65535){l.push(0),k.push(0);break}if(_-(G=n[_].new)>=32768)for(l.push(0),k.push(2*(h.length+N-b)),s=ie=_;_<=d?ie<=d:ie>=d;s=_<=d?++ie:--ie)h.push(n[s].new);else l.push(G-_),k.push(0)}for(P.writeUInt16(3),P.writeUInt16(1),P.writeUInt32(12),P.writeUInt16(4),P.writeUInt16(16+8*N+2*h.length),P.writeUInt16(0),P.writeUInt16(H),P.writeUInt16(K),P.writeUInt16(g),P.writeUInt16(M),pe=0,I=p.length;pe<I;pe++)s=p[pe],P.writeUInt16(s);for(P.writeUInt16(0),Fe=0,R=E.length;Fe<R;Fe++)s=E[Fe],P.writeUInt16(s);for(Oe=0,te=l.length;Oe<te;Oe++)o=l[Oe],P.writeUInt16(o);for(Ye=0,Y=k.length;Ye<Y;Ye++)j=k[Ye],P.writeUInt16(j);for(ht=0,le=h.length;ht<le;ht++)v=h[ht],P.writeUInt16(v);return{charMap:n,subtable:P.data,maxGlyphID:B+1}}},t}(),W4=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Qa(t,Aa),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)r=new N2(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,s;return r==null&&(r="macroman"),n=N2.encode(e,r),(s=new Ao).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},t}(),rL=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Qa(t,Aa),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),nL=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Qa(t,Aa),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),sL=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Qa(t,Aa),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)r=e.readByte(),s.push(this.names.push(e.readString(r)));return s;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var A,o,l;for(l=[],i=A=0,o=this.file.maxp.numGlyphs;0<=o?A<o:A>o;i=0<=o?++A:--A)l.push(e.readUInt32());return l}).call(this)}},t}(),iL=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},aL=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Qa(t,Aa),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,s,i,A,o,l,c,d,p,g;for(e.pos=this.offset,e.readShort(),r=e.readShort(),o=e.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(l={},i=d=0,p=n.length;d<p;i=++d)s=n[i],e.pos=s.offset,c=e.readString(s.length),A=new iL(c,s),l[g=s.nameID]==null&&(l[g]=[]),l[s.nameID].push(A);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),AL=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Qa(t,Aa),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),oL=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Qa(t,Aa),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,s,i,A,o,l;for(e.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,d;for(d=[],r=c=0;0<=s?c<s:c>s;r=0<=s?++c:--c)d.push(e.readInt16());return d}(),this.widths=(function(){var c,d,p,g;for(g=[],c=0,d=(p=this.metrics).length;c<d;c++)i=p[c],g.push(i.advance);return g}).call(this),n=this.widths[this.widths.length-1],l=[],r=A=0;0<=s?A<s:A>s;r=0<=s?++A:--A)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),J4=[].slice,lL=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Qa(t,Aa),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,s,i,A,o,l,c,d,p;return e in this.cache?this.cache[e]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(e),(s=i.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,A=(o=new Ao(r.read(s))).readShort(),c=o.readShort(),p=o.readShort(),l=o.readShort(),d=o.readShort(),this.cache[e]=A===-1?new uL(o,c,p,l,d):new cL(o,A,c,p,l,d),this.cache[e]))},t.prototype.encode=function(e,r,n){var s,i,A,o,l;for(A=[],i=[],o=0,l=r.length;o<l;o++)s=e[r[o]],i.push(A.length),s&&(A=A.concat(s.encode(n)));return i.push(A.length),{table:A,offsets:i}},t}(),cL=function(){function t(e,r,n,s,i,A){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=A,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),uL=function(){function t(e,r,n,s,i){var A,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],A=this.raw;o=A.readShort(),this.glyphOffsets.push(A.pos),this.glyphIDs.push(A.readUInt16()),32&o;)A.pos+=1&o?4:2,128&o?A.pos+=8:64&o?A.pos+=4:8&o&&(A.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Ao(J4.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),dL=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Qa(t,Aa),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=4)i.push(e.readUInt32());return i}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),s=0,i=0,A=0;A<n.length;++A)if(n[A]=s,i<r.length&&r[i]==A){++i,n[A]=s;var o=this.offsets[A],l=this.offsets[A+1]-o;l>0&&(s+=l)}for(var c=new Array(4*n.length),d=0;d<n.length;++d)c[4*d+3]=255&n[d],c[4*d+2]=(65280&n[d])>>8,c[4*d+1]=(16711680&n[d])>>16,c[4*d]=(4278190080&n[d])>>24;return c},t}(),hL=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=s[n];return e},t.prototype.glyphsFor=function(e){var r,n,s,i,A,o,l;for(s={},A=0,o=e.length;A<o;A++)s[i=e[A]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],s[i]=n;return s},t.prototype.encode=function(e,r){var n,s,i,A,o,l,c,d,p,g,h,b,v,S,x;for(s in n=W4.encode(this.generateCmap(),"unicode"),A=this.glyphsFor(e),h={0:0},x=n.charMap)h[(l=x[s]).old]=l.new;for(b in g=n.maxGlyphID,A)b in h||(h[b]=g++);return d=function(y){var B,j;for(B in j={},y)j[y[B]]=B;return j}(h),p=Object.keys(d).sort(function(y,B){return y-B}),v=function(){var y,B,j;for(j=[],y=0,B=p.length;y<B;y++)o=p[y],j.push(d[o]);return j}(),i=this.font.glyf.encode(A,v,h),c=this.font.loca.encode(i.offsets,v),S={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(S["OS/2"]=this.font.os2.raw()),this.font.directory.encode(S)},t}();Xt.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,s,i,A;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)A=r[s],i.push("/"+s+" "+e.convert(A));return i.push(">>"),i.join(`
`)}return""+r},e}();const fL=(t,e)=>{const[r,n]=q.useState(!1),[s,i]=q.useState(""),A=q.useRef(null),o=q.useRef(t),l=q.useRef(e),c=q.useRef(!1),d=q.useRef(-1),p=q.useRef(null);q.useEffect(()=>{o.current=t,l.current=e},[t,e]);const g=q.useCallback(()=>{p.current&&(clearTimeout(p.current),p.current=null)},[]),h=q.useCallback(()=>{g(),p.current=setTimeout(()=>{l.current&&l.current()},1500)},[g]);q.useEffect(()=>{if(typeof window<"u"){const x=window.SpeechRecognition||window.webkitSpeechRecognition;if(x){const y=new x;y.continuous=!0,y.interimResults=!0,y.lang="ja-JP",y.onresult=B=>{let j="",O="";for(let k=B.resultIndex;k<B.results.length;k++){const M=B.results[k],K=M[0].transcript;M.isFinal?k>d.current&&(j+=K,d.current=k):O=K}j?(o.current(j),i(""),h()):O&&(i(O),g())},y.onerror=B=>{B.error!=="no-speech"&&(console.error("Speech recognition error:",B.error),B.error!=="aborted"&&(n(!1),c.current=!1,g()),i(""))},y.onend=()=>{if(c.current)try{d.current=-1,y.start()}catch{}else n(!1),i(""),d.current=-1},A.current=y}}return()=>{c.current=!1,g(),A.current&&A.current.stop()}},[h,g]);const b=q.useCallback(()=>{if(A.current&&!r){c.current=!0,d.current=-1,i(""),g();try{A.current.start(),n(!0)}catch(x){console.error("Failed to start speech recognition:",x)}}},[r,g]),v=q.useCallback(()=>{c.current=!1,g(),A.current&&A.current.stop(),n(!1),i("")},[g]),S=typeof window<"u"&&(window.SpeechRecognition||window.webkitSpeechRecognition);return{isListening:r,interimText:s,startListening:b,stopListening:v,isSupported:S}},Cc=({onTranscript:t,onAutoSend:e,disabled:r=!1,className:n="",size:s="normal"})=>{const{isListening:i,interimText:A,startListening:o,stopListening:l,isSupported:c}=fL(t,e);if(!c)return null;const d={normal:{button:"p-3",icon:22,container:""},large:{button:"p-5",icon:40,container:"ring-4 ring-cyan-500/30"}},p=d[s]||d.normal;return a.jsxs("div",{className:"relative flex flex-col items-center",children:[a.jsx("button",{type:"button",onClick:i?l:o,disabled:r,className:`rounded-full transition-all flex items-center justify-center ${p.button} ${p.container} ${i?"bg-gradient-to-r from-red-500 to-pink-500 text-white animate-pulse shadow-xl shadow-red-500/40":"bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-400 hover:to-blue-500 shadow-lg shadow-cyan-500/30"} ${r?"opacity-50 cursor-not-allowed":""} ${n}`,title:i?" ":" ",children:a.jsxs("svg",{width:p.icon,height:p.icon,viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",children:[a.jsx("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}),a.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),a.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"23"}),a.jsx("line",{x1:"8",y1:"23",x2:"16",y2:"23"})]})}),i&&A&&a.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-4 py-2 bg-slate-800/95 text-slate-200 text-sm rounded-xl whitespace-nowrap max-w-xs truncate shadow-lg",children:[A,"..."]}),i&&a.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm font-medium text-red-400",children:[a.jsxs("span",{className:"relative flex h-3 w-3",children:[a.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),a.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),"..."]})]})},Km=[{id:"blue",name:"",bg:"bg-blue-500",bgLight:"bg-blue-500/30",text:"text-blue-300",border:"border-blue-400"},{id:"emerald",name:"",bg:"bg-emerald-500",bgLight:"bg-emerald-500/30",text:"text-emerald-300",border:"border-emerald-400"},{id:"purple",name:"",bg:"bg-purple-500",bgLight:"bg-purple-500/30",text:"text-purple-300",border:"border-purple-400"},{id:"orange",name:"",bg:"bg-orange-500",bgLight:"bg-orange-500/30",text:"text-orange-300",border:"border-orange-400"},{id:"pink",name:"",bg:"bg-pink-500",bgLight:"bg-pink-500/30",text:"text-pink-300",border:"border-pink-400"},{id:"gray",name:"",bg:"bg-slate-400",bgLight:"bg-slate-400/30",text:"text-slate-300",border:"border-slate-400"},{id:"cyan",name:"",bg:"bg-cyan-500",bgLight:"bg-cyan-500/30",text:"text-cyan-300",border:"border-cyan-400"},{id:"red",name:"",bg:"bg-red-500",bgLight:"bg-red-500/30",text:"text-red-300",border:"border-red-400"}],Un=t=>Km.find(e=>e.id===t)||Km[0],Nc=({value:t,onChange:e})=>a.jsx("div",{className:"flex flex-wrap gap-2",children:Km.map(r=>a.jsx("button",{type:"button",onClick:()=>e(r.id),className:`w-7 h-7 rounded-full ${r.bg} transition-all ${t===r.id?"ring-2 ring-white ring-offset-2 ring-offset-slate-800 scale-110":"hover:scale-105"}`,title:r.name},r.id))});function pL({tasks:t,setTasks:e,events:r,setEvents:n,goals:s,transactions:i,addTask:A,updateTask:o,deleteTask:l,addEvent:c,updateEvent:d,deleteEvent:p,addGoal:g,updateGoal:h,deleteGoal:b,addTransaction:v}){const[S,x]=q.useState(new Date),[y,B]=q.useState(null),[j,O]=q.useState(!1),[k,M]=q.useState({title:"",time:"09:00",endTime:"10:00",type:"event",colorId:"emerald",linkedType:"",linkedId:""}),[K,N]=q.useState("week"),[H,_]=q.useState(null),[E,G]=q.useState(!1),[P,ee]=q.useState(null),[ce,he]=q.useState({}),[ie,de]=q.useState(!1),[fe,ve]=q.useState({title:"",amount:"",type:"expense",category:"",date:"",paymentTiming:"immediate",linkedType:"",linkedId:""}),I=["1","2","3","4","5","6","7","8","9","10","11","12"],R=["","","","","","",""],te=new Date;q.useEffect(()=>{(async()=>{try{const Ge=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${35.6762}&longitude=${139.6503}&daily=weather_code,temperature_2m_max,temperature_2m_min&timezone=Asia/Tokyo&forecast_days=10`)).json();if(Ge.daily){const ge={};Ge.daily.time.forEach((Qe,ft)=>{ge[Qe]={code:Ge.daily.weather_code[ft],maxTemp:Math.round(Ge.daily.temperature_2m_max[ft]),minTemp:Math.round(Ge.daily.temperature_2m_min[ft])}}),he(ge)}}catch(we){console.error("Failed to fetch weather:",we)}})()},[]);const Y=Z=>Z===0?"":Z===1||Z===2?"":Z===3?"":Z>=45&&Z<=48?"":Z>=51&&Z<=55||Z>=56&&Z<=57||Z>=61&&Z<=65||Z>=66&&Z<=67?"":Z>=71&&Z<=77?"":Z>=80&&Z<=82?"":Z>=85&&Z<=86?"":Z>=95&&Z<=99?"":"",le=Z=>{const we=new Date(Z),_e=we.getDay(),Xe=_e===0?6:_e-1;return we.setDate(we.getDate()-Xe),we},pe=()=>{const Z=le(S);return Array.from({length:7},(we,_e)=>{const Xe=new Date(Z);return Xe.setDate(Xe.getDate()+_e),Xe})},Fe=Z=>{const we=(s||[]).map(_e=>({..._e,isGoal:!0}));return[...t,...r,...we].filter(_e=>_e.date===Z)},be=Z=>`${Z.getFullYear()}-${String(Z.getMonth()+1).padStart(2,"0")}-${String(Z.getDate()).padStart(2,"0")}`,Oe=new Date(S.getFullYear(),S.getMonth()+1,0).getDate(),Ye=new Date(S.getFullYear(),S.getMonth(),1).getDay(),ht=Ye===0?6:Ye-1,ue=Z=>{const we=`${S.getFullYear()}-${String(S.getMonth()+1).padStart(2,"0")}-${String(Z).padStart(2,"0")}`,_e=(s||[]).map(Xe=>({...Xe,isGoal:!0}));return[...t,...r,..._e].filter(Xe=>Xe.date===we)},qe=()=>{x(K==="week"?new Date(S.getFullYear(),S.getMonth(),S.getDate()-7):new Date(S.getFullYear(),S.getMonth()-1,1))},F=()=>{x(K==="week"?new Date(S.getFullYear(),S.getMonth(),S.getDate()+7):new Date(S.getFullYear(),S.getMonth()+1,1))},se=Z=>{B(Z),O(!0)},Ke=async()=>{if(k.title.trim()&&y){const Z=k.colorId||(k.type==="task"?"blue":k.type==="goal"?"purple":"emerald"),we={id:Date.now(),title:k.title,date:y,time:k.allDay?"":k.time,endTime:k.allDay?"":k.endTime,allDay:k.allDay||!1,colorId:Z,color:Un(Z).bg};k.type==="task"?await A({...we,progress:0,tag:"",linkedType:k.linkedType||"",linkedId:k.linkedId||""}):k.type==="goal"?await g({...we,progress:0}):await c(we),M({title:"",time:"09:00",endTime:"10:00",type:"event",colorId:"emerald",allDay:!1,linkedType:"",linkedId:""}),O(!1)}},J=(Z,we)=>{we.stopPropagation(),_({...Z,isTask:Z.progress!==void 0&&!Z.isGoal,isGoal:Z.isGoal||!1}),G(!0)},ne=async()=>{if(H&&H.title.trim()){const Z=H.colorId||"blue",we={title:H.title,date:H.date,time:H.allDay?"":H.time,endTime:H.allDay?"":H.endTime,allDay:H.allDay||!1,colorId:Z,color:Un(Z).bg};H.isGoal?await h(H.id,{...we,progress:H.progress||0}):H.isTask?await o(H.id,{...we,progress:H.progress||0,linkedType:H.linkedType||"",linkedId:H.linkedId||""}):await d(H.id,we),_(null),G(!1)}},Ne=async()=>{H&&(H.isGoal?await b(H.id):H.isTask?await l(H.id):await p(H.id),_(null),G(!1))},W=(Z,we)=>{Z.stopPropagation(),ee({...we,isTask:we.progress!==void 0&&!we.isGoal,isGoal:we.isGoal||!1}),Z.dataTransfer.effectAllowed="move",Z.dataTransfer.setData("text/plain",we.id)},He=Z=>{Z.preventDefault(),Z.dataTransfer.dropEffect="move"},Ve=async(Z,we,_e=null)=>{if(Z.preventDefault(),!P)return;const Xe=P.colorId||"blue";let Ge={title:P.title,date:we,colorId:Xe,color:Un(Xe).bg};if(_e!==null&&!P.allDay){const ge=P.time&&P.endTime?parseInt(P.endTime.split(":")[0])-parseInt(P.time.split(":")[0]):1;Ge.time=`${String(_e).padStart(2,"0")}:00`,Ge.endTime=`${String(Math.min(_e+ge,23)).padStart(2,"0")}:00`}else Ge.time=P.time,Ge.endTime=P.endTime;Ge.allDay=P.allDay||!1;try{P.isGoal?await h(P.id,{...Ge,progress:P.progress||0}):P.isTask?await o(P.id,{...Ge,progress:P.progress||0,linkedType:P.linkedType||"",linkedId:P.linkedId||""}):await d(P.id,Ge)}catch(ge){console.error("Failed to move event:",ge)}ee(null)},$e=()=>{ee(null)},Je=Z=>Z.getDate()===te.getDate()&&Z.getMonth()===te.getMonth()&&Z.getFullYear()===te.getFullYear(),ct=Z=>Z===te.getDate()&&S.getMonth()===te.getMonth()&&S.getFullYear()===te.getFullYear(),Be=()=>{const Z=pe(),we=Z[0],_e=Z[6];return we.getMonth()===_e.getMonth()?`${we.getFullYear()} ${I[we.getMonth()]} ${we.getDate()} - ${_e.getDate()}`:`${we.getFullYear()} ${we.getMonth()+1}/${we.getDate()} - ${_e.getMonth()+1}/${_e.getDate()}`},Ce=Array.from({length:18},(Z,we)=>we+6);return a.jsxs("div",{children:[a.jsxs("div",{className:"bg-slate-800/40 rounded-xl border border-slate-700/50 p-4 md:p-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-3 mb-4 md:mb-6",children:[a.jsx("h2",{className:"text-lg md:text-xl font-bold text-slate-200",children:K==="week"?Be():`${S.getFullYear()} ${I[S.getMonth()]}`}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex bg-slate-800 rounded-lg p-1 border border-slate-700",children:[a.jsx("button",{onClick:()=>N("week"),className:`px-3 py-1 text-sm transition-colors ${K==="week"?"bg-blue-600 text-white rounded":"text-slate-400 hover:text-slate-200"}`,children:""}),a.jsx("button",{onClick:()=>N("month"),className:`px-3 py-1 text-sm transition-colors ${K==="month"?"bg-blue-600 text-white rounded":"text-slate-400 hover:text-slate-200"}`,children:""})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:qe,className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:a.jsx(bt,{name:"chevronLeft",size:20,className:"text-slate-400"})}),a.jsx("button",{onClick:()=>x(new Date),className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg text-sm",children:""}),a.jsx("button",{onClick:F,className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:a.jsx(bt,{name:"chevronRight",size:20,className:"text-slate-400"})})]})]})]}),K==="week"&&a.jsxs("div",{className:"overflow-auto",children:[a.jsxs("div",{className:"grid grid-cols-8 gap-1 mb-1 sticky top-0 bg-slate-800/90 z-20",children:[a.jsx("div",{className:"w-16"}),pe().map((Z,we)=>{const _e=be(Z),Xe=Fe(_e);return a.jsxs("div",{className:`text-center py-3 rounded-lg cursor-pointer transition-all ${Je(Z)?"bg-blue-600/20 border border-blue-500":"hover:bg-slate-700/50"}`,onClick:()=>se(_e),onDragOver:He,onDrop:Ge=>Ve(Ge,_e),children:[a.jsx("div",{className:`text-xs font-medium ${we===5?"text-blue-400":we===6?"text-red-400":"text-slate-400"}`,children:R[we]}),a.jsx("div",{className:`text-lg font-bold ${Je(Z)?"text-blue-400":"text-slate-200"}`,children:Z.getDate()}),ce[_e]&&a.jsxs("div",{className:"text-xs mt-1 flex flex-col items-center gap-0.5",children:[a.jsx("span",{className:"text-base",children:Y(ce[_e].code)}),a.jsxs("span",{className:"text-slate-400",children:[a.jsxs("span",{className:"text-red-400",children:[ce[_e].maxTemp,""]}),a.jsx("span",{className:"mx-0.5",children:"/"}),a.jsxs("span",{className:"text-blue-400",children:[ce[_e].minTemp,""]})]})]}),Xe.length>0&&a.jsxs("div",{className:"text-xs text-emerald-400 mt-1",children:[Xe.length,""]})]},we)})]}),a.jsxs("div",{className:"grid grid-cols-8 gap-1 mb-1",children:[a.jsx("div",{className:"w-16 text-xs text-slate-500 text-right pr-2 pt-1",children:""}),pe().map((Z,we)=>{const _e=be(Z),Xe=Fe(_e).filter(Ge=>(Ge.allDay||!Ge.time&&!Ge.endTime)&&(Ge.isGoal||Ge.progress===void 0));return a.jsx("div",{className:`min-h-[28px] rounded-lg p-0.5 ${Je(Z)?"bg-blue-900/10":""} ${P?"hover:bg-blue-900/30":""}`,onDragOver:He,onDrop:Ge=>Ve(Ge,_e),children:Xe.map((Ge,ge)=>{const Qe=Ge.isGoal?"purple":"emerald",ft=Un(Ge.colorId||Qe),at=Ge.isGoal?"goal":"event",vt=t.filter(xt=>xt.linkedType===at&&String(xt.linkedId)===String(Ge.id)).sort((xt,Bt)=>{if(xt.progress===100&&Bt.progress!==100)return 1;if(xt.progress!==100&&Bt.progress===100)return-1;const Kt=xt.date||"9999-99-99",Et=Bt.date||"9999-99-99";return Kt.localeCompare(Et)}),pt=(i||[]).filter(xt=>xt.linkedType===at&&String(xt.linkedId)===String(Ge.id));return a.jsxs("div",{draggable:!0,onDragStart:xt=>W(xt,Ge),onDragEnd:$e,onClick:xt=>J(Ge,xt),className:`text-xs px-2 py-1 mb-0.5 rounded cursor-grab ${ft.bgLight} ${ft.text} ${(P==null?void 0:P.id)===Ge.id?"opacity-50":""}`,children:[a.jsxs("div",{className:"truncate font-medium",children:[Ge.isGoal?" ":" ",Ge.title]}),vt.length>0&&a.jsx("div",{className:"mt-1 space-y-0.5",children:vt.map(xt=>a.jsxs("div",{className:"text-[10px] flex items-center gap-1 text-slate-300 truncate",children:[a.jsx("span",{className:xt.progress===100?"text-emerald-400":"text-blue-400",children:xt.progress===100?"":""}),a.jsx("span",{className:xt.progress===100?"line-through opacity-60":"",children:xt.title})]},xt.id))}),pt.length>0&&a.jsx("div",{className:"mt-1 space-y-0.5",children:pt.map(xt=>a.jsxs("div",{className:"text-[10px] flex items-center gap-1 truncate",children:[a.jsx("span",{className:xt.type==="income"?"text-emerald-400":"text-red-400",children:xt.type==="income"?"":""}),a.jsxs("span",{className:xt.type==="income"?"text-emerald-300":"text-red-300",children:[xt.type==="income"?"+":"-","",Math.abs(xt.amount).toLocaleString()]})]},xt.id))})]},`event-${ge}`)})},we)})]}),a.jsx("div",{className:"max-h-[350px] md:max-h-[500px] overflow-y-auto",children:a.jsxs("div",{className:"grid grid-cols-8 gap-1",children:[a.jsx("div",{className:"w-16",children:Ce.map(Z=>a.jsxs("div",{className:"h-[50px] text-xs text-slate-500 text-right pr-2 pt-1 border-t border-slate-700/50",children:[Z,":00"]},Z))}),pe().map((Z,we)=>{const _e=be(Z),Xe=Fe(_e),Ge=Je(Z),ge=new Date,Qe=ge.getHours(),ft=ge.getMinutes(),at=Ce[0],vt=Ce[Ce.length-1]+1,pt=(Qe-at+ft/60)*50,xt=Ge&&Qe>=at&&Qe<vt;return a.jsxs("div",{className:`relative ${Ge?"bg-blue-900/10":""}`,children:[Ce.map(Bt=>a.jsx("div",{className:`h-[50px] border-t border-slate-700/50 hover:bg-slate-800/30 cursor-pointer transition-colors ${P?"hover:bg-blue-900/30":""}`,onClick:()=>{const Kt=`${String(Bt).padStart(2,"0")}:00`,Et=`${String(Math.min(Bt+1,23)).padStart(2,"0")}:00`;M({...k,time:Kt,endTime:Et}),se(_e)},onDragOver:He,onDrop:Kt=>Ve(Kt,_e,Bt)},Bt)),xt&&a.jsx("div",{className:"absolute left-0 right-0 z-20 pointer-events-none",style:{top:`${pt}px`},children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full shadow-lg shadow-red-500/50"}),a.jsx("div",{className:"flex-1 h-0.5 bg-red-500 shadow-lg shadow-red-500/50"})]})}),Xe.filter(Bt=>!Bt.allDay&&(Bt.time||Bt.endTime)).map((Bt,Kt)=>{const Et=Bt.time?parseInt(Bt.time.split(":")[0]):9,At=Bt.time&&parseInt(Bt.time.split(":")[1])||0,Br=Bt.endTime?parseInt(Bt.endTime.split(":")[0]):Et+1,L=Bt.endTime&&parseInt(Bt.endTime.split(":")[1])||0,Ue=Ce[0],st=Ce[Ce.length-1]+1;if(Br<Ue||Et>=st)return null;const Me=(Et-Ue+At/60)*50,fr=(Br+L/60-(Et+At/60))*50,_t=Bt.progress!==void 0&&!Bt.isGoal,xr=Bt.isGoal?"purple":_t?"blue":"emerald",ar=Un(Bt.colorId||xr),yt=Bt.isGoal?"goal":"event",or=!_t&&(Bt.isGoal||!_t)?t.filter(mt=>mt.linkedType===yt&&String(mt.linkedId)===String(Bt.id)).sort((mt,On)=>{if(mt.progress===100&&On.progress!==100)return 1;if(mt.progress!==100&&On.progress===100)return-1;const ds=mt.date||"9999-99-99",hi=On.date||"9999-99-99";return ds.localeCompare(hi)}):[],$r=!_t&&(Bt.isGoal||!_t)?(i||[]).filter(mt=>mt.linkedType===yt&&String(mt.linkedId)===String(Bt.id)):[],qr=40+(or.length+$r.length)*16,xn=Math.max(fr,Math.max(24,qr));return a.jsxs("div",{draggable:!0,onDragStart:mt=>W(mt,Bt),onDragEnd:$e,onClick:mt=>J(Bt,mt),className:`absolute left-1 right-1 px-2 py-1 rounded cursor-grab hover:opacity-90 transition-opacity overflow-hidden z-10 ${ar.bgLight} ${ar.text} border-l-2 ${ar.border} ${(P==null?void 0:P.id)===Bt.id?"opacity-50":""}`,style:{top:`${Me}px`,height:`${xn}px`},children:[a.jsx("div",{className:"text-xs",children:Bt.time&&a.jsxs("span",{className:"text-slate-300 font-medium",children:[Bt.isGoal?" ":"",Bt.time,Bt.endTime?`-${Bt.endTime}`:""]})}),a.jsx("div",{className:"text-sm font-bold truncate",children:Bt.title}),or.length>0&&a.jsx("div",{className:"mt-1 space-y-0.5",children:or.map(mt=>a.jsxs("div",{className:"text-xs flex items-center gap-1 text-slate-300 truncate",children:[a.jsx("span",{className:mt.progress===100?"text-emerald-400":"text-blue-400",children:mt.progress===100?"":""}),a.jsx("span",{className:mt.progress===100?"line-through opacity-60":"",children:mt.title})]},mt.id))}),$r.length>0&&a.jsx("div",{className:"mt-1 space-y-0.5",children:$r.map(mt=>a.jsxs("div",{className:"text-xs flex items-center gap-1 truncate",children:[a.jsx("span",{className:mt.type==="income"?"text-emerald-400":"text-red-400",children:mt.type==="income"?"":""}),a.jsxs("span",{className:mt.type==="income"?"text-emerald-300":"text-red-300",children:[mt.type==="income"?"+":"-","",Math.abs(mt.amount).toLocaleString()]})]},mt.id))})]},Kt)})]},we)})]})})]}),K==="month"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:R.map((Z,we)=>a.jsx("div",{className:`text-center py-2 text-sm font-medium ${we===5?"text-blue-400":we===6?"text-red-400":"text-slate-400"}`,children:Z},Z))}),a.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:ht}).map((Z,we)=>a.jsx("div",{className:"h-24 bg-slate-900/30 rounded-lg"},`empty-${we}`)),Array.from({length:Oe}).map((Z,we)=>{const _e=we+1,Xe=ue(_e),Ge=(ht+we)%7,ge=`${S.getFullYear()}-${String(S.getMonth()+1).padStart(2,"0")}-${String(_e).padStart(2,"0")}`;return a.jsxs("div",{onClick:()=>se(ge),onDragOver:He,onDrop:Qe=>Ve(Qe,ge),className:`h-24 p-2 rounded-lg cursor-pointer transition-all ${ct(_e)?"bg-blue-600/20 border-2 border-blue-500":"bg-slate-900/50 hover:bg-slate-800/50 border border-slate-700/50"} ${P?"hover:bg-blue-900/30":""}`,children:[a.jsx("div",{className:`text-sm font-medium mb-1 ${Ge===5?"text-blue-400":Ge===6?"text-red-400":"text-slate-300"}`,children:_e}),a.jsxs("div",{className:"space-y-1 overflow-hidden",children:[Xe.slice(0,2).map((Qe,ft)=>{const at=Qe.isGoal?"purple":Qe.progress!==void 0?"blue":"emerald",vt=Un(Qe.colorId||at);return a.jsxs("div",{draggable:!0,onDragStart:pt=>W(pt,Qe),onDragEnd:$e,onClick:pt=>J(Qe,pt),className:`text-xs px-1 py-0.5 rounded truncate cursor-grab hover:opacity-80 transition-opacity ${vt.bgLight} ${vt.text} ${(P==null?void 0:P.id)===Qe.id?"opacity-50":""}`,children:[Qe.isGoal?" ":"",Qe.title]},ft)}),Xe.length>2&&a.jsxs("div",{className:"text-xs text-slate-500",children:["+",Xe.length-2," more"]})]})]},_e)})]})]})]}),j&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>O(!1),children:a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 w-96 border border-slate-700",onClick:Z=>Z.stopPropagation(),children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-200 mb-4",children:[y," "]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsx("input",{type:"text",value:k.title,onChange:Z=>M({...k,title:Z.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500",placeholder:"..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsxs("select",{value:k.type,onChange:Z=>M({...k,type:Z.target.value,colorId:Z.target.value==="task"?"blue":Z.target.value==="goal"?"purple":"emerald"}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500",children:[a.jsx("option",{value:"event",children:""}),a.jsx("option",{value:"task",children:""}),a.jsx("option",{value:"goal",children:""})]})]}),(k.type==="event"||k.type==="goal"||k.type==="task")&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"newAllDay",checked:k.allDay||!1,onChange:Z=>M({...k,allDay:Z.target.checked,time:Z.target.checked?"":"09:00",endTime:Z.target.checked?"":"10:00"}),className:"w-4 h-4 rounded border-slate-600 bg-slate-900 text-blue-500 focus:ring-blue-500"}),a.jsx("label",{htmlFor:"newAllDay",className:"text-sm text-slate-300",children:""})]}),!k.allDay&&a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsx("input",{type:"time",value:k.time,onChange:Z=>{const we=Z.target.value;let _e=k.endTime;if(we>=_e){const[Xe,Ge]=we.split(":").map(Number);_e=`${String(Math.min(Xe+1,23)).padStart(2,"0")}:${String(Ge).padStart(2,"0")}`}M({...k,time:we,endTime:_e})},className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsx("input",{type:"time",value:k.endTime,onChange:Z=>M({...k,endTime:Z.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-2 block",children:""}),a.jsx(Nc,{value:k.colorId,onChange:Z=>M({...k,colorId:Z})})]}),k.type==="task"&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("select",{value:k.linkedType||"",onChange:Z=>M({...k,linkedType:Z.target.value,linkedId:""}),className:"bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500 text-sm",children:[a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"event",children:" "}),a.jsx("option",{value:"goal",children:" "})]}),a.jsxs("select",{value:k.linkedId||"",onChange:Z=>M({...k,linkedId:Z.target.value}),className:"bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500 text-sm",disabled:!k.linkedType,children:[a.jsx("option",{value:"",children:""}),k.linkedType==="event"&&(r==null?void 0:r.map(Z=>a.jsxs("option",{value:Z.id,children:[Z.date?`${Z.date} - `:"",Z.title]},Z.id))),k.linkedType==="goal"&&(s==null?void 0:s.map(Z=>a.jsxs("option",{value:Z.id,children:[Z.date?`${Z.date} - `:"",Z.title]},Z.id)))]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsx("button",{onClick:()=>O(!1),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg transition-colors",children:""}),a.jsx("button",{onClick:Ke,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors",children:""})]})]})]})}),E&&H&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>G(!1),children:a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 w-96 border border-slate-700",onClick:Z=>Z.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-200",children:H.isGoal?"":H.isTask?"":""}),a.jsx("span",{className:`text-xs px-2 py-1 rounded ${H.isGoal?"bg-purple-500/30 text-purple-300":H.isTask?"bg-blue-500/30 text-blue-300":"bg-emerald-500/30 text-emerald-300"}`,children:H.isGoal?" ":H.isTask?"":""})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsx("input",{type:"text",value:H.title,onChange:Z=>_({...H,title:Z.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsx("input",{type:"date",value:H.date,onChange:Z=>_({...H,date:Z.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"allDay",checked:H.allDay||!1,onChange:Z=>_({...H,allDay:Z.target.checked,time:Z.target.checked?"":H.time,endTime:Z.target.checked?"":H.endTime}),className:"w-4 h-4 rounded border-slate-600 bg-slate-900 text-blue-500 focus:ring-blue-500"}),a.jsx("label",{htmlFor:"allDay",className:"text-sm text-slate-300",children:""})]}),!H.allDay&&a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsx("input",{type:"time",value:H.time||"",onChange:Z=>{const we=Z.target.value;let _e=H.endTime||"";if(we&&(!_e||we>=_e)){const[Xe,Ge]=we.split(":").map(Number);_e=`${String(Math.min(Xe+1,23)).padStart(2,"0")}:${String(Ge).padStart(2,"0")}`}_({...H,time:we,endTime:_e})},className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsx("input",{type:"time",value:H.endTime||"",onChange:Z=>_({...H,endTime:Z.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500"})]})]}),(H.isTask||H.isGoal)&&a.jsxs("div",{children:[a.jsxs("label",{className:"text-sm text-slate-400 mb-1 block",children:[" (",H.progress||0,"%)"]}),a.jsx("input",{type:"range",min:"0",max:"100",value:H.progress||0,onChange:Z=>_({...H,progress:parseInt(Z.target.value)}),className:"w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-2 block",children:""}),a.jsx(Nc,{value:H.colorId||"blue",onChange:Z=>_({...H,colorId:Z})})]}),H.isTask&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("select",{value:H.linkedType||"",onChange:Z=>_({...H,linkedType:Z.target.value,linkedId:""}),className:"bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500 text-sm",children:[a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"event",children:" "}),a.jsx("option",{value:"goal",children:" "})]}),a.jsxs("select",{value:H.linkedId||"",onChange:Z=>_({...H,linkedId:Z.target.value}),className:"bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500 text-sm",disabled:!H.linkedType,children:[a.jsx("option",{value:"",children:""}),H.linkedType==="event"&&(r==null?void 0:r.map(Z=>a.jsxs("option",{value:Z.id,children:[Z.date?`${Z.date} - `:"",Z.title]},Z.id))),H.linkedType==="goal"&&(s==null?void 0:s.map(Z=>a.jsxs("option",{value:Z.id,children:[Z.date?`${Z.date} - `:"",Z.title]},Z.id)))]})]})]}),(H.isGoal||!H.isTask&&!H.isGoal)&&a.jsxs("div",{children:[a.jsxs("label",{className:"text-sm text-slate-400 mb-2 block flex items-center gap-2",children:[a.jsx(bt,{name:"tasks",size:14}),""]}),(()=>{const Z=H.isGoal?"goal":"event",we=t.filter(_e=>_e.linkedType===Z&&String(_e.linkedId)===String(H.id)).sort((_e,Xe)=>{if(_e.progress===100&&Xe.progress!==100)return 1;if(_e.progress!==100&&Xe.progress===100)return-1;const Ge=_e.date||"9999-99-99",ge=Xe.date||"9999-99-99";return Ge.localeCompare(ge)});return a.jsxs("div",{className:"space-y-2",children:[we.length>0?a.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1",children:we.map(_e=>a.jsxs("div",{className:"flex items-center gap-2 bg-slate-900/50 rounded-lg px-3 py-2 text-sm",children:[a.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center text-xs ${_e.progress===100?"bg-emerald-500/20 text-emerald-400":"bg-blue-500/20 text-blue-400"}`,children:_e.progress===100?"":""}),a.jsx("span",{className:_e.progress===100?"text-slate-500 line-through":"text-slate-300",children:_e.title}),a.jsx("span",{className:"text-slate-600 text-xs ml-auto",children:_e.date})]},_e.id))}):a.jsx("div",{className:"text-slate-600 text-sm bg-slate-900/50 rounded-lg px-3 py-2",children:""}),a.jsxs("button",{type:"button",onClick:async()=>{const _e=prompt(":");_e&&_e.trim()&&await A({title:_e.trim(),date:H.date||new Date().toISOString().split("T")[0],tag:"",progress:0,colorId:"blue",color:Un("blue").bg,linkedType:Z,linkedId:String(H.id)})},className:"w-full px-3 py-2 bg-blue-600/20 hover:bg-blue-600/30 text-blue-400 border border-blue-600/50 rounded-lg transition-colors text-sm flex items-center justify-center gap-2",children:[a.jsx(bt,{name:"plus",size:14}),""]}),a.jsxs("button",{type:"button",onClick:()=>{ve({title:"",amount:"",type:"expense",category:"",date:H.date||new Date().toISOString().split("T")[0],paymentTiming:"immediate",linkedType:Z,linkedId:String(H.id)}),de(!0)},className:"w-full px-3 py-2 bg-emerald-600/20 hover:bg-emerald-600/30 text-emerald-400 border border-emerald-600/50 rounded-lg transition-colors text-sm flex items-center justify-center gap-2",children:[a.jsx(bt,{name:"plus",size:14}),""]})]})})()]}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsxs("button",{onClick:Ne,className:"px-4 py-2 bg-red-600/20 hover:bg-red-600/30 text-red-400 border border-red-600/50 rounded-lg transition-colors flex items-center gap-2",children:[a.jsx(bt,{name:"trash",size:16}),""]}),a.jsx("button",{onClick:()=>G(!1),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg transition-colors",children:""}),a.jsx("button",{onClick:ne,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors",children:""})]})]})]})}),ie&&a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-[60] p-4",children:a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 w-full max-w-md border border-slate-700",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-200 mb-4",children:""}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>ve({...fe,type:"expense",category:""}),className:`flex-1 py-2 rounded-lg font-medium transition-colors ${fe.type==="expense"?"bg-red-500 text-white":"bg-slate-700 text-slate-400 hover:bg-slate-600"}`,children:""}),a.jsx("button",{onClick:()=>ve({...fe,type:"income",category:""}),className:`flex-1 py-2 rounded-lg font-medium transition-colors ${fe.type==="income"?"bg-emerald-500 text-white":"bg-slate-700 text-slate-400 hover:bg-slate-600"}`,children:""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsx("input",{type:"text",value:fe.title,onChange:Z=>ve({...fe,title:Z.target.value}),placeholder:fe.type==="expense"?": ":": ",className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsx("input",{type:"number",value:fe.amount,onChange:Z=>ve({...fe,amount:Z.target.value}),placeholder:"1000",className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsx("select",{value:fe.category,onChange:Z=>ve({...fe,category:Z.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500",children:fe.type==="expense"?a.jsxs(a.Fragment,{children:[a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""})]}):a.jsxs(a.Fragment,{children:[a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""})]})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsx("input",{type:"date",value:fe.date,onChange:Z=>ve({...fe,date:Z.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500"})]}),fe.type==="expense"&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"button",onClick:()=>ve({...fe,paymentTiming:"immediate"}),className:`flex-1 py-2 rounded-lg text-sm font-medium transition-colors ${fe.paymentTiming==="immediate"?"bg-blue-600 text-white":"bg-slate-700 text-slate-400 hover:bg-slate-600"}`,children:""}),a.jsx("button",{type:"button",onClick:()=>ve({...fe,paymentTiming:"nextMonthEnd"}),className:`flex-1 py-2 rounded-lg text-sm font-medium transition-colors ${fe.paymentTiming==="nextMonthEnd"?"bg-blue-600 text-white":"bg-slate-700 text-slate-400 hover:bg-slate-600"}`,children:""})]})]}),fe.linkedType&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsxs("div",{className:"bg-slate-900/50 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-300",children:[fe.linkedType==="event"?" ":" ",": ",H==null?void 0:H.title]})]}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsx("button",{onClick:()=>de(!1),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg transition-colors",children:""}),a.jsx("button",{onClick:async()=>{if(fe.title.trim()&&fe.amount)try{await v({title:fe.title.trim(),amount:parseFloat(fe.amount),type:fe.type,category:fe.category,date:fe.date||new Date().toISOString().split("T")[0],paymentTiming:fe.type==="expense"&&fe.paymentTiming||"immediate",linkedType:fe.linkedType||"",linkedId:fe.linkedId||""}),de(!1),ve({title:"",amount:"",type:"expense",category:"",date:"",paymentTiming:"immediate",linkedType:"",linkedId:""})}catch(Z){console.error(":",Z),alert(": "+Z.message)}else alert("")},className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors",children:""})]})]})]})})]})}function gL({tasks:t,addTask:e,updateTask:r,deleteTask:n,events:s,goals:i,setTasks:A}){const[o,l]=q.useState("all"),[c,d]=q.useState(""),[p,g]=q.useState(!1),[h,b]=q.useState({title:"",date:"",tag:"",colorId:"blue",linkedType:"",linkedId:"",allDay:!0,time:"09:00",endTime:"10:00"}),[v,S]=q.useState(null),[x,y]=q.useState(null),[B,j]=q.useState(null),[O,k]=q.useState(null),[M,K]=q.useState(!1),[N,H]=q.useState([]),[_,E]=q.useState(!1),[G,P]=q.useState({}),[ee,ce]=q.useState(!1),he=(ue,qe)=>{if(!ue||!qe)return null;if(ue==="event"){const F=s==null?void 0:s.find(se=>String(se.id)===String(qe));return F?{type:"event",name:F.title,date:F.date,icon:"",colorId:F.colorId||"emerald"}:null}if(ue==="goal"){const F=i==null?void 0:i.find(se=>String(se.id)===String(qe));return F?{type:"goal",name:F.title,date:F.date,icon:"",colorId:F.colorId||"purple"}:null}return null},ie=t.filter(ue=>{const qe=ue.title.toLowerCase().includes(c.toLowerCase()),F=o==="all"||o==="completed"&&ue.progress===100||o==="pending"&&ue.progress<100;return qe&&F}).sort((ue,qe)=>{if(ue.progress===100&&qe.progress!==100)return 1;if(ue.progress!==100&&qe.progress===100)return-1;if(ue.sortOrder!==void 0&&qe.sortOrder!==void 0)return ue.sortOrder-qe.sortOrder;const F=ue.date||"9999-99-99",se=qe.date||"9999-99-99";return F.localeCompare(se)}),de=(ue,qe)=>{y(qe),ue.dataTransfer.effectAllowed="move"},fe=(ue,qe)=>{ue.preventDefault(),x&&x.id!==qe.id&&j(qe)},ve=async(ue,qe)=>{if(ue.preventDefault(),!x||x.id===qe.id){y(null),j(null);return}const F=[...ie],se=F.findIndex(He=>He.id===x.id),Ke=F.findIndex(He=>He.id===qe.id),[J]=F.splice(se,1);F.splice(Ke,0,J);const ne=F.filter(He=>He.progress!==100),Ne=F.filter(He=>He.progress===100),W=ne.map((He,Ve)=>({id:He.id,sortOrder:Ve}));Ne.forEach((He,Ve)=>{W.push({id:He.id,sortOrder:1e4+Ve})});for(const He of W)await r(He.id,{sortOrder:He.sortOrder});y(null),j(null)},I=()=>{y(null),j(null)},R=async()=>{if(h.title.trim()){const ue=h.colorId||"blue",qe={title:h.title,date:h.date||new Date().toISOString().split("T")[0],tag:h.tag,progress:0,colorId:ue,color:Un(ue).bg,linkedType:h.linkedType||"",linkedId:h.linkedId||"",allDay:h.allDay,time:h.allDay?"":h.time,endTime:h.allDay?"":h.endTime};await e(qe),b({title:"",date:"",tag:"",colorId:"blue",linkedType:"",linkedId:"",allDay:!0,time:"09:00",endTime:"10:00"}),g(!1)}},te=async ue=>{await n(ue)},Y=async ue=>{await r(ue.id,{progress:ue.progress===100?0:100})},le=async()=>{if(v&&v.title.trim()){const ue=v.colorId||"blue";await r(v.id,{...v,colorId:ue,color:Un(ue).bg,time:v.time||"",endTime:v.endTime||"",allDay:v.allDay||!1,linkedType:v.linkedType||"",linkedId:v.linkedId||""}),S(null)}},pe=async ue=>{var se,Ke,J,ne,Ne,W,He,Ve;k(ue),K(!0),H([]),E(!0);const qe=localStorage.getItem("ai_api_key"),F=localStorage.getItem("ai_provider")||"gemini";if(!qe){H([{error:"APIAI API"}]),K(!1);return}try{const $e=`


${ue.title}


1. 30
2. 58
3. 
4. 


JSON
{
  "thinking": "...",
  "subtasks": [
    { "title": "1", "reason": "", "estimatedMinutes": 15 },
    { "title": "2", "reason": "", "estimatedMinutes": 20 }
  ],
  "summary": ""
}

JSON`;let Je;if(F==="gemini"?Je=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${qe}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:$e}]}],generationConfig:{temperature:.7,maxOutputTokens:2048}})}):F==="groq"&&(Je=await fetch("https://api.groq.com/openai/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${qe}`},body:JSON.stringify({model:"llama-3.3-70b-versatile",messages:[{role:"user",content:$e}],temperature:.7,max_tokens:2048})})),!Je.ok)throw new Error(`API error: ${Je.status}`);const ct=await Je.json();let Be="";F==="gemini"?Be=((Ne=(ne=(J=(Ke=(se=ct.candidates)==null?void 0:se[0])==null?void 0:Ke.content)==null?void 0:J.parts)==null?void 0:ne[0])==null?void 0:Ne.text)||"":Be=((Ve=(He=(W=ct.choices)==null?void 0:W[0])==null?void 0:He.message)==null?void 0:Ve.content)||"";const Ce=Be.match(/\{[\s\S]*\}/);if(Ce){const Z=JSON.parse(Ce[0]);H(Z)}else throw new Error("JSON")}catch($e){console.error("Task decomposition error:",$e),H({error:`: ${$e.message}`})}finally{K(!1)}},Fe=ue=>{P(qe=>({...qe,[ue]:!qe[ue]}))},be=()=>{if(!(N!=null&&N.subtasks))return;if(N.subtasks.every((qe,F)=>G[F]))P({});else{const qe={};N.subtasks.forEach((F,se)=>{qe[se]=!0}),P(qe)}},Oe=Object.values(G).filter(Boolean).length,Ye=async()=>{var ne,Ne,W,He,Ve,$e,Je,ct;if(!(N!=null&&N.subtasks)||!O||Oe===0)return;ce(!0);const ue=localStorage.getItem("ai_api_key"),qe=localStorage.getItem("ai_provider")||"gemini";if(!ue){alert("APIAI API"),ce(!1);return}const F=N.subtasks.filter((Be,Ce)=>G[Ce]),se=new Date,Ke=[];for(let Be=0;Be<7;Be++){const Ce=new Date(se);Ce.setDate(Ce.getDate()+Be),Ke.push(Ce.toISOString().split("T")[0])}const J=Ke.map(Be=>{const Ce=t.filter(we=>we.date===Be&&we.progress!==100),Z=(s==null?void 0:s.filter(we=>we.date===Be))||[];return{date:Be,tasks:Ce.map(we=>({title:we.title,time:we.time,endTime:we.endTime,allDay:we.allDay})),events:Z.map(we=>({title:we.title,time:we.time,endTime:we.endTime,allDay:we.allDay}))}});try{const Be=`


${F.map((Xe,Ge)=>`${Ge+1}. ${Xe.title}${Xe.estimatedMinutes||30}`).join(`
`)}

7
${J.map(Xe=>{const Ge=[...Xe.tasks,...Xe.events];return`${Xe.date}: ${Ge.length>0?Ge.map(ge=>ge.allDay?`${ge.title}()`:`${ge.title}(${ge.time||""}-${ge.endTime||""})`).join(", "):""}`}).join(`
`)}


1. 
2. 13-4
3. 
4. 920
5. 


JSON
{
  "schedule": [
    { "subtaskIndex": 0, "date": "2024-01-15", "time": "09:00", "endTime": "09:30", "reason": "" }
  ],
  "summary": ""
}

JSON`;let Ce;if(qe==="gemini"?Ce=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${ue}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:Be}]}],generationConfig:{temperature:.5,maxOutputTokens:2048}})}):qe==="groq"&&(Ce=await fetch("https://api.groq.com/openai/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ue}`},body:JSON.stringify({model:"llama-3.3-70b-versatile",messages:[{role:"user",content:Be}],temperature:.5,max_tokens:2048})})),!Ce.ok)throw new Error(`API error: ${Ce.status}`);const Z=await Ce.json();let we="";qe==="gemini"?we=((Ve=(He=(W=(Ne=(ne=Z.candidates)==null?void 0:ne[0])==null?void 0:Ne.content)==null?void 0:W.parts)==null?void 0:He[0])==null?void 0:Ve.text)||"":we=((ct=(Je=($e=Z.choices)==null?void 0:$e[0])==null?void 0:Je.message)==null?void 0:ct.content)||"";const _e=we.match(/\{[\s\S]*\}/);if(_e){const Xe=JSON.parse(_e[0]);for(const Ge of Xe.schedule){const ge=F[Ge.subtaskIndex];if(ge){const Qe={title:`* ${ge.title}`,date:Ge.date,tag:O.tag||"",progress:0,colorId:O.colorId||"blue",color:Un(O.colorId||"blue").bg,linkedType:O.linkedType||"",linkedId:O.linkedId||"",allDay:!1,time:Ge.time,endTime:Ge.endTime,parentTaskId:String(O.id),parentTaskTitle:O.title,aiScheduled:!0};await e(Qe)}}alert(` ${Xe.schedule.length}

${Xe.summary}`)}else throw new Error("JSON")}catch(Be){console.error("Scheduling error:",Be),alert(`: ${Be.message}`)}finally{ce(!1),E(!1),k(null),H([]),P({})}},ht=async()=>{if(!(N!=null&&N.subtasks)||!O||Oe===0)return;const ue=O.date||new Date().toISOString().split("T")[0],qe=N.subtasks.filter((F,se)=>G[se]);for(const F of qe){const se={title:`* ${F.title}`,date:ue,tag:O.tag||"",progress:0,colorId:O.colorId||"blue",color:Un(O.colorId||"blue").bg,linkedType:O.linkedType||"",linkedId:O.linkedId||"",allDay:!0,parentTaskId:String(O.id),parentTaskTitle:O.title};await e(se)}E(!1),k(null),H([]),P({})};return a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("div",{className:"flex gap-4 items-center",children:a.jsxs("h2",{className:"text-xl text-slate-200 font-bold flex items-center gap-2",children:[a.jsx(bt,{name:"tasks",className:"text-blue-400"})," ",a.jsxs("span",{className:"text-sm bg-slate-700 px-2 py-0.5 rounded-full text-slate-300",children:[t.length,""]})]})}),a.jsxs("button",{onClick:()=>g(!0),className:"px-4 py-2 bg-cyan-600 text-white rounded-lg flex items-center gap-2 text-sm hover:bg-cyan-500 transition-colors",children:[a.jsx(bt,{name:"plus",size:16})," "]})]}),a.jsxs("div",{className:"flex gap-3 mb-6",children:[a.jsxs("select",{value:o,onChange:ue=>l(ue.target.value),className:"bg-slate-900 border border-slate-700 text-slate-300 px-3 py-2 rounded-lg text-sm outline-none",children:[a.jsx("option",{value:"all",children:""}),a.jsx("option",{value:"pending",children:""}),a.jsx("option",{value:"completed",children:""})]}),a.jsxs("div",{className:"flex-1 relative",children:[a.jsx("div",{className:"absolute left-3 top-2.5 text-slate-600",children:a.jsx(bt,{name:"search",size:16})}),a.jsx("input",{type:"text",value:c,onChange:ue=>d(ue.target.value),placeholder:"...",className:"w-full bg-slate-900 border border-slate-700 text-slate-300 pl-10 pr-3 py-2 rounded-lg text-sm outline-none focus:border-blue-500"})]})]}),a.jsxs("div",{className:"space-y-3",children:[ie.map((ue,qe)=>a.jsxs("div",{draggable:!0,onDragStart:F=>de(F,ue),onDragOver:F=>fe(F,ue),onDrop:F=>ve(F,ue),onDragEnd:I,className:`bg-slate-800/50 border rounded-xl p-4 flex items-center justify-between group hover:border-slate-600 transition-all cursor-move ${(B==null?void 0:B.id)===ue.id?"border-cyan-500 bg-cyan-500/10":"border-slate-700/50"} ${(x==null?void 0:x.id)===ue.id?"opacity-50":""}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"text-slate-600 hover:text-slate-400 cursor-grab active:cursor-grabbing",children:a.jsx(bt,{name:"menu",size:16})}),a.jsx("button",{onClick:()=>Y(ue),className:`w-10 h-10 rounded-lg flex items-center justify-center transition-colors ${ue.progress===100?"bg-emerald-500/20 text-emerald-400":"bg-cyan-500/10 text-cyan-400 hover:bg-cyan-500/20"}`,children:ue.progress===100?a.jsx(bt,{name:"check",size:20}):a.jsx(bt,{name:"calendar",size:20})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:`font-bold ${ue.progress===100?"text-slate-500 line-through":"text-slate-200"}`,children:ue.title}),a.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${Un(ue.colorId||"blue").bgLight} ${Un(ue.colorId||"blue").text} border border-white/5`,children:ue.tag}),(()=>{const F=he(ue.linkedType,ue.linkedId);if(F){const se=Un(F.colorId);return a.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full ${se.bgLight} ${se.text}`,children:[F.icon," ",F.name]})}return null})()]}),a.jsx("div",{className:"text-slate-500 text-xs",children:ue.date})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:`font-bold text-sm ${ue.progress===100?"text-emerald-400":"text-slate-500"}`,children:[ue.progress,"%"]}),ue.progress!==100&&a.jsxs("button",{onClick:()=>pe(ue),className:"text-slate-500 hover:text-purple-400 transition-colors p-1 hover:bg-slate-700 rounded flex items-center gap-1",title:"",children:[a.jsx(bt,{name:"target",size:16}),a.jsx("span",{className:"text-xs hidden md:inline",children:""})]}),a.jsx("button",{onClick:()=>S({...ue}),className:"text-slate-600 hover:text-blue-400 transition-colors p-1 hover:bg-slate-700 rounded",children:a.jsx(bt,{name:"edit",size:16})}),a.jsx("button",{onClick:()=>te(ue.id),className:"text-slate-600 hover:text-red-400 transition-colors p-1 hover:bg-slate-700 rounded",children:a.jsx(bt,{name:"trash",size:16})})]})]},ue.id)),ie.length===0&&a.jsx("div",{className:"text-center py-12 text-slate-500",children:""})]}),p&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>g(!1),children:a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 w-96 border border-slate-700",onClick:ue=>ue.stopPropagation(),children:[a.jsx("h3",{className:"text-lg font-bold text-slate-200 mb-4",children:""}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsx("input",{type:"text",value:h.title,onChange:ue=>b({...h,title:ue.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500",placeholder:"..."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsx("input",{type:"date",value:h.date,onChange:ue=>b({...h,date:ue.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsxs("select",{value:h.tag,onChange:ue=>b({...h,tag:ue.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500",children:[a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"",children:""})]})]})]}),a.jsx("div",{children:a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:h.allDay,onChange:ue=>b({...h,allDay:ue.target.checked}),className:"w-4 h-4 rounded bg-slate-700 border-slate-600 text-blue-500"}),a.jsx("span",{className:"text-sm text-slate-300",children:""})]})}),!h.allDay&&a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsx("input",{type:"time",value:h.time,onChange:ue=>b({...h,time:ue.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsx("input",{type:"time",value:h.endTime,onChange:ue=>b({...h,endTime:ue.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-2 block",children:""}),a.jsx(Nc,{value:h.colorId,onChange:ue=>b({...h,colorId:ue})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("select",{value:h.linkedType,onChange:ue=>b({...h,linkedType:ue.target.value,linkedId:""}),className:"bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500 text-sm",children:[a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"event",children:" "}),a.jsx("option",{value:"goal",children:" "})]}),a.jsxs("select",{value:h.linkedId,onChange:ue=>b({...h,linkedId:ue.target.value}),className:"bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500 text-sm",disabled:!h.linkedType,children:[a.jsx("option",{value:"",children:""}),h.linkedType==="event"&&(s==null?void 0:s.map(ue=>a.jsxs("option",{value:ue.id,children:[ue.date?`${ue.date} - `:"",ue.title]},ue.id))),h.linkedType==="goal"&&(i==null?void 0:i.map(ue=>a.jsxs("option",{value:ue.id,children:[ue.date?`${ue.date} - `:"",ue.title]},ue.id)))]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsx("button",{onClick:()=>g(!1),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg transition-colors",children:""}),a.jsx("button",{onClick:R,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors",children:""})]})]})]})}),v&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>S(null),children:a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 w-96 border border-slate-700",onClick:ue=>ue.stopPropagation(),children:[a.jsx("h3",{className:"text-lg font-bold text-slate-200 mb-4",children:""}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsx("input",{type:"text",value:v.title,onChange:ue=>S({...v,title:ue.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsx("input",{type:"date",value:v.date,onChange:ue=>S({...v,date:ue.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsx("input",{type:"number",min:"0",max:"100",value:v.progress,onChange:ue=>S({...v,progress:parseInt(ue.target.value)||0}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-2 block",children:""}),a.jsx(Nc,{value:v.colorId||"blue",onChange:ue=>S({...v,colorId:ue})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"tasklist-edit-allday",checked:v.allDay||!1,onChange:ue=>S({...v,allDay:ue.target.checked,time:"",endTime:""}),className:"w-4 h-4 rounded bg-slate-900 border-slate-700 text-blue-500 focus:ring-blue-500"}),a.jsx("label",{htmlFor:"tasklist-edit-allday",className:"text-sm text-slate-300",children:""})]}),!v.allDay&&a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsx("input",{type:"time",value:v.time||"",onChange:ue=>{let qe=v.endTime||"";const F=ue.target.value;if(F&&(!qe||F>=qe)){const[se,Ke]=F.split(":").map(Number);qe=`${String(Math.min(se+1,23)).padStart(2,"0")}:${String(Ke).padStart(2,"0")}`}S({...v,time:F,endTime:qe})},className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsx("input",{type:"time",value:v.endTime||"",onChange:ue=>S({...v,endTime:ue.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("select",{value:v.linkedType||"",onChange:ue=>S({...v,linkedType:ue.target.value,linkedId:""}),className:"bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500 text-sm",children:[a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"event",children:" "}),a.jsx("option",{value:"goal",children:" "})]}),a.jsxs("select",{value:v.linkedId||"",onChange:ue=>S({...v,linkedId:ue.target.value}),className:"bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500 text-sm",disabled:!v.linkedType,children:[a.jsx("option",{value:"",children:""}),v.linkedType==="event"&&(s==null?void 0:s.map(ue=>a.jsxs("option",{value:ue.id,children:[ue.date?`${ue.date} - `:"",ue.title]},ue.id))),v.linkedType==="goal"&&(i==null?void 0:i.map(ue=>a.jsxs("option",{value:ue.id,children:[ue.date?`${ue.date} - `:"",ue.title]},ue.id)))]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsx("button",{onClick:()=>S(null),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg transition-colors",children:""}),a.jsx("button",{onClick:le,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors",children:""})]})]})]})}),_&&a.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",onClick:()=>E(!1),children:a.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 md:p-6 w-full max-w-lg max-h-[85vh] overflow-y-auto border border-slate-700",onClick:ue=>ue.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-200 flex items-center gap-2",children:[a.jsx(bt,{name:"target",className:"text-purple-400"})," (CoT)"]}),a.jsx("button",{onClick:()=>E(!1),className:"text-slate-400 hover:text-slate-200",children:a.jsx(bt,{name:"x",size:20})})]}),O&&a.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-3 mb-4 border border-slate-700",children:[a.jsx("div",{className:"text-xs text-slate-500 mb-1",children:""}),a.jsx("div",{className:"text-slate-200 font-medium",children:O.title})]}),M&&a.jsx("div",{className:"text-center py-8",children:a.jsxs("div",{className:"inline-flex items-center gap-3 text-purple-400",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-purple-400 border-t-transparent"}),a.jsx("span",{children:"AI..."})]})}),(N==null?void 0:N.error)&&a.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4 text-red-400",children:N.error}),!M&&(N==null?void 0:N.subtasks)&&a.jsxs("div",{className:"space-y-4",children:[N.thinking&&a.jsxs("div",{className:"bg-purple-500/10 border border-purple-500/30 rounded-lg p-3",children:[a.jsxs("div",{className:"text-xs text-purple-400 mb-1 flex items-center gap-1",children:[a.jsx(bt,{name:"cpu",size:12}),""]}),a.jsx("div",{className:"text-sm text-purple-200",children:N.thinking})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("div",{className:"text-sm text-slate-400",children:["",Oe,"/",N.subtasks.length,""]}),a.jsx("button",{onClick:be,className:"text-xs text-purple-400 hover:text-purple-300 transition-colors",children:N.subtasks.every((ue,qe)=>G[qe])?"":""})]}),a.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:N.subtasks.map((ue,qe)=>a.jsx("div",{onClick:()=>Fe(qe),className:`bg-slate-900/50 border rounded-lg p-3 cursor-pointer transition-all ${G[qe]?"border-purple-500 bg-purple-500/10":"border-slate-700 hover:border-slate-600"}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`flex-shrink-0 w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${G[qe]?"bg-purple-500 border-purple-500":"border-slate-600"}`,children:G[qe]&&a.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),a.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-purple-500/20 text-purple-400 flex items-center justify-center text-xs font-bold",children:qe+1}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-slate-200 font-medium text-sm",children:ue.title}),ue.reason&&a.jsx("div",{className:"text-xs text-slate-500 mt-1",children:ue.reason}),ue.estimatedMinutes&&a.jsxs("div",{className:"text-xs text-cyan-400 mt-1",children:[" ",ue.estimatedMinutes,""]})]})]})},qe))})]}),N.summary&&a.jsxs("div",{className:"bg-slate-900/50 border border-slate-600 rounded-lg p-3",children:[a.jsx("div",{className:"text-xs text-slate-400 mb-1",children:""}),a.jsx("div",{className:"text-sm text-slate-300",children:N.summary})]}),ee&&a.jsx("div",{className:"bg-cyan-500/10 border border-cyan-500/30 rounded-lg p-4 text-center",children:a.jsxs("div",{className:"inline-flex items-center gap-3 text-cyan-400",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-cyan-400 border-t-transparent"}),a.jsx("span",{className:"text-sm",children:"AI..."})]})}),a.jsxs("div",{className:"space-y-2 pt-2",children:[a.jsxs("button",{onClick:Ye,disabled:Oe===0||ee,className:`w-full px-4 py-3 rounded-lg transition-colors text-sm flex items-center justify-center gap-2 ${Oe>0&&!ee?"bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white":"bg-slate-700 text-slate-500 cursor-not-allowed"}`,children:[a.jsx(bt,{name:"calendar",size:16})," AI",Oe,""]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>{E(!1),P({})},className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg transition-colors text-sm",children:""}),a.jsxs("button",{onClick:ht,disabled:Oe===0,className:`flex-1 px-4 py-2 rounded-lg transition-colors text-sm flex items-center justify-center gap-2 ${Oe>0?"bg-purple-600 hover:bg-purple-500 text-white":"bg-slate-700 text-slate-500 cursor-not-allowed"}`,children:[a.jsx(bt,{name:"plus",size:16}),""]})]})]})]})]})})]})}function mL({tasks:t,goals:e,events:r,updateTask:n,deleteTask:s,addTask:i,addGoal:A,addEvent:o}){const[l,c]=q.useState("day"),[d,p]=q.useState(new Date),[g,h]=q.useState(null),[b,v]=q.useState({}),[S,x]=q.useState(new Date),[y,B]=q.useState(null),[j,O]=q.useState(null),[k,M]=q.useState(null),[K,N]=q.useState(!1),[H,_]=q.useState(!1),[E,G]=q.useState("task"),[P,ee]=q.useState(""),[ce,he]=q.useState({title:"",colorId:"blue",allDay:!0,time:"09:00",endTime:"10:00",linkedType:"",linkedId:""});q.useEffect(()=>{const W=setInterval(()=>{x(new Date)},6e4);return()=>clearInterval(W)},[]);const ie=new Date(S);ie.setHours(0,0,0,0);const de=q.useMemo(()=>{const W=[],He=$e=>[...$e].sort((Je,ct)=>{if(Je.progress===100&&ct.progress!==100)return 1;if(Je.progress!==100&&ct.progress===100)return-1;const Be=Je.date||"9999-99-99",Ce=ct.date||"9999-99-99";return Be.localeCompare(Ce)});e.forEach($e=>{const Je=t.filter(ct=>ct.linkedType==="goal"&&String(ct.linkedId)===String($e.id)&&ct.progress!==100);Je.length>0&&W.push({id:`goal-${$e.id}`,type:"goal",title:$e.title,date:$e.date,colorId:$e.colorId||"purple",progress:$e.progress||0,tasks:He(Je),icon:""})}),r.forEach($e=>{const Je=t.filter(ct=>ct.linkedType==="event"&&String(ct.linkedId)===String($e.id)&&ct.progress!==100);Je.length>0&&W.push({id:`event-${$e.id}`,type:"event",title:$e.title,date:$e.date,colorId:$e.colorId||"emerald",tasks:He(Je),icon:""})});const Ve=He(t.filter($e=>(!$e.linkedType||!$e.linkedId)&&$e.progress!==100));return Ve.length>0&&W.push({id:"unlinked",type:"unlinked",title:"",date:null,colorId:"blue",tasks:Ve,icon:""}),W.sort(($e,Je)=>$e.date?Je.date?new Date($e.date)-new Date(Je.date):-1:1)},[t,e,r]),ve=(()=>{let W=[];const He=new Date(d);if(l==="day"){He.setDate(He.getDate()-3);for(let Ve=0;Ve<14;Ve++){const $e=new Date(He);$e.setDate($e.getDate()+Ve),W.push($e)}}else if(l==="week"){const Ve=new Date(He),$e=Ve.getDay();Ve.setDate(Ve.getDate()-($e===0?6:$e-1)),Ve.setDate(Ve.getDate()-7);for(let Je=0;Je<56;Je++){const ct=new Date(Ve);ct.setDate(ct.getDate()+Je),W.push(ct)}}else{He.setMonth(He.getMonth()-1),He.setDate(1);for(let Ve=0;Ve<180;Ve++){const $e=new Date(He);$e.setDate($e.getDate()+Ve),W.push($e)}}return W})(),I=W=>`${W.getFullYear()}-${String(W.getMonth()+1).padStart(2,"0")}-${String(W.getDate()).padStart(2,"0")}`,R=W=>{if(!W)return-1;new Date(W).setHours(0,0,0,0);for(let Ve=0;Ve<ve.length;Ve++)if(I(ve[Ve])===W)return Ve;return-1},te=ve.findIndex(W=>I(W)===I(ie)),Y=()=>{const W=new Date(d);l==="day"?W.setDate(W.getDate()-7):l==="week"?W.setDate(W.getDate()-28):W.setMonth(W.getMonth()-3),p(W)},le=()=>{const W=new Date(d);l==="day"?W.setDate(W.getDate()+7):l==="week"?W.setDate(W.getDate()+28):W.setMonth(W.getMonth()+3),p(W)},pe=()=>{p(new Date)},Fe=W=>{v(He=>({...He,[W]:!He[W]}))},be=(W,He)=>{B(He),W.dataTransfer.effectAllowed="move",W.dataTransfer.setData("text/plain",He.id)},Oe=()=>{B(null),O(null)},Ye=(W,He,Ve)=>{W.preventDefault(),W.dataTransfer.dropEffect="move",O({dateStr:He,taskId:Ve})},ht=()=>{O(null)},ue=async(W,He)=>{if(W.preventDefault(),y&&n&&He!==y.date)try{await n(y.id,{date:He})}catch(Ve){console.error("Failed to update task date:",Ve)}B(null),O(null)},qe=W=>{M({...W}),N(!0)},F=async()=>{if(!(!k||!k.title.trim()))try{await n(k.id,{title:k.title,date:k.date,time:k.time||"",endTime:k.endTime||"",progress:k.progress||0,colorId:k.colorId||"blue",allDay:k.allDay||!1,linkedType:k.linkedType||"",linkedId:k.linkedId||""}),N(!1),M(null)}catch(W){console.error("Failed to update task:",W)}},se=async()=>{if(!(!k||!s)&&window.confirm(`${k.title}`))try{await s(k.id),N(!1),M(null)}catch(W){console.error("Failed to delete task:",W)}},Ke=36,J=40,ne=32,Ne=l==="day"?60:l==="week"?30:10;return a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("div",{className:"bg-slate-800/40 rounded-xl border border-slate-700/50 p-4 md:p-6 overflow-hidden flex flex-col max-h-[calc(100vh-200px)] md:max-h-[calc(100vh-150px)]",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-2 mb-4",children:[a.jsxs("h3",{className:"text-sm font-bold text-slate-300 tracking-wider uppercase flex items-center gap-2",children:[a.jsx(bt,{name:"calendar",size:18,className:"text-blue-400"}),""]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:Y,className:"p-1.5 hover:bg-slate-700 rounded-lg transition-colors",children:a.jsx(bt,{name:"chevronLeft",size:18,className:"text-slate-400"})}),a.jsx("button",{onClick:pe,className:"px-3 py-1 text-xs bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors",children:""}),a.jsx("button",{onClick:le,className:"p-1.5 hover:bg-slate-700 rounded-lg transition-colors",children:a.jsx(bt,{name:"chevronRight",size:18,className:"text-slate-400"})})]}),a.jsx("div",{className:"flex bg-slate-800 rounded-lg p-1 border border-slate-700",children:["day","week","month"].map(W=>a.jsx("button",{onClick:()=>c(W),className:`px-3 py-1 text-xs transition-colors ${l===W?"bg-blue-600 text-white rounded shadow":"text-slate-400 hover:text-slate-200"}`,children:W==="day"?"":W==="week"?"":""},W))})]})]}),a.jsxs("div",{className:"flex-1 flex overflow-hidden rounded-lg border border-slate-700 bg-slate-900/30",children:[a.jsxs("div",{className:"w-56 flex-shrink-0 border-r border-slate-700 bg-slate-800/50 overflow-y-auto",children:[a.jsx("div",{className:"sticky top-0 z-10 bg-slate-800 border-b border-slate-700 px-3 flex items-center",style:{height:Ke},children:a.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase",children:" /  / "})}),de.map(W=>{const He=b[W.id]!==!1,Ve=Un(W.colorId);return a.jsxs("div",{children:[a.jsxs("div",{className:`flex items-center gap-2 px-3 border-b border-slate-700 cursor-pointer hover:bg-slate-700/50 transition-colors ${Ve.bgLight}`,style:{height:J},onClick:()=>Fe(W.id),children:[a.jsx("span",{className:"text-slate-400 text-xs",children:He?"":""}),a.jsx("span",{className:"text-sm",children:W.icon}),a.jsx("span",{className:"text-sm font-medium text-slate-200 truncate flex-1",children:W.title}),a.jsxs("span",{className:"text-[10px] text-slate-500",children:[W.tasks.length,""]})]}),He&&W.tasks.map($e=>{const Je=Un($e.colorId||"blue");return a.jsxs("div",{className:`flex items-center gap-2 px-3 pl-8 border-b border-slate-800 hover:bg-slate-800/50 transition-colors cursor-pointer ${g===$e.id?"bg-slate-800/50":""}`,style:{height:ne},onMouseEnter:()=>h($e.id),onMouseLeave:()=>h(null),onClick:()=>qe($e),children:[a.jsx("div",{className:`w-2 h-2 rounded-full flex-shrink-0 ${$e.progress===100?"bg-emerald-500":Je.bg}`}),a.jsx("span",{className:`text-xs truncate flex-1 ${$e.progress===100?"text-slate-500 line-through":"text-slate-300"}`,children:$e.title}),$e.progress>0&&$e.progress<100&&a.jsxs("span",{className:"text-[10px] text-slate-500",children:[$e.progress,"%"]}),$e.progress===100&&a.jsx("span",{className:"text-[10px] text-emerald-500",children:""})]},$e.id)})]},W.id)}),de.length===0&&a.jsx("div",{className:"p-4 text-center text-slate-500 text-xs",children:""})]}),a.jsx("div",{className:"flex-1 overflow-auto relative",children:a.jsxs("div",{className:"relative",style:{minWidth:ve.length*Ne},children:[a.jsx("div",{className:"sticky top-0 z-10 bg-slate-800/95 border-b border-slate-700 flex",style:{height:Ke},children:ve.map((W,He)=>{const Ve=W.getDay(),$e=I(W)===I(ie),Je=Ve===0||Ve===6,ct=l==="day"||l==="week"&&Ve===1||l==="month"&&W.getDate()===1;return a.jsx("div",{onClick:()=>{ee(I(W)),he({title:"",colorId:"blue"}),G("task"),_(!0)},className:`flex-shrink-0 flex items-center justify-center text-xs border-r border-slate-700/50 cursor-pointer hover:bg-slate-700/50 transition-colors ${$e?"bg-blue-600/20 text-blue-400 font-bold":Je?"text-red-400":"text-slate-400"}`,style:{width:Ne},title:"",children:ct&&a.jsx("span",{className:"truncate px-0.5",children:l==="month"?`${W.getMonth()+1}`:`${W.getMonth()+1}/${W.getDate()}`})},He)})}),de.map(W=>{const He=b[W.id]!==!1,Ve=Un(W.colorId),$e=R(W.date);return a.jsxs("div",{children:[a.jsx("div",{className:`flex border-b border-slate-700 ${Ve.bgLight}`,style:{height:J},children:ve.map((Je,ct)=>{const Be=ct===te,Ce=ct===$e;return a.jsx("div",{className:`flex-shrink-0 border-r border-slate-700/30 flex items-center justify-center ${Be?"bg-red-500/10":""}`,style:{width:Ne},children:Ce&&a.jsx("div",{className:`w-3 h-3 rounded-full ${Ve.bg} shadow-lg`,title:W.title})},ct)})}),He&&W.tasks.map(Je=>{const ct=R(Je.date),Be=Un(Je.colorId||"blue"),Ce=Je.progress===100;return a.jsx("div",{className:`flex border-b border-slate-800/50 ${g===Je.id?"bg-slate-800/30":""} ${(y==null?void 0:y.id)===Je.id?"opacity-50":""}`,style:{height:ne},onMouseEnter:()=>h(Je.id),onMouseLeave:()=>h(null),children:ve.map((Z,we)=>{const _e=we===te,Xe=we===ct,Ge=I(Z),ge=(j==null?void 0:j.dateStr)===Ge&&(j==null?void 0:j.taskId)===Je.id;return a.jsx("div",{className:`flex-shrink-0 border-r border-slate-800/30 flex items-center justify-center transition-colors ${_e?"bg-red-500/5":""} ${ge&&!Xe?"bg-blue-500/20 ring-1 ring-blue-400/50":""}`,style:{width:Ne},onDragOver:Qe=>Ye(Qe,Ge,Je.id),onDragLeave:ht,onDrop:Qe=>ue(Qe,Ge),children:Xe&&a.jsx("div",{draggable:!0,onDragStart:Qe=>be(Qe,Je),onDragEnd:Oe,onClick:()=>qe(Je),className:`rounded px-1 py-0.5 text-[10px] font-medium text-white truncate shadow cursor-pointer hover:brightness-110 hover:scale-105 transition-all ${Ce?"bg-emerald-600":Be.bg}`,style:{maxWidth:Ne-4},title:`${Je.title}${Je.progress?` (${Je.progress}%)`:""}
  / `,children:Ce?"":Je.progress>0?`${Je.progress}%`:""})},we)})},Je.id)})]},W.id)}),te>=0&&(()=>{const W=S.getHours(),He=S.getMinutes(),Ve=(W*60+He)/(24*60),$e=te*Ne+Ve*Ne;return a.jsx("div",{className:"absolute top-0 w-0.5 bg-red-500 pointer-events-none z-20",style:{left:`${$e}px`,height:"100%",boxShadow:"0 0 8px rgba(239, 68, 68, 0.5)"}})})()]})})]}),a.jsxs("div",{className:"mt-4 flex items-center gap-6 text-xs text-slate-400",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:""}),a.jsx("span",{children:""})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:""}),a.jsx("span",{children:""})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:""}),a.jsx("span",{children:""})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 bg-emerald-500 rounded"}),a.jsx("span",{children:""})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-0.5 h-4 bg-red-500"}),a.jsx("span",{children:""})]})]})]}),K&&k&&a.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",onClick:()=>N(!1),children:a.jsxs("div",{className:"bg-slate-800 rounded-2xl p-6 w-full max-w-md border border-slate-700 shadow-xl",onClick:W=>W.stopPropagation(),children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-200 mb-4 flex items-center gap-2",children:[a.jsx(bt,{name:"edit",size:20,className:"text-blue-400"}),""]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:""}),a.jsx("input",{type:"text",value:k.title||"",onChange:W=>M({...k,title:W.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none",placeholder:""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:""}),a.jsx("input",{type:"date",value:k.date||"",onChange:W=>M({...k,date:W.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"edit-allday",checked:k.allDay||!1,onChange:W=>M({...k,allDay:W.target.checked,time:"",endTime:""}),className:"w-4 h-4 rounded bg-slate-900 border-slate-700 text-blue-500 focus:ring-blue-500"}),a.jsx("label",{htmlFor:"edit-allday",className:"text-sm text-slate-300",children:""})]}),!k.allDay&&a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:""}),a.jsx("input",{type:"time",value:k.time||"",onChange:W=>M({...k,time:W.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:""}),a.jsx("input",{type:"time",value:k.endTime||"",onChange:W=>M({...k,endTime:W.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs text-slate-400 mb-1",children:[": ",k.progress||0,"%"]}),a.jsx("input",{type:"range",min:"0",max:"100",step:"10",value:k.progress||0,onChange:W=>M({...k,progress:parseInt(W.target.value)}),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-blue-500"}),a.jsxs("div",{className:"flex justify-between text-[10px] text-slate-500 mt-1",children:[a.jsx("span",{children:"0%"}),a.jsx("span",{children:"50%"}),a.jsx("span",{children:"100%"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-400 mb-2",children:""}),a.jsx(Nc,{value:k.colorId||"blue",onChange:W=>M({...k,colorId:W})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:""}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("select",{value:k.linkedType||"",onChange:W=>M({...k,linkedType:W.target.value,linkedId:""}),className:"bg-slate-900/50 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:border-blue-500 outline-none",children:[a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"event",children:" "}),a.jsx("option",{value:"goal",children:" "})]}),a.jsxs("select",{value:k.linkedId||"",onChange:W=>M({...k,linkedId:W.target.value}),disabled:!k.linkedType,className:"bg-slate-900/50 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:border-blue-500 outline-none disabled:opacity-50",children:[a.jsx("option",{value:"",children:"..."}),k.linkedType==="event"&&(r==null?void 0:r.map(W=>a.jsxs("option",{value:W.id,children:[W.date?`${W.date} - `:"",W.title]},W.id))),k.linkedType==="goal"&&(e==null?void 0:e.map(W=>a.jsxs("option",{value:W.id,children:[W.date?`${W.date} - `:"",W.title]},W.id)))]})]})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsxs("button",{onClick:se,className:"px-4 py-2 bg-red-600/20 text-red-400 rounded-lg hover:bg-red-600/30 transition-colors text-sm",children:[a.jsx(bt,{name:"trash",size:16,className:"inline mr-1"}),""]}),a.jsx("div",{className:"flex-1"}),a.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 bg-slate-700 text-slate-300 rounded-lg hover:bg-slate-600 transition-colors text-sm",children:""}),a.jsx("button",{onClick:F,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-500 transition-colors text-sm",children:""})]})]})}),H&&a.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",onClick:()=>_(!1),children:a.jsxs("div",{className:"bg-slate-800 rounded-2xl p-6 w-full max-w-md border border-slate-700 shadow-xl",onClick:W=>W.stopPropagation(),children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-200 mb-4 flex items-center gap-2",children:[a.jsx(bt,{name:"plus",size:20,className:"text-emerald-400"}),""]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-400 mb-2",children:""}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>G("task"),className:`flex-1 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-1 ${E==="task"?"bg-blue-600 text-white":"bg-slate-700 text-slate-400 hover:bg-slate-600"}`,children:" "}),a.jsx("button",{onClick:()=>G("goal"),className:`flex-1 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-1 ${E==="goal"?"bg-purple-600 text-white":"bg-slate-700 text-slate-400 hover:bg-slate-600"}`,children:" "}),a.jsx("button",{onClick:()=>G("event"),className:`flex-1 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-1 ${E==="event"?"bg-emerald-600 text-white":"bg-slate-700 text-slate-400 hover:bg-slate-600"}`,children:" "})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:""}),a.jsx("input",{type:"text",value:ce.title,onChange:W=>he({...ce,title:W.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none",placeholder:E==="task"?"":E==="goal"?"":"",autoFocus:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:""}),a.jsx("input",{type:"date",value:P,onChange:W=>ee(W.target.value),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:border-blue-500 outline-none"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"roadmap-add-allday",checked:ce.allDay,onChange:W=>he({...ce,allDay:W.target.checked}),className:"w-4 h-4 rounded bg-slate-900 border-slate-700 text-blue-500 focus:ring-blue-500"}),a.jsx("label",{htmlFor:"roadmap-add-allday",className:"text-sm text-slate-300",children:""})]}),!ce.allDay&&a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:""}),a.jsx("input",{type:"time",value:ce.time,onChange:W=>{let He=ce.endTime;const Ve=W.target.value;if(Ve&&(!He||Ve>=He)){const[$e,Je]=Ve.split(":").map(Number);He=`${String(Math.min($e+1,23)).padStart(2,"0")}:${String(Je).padStart(2,"0")}`}he({...ce,time:Ve,endTime:He})},className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:border-blue-500 outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:""}),a.jsx("input",{type:"time",value:ce.endTime,onChange:W=>he({...ce,endTime:W.target.value}),className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:border-blue-500 outline-none"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-400 mb-2",children:""}),a.jsx(Nc,{value:ce.colorId,onChange:W=>he({...ce,colorId:W})})]}),E==="task"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:""}),a.jsxs("select",{value:ce.linkedType&&ce.linkedId?`${ce.linkedType}:${ce.linkedId}`:"",onChange:W=>{const He=W.target.value;if(!He)he({...ce,linkedType:"",linkedId:""});else{const[Ve,$e]=He.split(":");he({...ce,linkedType:Ve,linkedId:$e})}},className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:border-blue-500 outline-none",children:[a.jsx("option",{value:"",children:""}),r.length>0&&a.jsx("optgroup",{label:" ",children:r.map(W=>a.jsxs("option",{value:`event:${W.id}`,children:[W.title," (",W.date,")"]},`event-${W.id}`))}),e.length>0&&a.jsx("optgroup",{label:" ",children:e.map(W=>a.jsx("option",{value:`goal:${W.id}`,children:W.title},`goal-${W.id}`))})]})]}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsx("button",{onClick:()=>_(!1),className:"flex-1 px-4 py-2 bg-slate-700 text-slate-300 rounded-lg hover:bg-slate-600 transition-colors text-sm",children:""}),a.jsx("button",{onClick:async()=>{if(!ce.title.trim()||!P)return;const W={title:ce.title.trim(),date:P,colorId:ce.colorId,color:Un(ce.colorId).bg,allDay:ce.allDay,time:ce.allDay?"":ce.time,endTime:ce.allDay?"":ce.endTime};try{E==="task"&&i?await i({...W,progress:0,tag:"",linkedType:ce.linkedType||"",linkedId:ce.linkedId||""}):E==="goal"&&A?await A({...W,progress:0}):E==="event"&&o&&await o({...W}),_(!1),he({title:"",colorId:"blue",allDay:!0,time:"09:00",endTime:"10:00",linkedType:"",linkedId:""})}catch(He){console.error("Failed to add item:",He)}},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-500 transition-colors text-sm",children:""})]})]})]})})]})}function xL(){const[t,e]=q.useState(!1),[r,n]=q.useState(!1),[s,i]=q.useState(null),[A,o]=q.useState([]),[l,c]=q.useState({}),[d,p]=q.useState(!1),[g,h]=q.useState([]),[b,v]=q.useState(!0),S="http://localhost:5600/api",x=["#3b82f6","#8b5cf6","#10b981","#f97316","#06b6d4","#ec4899","#f59e0b","#84cc16","#14b8a6","#6366f1","#ef4444","#22c55e","#a855f7","#0ea5e9","#f43f5e"],y=P=>x[P%x.length],B=async()=>{try{if((await fetch(`${S}/0/info`,{signal:AbortSignal.timeout(3e3)})).ok){e(!0),i(null);const ee=await j();return ee&&ee.length>0&&await O(ee),!0}}catch{e(!1),i("ActivityWatchCORSActivityWatch")}return!1},j=async()=>{try{const P=await fetch(`${S}/0/buckets`);if(P.ok){const ee=await P.json(),ce=Object.keys(ee);return h(ce),ce}}catch(P){console.error("Failed to fetch buckets:",P)}return[]},O=async P=>{n(!0),i(null);try{const ee=new Date;ee.setHours(0,0,0,0);const ce=ee.toISOString(),he=P.find(fe=>fe.startsWith("aw-watcher-window")||fe.includes("window")),ie=P.find(fe=>fe.startsWith("aw-watcher-web")||fe.includes("chrome")||fe.includes("firefox"));if(console.log("Fetching from buckets:",{windowBucket:he,webBucket:ie}),!he&&!ie){i(`: ${P.join(", ")}`),n(!1);return}let de=[];if(he)try{const fe=await fetch(`${S}/0/buckets/${he}/events?start=${ce}&limit=500`);if(fe.ok){const ve=await fe.json();console.log("Window events:",ve.length),de=[...de,...ve]}}catch(fe){console.error("Window bucket fetch failed:",fe)}if(ie)try{const fe=await fetch(`${S}/0/buckets/${ie}/events?start=${ce}&limit=500`);if(fe.ok){const ve=await fe.json();console.log("Web events:",ve.length);const I=ve.map(R=>{var te,Y,le;return{...R,data:{app:(te=R.data)!=null&&te.url?new URL(R.data.url).hostname:"Browser",title:((Y=R.data)==null?void 0:Y.title)||((le=R.data)==null?void 0:le.url)||""}}});de=[...de,...I]}}catch(fe){console.error("Web bucket fetch failed:",fe)}if(console.log("Total events:",de.length),de.length>0){const fe=M(de);console.log("Processed events:",fe.length),o(fe),K(fe)}else o([]),setTodayStats({})}catch(ee){console.error("Failed to fetch events:",ee),i(`: ${ee.message}`)}n(!1)},k=async()=>{!t||g.length===0||await O(g)},M=P=>{const ee={};return P.forEach(ce=>{var I,R;const he=((I=ce.data)==null?void 0:I.app)||"Unknown",ie=((R=ce.data)==null?void 0:R.title)||"",de=ce.duration||0,fe=new Date(ce.timestamp),ve=`${he}_${fe.getHours()}`;ee[ve]||(ee[ve]={id:ve,app:he,title:ie.substring(0,100),duration:0,startTime:fe,endTime:fe,events:[]}),ee[ve].duration+=de,ee[ve].events.push({title:ie,duration:de,timestamp:fe}),fe<ee[ve].startTime&&(ee[ve].startTime=fe),fe>ee[ve].endTime&&(ee[ve].endTime=fe)}),Object.values(ee).filter(ce=>ce.duration>60).sort((ce,he)=>he.startTime-ce.startTime)},K=P=>{const ee={};P.forEach(ce=>{const he=ce.app;ee[he]||(ee[he]=0),ee[he]+=ce.duration}),c(ee)};q.useEffect(()=>{B()},[]),q.useEffect(()=>{if(!t||!b)return;k();const P=setInterval(k,3e4);return()=>clearInterval(P)},[t,g,b]);const N=P=>{const ee=Math.floor(P/3600),ce=Math.floor(P%3600/60);return ee>0?`${ee}${ce}`:`${ce}`},H=P=>{const ee=P.toLowerCase();return ee.includes("chrome")||ee.includes("firefox")||ee.includes("safari")||ee.includes("edge")?"":ee.includes("code")||ee.includes("studio")||ee.includes("vim")||ee.includes("sublime")?"":ee.includes("slack")||ee.includes("discord")||ee.includes("teams")?"":ee.includes("zoom")||ee.includes("meet")?"":ee.includes("mail")||ee.includes("outlook")||ee.includes("thunderbird")?"":ee.includes("finder")||ee.includes("explorer")?"":ee.includes("terminal")||ee.includes("iterm")||ee.includes("cmd")?"":ee.includes("figma")||ee.includes("sketch")||ee.includes("photoshop")?"":ee.includes("notion")||ee.includes("obsidian")||ee.includes("evernote")?"":ee.includes("spotify")||ee.includes("music")?"":ee.includes("twitter")||ee.includes("x.com")?"":ee.includes("youtube")?"":""},_=Object.values(l).reduce((P,ee)=>P+ee,0),E=Object.entries(l).sort((P,ee)=>ee[1]-P[1]),G=E.slice(0,10);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-slate-800/40 rounded-xl border border-slate-700/50 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${t?"bg-emerald-500":"bg-red-500"}`}),a.jsxs("h3",{className:"text-lg font-bold text-slate-200",children:["ActivityWatch ",t?"":""]}),r&&a.jsx("span",{className:"text-xs text-slate-500",children:"..."})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-400",children:[a.jsx("input",{type:"checkbox",checked:b,onChange:P=>v(P.target.checked),className:"rounded border-slate-600 bg-slate-900 text-blue-500"}),""]}),a.jsx("button",{onClick:k,disabled:!t||r,className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 disabled:bg-slate-700 text-white rounded-lg text-sm transition-colors",children:""}),a.jsx("button",{onClick:()=>p(!d),className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg text-sm transition-colors",children:""})]})]}),s&&a.jsx("div",{className:"bg-red-900/30 border border-red-700/50 rounded-lg p-4 mb-4",children:a.jsx("p",{className:"text-red-400 text-sm",children:s})}),d&&a.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 mb-4",children:[a.jsx("h4",{className:"font-medium text-slate-200 mb-3",children:" ActivityWatch"}),a.jsxs("ol",{className:"space-y-2 text-sm text-slate-400",children:[a.jsxs("li",{children:["1. ",a.jsx("a",{href:"https://activitywatch.net/downloads/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:underline",children:"ActivityWatch"}),""]}),a.jsx("li",{children:"2. "}),a.jsx("li",{children:"3. "}),a.jsx("li",{children:"4. "})]}),a.jsxs("div",{className:"mt-4 flex gap-2",children:[a.jsx("a",{href:"https://activitywatch.net/downloads/",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg text-sm inline-block",children:""}),a.jsx("button",{onClick:B,className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg text-sm",children:""})]}),g.length>0&&a.jsxs("div",{className:"mt-4 p-3 bg-slate-800 rounded-lg",children:[a.jsx("div",{className:"text-xs text-slate-500 mb-2",children:":"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(P=>a.jsx("span",{className:"text-xs bg-slate-700 px-2 py-1 rounded",children:P},P))})]})]}),t&&a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 text-center",children:[a.jsx("div",{className:"text-xs text-slate-500 mb-1",children:""}),a.jsx("div",{className:"text-xl font-bold text-blue-400",children:A.length}),a.jsx("div",{className:"text-xs text-slate-500",children:""})]}),a.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 text-center",children:[a.jsx("div",{className:"text-xs text-slate-500 mb-1",children:""}),a.jsx("div",{className:"text-xl font-bold text-emerald-400",children:N(_)})]}),a.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 text-center",children:[a.jsx("div",{className:"text-xs text-slate-500 mb-1",children:""}),a.jsx("div",{className:"text-xl font-bold text-purple-400",children:Object.keys(l).length})]})]})]}),t&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-slate-800/40 rounded-xl border border-slate-700/50 p-6",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-400 mb-4",children:""}),G.length>0?a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"relative w-40 h-40 flex-shrink-0",children:[a.jsx("svg",{viewBox:"0 0 36 36",className:"w-full h-full transform -rotate-90",children:(()=>{let P=0;return G.map(([ee,ce],he)=>{const ie=ce/_*100,de=`${ie} ${100-ie}`,fe=a.jsx("circle",{cx:"18",cy:"18",r:"15.915",fill:"transparent",stroke:y(he),strokeWidth:"3.5",strokeDasharray:de,strokeDashoffset:-P,className:"transition-all duration-300"},ee);return P+=ie,fe})})()}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-slate-200",children:N(_)}),a.jsx("div",{className:"text-xs text-slate-500",children:""})]})})]}),a.jsx("div",{className:"flex-1 space-y-1 max-h-40 overflow-y-auto",children:G.map(([P,ee],ce)=>{const he=_>0?Math.round(ee/_*100):0;return a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:y(ce)}}),a.jsxs("span",{className:"text-slate-300 flex-1 truncate",children:[H(P)," ",P]}),a.jsxs("span",{className:"text-slate-500 text-xs",children:[he,"%"]})]},P)})})]}):a.jsx("div",{className:"text-center text-slate-500 py-8",children:""})]}),a.jsxs("div",{className:"bg-slate-800/40 rounded-xl border border-slate-700/50 p-6",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-400 mb-4",children:"TOP 10"}),a.jsxs("div",{className:"space-y-3",children:[G.map(([P,ee],ce)=>{var de;const he=((de=G[0])==null?void 0:de[1])||1,ie=ee/he*100;return a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("span",{className:"text-slate-300 truncate flex items-center gap-2",children:[H(P)," ",P]}),a.jsx("span",{className:"text-slate-400 flex-shrink-0 ml-2",children:N(ee)})]}),a.jsx("div",{className:"h-2 bg-slate-700/50 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full transition-all duration-300",style:{width:`${ie}%`,backgroundColor:y(ce)}})})]},P)}),G.length===0&&a.jsx("div",{className:"text-center text-slate-500 py-8",children:""})]})]})]}),a.jsxs("div",{className:"bg-slate-800/40 rounded-xl border border-slate-700/50 p-6",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-400 mb-4",children:""}),a.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[A.map((P,ee)=>{const ce=E.findIndex(([he])=>he===P.app);return a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-900/50 rounded-lg",children:[a.jsx("div",{className:"w-1 h-10 rounded-full flex-shrink-0",style:{backgroundColor:y(ce>=0?ce:ee)}}),a.jsx("span",{className:"text-xl flex-shrink-0",children:H(P.app)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-sm font-medium text-slate-200 truncate",children:P.app}),a.jsx("div",{className:"text-xs text-slate-500 truncate",children:P.title||"()"})]}),a.jsxs("div",{className:"text-right flex-shrink-0",children:[a.jsx("div",{className:"text-sm text-slate-300",children:N(P.duration)}),a.jsx("div",{className:"text-xs text-slate-500",children:P.startTime.toLocaleTimeString("ja-JP",{hour:"2-digit",minute:"2-digit"})})]})]},P.id)}),A.length===0&&a.jsx("div",{className:"text-center text-slate-500 py-8",children:""})]})]})]})]})}function wL({tasks:t,goals:e,transactions:r}){const n=q.useMemo(()=>{const A=["","","","","","",""],o=new Date;return Array.from({length:7}).map((l,c)=>{const d=new Date(o);d.setDate(d.getDate()-(6-c));const p=d.toISOString().split("T")[0],g=t.filter(b=>b.date===p&&b.progress===100).length,h=t.filter(b=>b.date===p).length;return{day:A[d.getDay()],date:p,completed:g,total:h,percentage:h>0?Math.round(g/h*100):0}})},[t]),s=q.useMemo(()=>{const A=t.filter(p=>p.progress===100).length,o=t.length,l=o>0?Math.round(A/o*100):0,c=r.filter(p=>p.type==="income").reduce((p,g)=>p+g.amount,0),d=r.filter(p=>p.type==="expense").reduce((p,g)=>p+g.amount,0);return{completedTasks:A,totalTasks:o,completionRate:l,activeGoals:e.length,totalIncome:c,totalExpense:d,netSavings:c-d}},[t,e,r]),i=q.useMemo(()=>{const A=new Date;return Array.from({length:30}).map((o,l)=>{const c=new Date(A);c.setDate(c.getDate()-(29-l));const d=c.toISOString().split("T")[0],g=t.filter(h=>h.date===d).filter(h=>h.progress===100).length;return{date:d,level:g===0?0:g<2?1:g<4?2:3}})},[t]);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-slate-800/40 rounded-xl border border-slate-700/50 p-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center",children:a.jsx(bt,{name:"check",size:20,className:"text-blue-400"})}),a.jsx("div",{className:"text-sm text-slate-400",children:""})]}),a.jsxs("div",{className:"text-2xl font-bold text-slate-200",children:[s.completedTasks," ",a.jsxs("span",{className:"text-sm text-slate-500",children:["/ ",s.totalTasks]})]})]}),a.jsxs("div",{className:"bg-slate-800/40 rounded-xl border border-slate-700/50 p-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-500/20 flex items-center justify-center",children:a.jsx(bt,{name:"trendingUp",size:20,className:"text-emerald-400"})}),a.jsx("div",{className:"text-sm text-slate-400",children:""})]}),a.jsxs("div",{className:"text-2xl font-bold text-emerald-400",children:[s.completionRate,"%"]})]}),a.jsxs("div",{className:"bg-slate-800/40 rounded-xl border border-slate-700/50 p-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center",children:a.jsx(bt,{name:"target",size:20,className:"text-purple-400"})}),a.jsx("div",{className:"text-sm text-slate-400",children:""})]}),a.jsx("div",{className:"text-2xl font-bold text-purple-400",children:s.activeGoals})]}),a.jsxs("div",{className:"bg-slate-800/40 rounded-xl border border-slate-700/50 p-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-yellow-500/20 flex items-center justify-center",children:a.jsx(bt,{name:"wallet",size:20,className:"text-yellow-400"})}),a.jsx("div",{className:"text-sm text-slate-400",children:""})]}),a.jsxs("div",{className:`text-2xl font-bold ${s.netSavings>=0?"text-emerald-400":"text-red-400"}`,children:["",s.netSavings.toLocaleString()]})]})]}),a.jsxs("div",{className:"bg-slate-800/40 rounded-xl border border-slate-700/50 p-6",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-400 mb-4",children:""}),a.jsx("div",{className:"flex items-end justify-between gap-2 h-40",children:n.map((A,o)=>a.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2",children:[a.jsx("div",{className:"w-full bg-slate-700/50 rounded-lg overflow-hidden h-32 flex flex-col justify-end",children:a.jsx("div",{className:"bg-gradient-to-t from-blue-600 to-blue-400 transition-all",style:{height:`${Math.max(A.percentage,5)}%`}})}),a.jsx("div",{className:"text-xs text-slate-500",children:A.day}),a.jsxs("div",{className:"text-xs text-slate-400",children:[A.completed,"/",A.total]})]},o))})]}),a.jsxs("div",{className:"bg-slate-800/40 rounded-xl border border-slate-700/50 p-6",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-400 mb-4",children:"30"}),a.jsx("div",{className:"flex gap-1 flex-wrap",children:i.map((A,o)=>a.jsx("div",{title:`${A.date}: Level ${A.level}`,className:`w-4 h-4 rounded-sm ${A.level===0?"bg-slate-700":A.level===1?"bg-emerald-900":A.level===2?"bg-emerald-700":"bg-emerald-500"}`},o))}),a.jsxs("div",{className:"flex items-center gap-2 mt-4 text-xs text-slate-500",children:[a.jsx("span",{children:""}),a.jsx("div",{className:"w-3 h-3 rounded-sm bg-slate-700"}),a.jsx("div",{className:"w-3 h-3 rounded-sm bg-emerald-900"}),a.jsx("div",{className:"w-3 h-3 rounded-sm bg-emerald-700"}),a.jsx("div",{className:"w-3 h-3 rounded-sm bg-emerald-500"}),a.jsx("span",{children:""})]})]})]})}function vL({tasks:t,goals:e,transactions:r,events:n,addTask:s,addEvent:i,addGoal:A,updateTask:o,deleteTask:l,diaryEntries:c,addDiaryEntry:d,settings:p}){const g=new Date().toISOString().split("T")[0],[h,b]=q.useState(g),[v,S]=q.useState([]),[x,y]=q.useState([]),[B,j]=q.useState(!1),[O,k]=q.useState(!1),[M,K]=q.useState(!1),[N,H]=q.useState(""),[_,E]=q.useState(""),[G,P]=q.useState(!1),[ee,ce]=q.useState(!0),[he,ie]=q.useState(!1),[de,fe]=q.useState(()=>window.localStorage.getItem("lifedash_voiceEnabled")==="true"),[ve,I]=q.useState(!1),[R,te]=q.useState([]),[Y,le]=q.useState([]),pe=q.useRef(null),Fe=q.useRef(null),be=q.useRef(null),Oe=q.useMemo(()=>(c||[]).filter(Be=>Be.content&&Be.content.includes("")).sort((Be,Ce)=>new Date(Ce.date)-new Date(Be.date)),[c]);q.useEffect(()=>{window.localStorage.setItem("lifedash_voiceEnabled",de.toString())},[de]);const Ye=localStorage.getItem("ai_api_key")||"",ht=q.useRef(null),ue=async Be=>{if(!de)return;qe();const Ce=Be.replace(/<<<ACTION>>>[\s\S]*?<<<END_ACTION>>>/g,"").trim();if(!Ce)return;const Z=Ce.length>5e3?Ce.substring(0,5e3):Ce;I(!0);try{const we=await fetch(`https://texttospeech.googleapis.com/v1/text:synthesize?key=${Ye}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:{text:Z},voice:{languageCode:"ja-JP",name:"ja-JP-Wavenet-C"},audioConfig:{audioEncoding:"MP3",speakingRate:1.1,pitch:-2}})});if(!we.ok)throw new Error("TTS API error");const Xe=(await we.json()).audioContent,Ge=new Blob([Uint8Array.from(atob(Xe),Qe=>Qe.charCodeAt(0))],{type:"audio/mp3"}),ge=URL.createObjectURL(Ge);ht.current&&(ht.current.src=ge,ht.current.onended=()=>{I(!1),URL.revokeObjectURL(ge)},ht.current.onerror=()=>{I(!1),URL.revokeObjectURL(ge)},await ht.current.play())}catch(we){console.error("TTS error:",we),I(!1)}},qe=()=>{ht.current&&(ht.current.pause(),ht.current.currentTime=0),I(!1)},F=Be=>new Promise((Ce,Z)=>{const we=new FileReader;we.onload=()=>{const _e=we.result.split(",")[1];Ce(_e)},we.onerror=Z,we.readAsDataURL(Be)}),se=Be=>{const Ce=Array.from(Be.target.files||[]);if(Ce.length===0)return;const Z=10,we=R.length,_e=Z-we;if(_e<=0){alert("10");return}const Xe=Ce.slice(0,_e),Ge=[],ge=[];let Qe=0;Xe.forEach(ft=>{if(ft.size>10*1024*1024){alert(`${ft.name}10MB`),Qe++,Qe===Xe.length&&Ge.length>0&&(te(vt=>[...vt,...Ge]),le(vt=>[...vt,...ge]));return}const at=new FileReader;at.onload=vt=>{Ge.push(ft),ge.push(vt.target.result),Qe++,Qe===Xe.length&&(te(pt=>[...pt,...Ge]),le(pt=>[...pt,...ge]))},at.readAsDataURL(ft)}),be.current&&(be.current.value="")},Ke=Be=>{te(Ce=>Ce.filter((Z,we)=>we!==Be)),le(Ce=>Ce.filter((Z,we)=>we!==Be))},J=()=>{te([]),le([]),be.current&&(be.current.value="")},ne={role:"assistant",content:`

`},Ne=Be=>{const Ce=new Date(Be),Z=["","","","","","",""];return`${Ce.getMonth()+1}/${Ce.getDate()}${Z[Ce.getDay()]}`};q.useEffect(()=>{(async()=>{ce(!0);try{const Ce=JSON.parse(window.localStorage.getItem("lifedash_chatMessages")||"{}"),Z=Ce[h]||[];Z.length>0?S(Z):S(h===g?[ne]:[]);const we=Object.keys(Ce).filter(_e=>Ce[_e].length>0).sort((_e,Xe)=>Xe.localeCompare(_e));y(we)}catch(Ce){console.error("Error loading messages:",Ce),S(h===g?[ne]:[])}finally{ce(!1)}})()},[h]);const W=Be=>{try{const Ce=Be.filter(_e=>_e.content&&_e.content.trim()),Z=JSON.parse(window.localStorage.getItem("lifedash_chatMessages")||"{}");Z[h]=Ce,window.localStorage.setItem("lifedash_chatMessages",JSON.stringify(Z));const we=Object.keys(Z).filter(_e=>Z[_e].length>0).sort((_e,Xe)=>Xe.localeCompare(_e));y(we)}catch(Ce){console.error("Error saving messages:",Ce)}},He=async(Be=null,Ce=!1)=>{var vt,pt,xt,Bt,Kt,Et;const Z=localStorage.getItem("ai_api_key")||"";if(!Z)return console.error("API"),{error:"API"};let we=Be;if(!we){const At=new Date;At.setDate(At.getDate()-1),we=At.toISOString().split("T")[0]}if((c||[]).find(At=>At.date===we&&At.content&&At.content.includes(""))&&!Ce)return console.log(`${we}`),{exists:!0,date:we};const Ge=JSON.parse(window.localStorage.getItem("lifedash_chatMessages")||"{}")[we]||[],ge=t.filter(At=>At.date===we),Qe=ge.filter(At=>At.progress===100),ft=(n==null?void 0:n.filter(At=>At.date===we))||[],at=`


- : 
- 
- : 

${we}
- : ${ge.length}: ${Qe.length}
${ge.map(At=>`  - ${At.title}: ${At.progress===100?"":`${At.progress||0}%`}`).join(`
`)||"  - "}

- :
${ft.map(At=>`  - ${At.title}`).join(`
`)||"  - "}


${Ge.slice(-10).map(At=>{var Br;return`${At.role==="assistant"?"":""}: ${((Br=At.content)==null?void 0:Br.substring(0,200))||""}`}).join(`
`)||""}


- 
- 
- 
- 200400
- 
- `;try{ie(!0);const At=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${Z}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:at}]}],generationConfig:{temperature:.9,maxOutputTokens:1024}})}),Br=await At.json();if(!At.ok)throw new Error(((vt=Br.error)==null?void 0:vt.message)||"API Error");const L=((Et=(Kt=(Bt=(xt=(pt=Br.candidates)==null?void 0:pt[0])==null?void 0:xt.content)==null?void 0:Bt.parts)==null?void 0:Kt[0])==null?void 0:Et.text)||"";if(L&&d)return await d({date:we,content:L,isFavorite:!1}),console.log(":",we),{success:!0,date:we}}catch(At){return console.error(":",At),{error:At.message}}finally{ie(!1)}};q.useEffect(()=>{const Be=()=>{const Z=new Date,we=Z.getHours(),_e=Z.getMinutes();if(we===0&&_e<=5){const Xe=window.localStorage.getItem("lifedash_lastDiaryCheck"),Ge=Z.toISOString().split("T")[0];Xe!==Ge&&(window.localStorage.setItem("lifedash_lastDiaryCheck",Ge),He())}};Be();const Ce=setInterval(Be,6e4);return()=>clearInterval(Ce)},[t,n,c,d]),q.useEffect(()=>{var Be;(Be=pe.current)==null||Be.scrollIntoView({behavior:"smooth"})},[v]);const Ve=()=>{const Be=new Date,Ce=Be.toISOString().split("T")[0],Z=(L,Ue)=>{const st=new Date(L);return st.setDate(st.getDate()+Ue),st.toISOString().split("T")[0]},we=Z(Ce,1);Z(Ce,2);const _e=Z(Ce,7),Xe=L=>["","","","","","",""][new Date(L).getDay()],Ge=t.filter(L=>L.date===Ce),ge=t.filter(L=>L.date===we),Qe=t.filter(L=>L.date>Ce&&L.date<=_e).sort((L,Ue)=>L.date.localeCompare(Ue.date)),ft=t.filter(L=>L.progress<100&&L.date>=Ce).sort((L,Ue)=>L.date.localeCompare(Ue.date)),at=t.filter(L=>L.progress<100&&L.date<Ce),vt=t.filter(L=>L.progress===100),pt=(n==null?void 0:n.filter(L=>L.date===Ce))||[],xt=(n==null?void 0:n.filter(L=>L.date===we))||[],Bt=(n==null?void 0:n.filter(L=>L.date>Ce&&L.date<=_e).sort((L,Ue)=>L.date.localeCompare(Ue.date)))||[];n!=null&&n.filter(L=>L.date>=Ce).sort((L,Ue)=>L.date.localeCompare(Ue.date)),e.filter(L=>(L.progress||0)<100),e.filter(L=>L.progress===100);const Kt=r.filter(L=>L.type==="income").reduce((L,Ue)=>L+(Ue.amount||0),0),Et=r.filter(L=>L.type==="expense").reduce((L,Ue)=>L+(Ue.amount||0),0),At=L=>`- ${L.date}${Xe(L.date)}${L.time?` ${L.time}`:""}: ${L.title}${L.tag?` [${L.tag}]`:""} (: ${L.progress||0}%)`,Br=L=>`- ${L.date}${Xe(L.date)}${L.time?` ${L.time}${L.endTime?`${L.endTime}`:""}`:""}: ${L.title}`;return`
${Be.toLocaleString("ja-JP")}${Xe(Ce)}

===  ===

${Ce}${Xe(Ce)}${Ge.length}
${Ge.map(At).join(`
`)||"- "}

${pt.length}
${pt.map(Br).join(`
`)||"- "}

${we}${Xe(we)}${ge.length}
${ge.map(At).join(`
`)||"- "}

${xt.length}
${xt.map(Br).join(`
`)||"- "}

1${Qe.length}
${Qe.slice(0,15).map(At).join(`
`)||"- "}

1${Bt.length}
${Bt.slice(0,15).map(Br).join(`
`)||"- "}

${at.length}
${at.map(At).join(`
`)||"- "}

===  ===


- : ${t.length}
- : ${vt.length}
- : ${ft.length}
- : ${at.length}

${e.length}
${e.map(L=>`- ${L.title} (: ${L.progress||0}%)${L.date?` : ${L.date}`:""}`).join(`
`)||"- "}


- : ${Kt.toLocaleString()}
- : ${Et.toLocaleString()}
- : ${(Kt-Et).toLocaleString()}
`},$e=async(Be,Ce,Z=[])=>{var Qe,ft,at,vt,pt,xt,Bt,Kt,Et,At;const we=localStorage.getItem("ai_api_key")||"",_e=localStorage.getItem("ai_provider")||"gemini";if(!we)return{response:`API

Gemini API

Google AI Studio: https://aistudio.google.com/apikey`,action:null};const Xe=(p==null?void 0:p.username)||"",Ge=`${Xe}

  


- IQ180
- 10
- 5
- 
- 

  

 
1. 
2. 
3. ${Xe}
4. 
5. 
6. 
7. 

 
- 
- 
- 
- 

 
- 
- 
- 
- 
- 

  

 
1. 
2. ${Xe}
3. ${Xe}
4. 
5. 

 
- 
- 
- 
- 
- 

 ${Xe}
- 
- 
- 


- 
- ${Xe}
- 
- 

 4 

4
${Xe}

 1: Dr. 
- 
- 
- 
- 
- 
- 

 2: ICF-MCC
- 
- 
- 
- 5
- 
- 
- ${Xe}

 3: 
- 
- 
- 
- 
- 
- 

 4: 23
- 
- 184123
- 
- 
- 

5


- 
- 
- 
- 
- 


- 
- 
- 
- 
- 
- 


- 
- 
- 
- 
- 


- 
  - /
  - 
  - 
  - 1
- 
  - 
  - 
  - 
- 
  - 
  - 
  - 
  - 
- 


- 
- 
- 
- 
- 
- 


- 
- 
- 
- 

- 23

 5: 
- 
- 
- 
- 
- 


- 
- 
- 
- 
- 
- 
- 

 6: 
- 
- 4
- 

FP
- 
- 6
- 
- 
- NG
- iDeCoNISA
- 

 7: 
- 40
- 
- 
- 


- 
- 
- 9
- 
- 
- 
- 
- 
- 

 8: 
- 
- 
- 


- 2166
- 
- 2
- 
- 
- 
- 
- ${Xe}

 9: DaiGo
- 
- 
- 

DaiGo
- 
- 
- 7-8NG
- 2-3HIIT
- 
- if-then
- 
- MACMeasurable, Actionable, Competent
- 


- ${Xe}  
- ${Xe}    
- ${Xe}  
- ${Xe}  
- ${Xe}  
- ${Xe}  FP
- ${Xe}  
- ${Xe}  
- ${Xe}  DaiGo
-   

  



1. 
   - 
   - 
   - 

2. 
   - 55 Whys
   - 
   - 

3. 
   - 
   - 11
   - 
   - 

4. 
   - ${Xe}
   - 
   - 


 NG
 OK
 NG
 OK

${Xe}5

1. 
   - 
   - 
   - 

2. 
   - 
   - 
   - 
   - 

3. 
   - 
   - 
   - 
   - AI

4. 
   - 
   - 
   - 
   - ${Xe}

5. 
   - 
   - 
   - 
   - ""


- 
- 
- 
- 

${Ve()}

 - 
  

     
1. 
2. ${Xe}
3. 

 OK
-  ${Xe} OK
-  ${Xe} OK
- ${Xe} OK

 
-  
-  
-  
-   

 




JSON
1. : <<<ACTION>>>{"type":"addTask","title":"","date":"YYYY-MM-DD"}<<<END_ACTION>>>
2. : <<<ACTION>>>{"type":"addEvent","title":"","date":"YYYY-MM-DD","time":"HH:MM"}<<<END_ACTION>>>
3. : <<<ACTION>>>{"type":"addGoal","title":""}<<<END_ACTION>>>


  

 
- ${Xe}
- 
- 
- 

 
- 
- 
- 

 
- 
- 

 - 

 
- 1-2
- 

 
  
- 
- NG
- 
- 

 
1. 
2. 
3. 
4. 
5. ${Xe}

 NG
- 
- 
- 
- 

 


""""1



...""""


- NG
- 
- JSON

 - 
  
- 1
- 
- 
- 
- `,ge=[...Ce.slice(-10).map(Br=>({role:Br.role==="assistant"?"assistant":"user",content:Br.content})),{role:"user",content:Be}];try{let Br="";if(_e==="gemini"){const st=[{text:`${Ge}

:
${ge.map(_t=>`${_t.role}: ${_t.content}`).join(`
`)}`}],Me=Array.isArray(Z)?Z:Z?[Z]:[];Me.length>0&&(Me.forEach(_t=>{st.push({inlineData:{mimeType:"image/jpeg",data:_t}})}),st[0].text+=`

[${Me.length}]`);const Rt=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${we}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:st}],generationConfig:{temperature:.7,maxOutputTokens:8192}})}),fr=await Rt.json();if(!Rt.ok)throw new Error(((Qe=fr.error)==null?void 0:Qe.message)||"Gemini API ");Br=((xt=(pt=(vt=(at=(ft=fr.candidates)==null?void 0:ft[0])==null?void 0:at.content)==null?void 0:vt.parts)==null?void 0:pt[0])==null?void 0:xt.text)||""}else{const st=await fetch("https://api.groq.com/openai/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${we}`},body:JSON.stringify({model:"llama-3.3-70b-versatile",messages:[{role:"system",content:Ge},...ge],max_tokens:1e3,temperature:.7})}),Me=await st.json();if(!st.ok)throw new Error(((Bt=Me.error)==null?void 0:Bt.message)||"API ");Br=((At=(Et=(Kt=Me.choices)==null?void 0:Kt[0])==null?void 0:Et.message)==null?void 0:At.content)||""}let L=null;const Ue=Br.match(/<<<ACTION>>>([\s\S]*?)<<<END_ACTION>>>/);if(Ue)try{L=JSON.parse(Ue[1].trim())}catch(st){console.error("Action parse error:",st)}return Br=Br.replace(/<<<ACTION>>>[\s\S]*?<<<END_ACTION>>>/g,"").replace(/<<<ACTION>>>[\s\S]*/g,"").trim(),{response:Br,action:L}}catch(Br){return console.error("AI API error:",Br),{response:`: ${Br.message}`,action:null}}},Je=async Be=>{if(!Be)return null;try{switch(Be.type){case"addTask":return await s({title:Be.title,date:Be.date||new Date().toISOString().split("T")[0],tag:Be.tag||"",progress:0,colorId:Be.colorId||"blue"}),` ${Be.title}`;case"addEvent":return await i({title:Be.title,date:Be.date||new Date().toISOString().split("T")[0],time:Be.time||"",type:"event",colorId:"emerald"}),` ${Be.title}`;case"addGoal":return await A({title:Be.title,progress:0,colorId:"purple"}),` ${Be.title}`;default:return null}}catch(Ce){return console.error("Action execution error:",Ce),` : ${Ce.message}`}},ct=async()=>{if(!_.trim()&&R.length===0||G)return;const Be=_.trim()||"()";let Ce=[];R.length>0&&(Ce=await Promise.all(R.map(_e=>F(_e))));const Z={role:"user",content:Be,images:Y.length>0?Y:null,createdAt:new Date().toISOString()},we=[...v,Z];S(we),E(""),J(),P(!0);try{const{response:_e,action:Xe}=await $e(Be,v,Ce),Ge=await Je(Xe);let ge=_e||"";Ge&&(ge=ge?`${ge}

${Ge}`:Ge),(!ge||!ge.trim())&&(ge="");const Qe={role:"assistant",content:ge,createdAt:new Date().toISOString()},ft=[...we,Qe];S(ft),ue(ge),W(ft)}catch(_e){const Xe={role:"assistant",content:`: ${_e.message}`,createdAt:new Date().toISOString()},Ge=[...we,Xe];S(Ge),W(Ge)}finally{P(!1),setTimeout(()=>{var _e;return(_e=Fe.current)==null?void 0:_e.focus()},100)}};return a.jsxs("div",{className:"flex flex-col h-[calc(100vh-200px)] md:h-[calc(100vh-140px)]",children:[a.jsx("audio",{ref:ht,className:"hidden"}),a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-1 mb-2",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>{const Be=new Date(h);Be.setDate(Be.getDate()-1),b(Be.toISOString().split("T")[0])},className:"p-1 text-slate-400 hover:text-slate-200 hover:bg-slate-700 rounded transition-colors",children:""}),a.jsx("span",{className:"text-slate-200 font-medium text-sm min-w-[60px] text-center",children:h===g?"":Ne(h)}),a.jsx("button",{onClick:()=>{const Be=new Date(h);Be.setDate(Be.getDate()+1);const Ce=Be.toISOString().split("T")[0];Ce<=g&&b(Ce)},disabled:h===g,className:"p-1 text-slate-400 hover:text-slate-200 hover:bg-slate-700 rounded transition-colors disabled:opacity-30",children:""}),h!==g&&a.jsx("button",{onClick:()=>b(g),className:"ml-1 px-1.5 py-0.5 text-xs bg-blue-600 text-white rounded hover:bg-blue-500",children:""})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>j(!B),className:`px-2 py-1 rounded-lg text-xs transition-colors ${B?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:" "}),a.jsxs("button",{onClick:()=>k(!O),className:`px-2 py-1 rounded-lg text-xs transition-colors ${O?"bg-purple-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[" ",Oe.length>0&&` (${Oe.length})`]}),a.jsxs("button",{onClick:()=>{ve?qe():fe(!de)},className:`px-2 py-1 rounded-lg text-xs transition-colors ${ve?"bg-red-600 text-white animate-pulse":de?"bg-green-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,title:ve?"":de?"ON":"OFF",children:[ve?"":de?"":"","",de?"ON":"OFF"]})]})]}),O&&a.jsxs("div",{className:"mb-3 bg-slate-800/50 rounded-xl p-4 border border-purple-700/50 max-h-80 overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("h4",{className:"text-sm font-bold text-purple-300 flex items-center gap-2",children:[" ",he&&a.jsx("span",{className:"text-xs text-purple-400 animate-pulse",children:"..."})]}),a.jsx("button",{onClick:()=>{const Be=new Date;Be.setDate(Be.getDate()-1),H(Be.toISOString().split("T")[0]),K(!0)},disabled:he,className:"px-2 py-1 text-xs bg-purple-600 hover:bg-purple-500 disabled:bg-purple-800 text-white rounded transition-colors",children:he?"...":" "})]}),Oe.length>0?a.jsx("div",{className:"space-y-3",children:Oe.map((Be,Ce)=>{var Z;return a.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-3 border border-slate-700/50",children:[a.jsx("div",{className:"text-xs text-purple-400 mb-2",children:Ne(Be.date)}),a.jsx("div",{className:"text-sm text-slate-300 whitespace-pre-wrap leading-relaxed",children:(Z=Be.content)==null?void 0:Z.replace("","").trim()})]},Be.id||Ce)})}):a.jsxs("p",{className:"text-sm text-slate-500 text-center py-4",children:["",a.jsx("br",{}),a.jsx("span",{className:"text-xs",children:"24"})]})]}),M&&a.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50",onClick:()=>K(!1),children:a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 w-full max-w-sm border border-purple-700/50 shadow-xl",onClick:Be=>Be.stopPropagation(),children:[a.jsx("h3",{className:"text-lg font-bold text-purple-300 mb-4 flex items-center gap-2",children:" "}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-slate-400 mb-1",children:""}),a.jsx("input",{type:"date",value:N,onChange:Be=>H(Be.target.value),max:new Date().toISOString().split("T")[0],className:"w-full bg-slate-900/50 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:border-purple-500 outline-none"})]}),N&&Oe.find(Be=>Be.date===N)&&a.jsx("div",{className:"bg-yellow-900/30 border border-yellow-600/50 rounded-lg p-3 text-sm text-yellow-300",children:" "}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsx("button",{onClick:()=>K(!1),className:"flex-1 px-4 py-2 bg-slate-700 text-slate-300 rounded-lg hover:bg-slate-600 transition-colors text-sm",children:""}),a.jsx("button",{onClick:async()=>{!N||Oe.find(Ce=>Ce.date===N)&&!confirm(`${Ne(N)}`)||(K(!1),await He(N,!0))},disabled:!N||he,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-500 disabled:bg-purple-800 transition-colors text-sm",children:he?"...":""})]})]})]})}),B&&a.jsxs("div",{className:"mb-3 bg-slate-800/50 rounded-xl p-3 border border-slate-700 max-h-40 overflow-y-auto",children:[a.jsx("h4",{className:"text-xs font-bold text-slate-400 mb-2",children:""}),x.length>0?a.jsx("div",{className:"flex flex-wrap gap-2",children:x.map(Be=>a.jsx("button",{onClick:()=>{b(Be),j(!1)},className:`px-2 py-1 text-xs rounded transition-colors ${Be===h?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:Be===g?"":Ne(Be)},Be))}):a.jsx("p",{className:"text-xs text-slate-500",children:""})]}),a.jsxs("div",{className:"flex-1 bg-slate-800/20 rounded-xl border border-slate-700/50 p-4 mb-4 overflow-y-auto space-y-4",children:[ee?a.jsx("div",{className:"flex items-center justify-center h-full text-slate-400",children:"..."}):v.length===0?a.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:""}):v.filter(Be=>Be.content&&Be.content.trim()).map((Be,Ce)=>a.jsx("div",{className:`flex ${Be.role==="user"?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[80%] rounded-xl p-4 ${Be.role==="user"?"bg-blue-600 text-white":"bg-slate-700/50 text-slate-200"}`,children:[Be.role==="assistant"&&a.jsx("div",{className:"text-xs text-cyan-400 mb-1",children:" "}),Be.images&&Be.images.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:Be.images.map((Z,we)=>a.jsx("img",{src:Z,alt:` ${we+1}`,className:"max-h-32 rounded-lg cursor-pointer hover:opacity-90",onClick:()=>window.open(Z,"_blank")},we))}),Be.image&&!Be.images&&a.jsx("img",{src:Be.image,alt:"",className:"max-w-full max-h-64 rounded-lg mb-2 cursor-pointer hover:opacity-90",onClick:()=>window.open(Be.image,"_blank")}),a.jsx("div",{className:"whitespace-pre-wrap text-sm",children:Be.content})]})},Ce)),G&&a.jsx("div",{className:"flex justify-start",children:a.jsx("div",{className:"bg-slate-700/50 rounded-xl p-4 text-slate-400",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex gap-1",children:[a.jsx("span",{className:"animate-bounce",children:"."}),a.jsx("span",{className:"animate-bounce",style:{animationDelay:"0.1s"},children:"."}),a.jsx("span",{className:"animate-bounce",style:{animationDelay:"0.2s"},children:"."})]}),a.jsx("span",{className:"text-sm",children:"..."})]})})}),a.jsx("div",{ref:pe})]}),h===g?a.jsxs("div",{className:"space-y-2",children:[Y.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-2",children:[Y.map((Be,Ce)=>a.jsxs("div",{className:"relative inline-block",children:[a.jsx("img",{src:Be,alt:` ${Ce+1}`,className:"h-20 w-20 object-cover rounded-lg border border-slate-600"}),a.jsx("button",{onClick:()=>Ke(Ce),className:"absolute -top-2 -right-2 w-5 h-5 bg-red-600 hover:bg-red-500 text-white rounded-full flex items-center justify-center text-xs",children:""})]},Ce)),Y.length>1&&a.jsx("button",{onClick:J,className:"h-20 px-3 bg-slate-700 hover:bg-slate-600 text-slate-400 rounded-lg text-xs flex items-center justify-center",children:""})]}),a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("div",{className:"md:hidden flex flex-col items-center py-2 rounded-2xl",style:{backgroundColor:"var(--bg-tertiary)"},children:[a.jsx("span",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:" "}),a.jsx(Cc,{onTranscript:Be=>E(Ce=>Ce+Be),onAutoSend:ct,disabled:G,size:"large",className:"w-20 h-20 shadow-lg"})]}),a.jsxs("div",{className:"relative flex items-center gap-2",children:[a.jsx("input",{ref:be,type:"file",accept:"image/*",multiple:!0,onChange:se,className:"hidden"}),a.jsxs("button",{onClick:()=>{var Be;return(Be=be.current)==null?void 0:Be.click()},disabled:G||R.length>=10,className:"p-2 md:p-3 bg-slate-700 hover:bg-slate-600 text-slate-300 rounded-xl transition-colors disabled:opacity-50 relative flex-shrink-0",title:R.length>=10?"10":"",children:["",R.length>0&&a.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-blue-500 text-white text-xs rounded-full flex items-center justify-center",children:R.length})]}),a.jsx("input",{ref:Fe,type:"text",value:_,onChange:Be=>E(Be.target.value),onKeyPress:Be=>Be.key==="Enter"&&!Be.shiftKey&&ct(),placeholder:"...",className:"flex-1 min-w-0 bg-slate-900 border border-slate-700 text-slate-200 px-3 md:px-6 py-3 md:py-4 rounded-xl outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all text-sm md:text-base",disabled:G}),a.jsx("div",{className:"hidden md:block",children:a.jsx(Cc,{onTranscript:Be=>E(Ce=>Ce+Be),onAutoSend:ct,disabled:G})}),a.jsx("button",{onClick:ct,disabled:G||!_.trim()&&R.length===0,className:"p-2 md:p-3 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 text-white rounded-xl transition-colors disabled:opacity-50 flex-shrink-0",children:a.jsx(bt,{name:"send",size:18,className:"md:w-5 md:h-5"})})]})]})]}):a.jsx("div",{className:"text-center py-3 text-slate-500 text-sm",children:""})]})}function yL({tasks:t,goals:e,events:r,transactions:n,diaryEntries:s,shoppingItems:i,scripts:A,settings:o}){const l=new Date().toISOString().split("T")[0],[c,d]=q.useState(l),[p,g]=q.useState([]),[h,b]=q.useState([]),[v,S]=q.useState(!1),[x,y]=q.useState(""),[B,j]=q.useState(!1),[O,k]=q.useState(!0),[M,K]=q.useState(null),[N,H]=q.useState(null),_=q.useRef(null),E=q.useRef(null),G=q.useRef(null),P=Y=>new Promise((le,pe)=>{const Fe=new FileReader;Fe.onload=()=>{const be=Fe.result.split(",")[1];le(be)},Fe.onerror=pe,Fe.readAsDataURL(Y)}),ee=Y=>{var pe;const le=(pe=Y.target.files)==null?void 0:pe[0];if(le){if(le.size>10*1024*1024){alert("10MB");return}K(le);const Fe=new FileReader;Fe.onload=be=>H(be.target.result),Fe.readAsDataURL(le)}},ce=()=>{K(null),H(null),G.current&&(G.current.value="")},he={role:"assistant",content:`${(o==null?void 0:o.username)||""}



`},ie=Y=>{const le=new Date(Y),pe=["","","","","","",""];return`${le.getMonth()+1}/${le.getDate()}${pe[le.getDay()]}`};q.useEffect(()=>{(async()=>{k(!0);try{const le=JSON.parse(window.localStorage.getItem("lifedash_twinMessages")||"{}"),pe=le[c]||[];pe.length>0?g(pe):g(c===l?[he]:[]);const Fe=Object.keys(le).filter(be=>le[be].length>0).sort((be,Oe)=>Oe.localeCompare(be));b(Fe)}catch(le){console.error("Error loading messages:",le),g(c===l?[he]:[])}finally{k(!1)}})()},[c,o==null?void 0:o.username]);const de=Y=>{try{const le=Y.filter(be=>be.content&&be.content.trim()),pe=JSON.parse(window.localStorage.getItem("lifedash_twinMessages")||"{}");pe[c]=le,window.localStorage.setItem("lifedash_twinMessages",JSON.stringify(pe));const Fe=Object.keys(pe).filter(be=>pe[be].length>0).sort((be,Oe)=>Oe.localeCompare(be));b(Fe)}catch(le){console.error("Error saving messages:",le)}};q.useEffect(()=>{var Y;(Y=_.current)==null||Y.scrollIntoView({behavior:"smooth"})},[p]);const fe=()=>{const Y=(o==null?void 0:o.username)||"",le=new Date().toISOString().split("T")[0],Fe=(s||[]).sort((ge,Qe)=>new Date(Qe.date)-new Date(ge.date)).slice(0,20).map(ge=>{var Qe;return`${ge.date}${((Qe=ge.content)==null?void 0:Qe.substring(0,300))||""}`}).join(`
`),be=t.filter(ge=>ge.progress===100);t.filter(ge=>ge.progress<100);const Oe=[...new Set(t.map(ge=>ge.tag).filter(Boolean))],Ye=t.sort((ge,Qe)=>new Date(Qe.date||0)-new Date(ge.date||0)).slice(0,10),ht=e.filter(ge=>(ge.progress||0)<100),ue=e.filter(ge=>(ge.progress||0)>=100),qe=(r||[]).filter(ge=>ge.date>=le).sort((ge,Qe)=>new Date(ge.date)-new Date(Qe.date)).slice(0,10),F=(r||[]).filter(ge=>ge.date<le).sort((ge,Qe)=>new Date(Qe.date)-new Date(ge.date)).slice(0,10),se=[...new Set((r||[]).map(ge=>ge.tag||ge.type).filter(Boolean))],Ke=n.filter(ge=>ge.type==="expense"),J=n.filter(ge=>ge.type==="income"),ne=[...new Set(Ke.map(ge=>ge.category).filter(Boolean))],Ne=Ke.reduce((ge,Qe)=>ge+(Qe.amount||0),0),W=J.reduce((ge,Qe)=>ge+(Qe.amount||0),0),He=n.sort((ge,Qe)=>new Date(Qe.date||0)-new Date(ge.date||0)).slice(0,10),Ve=[...new Set((i||[]).map(ge=>ge.store).filter(Boolean))],$e=(i||[]).filter(ge=>!ge.purchased),Je=(i||[]).filter(ge=>ge.purchased),ct=(A||[]).filter(ge=>ge.isFavorite),Be=(A||[]).sort((ge,Qe)=>(Qe.useCount||0)-(ge.useCount||0)).slice(0,5),Ce=[...new Set((A||[]).map(ge=>ge.category).filter(Boolean))],Z=JSON.parse(window.localStorage.getItem("lifedash_tracking")||"{}"),we=Object.entries(Z).sort(([ge],[Qe])=>Qe.localeCompare(ge)).slice(0,7).map(([ge,Qe])=>({date:ge,...Qe})),_e=JSON.parse(window.localStorage.getItem("lifedash_chatMessages")||"{}"),Xe=Object.entries(_e).sort(([ge],[Qe])=>Qe.localeCompare(ge)).slice(0,5).flatMap(([ge,Qe])=>Qe.filter(ft=>ft.role==="user").map(ft=>{var at;return(at=ft.content)==null?void 0:at.substring(0,150)})).filter(Boolean),Ge=(s||[]).filter(ge=>ge.content&&ge.content.includes("")).sort((ge,Qe)=>new Date(Qe.date)-new Date(ge.date)).slice(0,5).map(ge=>{var Qe;return(Qe=ge.content)==null?void 0:Qe.replace("","").substring(0,200)});return`

${Y}AI
${Y}
${Y}1

${Y}
- : ${Y}
- : ${be.length} / : ${t.length}
- : ${ue.length} / : ${e.length}
- : ${Oe.join(", ")||""}


${ht.map(ge=>`- ${ge.title} (: ${ge.progress||0}%)`).join(`
`)||"- "}

${Y}
${Fe||""}

AI${Y}
${Ge.join(`
`)||""}


- : ${se.join(", ")||""}
- :
${qe.map(ge=>`  - ${ge.date}: ${ge.title}`).join(`
`)||"  - "}
- :
${F.slice(0,5).map(ge=>`  - ${ge.date}: ${ge.title}`).join(`
`)||"  - "}


${Ye.map(ge=>`- ${ge.title} (${ge.date}) - ${ge.progress===100?"":`${ge.progress||0}%`}`).join(`
`)||""}


- : ${W.toLocaleString()}
- : ${Ne.toLocaleString()}
- : ${ne.slice(0,5).join(", ")||""}
- :
${He.slice(0,5).map(ge=>`  - ${ge.date}: ${ge.title} ${(ge.amount||0).toLocaleString()} (${ge.type==="income"?"":""})`).join(`
`)||"  - "}


- : ${Ve.slice(0,5).join(", ")||""}
- : ${$e.length}
- : ${Je.length}

AI
- : ${ct.map(ge=>ge.title).join(", ")||""}
- : ${Ce.join(", ")||""}
- :
${Be.map(ge=>`  - ${ge.title} (: ${ge.useCount||0})`).join(`
`)||"  - "}


${we.map(ge=>`- ${ge.date}: =${ge.mood||"?"}, =${ge.sleep||"?"}h, =${ge.exercise?"":""}`).join(`
`)||""}

AI
${Xe.slice(0,10).join(`
`)||""}



${Y}${Y}


- ${Y}
- 
- 
- 
- 


1. 140
2. 1${Y}
3. 
4. 1NG
5.  
6. NG


- 
- 
- 
- 
- 
- 
- 

NG
- 
- 
- 
`},ve=async(Y,le,pe=null)=>{var ue,qe,F,se,Ke,J;const Fe=localStorage.getItem("ai_api_key")||"";if(!Fe)return"APIGemini API";const be=fe(),Oe=(o==null?void 0:o.username)||"",Ye=`${be}

${new Date().toLocaleDateString("ja-JP")}


${Oe}
${Oe}${Oe}


${Oe}
`,ht=le.slice(-10);try{const ne=[{text:`${Ye}

:
${ht.map(He=>`${He.role==="assistant"?Oe:""}: ${He.content}`).join(`
`)}`}];pe&&(ne.push({inlineData:{mimeType:"image/jpeg",data:pe}}),ne[0].text+=`

[]`);const Ne=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${Fe}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:ne}],generationConfig:{temperature:.8,maxOutputTokens:4096}})}),W=await Ne.json();if(!Ne.ok)throw new Error(((ue=W.error)==null?void 0:ue.message)||"Gemini API ");return((J=(Ke=(se=(F=(qe=W.candidates)==null?void 0:qe[0])==null?void 0:F.content)==null?void 0:se.parts)==null?void 0:Ke[0])==null?void 0:J.text)||""}catch(ne){return console.error("AI Error:",ne),`: ${ne.message}`}},I=async()=>{if(!x.trim()&&!M||B)return;const Y=x.trim()||"()";let le=null;M&&(le=await P(M));const pe={role:"user",content:Y,image:N,createdAt:new Date().toISOString()},Fe=[...p,pe];g(Fe),y(""),ce(),j(!0);try{const Oe={role:"assistant",content:await ve(Y,Fe,le),createdAt:new Date().toISOString()},Ye=[...Fe,Oe];g(Ye),de(Ye)}catch(be){console.error("Error:",be);const Oe={role:"assistant",content:`: ${be.message}`,createdAt:new Date().toISOString()},Ye=[...Fe,Oe];g(Ye),de(Ye)}finally{j(!1),setTimeout(()=>{var be;(be=E.current)==null||be.focus()},100)}},R=Y=>{const le=new Date(c);le.setDate(le.getDate()+Y),d(le.toISOString().split("T")[0])},te=q.useMemo(()=>{const Y=(s==null?void 0:s.length)||0,le=(t==null?void 0:t.length)||0,pe=(e==null?void 0:e.length)||0,Fe=(n==null?void 0:n.length)||0;return{totalDiaries:Y,totalTasks:le,totalGoals:pe,totalTransactions:Fe}},[s,t,e,n]);return a.jsxs("div",{className:"h-[calc(100vh-200px)] md:h-[calc(100vh-120px)] flex flex-col",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between md:justify-start gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>R(-1),className:"p-2 rounded-lg hover:bg-purple-600/20 transition-colors",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-secondary)"},children:a.jsx(bt,{name:"chevronLeft",size:18})}),a.jsx("span",{className:"text-base md:text-lg font-bold min-w-[70px] text-center",style:{color:"var(--text-primary)"},children:c===l?"":ie(c)}),a.jsx("button",{onClick:()=>R(1),className:"p-2 rounded-lg hover:bg-purple-600/20 transition-colors",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-secondary)"},children:a.jsx(bt,{name:"chevronRight",size:18})})]}),c!==l&&a.jsx("button",{onClick:()=>d(l),className:"px-3 py-1.5 text-xs bg-purple-600/20 text-purple-400 rounded-lg hover:bg-purple-600/30",children:""}),a.jsx("button",{onClick:()=>S(!v),className:`md:hidden px-3 py-1.5 rounded-lg text-sm transition-colors ${v?"bg-purple-600 text-white":""}`,style:{backgroundColor:v?void 0:"var(--bg-tertiary)",color:v?void 0:"var(--text-secondary)"},children:""})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs",style:{color:"var(--text-tertiary)"},children:[a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--bg-tertiary)"},children:[" ",te.totalDiaries]}),a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--bg-tertiary)"},children:[" ",te.totalTasks]}),a.jsxs("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"var(--bg-tertiary)"},children:[" ",te.totalGoals]})]}),a.jsx("button",{onClick:()=>S(!v),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${v?"bg-purple-600 text-white":""}`,style:{backgroundColor:v?void 0:"var(--bg-tertiary)",color:v?void 0:"var(--text-secondary)"},children:" "})]})]}),v&&a.jsxs("div",{className:"mb-3 rounded-xl p-3 border border-purple-500/30 max-h-32 md:max-h-40 overflow-y-auto",style:{backgroundColor:"var(--bg-tertiary)"},children:[a.jsx("h4",{className:"text-xs font-bold text-purple-400 mb-2",children:""}),h.length>0?a.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(Y=>a.jsx("button",{onClick:()=>{d(Y),S(!1)},className:`px-2 py-1 text-xs rounded-lg transition-colors ${Y===c?"bg-purple-600 text-white":"hover:bg-purple-600/20"}`,style:{backgroundColor:Y===c?void 0:"var(--bg-secondary)",color:Y===c?void 0:"var(--text-secondary)"},children:Y===l?"":ie(Y)},Y))}):a.jsx("p",{className:"text-xs",style:{color:"var(--text-tertiary)"},children:""})]}),a.jsxs("div",{className:"flex-1 rounded-xl border border-purple-500/20 p-3 md:p-4 mb-3 md:mb-4 overflow-y-auto space-y-3 md:space-y-4",style:{backgroundColor:"var(--bg-secondary)"},children:[O?a.jsx("div",{className:"flex items-center justify-center h-full",style:{color:"var(--text-tertiary)"},children:"..."}):p.length===0?a.jsx("div",{className:"flex items-center justify-center h-full",style:{color:"var(--text-tertiary)"},children:""}):p.filter(Y=>Y.content&&Y.content.trim()).map((Y,le)=>a.jsx("div",{className:`flex ${Y.role==="user"?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[85%] md:max-w-[80%] rounded-xl p-3 md:p-4 ${Y.role==="user"?"":"border border-purple-500/30"}`,style:{backgroundColor:Y.role==="user"?"var(--bg-tertiary)":"var(--bg-card)",color:"var(--text-primary)"},children:[Y.role==="assistant"&&a.jsxs("div",{className:"text-xs text-purple-400 mb-1 flex items-center gap-1",children:[" ",(o==null?void 0:o.username)||"","Digital Twin"]}),Y.image&&a.jsx("img",{src:Y.image,alt:"",className:"max-w-full max-h-48 md:max-h-64 rounded-lg mb-2 cursor-pointer hover:opacity-90",onClick:()=>window.open(Y.image,"_blank")}),a.jsx("div",{className:"whitespace-pre-wrap text-sm",children:Y.content})]})},le)),B&&a.jsx("div",{className:"flex justify-start",children:a.jsx("div",{className:"rounded-xl p-3 md:p-4 text-purple-400 border border-purple-500/30",style:{backgroundColor:"var(--bg-card)"},children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-400 animate-bounce",style:{animationDelay:"0ms"}}),a.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-400 animate-bounce",style:{animationDelay:"150ms"}}),a.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-400 animate-bounce",style:{animationDelay:"300ms"}})]}),a.jsx("span",{className:"text-sm",children:"..."})]})})}),a.jsx("div",{ref:_})]}),a.jsxs("div",{className:"space-y-2",children:[N&&a.jsxs("div",{className:"relative inline-block",children:[a.jsx("img",{src:N,alt:"",className:"max-h-24 md:max-h-32 rounded-lg border border-purple-500/50"}),a.jsx("button",{onClick:ce,className:"absolute -top-2 -right-2 w-6 h-6 bg-red-600 hover:bg-red-500 text-white rounded-full flex items-center justify-center text-xs",children:""})]}),a.jsx("div",{className:"md:hidden flex justify-center py-2 rounded-xl",style:{backgroundColor:"var(--bg-tertiary)"},children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("span",{className:"text-xs mb-1",style:{color:"var(--text-tertiary)"},children:" "}),a.jsx(Cc,{onTranscript:Y=>y(le=>le+Y),onAutoSend:I,disabled:B,size:"large",className:"w-16 h-16"})]})}),a.jsxs("div",{className:"flex gap-2 md:gap-3",children:[a.jsx("input",{ref:G,type:"file",accept:"image/*",onChange:ee,className:"hidden"}),a.jsx("button",{onClick:()=>{var Y;return(Y=G.current)==null?void 0:Y.click()},disabled:B,className:"p-2 md:px-4 md:py-3 rounded-xl transition-colors disabled:opacity-50",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-secondary)"},title:"",children:""}),a.jsx("input",{ref:E,type:"text",value:x,onChange:Y=>y(Y.target.value),onKeyDown:Y=>Y.key==="Enter"&&!Y.shiftKey&&I(),placeholder:"...",className:"flex-1 min-w-0 border border-purple-500/30 rounded-xl px-3 md:px-4 py-2 md:py-3 outline-none focus:border-purple-500 transition-colors text-sm md:text-base",style:{backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)"},disabled:B}),a.jsx("div",{className:"hidden md:block",children:a.jsx(Cc,{onTranscript:Y=>y(le=>le+Y),onAutoSend:I,disabled:B})}),a.jsx("button",{onClick:I,disabled:B||!x.trim()&&!M,className:"p-2 md:px-5 md:py-3 bg-purple-600 hover:bg-purple-500 disabled:bg-purple-800 disabled:cursor-not-allowed text-white rounded-xl transition-colors flex items-center justify-center",children:a.jsx(bt,{name:"send",size:18})})]})]})]})}function bL({scripts:t,addScript:e,updateScript:r,deleteScript:n}){const[s,i]=q.useState("all"),[A,o]=q.useState(""),[l,c]=q.useState(!1),[d,p]=q.useState(null),[g,h]=q.useState({}),[b,v]=q.useState(null),[S,x]=q.useState({title:"",content:"",category:"prompt",variables:[],isFavorite:!1}),y=[{id:"all",name:"",icon:"",color:"slate"},{id:"prompt",name:"",icon:"",color:"blue"},{id:"code",name:"",icon:"",color:"emerald"},{id:"analysis",name:"",icon:"",color:"purple"},{id:"image",name:"",icon:"",color:"pink"},{id:"writing",name:"",icon:"",color:"orange"},{id:"custom",name:"",icon:"",color:"cyan"}],B=E=>{const G=/\{\{([^}]+)\}\}/g,P=[];let ee;for(;(ee=G.exec(E))!==null;)P.includes(ee[1])||P.push(ee[1]);return P},j=(E,G)=>{const P=g[G]||{};let ee=E;const ce=/\{\{([^}]+)\}\}/g;return ee=ee.replace(ce,(he,ie)=>P[ie]||he),ee},O=async E=>{const G=j(E.content,E.id);await navigator.clipboard.writeText(G),v(E.id),r(E.id,{...E,useCount:(E.useCount||0)+1}),setTimeout(()=>v(null),2e3)},k=E=>{r(E.id,{...E,isFavorite:!E.isFavorite})},M=t.filter(E=>{const G=s==="all"||E.category===s,P=!A||E.title.toLowerCase().includes(A.toLowerCase())||E.content.toLowerCase().includes(A.toLowerCase());return G&&P}).sort((E,G)=>E.isFavorite!==G.isFavorite?G.isFavorite?1:-1:(G.useCount||0)-(E.useCount||0)),K=()=>{if(!S.title.trim()||!S.content.trim())return;const E=B(S.content).map(G=>({name:G,type:"text",default:""}));e({...S,variables:E}),x({title:"",content:"",category:"prompt",variables:[],isFavorite:!1}),c(!1)},N=()=>{if(!d||!d.title.trim()||!d.content.trim())return;const E=B(d.content).map(G=>{var ee;return((ee=d.variables)==null?void 0:ee.find(ce=>ce.name===G))||{name:G,type:"text",default:""}});r(d.id,{...d,variables:E}),p(null)},H=(E,G,P)=>{h(ee=>({...ee,[E]:{...ee[E]||{},[G]:P}}))},_=E=>{const G=y.find(P=>P.id===E);return(G==null?void 0:G.color)||"slate"};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h2",{className:"text-xl font-bold",children:"AI Scripts"}),a.jsxs("span",{className:"text-slate-400",children:["(",M.length," )"]})]}),a.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[a.jsx(bt,{name:"plus",size:18}),""]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(bt,{name:"search",size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{type:"text",value:A,onChange:E=>o(E.target.value),placeholder:"...",className:"w-full bg-slate-800/50 border border-slate-700/50 rounded-xl pl-10 pr-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsx("div",{className:"flex gap-2 flex-wrap",children:y.map(E=>a.jsxs("button",{onClick:()=>i(E.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${s===E.id?`bg-${E.color}-600 text-white`:"bg-slate-800/50 text-slate-400 hover:bg-slate-700"}`,style:s===E.id?{backgroundColor:E.color==="slate"?"#475569":E.color==="blue"?"#2563eb":E.color==="emerald"?"#059669":E.color==="purple"?"#9333ea":E.color==="pink"?"#db2777":E.color==="orange"?"#ea580c":E.color==="cyan"?"#0891b2":"#475569"}:{},children:[E.icon," ",E.name]},E.id))}),a.jsx("div",{className:"space-y-4",children:M.length===0?a.jsxs("div",{className:"text-center py-12 text-slate-500",children:[a.jsx(bt,{name:"scripts",size:48,className:"mx-auto mb-4 opacity-50"}),a.jsx("p",{children:""}),a.jsx("button",{onClick:()=>c(!0),className:"mt-4 text-blue-400 hover:text-blue-300",children:"+ "})]}):M.map(E=>{const G=_(E.category),P=y.find(he=>he.id===E.category),ee=E.variables||[],ce=g[E.id]||{};return a.jsxs("div",{className:"bg-slate-800/50 rounded-xl border border-slate-700/50 overflow-hidden hover:border-slate-600/50 transition-colors",children:[a.jsx("div",{className:"p-4 border-b border-slate-700/30",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-xl",children:P==null?void 0:P.icon}),a.jsx("h3",{className:"font-semibold text-lg",children:E.title}),a.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:G==="blue"?"rgba(37, 99, 235, 0.2)":G==="emerald"?"rgba(5, 150, 105, 0.2)":G==="purple"?"rgba(147, 51, 234, 0.2)":G==="pink"?"rgba(219, 39, 119, 0.2)":G==="orange"?"rgba(234, 88, 12, 0.2)":G==="cyan"?"rgba(8, 145, 178, 0.2)":"rgba(71, 85, 105, 0.2)",color:G==="blue"?"#60a5fa":G==="emerald"?"#34d399":G==="purple"?"#c084fc":G==="pink"?"#f472b6":G==="orange"?"#fb923c":G==="cyan"?"#22d3ee":"#94a3b8"},children:P==null?void 0:P.name}),E.useCount>0&&a.jsxs("span",{className:"text-xs text-slate-500",children:[E.useCount,""]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>k(E),className:`p-2 rounded-lg transition-colors ${E.isFavorite?"text-yellow-400":"text-slate-500 hover:text-yellow-400"}`,children:a.jsx(bt,{name:E.isFavorite?"starFilled":"star",size:18})}),a.jsx("button",{onClick:()=>p(E),className:"p-2 text-slate-400 hover:text-blue-400 rounded-lg transition-colors",children:a.jsx(bt,{name:"edit",size:18})}),a.jsx("button",{onClick:()=>n(E.id),className:"p-2 text-slate-400 hover:text-red-400 rounded-lg transition-colors",children:a.jsx(bt,{name:"trash",size:18})})]})]})}),a.jsx("div",{className:"p-4 bg-slate-900/30",children:a.jsx("pre",{className:"text-sm text-slate-300 whitespace-pre-wrap font-mono overflow-x-auto max-h-32 overflow-y-auto",children:j(E.content,E.id)})}),ee.length>0&&a.jsxs("div",{className:"p-4 border-t border-slate-700/30 bg-slate-800/30",children:[a.jsx("p",{className:"text-xs text-slate-500 mb-3",children:":"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:ee.map((he,ie)=>{var de;return a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs text-slate-400",children:he.name}),he.type==="select"?a.jsx("select",{value:ce[he.name]||he.default||"",onChange:fe=>H(E.id,he.name,fe.target.value),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:(de=he.options)==null?void 0:de.map(fe=>a.jsx("option",{value:fe,children:fe},fe))}):he.type==="textarea"?a.jsx("textarea",{value:ce[he.name]||he.default||"",onChange:fe=>H(E.id,he.name,fe.target.value),placeholder:`{{${he.name}}}`,className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[60px]"}):a.jsx("input",{type:he.type==="number"?"number":"text",value:ce[he.name]||he.default||"",onChange:fe=>H(E.id,he.name,fe.target.value),placeholder:`{{${he.name}}}`,className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]},ie)})})]}),a.jsx("div",{className:"p-4 border-t border-slate-700/30",children:a.jsxs("button",{onClick:()=>O(E),className:`w-full py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2 ${b===E.id?"bg-emerald-600 text-white":"bg-blue-600 hover:bg-blue-500 text-white"}`,children:[a.jsx(bt,{name:b===E.id?"check":"copy",size:18}),b===E.id?"":""]})})]},E.id)})}),l&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>c(!1),children:a.jsxs("div",{className:"bg-slate-800 rounded-2xl p-6 w-full max-w-2xl border border-slate-700 max-h-[90vh] overflow-y-auto",onClick:E=>E.stopPropagation(),children:[a.jsx("h3",{className:"text-lg font-bold mb-4",children:""}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:""}),a.jsx("input",{type:"text",value:S.title,onChange:E=>x({...S,title:E.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:": "})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:""}),a.jsx("select",{value:S.category,onChange:E=>x({...S,category:E.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:y.filter(E=>E.id!=="all").map(E=>a.jsxs("option",{value:E.id,children:[E.icon," ",E.name]},E.id))})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["",a.jsxs("span",{className:"text-xs text-slate-500 ml-2",children:["{{}}"," "]})]}),a.jsx("textarea",{value:S.content,onChange:E=>x({...S,content:E.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm min-h-[200px]",placeholder:": {{}}:\\n\\n{{}}"})]}),B(S.content).length>0&&a.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3",children:[a.jsx("p",{className:"text-xs text-slate-400 mb-2",children:":"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:B(S.content).map(E=>a.jsx("span",{className:"text-xs bg-blue-600/20 text-blue-400 px-2 py-1 rounded",children:`{{${E}}}`},E))})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"favorite",checked:S.isFavorite,onChange:E=>x({...S,isFavorite:E.target.checked}),className:"rounded"}),a.jsx("label",{htmlFor:"favorite",className:"text-sm text-slate-400",children:""})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx("button",{onClick:()=>c(!1),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors",children:""}),a.jsx("button",{onClick:K,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors",children:""})]})]})}),d&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>p(null),children:a.jsxs("div",{className:"bg-slate-800 rounded-2xl p-6 w-full max-w-2xl border border-slate-700 max-h-[90vh] overflow-y-auto",onClick:E=>E.stopPropagation(),children:[a.jsx("h3",{className:"text-lg font-bold mb-4",children:""}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:""}),a.jsx("input",{type:"text",value:d.title,onChange:E=>p({...d,title:E.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:""}),a.jsx("select",{value:d.category,onChange:E=>p({...d,category:E.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:y.filter(E=>E.id!=="all").map(E=>a.jsxs("option",{value:E.id,children:[E.icon," ",E.name]},E.id))})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["",a.jsxs("span",{className:"text-xs text-slate-500 ml-2",children:["{{}}"," "]})]}),a.jsx("textarea",{value:d.content,onChange:E=>p({...d,content:E.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm min-h-[200px]"})]}),B(d.content).length>0&&a.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-3",children:[a.jsx("p",{className:"text-xs text-slate-400 mb-2",children:":"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:B(d.content).map(E=>a.jsx("span",{className:"text-xs bg-blue-600/20 text-blue-400 px-2 py-1 rounded",children:`{{${E}}}`},E))})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx("button",{onClick:()=>p(null),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors",children:""}),a.jsx("button",{onClick:N,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors",children:""})]})]})})]})}function BL({diaryEntries:t=[],addDiaryEntry:e,settings:r={}}){const n=new Date().toISOString().split("T")[0],[s,i]=q.useState(n),[A,o]=q.useState(!1),[l,c]=q.useState(()=>!localStorage.getItem("lifedash_morning_guide_seen")),[d,p]=q.useState(0),[g,h]=q.useState([]),[b,v]=q.useState(""),[S,x]=q.useState(!1),[y,B]=q.useState(!1),[j,O]=q.useState(""),[k,M]=q.useState(0),[K,N]=q.useState(!1),[H,_]=q.useState(!1),E=q.useRef(null),G=q.useRef(null),P=q.useRef(null),ee=q.useMemo(()=>(t||[]).filter(se=>se.content&&se.content.startsWith("")).sort((se,Ke)=>new Date(Ke.date)-new Date(se.date)),[t]),ce=q.useMemo(()=>ee.find(se=>se.date===n),[ee,n]),he=ee.find(se=>se.date===s),ie=[...new Set(ee.map(se=>se.date))].slice(0,30),de=()=>{let se=0;const Ke=ie.sort((J,ne)=>new Date(ne)-new Date(J));for(let J=0;J<Ke.length;J++){const ne=new Date;ne.setDate(ne.getDate()-J);const Ne=ne.toISOString().split("T")[0];if(Ke.includes(Ne))se++;else break}return se},fe=[{title:"",content:`


 
 
 
 

${r.username||""}`,icon:""},{title:"",content:`AI

 
 
 


 
 
 

OK`,icon:""},{title:"",content:`

1 
2 AI
3 Enter
4 
5 OK

 
 
 

`,icon:""}],ve=()=>{c(!1),localStorage.setItem("lifedash_morning_guide_seen","true")};q.useEffect(()=>(K?P.current=setInterval(()=>{M(se=>se+1)},1e3):clearInterval(P.current),()=>clearInterval(P.current)),[K]),q.useEffect(()=>{var se;(se=G.current)==null||se.scrollIntoView({behavior:"smooth"})},[g]),q.useEffect(()=>{!S&&g.length>0&&!y&&setTimeout(()=>{var se;(se=E.current)==null||se.focus()},100)},[S,g.length,y]);const I=se=>{const Ke=Math.floor(se/60),J=se%60;return`${Ke.toString().padStart(2,"0")}:${J.toString().padStart(2,"0")}`},R=se=>{const Ke=new Date(se),J=["","","","","","",""];return`${Ke.getMonth()+1}/${Ke.getDate()}${J[Ke.getDay()]}`},te=se=>{const Ke=new Date(se),J=["","","","","","",""];return`${Ke.getFullYear()}${Ke.getMonth()+1}${Ke.getDate()}${J[Ke.getDay()]}`},Y=se=>se.replace(`
`,"").replace("",""),le=()=>g.filter(se=>se.role==="user").reduce((se,Ke)=>se+Ke.content.length,0),pe=()=>`








- ${r.username||""}
- 
- 
- 


- OK
- 140100
- 11
- OK











- OK
- 
- `,Fe=()=>`


${g.map(Ke=>`${Ke.role==="user"?"":"AI"}: ${Ke.content}`).join(`
`)}


- 
- 
- 
- 5001000
- 
- OK
- ---

`,be=async(se,Ke=!1)=>{var Ve,$e,Je,ct,Be;const J=localStorage.getItem("ai_api_key")||"";if(!J)throw new Error("APIGemini API");const ne=`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${J}`,Ne=Ke?[{role:"user",parts:[{text:se}]}]:[{role:"user",parts:[{text:pe()}]},{role:"model",parts:[{text:""}]},...g.map(Ce=>({role:Ce.role==="user"?"user":"model",parts:[{text:Ce.content}]})),{role:"user",parts:[{text:se}]}];return((Be=(ct=(Je=($e=(Ve=(await(await fetch(ne,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:Ne,generationConfig:{temperature:.9,maxOutputTokens:Ke?2048:256}})})).json()).candidates)==null?void 0:Ve[0])==null?void 0:$e.content)==null?void 0:Je.parts)==null?void 0:ct[0])==null?void 0:Be.text)||""},Oe=async()=>{N(!0),x(!0);try{const se=await be("");h([{role:"ai",content:se}])}catch(se){console.error("Error starting session:",se),h([{role:"ai",content:""}])}finally{x(!1)}},Ye=se=>["","","","","","OK","ok","","","done","",""].some(J=>se.toLowerCase().includes(J.toLowerCase())),ht=async()=>{if(!b.trim()||S)return;const se=b.trim();h(Ke=>[...Ke,{role:"user",content:se}]),v(""),x(!0);try{if(Ye(se)){h(J=>[...J,{role:"ai",content:"OK..."}]);const Ke=await be(Fe(),!0);O(Ke),B(!0),N(!1),h(J=>[...J,{role:"ai",content:" "}])}else{const Ke=await be(se);h(J=>[...J,{role:"ai",content:Ke}])}}catch(Ke){console.error("Error:",Ke),h(J=>[...J,{role:"ai",content:""}])}finally{x(!1)}},ue=async()=>{if(g.filter(se=>se.role==="user").length!==0){x(!0),h(se=>[...se,{role:"ai",content:"OK..."}]);try{const se=await be(Fe(),!0);O(se),B(!0),N(!1),h(Ke=>[...Ke,{role:"ai",content:" "}])}catch(se){console.error("Error generating note:",se),alert("")}finally{x(!1)}}},qe=async()=>{if(!j.trim())return;const se=`
${j}`;try{await e({date:n,content:se,isFavorite:!1}),_(!0),setTimeout(()=>{_(!1),F()},2e3)}catch(Ke){console.error("Failed to save morning note:",Ke),alert("")}},F=()=>{h([]),v(""),x(!1),B(!1),O(""),M(0),N(!1)};return a.jsxs("div",{className:"space-y-6 pb-8 max-w-4xl mx-auto",children:[l&&a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"rounded-2xl p-8 max-w-lg w-full",style:{backgroundColor:"var(--bg-card)"},children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("span",{className:"text-6xl mb-4 block",children:fe[d].icon}),a.jsx("h2",{className:"text-2xl font-bold mb-2",style:{color:"var(--text-primary)"},children:fe[d].title})]}),a.jsx("div",{className:"text-left mb-8 whitespace-pre-line leading-relaxed",style:{color:"var(--text-secondary)"},children:fe[d].content}),a.jsx("div",{className:"flex justify-center gap-2 mb-6",children:fe.map((se,Ke)=>a.jsx("button",{onClick:()=>p(Ke),className:`w-2 h-2 rounded-full transition-all ${Ke===d?"w-6":""}`,style:{backgroundColor:Ke===d?"var(--accent-secondary)":"var(--border-primary)"}},Ke))}),a.jsxs("div",{className:"flex gap-3",children:[d>0&&a.jsx("button",{onClick:()=>p(se=>se-1),className:"flex-1 py-3 rounded-xl font-medium transition-all",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)"},children:""}),d<fe.length-1?a.jsx("button",{onClick:()=>p(se=>se+1),className:"flex-1 py-3 rounded-xl font-medium transition-all",style:{backgroundColor:"var(--accent-secondary)",color:"white"},children:""}):a.jsx("button",{onClick:ve,className:"flex-1 py-3 rounded-xl font-medium transition-all",style:{backgroundColor:"var(--accent-secondary)",color:"white"},children:""})]}),a.jsx("button",{onClick:ve,className:"mt-4 w-full text-sm",style:{color:"var(--text-tertiary)"},children:""})]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:" "}),a.jsx("p",{className:"text-sm mt-1",style:{color:"var(--text-tertiary)"},children:""})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>c(!0),className:"px-3 py-1.5 rounded-lg text-sm transition-all",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-secondary)"},children:" "}),a.jsxs("button",{onClick:()=>o(!A),className:"px-3 py-1.5 rounded-lg text-sm transition-all",style:{backgroundColor:A?"var(--accent-secondary)":"var(--bg-tertiary)",color:A?"white":"var(--text-secondary)"},children:["  (",ee.length,")"]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"rounded-xl p-4 text-center",style:{backgroundColor:"var(--bg-card)"},children:[a.jsx("div",{className:"text-3xl mb-1",children:""}),a.jsx("div",{className:"text-2xl font-bold",style:{color:"var(--accent-secondary)"},children:de()}),a.jsx("div",{className:"text-xs",style:{color:"var(--text-tertiary)"},children:""})]}),a.jsxs("div",{className:"rounded-xl p-4 text-center",style:{backgroundColor:"var(--bg-card)"},children:[a.jsx("div",{className:"text-3xl mb-1",children:""}),a.jsx("div",{className:"text-2xl font-bold",style:{color:"var(--text-primary)"},children:ee.length}),a.jsx("div",{className:"text-xs",style:{color:"var(--text-tertiary)"},children:""})]}),a.jsxs("div",{className:"rounded-xl p-4 text-center",style:{backgroundColor:"var(--bg-card)"},children:[a.jsx("div",{className:"text-3xl mb-1",children:ce?"":""}),a.jsx("div",{className:"text-lg font-bold",style:{color:ce?"var(--success)":"var(--text-secondary)"},children:ce?"":""}),a.jsx("div",{className:"text-xs",style:{color:"var(--text-tertiary)"},children:""})]})]}),A&&a.jsxs("div",{className:"rounded-xl p-4",style:{backgroundColor:"var(--bg-card)"},children:[a.jsx("h3",{className:"font-medium mb-3",style:{color:"var(--text-primary)"},children:""}),ie.length===0?a.jsx("p",{className:"text-sm",style:{color:"var(--text-tertiary)"},children:""}):a.jsx("div",{className:"flex flex-wrap gap-2",children:ie.map(se=>a.jsx("button",{onClick:()=>i(se),className:`px-3 py-1.5 rounded-lg text-sm transition-all ${s===se?"ring-2":""}`,style:{backgroundColor:se===n?"var(--accent-secondary)":"var(--bg-tertiary)",color:se===n?"white":"var(--text-secondary)",ringColor:"var(--accent-secondary)"},children:se===n?"":R(se)},se))})]}),H&&a.jsx("div",{className:"rounded-xl p-4 text-center",style:{backgroundColor:"var(--success)",color:"white"},children:" "}),s!==n&&he?a.jsxs("div",{className:"rounded-xl p-6",style:{backgroundColor:"var(--bg-card)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"font-medium",style:{color:"var(--text-primary)"},children:[te(s),""]}),a.jsx("button",{onClick:()=>i(n),className:"text-sm px-3 py-1 rounded-lg",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-secondary)"},children:""})]}),a.jsx("div",{className:"whitespace-pre-wrap leading-relaxed",style:{color:"var(--text-secondary)"},children:Y(he.content)}),a.jsxs("div",{className:"mt-4 text-xs",style:{color:"var(--text-tertiary)"},children:[Y(he.content).length,""]})]}):ce&&g.length===0?a.jsxs("div",{className:"rounded-xl p-6",style:{backgroundColor:"var(--bg-card)"},children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("span",{className:"text-5xl",children:""}),a.jsx("h3",{className:"text-xl font-bold mt-4",style:{color:"var(--text-primary)"},children:""}),a.jsx("p",{className:"text-sm mt-2",style:{color:"var(--text-tertiary)"},children:""})]}),a.jsxs("div",{className:"border-t pt-4 mt-4",style:{borderColor:"var(--border-primary)"},children:[a.jsx("h4",{className:"text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:""}),a.jsxs("div",{className:"whitespace-pre-wrap text-sm leading-relaxed",style:{color:"var(--text-tertiary)"},children:[Y(ce.content).substring(0,300),Y(ce.content).length>300&&"..."]}),a.jsxs("div",{className:"mt-3 text-xs",style:{color:"var(--text-tertiary)"},children:[Y(ce.content).length,""]})]})]}):g.length>0?a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"rounded-xl p-4",style:{backgroundColor:"var(--bg-card)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 pb-3 border-b",style:{borderColor:"var(--border-primary)"},children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-lg",children:""}),a.jsx("span",{className:"text-xl font-mono font-bold",style:{color:"var(--text-primary)"},children:I(k)})]}),a.jsxs("div",{className:"text-sm",style:{color:"var(--text-tertiary)"},children:[a.jsx("span",{className:"font-bold",style:{color:le()>=500?"var(--success)":"var(--text-primary)"},children:le()})," "]})]}),a.jsxs("div",{className:"h-80 overflow-y-auto space-y-3 mb-4",children:[g.map((se,Ke)=>a.jsx("div",{className:`flex ${se.role==="user"?"justify-end":"justify-start"}`,children:a.jsx("div",{className:`max-w-[85%] px-4 py-2 rounded-2xl ${se.role==="user"?"rounded-br-sm":"rounded-bl-sm"}`,style:{backgroundColor:se.role==="user"?"var(--accent-secondary)":"var(--bg-tertiary)",color:se.role==="user"?"white":"var(--text-primary)"},children:se.content})},Ke)),S&&a.jsx("div",{className:"flex justify-start",children:a.jsx("div",{className:"px-4 py-2 rounded-2xl rounded-bl-sm",style:{backgroundColor:"var(--bg-tertiary)"},children:a.jsx("span",{className:"animate-pulse",children:"..."})})}),a.jsx("div",{ref:G})]}),!y&&a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{ref:E,type:"text",value:b,onChange:se=>v(se.target.value),onKeyDown:se=>{se.key==="Enter"&&!se.shiftKey&&(se.preventDefault(),ht())},placeholder:"...",disabled:S,className:"flex-1 px-4 py-3 rounded-xl focus:outline-none focus:ring-2",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-primary)",ringColor:"var(--accent-secondary)"}}),a.jsx(Cc,{onTranscript:se=>v(Ke=>Ke+se),onAutoSend:ht,disabled:S}),a.jsx("button",{onClick:ht,disabled:!b.trim()||S,className:"px-4 py-2 rounded-xl transition-all disabled:opacity-50",style:{backgroundColor:"var(--accent-secondary)",color:"white"},children:""})]}),g.filter(se=>se.role==="user").length>0&&!y&&a.jsx("button",{onClick:ue,disabled:S,className:"mt-3 w-full py-2 rounded-xl text-sm transition-all disabled:opacity-50",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-secondary)"},children:" "})]}),a.jsxs("div",{className:"rounded-xl p-4",style:{backgroundColor:"var(--bg-card)"},children:[a.jsx("h3",{className:"font-medium mb-3",style:{color:"var(--text-primary)"},children:" "}),y&&j?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"h-72 overflow-y-auto p-3 rounded-lg whitespace-pre-wrap text-sm leading-relaxed",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-secondary)"},children:j}),a.jsxs("div",{className:"mt-4 flex gap-2",children:[a.jsx("button",{onClick:F,className:"px-4 py-2 rounded-xl transition-all",style:{backgroundColor:"var(--bg-tertiary)",color:"var(--text-secondary)"},children:""}),a.jsx("button",{onClick:qe,className:"flex-1 py-3 rounded-xl font-medium transition-all",style:{backgroundColor:"var(--accent-secondary)",color:"white"},children:" "})]})]}):a.jsx("div",{className:"h-72 flex items-center justify-center p-4 rounded-lg",style:{backgroundColor:"var(--bg-tertiary)"},children:a.jsxs("div",{className:"text-center",style:{color:"var(--text-tertiary)"},children:[a.jsx("span",{className:"text-4xl block mb-3",children:""}),a.jsxs("p",{children:["AI",a.jsx("br",{}),""]}),a.jsx("p",{className:"text-xs mt-2",children:""})]})})]})]}):a.jsxs("div",{className:"rounded-xl p-8 text-center",style:{backgroundColor:"var(--bg-card)"},children:[a.jsx("span",{className:"text-6xl block mb-4",children:""}),a.jsxs("h2",{className:"text-2xl font-bold mb-2",style:{color:"var(--text-primary)"},children:["",r.username||""]}),a.jsxs("p",{className:"mb-6",style:{color:"var(--text-secondary)"},children:["",a.jsx("br",{}),"AI"]}),a.jsx("button",{onClick:Oe,disabled:S,className:"px-8 py-4 rounded-2xl font-bold text-lg transition-all hover:scale-105 disabled:opacity-50",style:{backgroundColor:"var(--accent-secondary)",color:"white"},children:S?"...":" "}),a.jsxs("div",{className:"mt-8 grid grid-cols-3 gap-4 text-sm",style:{color:"var(--text-tertiary)"},children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl mb-1",children:""}),a.jsx("div",{children:""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl mb-1",children:""}),a.jsx("div",{children:""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl mb-1",children:""}),a.jsx("div",{children:""})]})]})]}),a.jsxs("div",{className:"rounded-xl p-4",style:{backgroundColor:"var(--bg-card)"},children:[a.jsxs("h3",{className:"font-medium mb-2 flex items-center gap-2",style:{color:"var(--text-primary)"},children:[a.jsx("span",{children:""})," "]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-center text-sm",children:[a.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--bg-tertiary)"},children:[a.jsx("div",{className:"text-xl mb-1",children:""}),a.jsx("div",{style:{color:"var(--text-secondary)"},children:""})]}),a.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--bg-tertiary)"},children:[a.jsx("div",{className:"text-xl mb-1",children:""}),a.jsx("div",{style:{color:"var(--text-secondary)"},children:"UP"})]}),a.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--bg-tertiary)"},children:[a.jsx("div",{className:"text-xl mb-1",children:""}),a.jsx("div",{style:{color:"var(--text-secondary)"},children:""})]}),a.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--bg-tertiary)"},children:[a.jsx("div",{className:"text-xl mb-1",children:""}),a.jsx("div",{style:{color:"var(--text-secondary)"},children:""})]})]})]})]})}function CL({diaryEntries:t=[],addDiaryEntry:e,updateDiaryEntry:r,deleteDiaryEntry:n,events:s=[],goals:i=[],tasks:A=[]}){const[o,l]=q.useState(new Date().toISOString().split("T")[0]),[c,d]=q.useState(!1),[p,g]=q.useState([]),[h,b]=q.useState(""),[v,S]=q.useState(!1),[x,y]=q.useState(!1),[B,j]=q.useState(""),O=q.useRef(null),k=q.useRef(null),[M,K]=q.useState(null),[N,H]=q.useState(""),[_,E]=q.useState(!1),[G,P]=q.useState(null),ee=t.filter(F=>F.date===o&&!(F.content&&F.content.includes(""))&&!(F.content&&F.content.includes(""))).sort((F,se)=>new Date(se.createdAt)-new Date(F.createdAt)),ce=A.filter(F=>F.date===o),he=s.filter(F=>F.date===o),ie=i.filter(F=>F.progress<100),de=F=>{const se=new Date(F),Ke=["","","","","","",""];return`${se.getFullYear()}${se.getMonth()+1}${se.getDate()}${Ke[se.getDay()]}`},fe=F=>{if(!F)return"";const se=new Date(F);return`${se.getHours().toString().padStart(2,"0")}:${se.getMinutes().toString().padStart(2,"0")}`};q.useEffect(()=>{var F;(F=O.current)==null||F.scrollIntoView({behavior:"smooth"})},[p]),q.useEffect(()=>{g([]),y(!1),j(""),b("")},[o]);const ve=()=>`


${`

: ${de(o)}


${ce.length>0?ce.map(se=>`- ${se.title}${se.progress===100?"":`${se.progress||0}%`}`).join(`
`):""}


${he.length>0?he.map(se=>`- ${se.title}${se.time?` (${se.time})`:""}`).join(`
`):""}


${ie.length>0?ie.map(se=>`- ${se.title}${se.progress||0}%`).join(`
`):""}
`}


- 
- 
- 
- 


- 
- 
- 
- 


- 140
- 
- 1
-  


- 
- 
- 
- 
- 
- 

NG
- 
- 
- `,I=()=>`


${p.map(se=>`${se.role==="ai"?"":""}: ${se.content}`).join(`
`)}


- 
- 
- 
- 200400
- 
- 
- 



---

**English Version:**

`,R=async(F,se)=>{var ne,Ne,W,He,Ve,$e,Je,ct,Be,Ce;const Ke=localStorage.getItem("ai_api_key")||"",J=localStorage.getItem("ai_provider")||"gemini";if(!Ke)throw new Error("APIGemini API");if(J==="gemini"){const Z=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${Ke}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`${se}

${F.map(_e=>`${_e.role==="ai"?"":""}: ${_e.content}`).join(`
`)}`}]}],generationConfig:{temperature:.8,maxOutputTokens:8192}})}),we=await Z.json();if(!Z.ok)throw new Error(((ne=we.error)==null?void 0:ne.message)||"Gemini API ");return(($e=(Ve=(He=(W=(Ne=we.candidates)==null?void 0:Ne[0])==null?void 0:W.content)==null?void 0:He.parts)==null?void 0:Ve[0])==null?void 0:$e.text)||""}else{const Z=await fetch("https://api.groq.com/openai/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ke}`},body:JSON.stringify({model:"llama-3.3-70b-versatile",messages:[{role:"system",content:se},...F.map(_e=>({role:_e.role==="ai"?"assistant":"user",content:_e.content}))],max_tokens:500,temperature:.8})}),we=await Z.json();if(!Z.ok)throw new Error(((Je=we.error)==null?void 0:Je.message)||"API ");return((Ce=(Be=(ct=we.choices)==null?void 0:ct[0])==null?void 0:Be.message)==null?void 0:Ce.content)||""}},te=async()=>{if(!(localStorage.getItem("ai_api_key")||"")){alert(`API

Gemini API
Google AI Studio: https://aistudio.google.com/apikey`);return}S(!0);try{const se=await R([],ve());g([{role:"ai",content:se}]),setTimeout(()=>{var Ke;(Ke=k.current)==null||Ke.focus()},100)}catch(se){alert(`: ${se.message}`)}finally{S(!1)}},Y=F=>["","","","","","","","","ok","OK","","","",""].some(Ke=>F.includes(Ke)),le=async()=>{if(!h.trim()||v)return;const F=[...p,{role:"user",content:h}];g(F),b(""),S(!0);try{if(Y(h)){g([...F,{role:"ai",content:""}]);const se=await R(F,I());j(se),y(!0),g(Ke=>[...Ke.slice(0,-1),{role:"ai",content:""}])}else{const se=await R(F,ve());g([...F,{role:"ai",content:se}])}}catch(se){alert(`: ${se.message}`)}finally{S(!1),setTimeout(()=>{var se;(se=k.current)==null||se.focus()},100)}},pe=async()=>{if(!(p.length<2||v)){S(!0);try{g(se=>[...se,{role:"ai",content:""}]);const F=await R(p,I());j(F),y(!0),g(se=>[...se.slice(0,-1),{role:"ai",content:""}])}catch(F){alert(`: ${F.message}`)}finally{S(!1)}}},Fe=async()=>{if(B.trim())try{await e({date:o,content:B,isFavorite:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),alert(""),g([]),y(!1),j("")}catch(F){console.error("Failed to save diary:",F),alert("")}},be=()=>{const F=new Date(o);F.setDate(F.getDate()-1),l(F.toISOString().split("T")[0])},Oe=()=>{const F=new Date(o);F.setDate(F.getDate()+1),l(F.toISOString().split("T")[0])},Ye=F=>{K(F),H(F.content||""),E(!0)},ht=async()=>{if(!(!M||!N.trim()))try{await r(M.id,{content:N,updatedAt:new Date().toISOString()}),E(!1),K(null),H("")}catch(F){console.error("Failed to update diary:",F),alert("")}},ue=async F=>{try{await n(F),P(null);const se=t.find(Ke=>Ke.id===F);se&&se.date===o&&l(new Date().toISOString().split("T")[0])}catch(se){console.error("Failed to delete diary:",se),alert("")}},qe={backgroundImage:"repeating-linear-gradient(transparent, transparent 23px, #d4c5a9 23px, #d4c5a9 24px)",backgroundSize:"100% 24px",lineHeight:"24px",fontSize:"10pt"};return a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-2 mb-4",children:[a.jsx("h2",{className:"text-lg md:text-xl font-bold text-slate-200 flex items-center gap-2",children:" "}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("button",{onClick:()=>d(!c),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${c?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:" "})})]}),c&&a.jsxs("div",{className:"mb-4 bg-slate-800/50 rounded-xl p-4 border border-slate-700 max-h-80 overflow-y-auto",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-300 mb-3",children:""}),t.filter(F=>!(F.content&&F.content.includes(""))&&!(F.content&&F.content.includes(""))).length>0?a.jsx("div",{className:"space-y-2",children:t.filter(F=>!(F.content&&F.content.includes(""))&&!(F.content&&F.content.includes(""))).sort((F,se)=>new Date(se.date)-new Date(F.date)).map(F=>{var se;return a.jsxs("div",{className:`p-3 rounded-lg transition-colors ${F.date===o?"bg-blue-600/30 border border-blue-500":"bg-slate-900/50"}`,children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("button",{onClick:()=>{l(F.date),d(!1)},className:"flex-1 text-left hover:opacity-80",children:[a.jsxs("div",{className:"text-sm text-blue-400",children:[de(F.date),F.createdAt&&a.jsx("span",{className:"ml-2 text-slate-500",children:fe(F.createdAt)})]}),a.jsxs("div",{className:"text-xs text-slate-400 truncate mt-1",children:[(se=F.content)==null?void 0:se.substring(0,60),"..."]})]}),a.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[a.jsx("button",{onClick:Ke=>{Ke.stopPropagation(),Ye(F)},className:"p-1.5 text-slate-400 hover:text-blue-400 hover:bg-slate-700 rounded transition-colors",title:"",children:""}),a.jsx("button",{onClick:Ke=>{Ke.stopPropagation(),P(F.id)},className:"p-1.5 text-slate-400 hover:text-red-400 hover:bg-slate-700 rounded transition-colors",title:"",children:""})]})]}),G===F.id&&a.jsxs("div",{className:"mt-2 p-2 bg-red-900/30 border border-red-500/50 rounded-lg",children:[a.jsx("p",{className:"text-xs text-red-300 mb-2",children:""}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>P(null),className:"flex-1 px-2 py-1 text-xs bg-slate-700 text-slate-300 rounded hover:bg-slate-600",children:""}),a.jsx("button",{onClick:()=>ue(F.id),className:"flex-1 px-2 py-1 text-xs bg-red-600 text-white rounded hover:bg-red-500",children:""})]})]})]},F.id)})}):a.jsx("div",{className:"text-sm text-slate-500",children:""})]}),a.jsxs("div",{className:"flex-1 flex gap-4",children:[a.jsxs("div",{className:"flex-1 flex flex-col bg-slate-800/30 rounded-xl border border-slate-700 overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[a.jsx("button",{onClick:be,className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:a.jsx("span",{className:"text-slate-400",children:""})}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-slate-200",children:de(o)}),a.jsxs("div",{className:"text-xs text-slate-500",children:[ce.length>0&&` ${ce.length}`,he.length>0&&`  ${he.length}`]})]}),a.jsx("button",{onClick:Oe,className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:a.jsx("span",{className:"text-slate-400",children:""})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:p.length===0?a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-lg font-bold text-slate-200 mb-2",children:""}),a.jsxs("p",{className:"text-sm text-slate-400 mb-6 max-w-sm",children:["",a.jsx("br",{}),"OK"]}),ee.length>0?a.jsxs("div",{className:"text-sm text-blue-400 mb-4",children:[" ",ee.length,""]}):null,a.jsx("button",{onClick:te,disabled:v,className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-xl font-medium hover:from-purple-500 hover:to-blue-500 transition-all disabled:opacity-50",children:v?"...":" "})]}):a.jsxs(a.Fragment,{children:[p.map((F,se)=>a.jsx("div",{className:`flex ${F.role==="user"?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[80%] p-3 rounded-2xl ${F.role==="user"?"bg-blue-600 text-white rounded-br-md":"bg-slate-700 text-slate-200 rounded-bl-md"}`,children:[F.role==="ai"&&a.jsx("div",{className:"text-xs text-purple-400 mb-1",children:" AI"}),a.jsx("div",{className:"text-sm whitespace-pre-wrap",children:F.content})]})},se)),v&&a.jsx("div",{className:"flex justify-start",children:a.jsx("div",{className:"bg-slate-700 text-slate-400 p-3 rounded-2xl rounded-bl-md",children:a.jsxs("div",{className:"flex gap-1",children:[a.jsx("span",{className:"animate-bounce",children:"."}),a.jsx("span",{className:"animate-bounce",style:{animationDelay:"0.1s"},children:"."}),a.jsx("span",{className:"animate-bounce",style:{animationDelay:"0.2s"},children:"."})]})})}),a.jsx("div",{ref:O})]})}),p.length>0&&!x&&a.jsxs("div",{className:"p-4 border-t border-slate-700",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{ref:k,type:"text",value:h,onChange:F=>b(F.target.value),onKeyDown:F=>F.key==="Enter"&&!F.shiftKey&&le(),placeholder:"...",className:"flex-1 bg-slate-900 border border-slate-700 rounded-xl px-4 py-2 text-slate-200 outline-none focus:border-blue-500",disabled:v,autoFocus:!0}),a.jsx(Cc,{onTranscript:F=>b(se=>se+F),onAutoSend:le,disabled:v}),a.jsx("button",{onClick:le,disabled:!h.trim()||v,className:"px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-500 transition-colors disabled:opacity-50",children:""})]}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsx("div",{className:"text-xs text-slate-500",children:" OK"}),a.jsx("button",{onClick:pe,disabled:p.filter(F=>F.role==="user").length<1||v,className:"text-xs px-3 py-1 bg-purple-600/50 text-purple-300 rounded-lg hover:bg-purple-600 transition-colors disabled:opacity-30",children:" "})]})]})]}),a.jsxs("div",{className:"w-96 flex flex-col",children:[a.jsxs("div",{className:"flex-1 bg-gradient-to-b from-amber-100 to-amber-50 rounded-xl shadow-lg overflow-hidden flex flex-col",style:{minHeight:"500px"},children:[a.jsx("div",{className:"bg-amber-200/50 px-4 py-3 border-b border-amber-300",children:a.jsx("div",{className:"text-amber-800 font-medium text-sm",children:de(o)})}),a.jsx("div",{className:"flex-1 p-4 overflow-y-auto",style:qe,children:x&&B?a.jsx("div",{className:"text-amber-900 whitespace-pre-wrap",children:B}):ee.length>0?a.jsx("div",{className:"space-y-4",children:ee.map((F,se)=>a.jsxs("div",{className:se>0?"pt-4 border-t border-amber-300":"",children:[a.jsx("div",{className:"text-xs text-amber-600 mb-1",children:fe(F.createdAt)}),a.jsx("div",{className:"text-amber-900 whitespace-pre-wrap",children:F.content})]},F.id))}):a.jsxs("div",{className:"text-amber-400 italic",children:["",a.jsx("br",{}),"AI",a.jsx("br",{}),""]})})]}),x&&B&&a.jsxs("div",{className:"mt-4 flex gap-2",children:[a.jsx("button",{onClick:()=>{g([]),y(!1),j("")},className:"flex-1 px-4 py-2 bg-slate-700 text-slate-200 rounded-lg hover:bg-slate-600 transition-colors",children:""}),a.jsx("button",{onClick:Fe,className:"flex-1 px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-500 transition-colors font-medium",children:" "})]})]})]}),_&&M&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-slate-800 rounded-xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-700",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-200",children:" "}),a.jsx("button",{onClick:()=>{E(!1),K(null),H("")},className:"p-2 text-slate-400 hover:text-slate-200 hover:bg-slate-700 rounded-lg transition-colors",children:""})]}),a.jsxs("div",{className:"p-4 flex-1 overflow-y-auto",children:[a.jsx("div",{className:"mb-3",children:a.jsx("div",{className:"text-sm text-blue-400 mb-1",children:de(M.date)})}),a.jsx("textarea",{value:N,onChange:F=>H(F.target.value),className:"w-full h-64 bg-slate-900 border border-slate-700 rounded-lg p-3 text-slate-200 resize-none outline-none focus:border-blue-500",placeholder:"..."})]}),a.jsxs("div",{className:"flex gap-2 p-4 border-t border-slate-700",children:[a.jsx("button",{onClick:()=>{E(!1),K(null),H("")},className:"flex-1 px-4 py-2 bg-slate-700 text-slate-200 rounded-lg hover:bg-slate-600 transition-colors",children:""}),a.jsx("button",{onClick:ht,disabled:!N.trim(),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-500 transition-colors font-medium disabled:opacity-50",children:" "})]})]})})]})}function NL({shoppingItems:t,addShoppingItem:e,updateShoppingItem:r,deleteShoppingItem:n,events:s,goals:i}){const[A,o]=q.useState(!1),[l,c]=q.useState(null),[d,p]=q.useState({title:"",store:"",timing:"immediate",linkedType:"",linkedId:""}),[g,h]=q.useState("all"),[b,v]=q.useState("all"),S=["","100","amazon",""],x={immediate:"",future:""},y=t.filter(N=>{const H=g==="all"||N.store===g,_=b==="all"||N.timing===b;return H&&_&&!N.purchased}),B=t.filter(N=>N.purchased),j=S.map(N=>{const H=y.filter(_=>_.store===N);return{store:N,count:H.length}}),O=(N,H)=>{if(!N||!H)return null;if(N==="event"){const _=s.find(E=>String(E.id)===String(H));return _?{type:"event",name:_.title,date:_.date,icon:"",colorId:_.colorId||"emerald"}:null}if(N==="goal"){const _=i.find(E=>String(E.id)===String(H));return _?{type:"goal",name:_.title,date:_.date,icon:"",colorId:_.colorId||"purple"}:null}return null},k=()=>{d.title.trim()&&(e({title:d.title,store:d.store,timing:d.timing,purchased:!1,linkedType:d.linkedType,linkedId:d.linkedId}),p({title:"",store:"",timing:"immediate",linkedType:"",linkedId:""}),o(!1))},M=()=>{!l||!l.title.trim()||(r(l.id,{title:l.title,store:l.store,timing:l.timing,linkedType:l.linkedType,linkedId:l.linkedId}),c(null))},K=N=>{r(N.id,{...N,purchased:!N.purchased})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h2",{className:"text-xl font-bold",children:""}),a.jsxs("span",{className:"text-slate-400",children:["(",y.length," )"]})]}),a.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors",children:[a.jsx(bt,{name:"plus",size:18}),""]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[a.jsx("p",{className:"text-slate-400 text-sm",children:""}),a.jsxs("p",{className:"text-2xl font-bold text-blue-400",children:[y.length," "]})]}),a.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50",children:[a.jsx("p",{className:"text-slate-400 text-sm",children:""}),a.jsxs("p",{className:"text-2xl font-bold text-emerald-400",children:[B.length," "]})]})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:j.map(({store:N,count:H})=>a.jsxs("div",{className:`bg-slate-800/30 rounded-lg p-3 border cursor-pointer transition-all ${g===N?"border-blue-400 bg-blue-600/20":"border-slate-700/50 hover:border-slate-600"}`,onClick:()=>h(g===N?"all":N),children:[a.jsx("p",{className:"text-sm text-slate-400",children:N}),a.jsxs("p",{className:"text-lg font-semibold",children:[H," "]})]},N))}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsx("button",{onClick:()=>h("all"),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${g==="all"?"bg-blue-600 text-white":"bg-slate-800/50 text-slate-400 hover:bg-slate-700"}`,children:""}),S.map(N=>a.jsx("button",{onClick:()=>h(g===N?"all":N),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${g===N?"bg-blue-600 text-white":"bg-slate-800/50 text-slate-400 hover:bg-slate-700"}`,children:N},N)),a.jsx("div",{className:"w-px bg-slate-700 mx-2"}),a.jsx("button",{onClick:()=>v("all"),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${b==="all"?"bg-emerald-600 text-white":"bg-slate-800/50 text-slate-400 hover:bg-slate-700"}`,children:""}),a.jsx("button",{onClick:()=>v("immediate"),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${b==="immediate"?"bg-emerald-600 text-white":"bg-slate-800/50 text-slate-400 hover:bg-slate-700"}`,children:""}),a.jsx("button",{onClick:()=>v("future"),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${b==="future"?"bg-purple-600 text-white":"bg-slate-800/50 text-slate-400 hover:bg-slate-700"}`,children:""})]}),a.jsx("div",{className:"space-y-3",children:y.length===0?a.jsxs("div",{className:"text-center py-12 text-slate-500",children:[a.jsx(bt,{name:"shopping",size:48,className:"mx-auto mb-4 opacity-50"}),a.jsx("p",{children:""})]}):y.map(N=>{const H=O(N.linkedType,N.linkedId);return a.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4 border border-slate-700/50 flex items-center gap-4 group hover:bg-slate-800/70 transition-colors",children:[a.jsx("button",{onClick:()=>K(N),className:"w-6 h-6 rounded-full border-2 border-slate-600 hover:border-emerald-400 flex items-center justify-center transition-colors",children:N.purchased&&a.jsx(bt,{name:"check",size:14,className:"text-emerald-400"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("h3",{className:"font-semibold truncate",children:N.title}),a.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${N.timing==="immediate"?"bg-emerald-600/20 text-emerald-400":"bg-purple-600/20 text-purple-400"}`,children:x[N.timing]}),H&&(()=>{const _=Un(H.colorId);return a.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full ${_.bgLight} ${_.text}`,children:[H.icon," ",H.name]})})()]}),a.jsx("div",{className:"flex items-center gap-3 mt-1 text-sm text-slate-400",children:a.jsx("span",{className:"bg-slate-700/50 px-2 py-0.5 rounded",children:N.store})})]}),a.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>c(N),className:"p-2 text-slate-400 hover:text-blue-400 transition-colors",children:a.jsx(bt,{name:"edit",size:16})}),a.jsx("button",{onClick:()=>n(N.id),className:"p-2 text-slate-400 hover:text-red-400 transition-colors",children:a.jsx(bt,{name:"trash",size:16})})]})]},N.id)})}),B.length>0&&a.jsxs("div",{className:"mt-8",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-400 mb-4",children:[" (",B.length,")"]}),a.jsx("div",{className:"space-y-2",children:B.map(N=>a.jsxs("div",{className:"bg-slate-800/30 rounded-lg p-3 border border-slate-700/30 flex items-center gap-4 opacity-60",children:[a.jsx("button",{onClick:()=>K(N),className:"w-6 h-6 rounded-full bg-emerald-600 flex items-center justify-center",children:a.jsx(bt,{name:"check",size:14,className:"text-white"})}),a.jsx("span",{className:"flex-1 line-through text-slate-500",children:N.title}),a.jsx("span",{className:"text-sm text-slate-500",children:N.store}),a.jsx("button",{onClick:()=>n(N.id),className:"p-1 text-slate-600 hover:text-red-400 transition-colors",children:a.jsx(bt,{name:"trash",size:14})})]},N.id))})]}),A&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>o(!1),children:a.jsxs("div",{className:"bg-slate-800 rounded-2xl p-6 w-full max-w-md border border-slate-700",onClick:N=>N.stopPropagation(),children:[a.jsx("h3",{className:"text-lg font-bold mb-4",children:""}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:""}),a.jsx("input",{type:"text",value:d.title,onChange:N=>p({...d,title:N.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:": "})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:""}),a.jsx("select",{value:d.store,onChange:N=>p({...d,store:N.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:S.map(N=>a.jsx("option",{value:N,children:N},N))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:""}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"button",onClick:()=>p({...d,timing:"immediate"}),className:`flex-1 py-2 rounded-lg transition-colors ${d.timing==="immediate"?"bg-emerald-600 text-white":"bg-slate-700/50 text-slate-400"}`,children:""}),a.jsx("button",{type:"button",onClick:()=>p({...d,timing:"future"}),className:`flex-1 py-2 rounded-lg transition-colors ${d.timing==="future"?"bg-purple-600 text-white":"bg-slate-700/50 text-slate-400"}`,children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:" ()"}),a.jsxs("select",{value:`${d.linkedType}:${d.linkedId}`,onChange:N=>{const[H,_]=N.target.value.split(":");p({...d,linkedType:H||"",linkedId:_||""})},className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:":",children:""}),a.jsx("optgroup",{label:" ",children:s.map(N=>a.jsxs("option",{value:`event:${N.id}`,children:[N.date?`${N.date} - `:"",N.title]},`event-${N.id}`))}),a.jsx("optgroup",{label:" ",children:i.map(N=>a.jsxs("option",{value:`goal:${N.id}`,children:[N.date?`${N.date} - `:"",N.title]},`goal-${N.id}`))})]})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx("button",{onClick:()=>o(!1),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors",children:""}),a.jsx("button",{onClick:k,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors",children:""})]})]})}),l&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>c(null),children:a.jsxs("div",{className:"bg-slate-800 rounded-2xl p-6 w-full max-w-md border border-slate-700",onClick:N=>N.stopPropagation(),children:[a.jsx("h3",{className:"text-lg font-bold mb-4",children:""}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:""}),a.jsx("input",{type:"text",value:l.title,onChange:N=>c({...l,title:N.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:""}),a.jsx("select",{value:l.store,onChange:N=>c({...l,store:N.target.value}),className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:S.map(N=>a.jsx("option",{value:N,children:N},N))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:""}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"button",onClick:()=>c({...l,timing:"immediate"}),className:`flex-1 py-2 rounded-lg transition-colors ${l.timing==="immediate"?"bg-emerald-600 text-white":"bg-slate-700/50 text-slate-400"}`,children:""}),a.jsx("button",{type:"button",onClick:()=>c({...l,timing:"future"}),className:`flex-1 py-2 rounded-lg transition-colors ${l.timing==="future"?"bg-purple-600 text-white":"bg-slate-700/50 text-slate-400"}`,children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:" ()"}),a.jsxs("select",{value:`${l.linkedType}:${l.linkedId}`,onChange:N=>{const[H,_]=N.target.value.split(":");c({...l,linkedType:H||"",linkedId:_||""})},className:"w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:":",children:""}),a.jsx("optgroup",{label:" ",children:s.map(N=>a.jsxs("option",{value:`event:${N.id}`,children:[N.date?`${N.date} - `:"",N.title]},`event-${N.id}`))}),a.jsx("optgroup",{label:" ",children:i.map(N=>a.jsxs("option",{value:`goal:${N.id}`,children:[N.date?`${N.date} - `:"",N.title]},`goal-${N.id}`))})]})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx("button",{onClick:()=>c(null),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors",children:""}),a.jsx("button",{onClick:M,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors",children:""})]})]})})]})}function SL(){var al,qs,po,go,Pa,oa,Al,ol,ll,pA,mo,Ls,cl,la,gA,ul,lr,dl,hl,fl,mi,xi,pl,gl,Da,mA,ca,ml,wi,xl,xA,wA,xo,vi,vA,Ra,yA,ua,bA,wo,vo,yi,bi,yo,da,bo,m,Q,ae,me,Ie,rt,lt,Lt,Ht,Ar,hr,Nr,Wr,dn,Lr,vn,hn,Pn,Bi,Os,Ci,BA,Ha,Ri,ha,fa,Hi,Dn,pa,ga;const[t]=q.useState(["BTC/USDT","ETH/USDT","SOL/USDT","DOGE/USDT"]),[e,r]=q.useState("BTC/USDT"),[n,s]=q.useState({}),[i,A]=q.useState({}),[o,l]=q.useState(!0),[c,d]=q.useState(!1),[p,g]=q.useState(.5),[h,b]=q.useState(null),[v,S]=q.useState("midnight"),[x,y]=q.useState(!0),[B,j]=q.useState({}),[O,k]=q.useState(()=>localStorage.getItem("kucoin_api_key")||""),[M,K]=q.useState(()=>localStorage.getItem("kucoin_api_secret")||""),[N,H]=q.useState(()=>localStorage.getItem("kucoin_passphrase")||""),[_,E]=q.useState(()=>localStorage.getItem("kucoin_api_version")||"3"),[G,P]=q.useState(!1),[ee,ce]=q.useState(null),[he,ie]=q.useState(!1),[de,fe]=q.useState("1"),[ve,I]=q.useState("5"),[R,te]=q.useState([]),[Y,le]=q.useState(!1),[pe,Fe]=q.useState(()=>{try{const U=localStorage.getItem("price_alerts");return U?JSON.parse(U):[]}catch{return[]}});q.useEffect(()=>{localStorage.setItem("price_alerts",JSON.stringify(pe))},[pe]);const[be,Oe]=q.useState(()=>{try{const U=localStorage.getItem("daily_pnl"),z=U?JSON.parse(U):{date:"",trades:0,wins:0,pnl:0},re=new Date().toISOString().split("T")[0];return z.date!==re?{date:re,trades:0,wins:0,pnl:0}:z}catch{return{date:new Date().toISOString().split("T")[0],trades:0,wins:0,pnl:0}}});q.useEffect(()=>{localStorage.setItem("daily_pnl",JSON.stringify(be))},[be]);const[Ye,ht]=q.useState(()=>{try{const U=localStorage.getItem("trade_positions");return U?JSON.parse(U):{}}catch{return{}}});q.useEffect(()=>{localStorage.setItem("trade_positions",JSON.stringify(Ye))},[Ye]),q.useEffect(()=>{O&&localStorage.setItem("kucoin_api_key",O),M&&localStorage.setItem("kucoin_api_secret",M),N&&localStorage.setItem("kucoin_passphrase",N),_&&localStorage.setItem("kucoin_api_version",_)},[O,M,N,_]);const ue=async(U,z,re,xe,Te)=>{const Pe=`${U}${z}${re}${xe}`,ke=new TextEncoder,We=ke.encode(Te),Ee=ke.encode(Pe),ze=await crypto.subtle.importKey("raw",We,{name:"HMAC",hash:"SHA-256"},!1,["sign"]),ot=await crypto.subtle.sign("HMAC",ze,Ee);return btoa(String.fromCharCode(...new Uint8Array(ot)))},qe=async(U,z)=>{const re=new TextEncoder,xe=re.encode(z),Te=re.encode(U),Pe=await crypto.subtle.importKey("raw",xe,{name:"HMAC",hash:"SHA-256"},!1,["sign"]),ke=await crypto.subtle.sign("HMAC",Pe,Te);return btoa(String.fromCharCode(...new Uint8Array(ke)))},[F,se]=q.useState(""),Ke="https://kucoin-futures-proxy.awogurix.workers.dev",J=async()=>{var U;if(!O||!M||!N){se("API");return}se("...");try{const z=Date.now().toString(),re="GET",xe="/api/v1/account-overview?currency=USDT",Pe=await ue(z,re,xe,"",M),ke=_==="2"||_==="3"||_==="3"?await qe(N,M):N,We=`${Ke}/api/v1/account-overview?currency=USDT`;console.log("Request details:",{timestamp:z,method:re,endpoint:xe,apiVersion:_});const Ee=await fetch(We,{method:"GET",headers:{"Content-Type":"application/json","KC-API-KEY":O,"KC-API-SIGN":Pe,"KC-API-TIMESTAMP":z,"KC-API-PASSPHRASE":ke,"KC-API-KEY-VERSION":_}}),ze=await Ee.json();if(console.log("KuCoin Futures API Response:",ze),ze.code==="200000"&&ze.data)ce({accountEquity:parseFloat(ze.data.accountEquity||0),availableBalance:parseFloat(ze.data.availableBalance||0),marginBalance:parseFloat(ze.data.marginBalance||0),unrealisedPNL:parseFloat(ze.data.unrealisedPNL||0),currency:ze.data.currency||"USDT"}),se(" ");else{let ot=ze.msg||"API";const Ze=((U=ze.code)==null?void 0:U.toString())||"";Ee.status===404||Ze==="404"?ot="APIKuCoin API":Ze==="400001"?ot="KC-API-KEY":Ze==="400002"?ot="":Ze==="400003"?ot="APIAPI":Ze==="400004"?ot="Passphrase":Ze==="400005"?ot="API Secret":Ze==="400007"?ot="Futures":Ze==="411100"?ot="Futures":(Ze==="400003"||ze.msg&&ze.msg.includes("unavailable in the U.S"))&&(ot="USVPN/SG"),(ze.error==="HTML_RESPONSE"||ze.error==="REGION_RESTRICTED")&&(ot="VPN"),ze.error==="Not Found"&&(ot=""),se(` ${ot} (${Ze||Ee.status||"ERR"})`),console.error("KuCoin API Error:",ze,"Status:",Ee.status)}}catch(z){console.error("KuCoin balance error:",z),z.message.includes("Unexpected token")||z.message.includes("JSON")?se(" VPN/SG"):se(` ${z.message}`)}},ne=async()=>{if(!(!O||!M||!N))try{const U=Date.now().toString(),z="GET",re="/api/v1/positions",Te=await ue(U,z,re,"",M),Pe=_==="2"||_==="3"?await qe(N,M):N,We=await(await fetch(`${Ke}${re}`,{method:z,headers:{"Content-Type":"application/json","KC-API-KEY":O,"KC-API-SIGN":Te,"KC-API-TIMESTAMP":U,"KC-API-PASSPHRASE":Pe,"KC-API-KEY-VERSION":_}})).json();if(console.log("KuCoin Positions:",We),We.code==="200000"&&We.data){const Ee=We.data.filter(ze=>ze.currentQty!==0);te(Ee.map(ze=>({symbol:ze.symbol,side:ze.currentQty>0?"LONG":"SHORT",qty:Math.abs(ze.currentQty),entryPrice:parseFloat(ze.avgEntryPrice),markPrice:parseFloat(ze.markPrice),unrealisedPnl:parseFloat(ze.unrealisedPnl),realisedPnl:parseFloat(ze.realisedGrossPnl),leverage:parseFloat(ze.realLeverage),liquidationPrice:parseFloat(ze.liquidationPrice),margin:parseFloat(ze.posMargin),openTime:ze.openingTimestamp,maintMargin:parseFloat(ze.maintMargin),roe:ze.unrealisedRoePcnt?parseFloat(ze.unrealisedRoePcnt)*100:0})))}}catch(U){console.error("KuCoin positions error:",U)}},Ne=async()=>{if(!O||!M||!N){alert("API");return}if(R.length===0){alert("");return}if(confirm(` 

${R.length}

`)){le(!0);try{const U=[];for(const re of R){const xe=Date.now().toString(),Te="POST",Pe="/api/v1/orders",ke={clientOid:`emergency_close_${Date.now()}_${re.symbol}`,symbol:re.symbol,side:re.side==="LONG"?"sell":"buy",type:"market",closeOrder:!0,size:re.qty},We=JSON.stringify(ke),Ee=await ue(xe,Te,Pe,We,M),ze=_==="2"||_==="3"?await qe(N,M):N,Ze=await(await fetch(`${Ke}${Pe}`,{method:"POST",headers:{"Content-Type":"application/json","KC-API-KEY":O,"KC-API-SIGN":Ee,"KC-API-TIMESTAMP":xe,"KC-API-PASSPHRASE":ze,"KC-API-KEY-VERSION":_},body:We})).json();U.push({symbol:re.symbol,success:Ze.code==="200000",data:Ze}),await new Promise(Gt=>setTimeout(Gt,200))}const z=U.filter(re=>re.success).length;alert(` 

: ${z}/${U.length}`),J(),ne()}catch(U){console.error("Emergency close error:",U),alert(` : ${U.message}`)}finally{le(!1)}}},W=async(U,z,re,xe)=>{var Te,Pe,ke;if(!O||!M||!N)return alert("API"),P(!0),!1;ie(!0);try{const We=Date.now().toString(),Ee="POST",ze="/api/v1/orders",ot=U.replace("BTC","XBT").replace("/","").replace("USDT","USDTM"),Ze=(ee==null?void 0:ee.availableBalance)||0,Gt=Ze*parseInt(re)/100,Ct=((ke=(Pe=n[U])==null?void 0:Pe[((Te=n[U])==null?void 0:Te.length)-1])==null?void 0:ke.close)||0,Zt=Gt*parseInt(xe),Se=Math.max(1,Math.floor(Zt));console.log("Order calculation:",{totalBalance:Ze,sizePercentage:re,usageAmount:Gt,leverageValue:xe,buyingPower:Zt,contractSize:Se,currentPrice:Ct});const Qt={clientOid:`order_${Date.now()}`,symbol:ot,side:z.toLowerCase(),type:"market",leverage:xe.toString(),size:Se},er=JSON.stringify(Qt),et=await ue(We,Ee,ze,er,M),Nt=_==="2"||_==="3"?await qe(N,M):N,kt=`${Ke}/api/v1/orders`,It=await(await fetch(kt,{method:"POST",headers:{"Content-Type":"application/json","KC-API-KEY":O,"KC-API-SIGN":et,"KC-API-TIMESTAMP":We,"KC-API-PASSPHRASE":Nt,"KC-API-KEY-VERSION":_},body:er})).json();return console.log("KuCoin Order Response:",It),It.code==="200000"?(alert(` 
OrderId: ${It.data.orderId}
---
: ${Se} 
: ${Gt.toFixed(2)} USDT (${re}%)
: ${Zt.toFixed(2)} USDT (${xe}x)
---
: ${Ze.toFixed(2)} USDT`),J(),!0):(alert(` : ${It.msg}

: ${Se}
: ${Gt.toFixed(2)} USDT
`),!1)}catch(We){return alert(` : ${We.message}`),!1}finally{ie(!1)}},He=async U=>{if(!O||!M||!N)return alert("API"),!1;ie(!0);try{const z=Date.now().toString(),re="POST",xe="/api/v1/orders",Te=U.replace("BTC","XBT").replace("/","").replace("USDT","USDTM"),Pe={clientOid:`close_${Date.now()}`,symbol:Te,type:"market",closeOrder:!0,size:parseInt(de)},ke=JSON.stringify(Pe),We=await ue(z,re,xe,ke,M),Ee=_==="2"||_==="3"?await qe(N,M):N,ze=`${Ke}/api/v1/orders`,Ze=await(await fetch(ze,{method:"POST",headers:{"Content-Type":"application/json","KC-API-KEY":O,"KC-API-SIGN":We,"KC-API-TIMESTAMP":z,"KC-API-PASSPHRASE":Ee,"KC-API-KEY-VERSION":_},body:ke})).json();return console.log("KuCoin Close Response:",Ze),Ze.code==="200000"?(alert(" "),J(),!0):(alert(` : ${Ze.msg}`),!1)}catch(z){return alert(` : ${z.message}`),!1}finally{ie(!1)}},[Ve,$e]=q.useState([]),[Je,ct]=q.useState([]),[Be,Ce]=q.useState(!1),[Z,we]=q.useState("history"),_e=async()=>{if(!(!O||!M||!N)){Ce(!0);try{const U=Date.now().toString(),z="GET",re="/api/v1/fills?pageSize=100",xe=await ue(U,z,re,"",M),Te=_==="2"||_==="3"?await qe(N,M):N,ke=await(await fetch(`${Ke}${re}`,{method:"GET",headers:{"Content-Type":"application/json","KC-API-KEY":O,"KC-API-SIGN":xe,"KC-API-TIMESTAMP":U,"KC-API-PASSPHRASE":Te,"KC-API-KEY-VERSION":_}})).json();if(console.log("Trade History Response:",ke),ke.code==="200000"&&ke.data&&ke.data.items){const We=ke.data.items.map(Ee=>({id:Ee.tradeId,orderId:Ee.orderId,symbol:Ee.symbol,side:Ee.side,price:parseFloat(Ee.price),size:parseFloat(Ee.size),value:parseFloat(Ee.value||0),fee:parseFloat(Ee.fee||0),feeRate:parseFloat(Ee.feeRate||0),pnl:parseFloat(Ee.settleCurrency==="USDT"&&Ee.pnl||0),time:new Date(Ee.tradeTime||Ee.createdAt),tradeType:Ee.tradeType||"trade",liquidity:Ee.liquidity}));$e(We)}}catch(U){console.error("Trade history error:",U)}finally{Ce(!1)}}},Xe=async()=>{if(!(!O||!M||!N)){Ce(!0);try{const U=Date.now().toString(),z="GET",re="/api/v1/history-positions?pageSize=50",xe=await ue(U,z,re,"",M),Te=_==="2"||_==="3"?await qe(N,M):N,ke=await(await fetch(`${Ke}${re}`,{method:"GET",headers:{"Content-Type":"application/json","KC-API-KEY":O,"KC-API-SIGN":xe,"KC-API-TIMESTAMP":U,"KC-API-PASSPHRASE":Te,"KC-API-KEY-VERSION":_}})).json();if(console.log("PnL History Response:",ke),ke.code==="200000"&&ke.data&&ke.data.items){const We=ke.data.items.map(Ee=>({id:Ee.id||Ee.openingTimestamp,symbol:Ee.symbol,side:Ee.side,qty:parseFloat(Ee.qty||Ee.currentQty||0),entryPrice:parseFloat(Ee.avgEntryPrice||0),closePrice:parseFloat(Ee.avgClosePrice||0),pnl:parseFloat(Ee.pnl||Ee.realisedPnl||0),roe:parseFloat(Ee.roe||0)*100,openTime:new Date(Ee.openingTimestamp),closeTime:new Date(Ee.closingTimestamp||Ee.settledTimestamp),leverage:parseFloat(Ee.leverage||1),fee:parseFloat(Ee.tradeFee||0),fundingFee:parseFloat(Ee.fundingFee||0)}));ct(We)}}catch(U){console.error("PnL history error:",U)}finally{Ce(!1)}}},Ge=q.useMemo(()=>{if(!Je.length)return[];const U=[...Je].sort((re,xe)=>re.closeTime-xe.closeTime);let z=0;return U.map(re=>(z+=re.pnl,{date:re.closeTime,pnl:re.pnl,cumulative:z,symbol:re.symbol,side:re.side}))},[Je]),ge=q.useMemo(()=>{if(!Je.length)return null;const U=Je.filter(ze=>ze.pnl>0),z=Je.filter(ze=>ze.pnl<0),re=Je.reduce((ze,ot)=>ze+ot.pnl,0),xe=Je.reduce((ze,ot)=>ze+ot.fee+ot.fundingFee,0),Te=U.length?U.reduce((ze,ot)=>ze+ot.pnl,0)/U.length:0,Pe=z.length?z.reduce((ze,ot)=>ze+ot.pnl,0)/z.length:0,ke=U.length?Math.max(...U.map(ze=>ze.pnl)):0,We=z.length?Math.min(...z.map(ze=>ze.pnl)):0,Ee=z.length&&Pe!==0?Math.abs(U.reduce((ze,ot)=>ze+ot.pnl,0)/z.reduce((ze,ot)=>ze+ot.pnl,0)):0;return{totalTrades:Je.length,wins:U.length,losses:z.length,winRate:U.length/Je.length*100,totalPnl:re,totalFees:xe,netPnl:re-xe,avgWin:Te,avgLoss:Pe,maxWin:ke,maxLoss:We,profitFactor:Ee,avgRoe:Je.reduce((ze,ot)=>ze+ot.roe,0)/Je.length}},[Je]);q.useEffect(()=>{if(O&&M&&N){J(),ne(),_e(),Xe();const U=setInterval(J,3e4),z=setInterval(ne,1e4);return()=>{clearInterval(U),clearInterval(z)}}},[O,M,N]);const Qe=q.useCallback(U=>{if(x)try{const z=new(window.AudioContext||window.webkitAudioContext),re=z.createOscillator(),xe=z.createGain();switch(re.connect(xe),xe.connect(z.destination),U){case"ENTRY_LONG":re.frequency.setValueAtTime(523.25,z.currentTime),re.frequency.setValueAtTime(659.25,z.currentTime+.15),re.frequency.setValueAtTime(783.99,z.currentTime+.3),xe.gain.setValueAtTime(.3,z.currentTime),xe.gain.exponentialRampToValueAtTime(.01,z.currentTime+.5),re.start(z.currentTime),re.stop(z.currentTime+.5);break;case"ENTRY_SHORT":re.frequency.setValueAtTime(783.99,z.currentTime),re.frequency.setValueAtTime(659.25,z.currentTime+.15),re.frequency.setValueAtTime(523.25,z.currentTime+.3),xe.gain.setValueAtTime(.3,z.currentTime),xe.gain.exponentialRampToValueAtTime(.01,z.currentTime+.5),re.start(z.currentTime),re.stop(z.currentTime+.5);break;case"TAKE_PROFIT":re.type="sine",re.frequency.setValueAtTime(1046.5,z.currentTime),re.frequency.setValueAtTime(1318.51,z.currentTime+.1),re.frequency.setValueAtTime(1567.98,z.currentTime+.2),re.frequency.setValueAtTime(2093,z.currentTime+.3),xe.gain.setValueAtTime(.25,z.currentTime),xe.gain.exponentialRampToValueAtTime(.01,z.currentTime+.6),re.start(z.currentTime),re.stop(z.currentTime+.6);break;case"STOP_LOSS":re.type="sawtooth",re.frequency.setValueAtTime(200,z.currentTime),re.frequency.setValueAtTime(150,z.currentTime+.2),re.frequency.setValueAtTime(200,z.currentTime+.4),xe.gain.setValueAtTime(.2,z.currentTime),xe.gain.exponentialRampToValueAtTime(.01,z.currentTime+.6),re.start(z.currentTime),re.stop(z.currentTime+.6);break;default:return}}catch(z){console.log("Sound play failed:",z)}},[x]);q.useEffect(()=>{const U=["ENTRY_LONG","ENTRY_SHORT","TAKE_PROFIT","STOP_LOSS"];for(const z of t){const re=i[z];if(!re)continue;const xe=re.signalType,Te=B[z];U.includes(xe)&&xe!==Te&&(Qe(xe),j(Pe=>({...Pe,[z]:xe})))}},[i,t,B,Qe]),q.useEffect(()=>{var z,re;if(pe.length===0)return;const U=pe.filter(xe=>!xe.triggered);if(U.length!==0)for(const xe of U){const Te=(re=(z=n[xe.symbol])==null?void 0:z.slice(-1)[0])==null?void 0:re.close;if(!Te)continue;let Pe=!1;(xe.condition==="above"&&Te>=xe.price||xe.condition==="below"&&Te<=xe.price)&&(Pe=!0),Pe&&(Qe("ENTRY_LONG"),"Notification"in window&&Notification.permission==="granted"&&new Notification(` : ${xe.symbol}`,{body:`${xe.condition==="above"?"":""}: ${Te.toFixed(2)} (: ${xe.price})`,icon:"/favicon.ico"}),Fe(ke=>ke.map(We=>We.id===xe.id?{...We,triggered:!0,triggeredAt:Date.now()}:We)),xe(` 

${xe.symbol}
${xe.condition==="above"?" ":" "}

: ${Te.toFixed(2)}
: ${xe.price}`))}},[n,pe,Qe]);const ft=(U,z,re)=>{const xe={id:Date.now().toString(),symbol:U,price:parseFloat(z),condition:re,triggered:!1,createdAt:Date.now()};Fe(Te=>[...Te,xe])},at=U=>{Fe(z=>z.filter(re=>re.id!==U))};q.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},[]);const vt=(U,z)=>{if(U.length<z)return null;const re=2/(z+1);let xe=U.slice(0,z).reduce((Te,Pe)=>Te+Pe,0)/z;for(let Te=z;Te<U.length;Te++)xe=U[Te]*re+xe*(1-re);return xe},pt=(U,z=20,re=2)=>{if(U.length<z)return null;const xe=U.slice(-z).map(We=>We.close),Te=xe.reduce((We,Ee)=>We+Ee,0)/z,Pe=xe.reduce((We,Ee)=>We+Math.pow(Ee-Te,2),0)/z,ke=Math.sqrt(Pe);return{upper:Te+re*ke,middle:Te,lower:Te-re*ke,std:ke}},xt=(U,z=12,re=26,xe=9)=>{if(U.length<re+xe)return null;const Te=U.map(Ct=>Ct.close),Pe=vt(Te,z),ke=vt(Te,re),We=Pe-ke,Ee=[];for(let Ct=re;Ct<=Te.length;Ct++){const Zt=Te.slice(0,Ct),Se=vt(Zt,z),Qt=vt(Zt,re);Se!==null&&Qt!==null&&Ee.push(Se-Qt)}const ze=Ee.length>=xe?vt(Ee,xe):We,ot=We-ze,Ze=Ee.length>=2?Ee[Ee.length-2]-ze:ot,Gt=ot-Ze;return{macd:We,signal:ze,histogram:ot,histogramSlope:Gt}},Bt=(U,z=14)=>{if(U.length<z+1)return null;let re=0;for(let xe=U.length-z;xe<U.length;xe++){const Te=U[xe].high,Pe=U[xe].low,ke=U[xe-1].close,We=Math.max(Te-Pe,Math.abs(Te-ke),Math.abs(Pe-ke));re+=We}return re/z},Kt=(U,z=20)=>{if(U.length<z)return null;const re=U.slice(-z).map(We=>We.volume),xe=re.reduce((We,Ee)=>We+Ee,0)/z,Te=U[U.length-1].volume,Pe=Math.sqrt(re.reduce((We,Ee)=>We+Math.pow(Ee-xe,2),0)/z),ke=Te>xe+Pe*1.5;return{current:Te,average:xe,ratio:Te/xe,isSpike:ke}},Et=U=>{if(U.length<50)return{trend:"NEUTRAL",strength:0,ema20:null,ema50:null};const z=U.map(We=>We.close),re=vt(z,20),xe=vt(z,50),Te=z[z.length-1];let Pe="NEUTRAL",ke=0;return re>xe&&Te>re?(Pe="STRONG_UP",ke=(Te-xe)/xe*100):re>xe?(Pe="UP",ke=(re-xe)/xe*100):re<xe&&Te<re?(Pe="STRONG_DOWN",ke=(xe-Te)/xe*100):re<xe&&(Pe="DOWN",ke=(xe-re)/xe*100),{trend:Pe,strength:Math.min(ke,10),ema20:re,ema50:xe}},[At,Br]=q.useState(()=>{const U=localStorage.getItem("trade_learned_params_v51");return U?JSON.parse(U):{rsiPeriod:7,rsiOversold:40,rsiOverbought:60,takeProfitPercent:.25,stopLossPercent:.15,volumeThreshold:.8,maxHoldingMinutes:10,momentumThreshold:.08,lastUpdated:null,performance:{winRate:0,profitFactor:0,trades:0}}}),[L,Ue]=q.useState(!1),[st,Me]=q.useState(0),[Rt,fr]=q.useState([]);q.useEffect(()=>{localStorage.setItem("trade_learned_params_v51",JSON.stringify(At))},[At]);const _t=async()=>{Ue(!0),Me(0),fr([]);const U=z=>fr(re=>[...re.slice(-9),z]);try{U(" ...");const z=kr.symbol.replace("/",""),re=await fetch(`https://api.binance.com/api/v3/klines?symbol=${z}&interval=1m&limit=1000`);if(!re.ok)throw new Error("");const Te=(await re.json()).map(Ze=>({timestamp:new Date(Ze[0]),open:parseFloat(Ze[1]),high:parseFloat(Ze[2]),low:parseFloat(Ze[3]),close:parseFloat(Ze[4]),volume:parseFloat(Ze[5])}));U(` ${Te.length}`),Me(10);const Pe={rsiPeriod:[5,7,9],rsiOversold:[35,40,45],rsiOverbought:[55,60,65],takeProfitPercent:[.15,.2,.25,.3],stopLossPercent:[.1,.15,.2],volumeThreshold:[.6,.8,1],maxHoldingMinutes:[5,8,10,15],momentumThreshold:[.05,.08,.1]};let ke={...At},We=0,Ee=0,ze=1;Object.values(Pe).forEach(Ze=>ze*=Ze.length),U(` ${ze}...`);let ot=0;for(const Ze of Pe.rsiPeriod)for(const Gt of Pe.rsiOversold)for(const Ct of Pe.rsiOverbought)for(const Zt of Pe.takeProfitPercent)for(const Se of Pe.stopLossPercent)for(const Qt of Pe.volumeThreshold)for(const er of Pe.maxHoldingMinutes)for(const et of Pe.momentumThreshold){ot++;const Nt=xr(Te,{rsiPeriod:Ze,rsiOversold:Gt,rsiOverbought:Ct,takeProfitPercent:Zt,stopLossPercent:Se,volumeThreshold:Qt,maxHoldingMinutes:er,momentumThreshold:et}),kt=Math.min(Nt.trades/50,2),zt=Nt.profitFactor*(Nt.winRate/100)*kt,It=We*(Ee/100)*1;if(zt>It&&Nt.trades>=10&&(We=Nt.profitFactor,Ee=Nt.winRate,ke={rsiPeriod:Ze,rsiOversold:Gt,rsiOverbought:Ct,takeProfitPercent:Zt,stopLossPercent:Se,volumeThreshold:Qt,maxHoldingMinutes:er,momentumThreshold:et},U(` : ${Ee.toFixed(0)}% PF${We.toFixed(2)} ${Nt.trades}`)),ot%200===0){const jt=10+Math.floor(ot/ze*80);Me(jt)}}U(" "),U(` : ${Ee.toFixed(1)}% | PF: ${We.toFixed(2)}`),Me(95),Br({...ke,lastUpdated:new Date().toISOString(),performance:{winRate:Ee,profitFactor:We,trades:0}}),Me(100),U(" ")}catch(z){U(` : ${z.message}`)}finally{Ue(!1)}},xr=(U,z)=>{let re=null,xe=0,Te=0,Pe=0,ke=0;const We=(Se,Qt)=>{if(Se.length<Qt+1)return null;let er=0,et=0;for(let zt=Se.length-Qt;zt<Se.length;zt++){const It=Se[zt].close-Se[zt-1].close;It>0?er+=It:et-=It}const Nt=er/Qt,kt=et/Qt;return kt===0?100:100-100/(1+Nt/kt)},Ee=(Se,Qt)=>{if(Se.length<Qt+3)return 0;const er=We(Se.slice(0,-2),Qt),et=We(Se,Qt);return!er||!et?0:et-er},ze=Se=>{if(Se.length<20)return 1;const Qt=Se.slice(-20).reduce((er,et)=>er+et.volume,0)/20;return Se[Se.length-1].volume/Qt};for(let Se=30;Se<U.length;Se++){const Qt=U.slice(0,Se+1),er=We(Qt,z.rsiPeriod),et=Ee(Qt,z.rsiPeriod),Nt=ze(Qt),kt=U[Se].close;if(er)if(re){const It=Se-re.entryBar,jt=re.type==="LONG"?(kt-re.entryPrice)/re.entryPrice*100:(re.entryPrice-kt)/re.entryPrice*100,qt=jt>=z.takeProfitPercent,gr=jt<=-z.stopLossPercent,Sr=It>=z.maxHoldingMinutes;(qt||gr||Sr)&&(jt>0?(xe++,Pe+=jt):(Te++,ke+=Math.abs(jt)),re=null)}else{const zt=Nt>=z.volumeThreshold,It=er<z.rsiOversold,jt=er>z.rsiOverbought,qt=et>.5,gr=et<-.5,Sr=Qt.length>=4?(kt-Qt[Qt.length-4].close)/Qt[Qt.length-4].close*100:0,Or=z.momentumThreshold||.08,rr=20;if(Qt.length>=rr){const Er=Qt.slice(-rr),An=Er.reduce((en,bn)=>en+bn.close,0)/rr,hs=Er.reduce((en,bn)=>en+Math.pow(bn.close-An,2),0)/rr,Ns=Math.sqrt(hs),Jn=An-Ns*2,Ss=An+Ns*2,Wt=It&&qt,Vt=kt<=Jn*1.002&&er<50,cr=Sr>Or&&er<55,br=jt&&gr,yn=kt>=Ss*.998&&er>50,Gr=Sr<-Or&&er>45;(Wt||Vt||cr)&&zt?re={type:"LONG",entryPrice:kt,entryBar:Se}:(br||yn||Gr)&&zt&&(re={type:"SHORT",entryPrice:kt,entryBar:Se})}}}const ot=xe+Te,Ze=ot>0?xe/ot*100:0,Gt=xe>0?Pe/xe:0,Ct=Te>0?ke/Te:1,Zt=Ct>0?Gt/Ct:Gt>0?1/0:0;return{trades:ot,wins:xe,losses:Te,winRate:Ze,profitFactor:Zt,avgWin:Gt,avgLoss:Ct}},ar=(U,z=9)=>{if(U.length<z+1)return null;let re=0,xe=0;for(let We=U.length-z;We<U.length;We++){const Ee=U[We].close-U[We-1].close;Ee>0?re+=Ee:xe-=Ee}const Te=re/z,Pe=xe/z;return Pe===0?100:100-100/(1+Te/Pe)},yt=(U,z=9)=>{if(U.length<z+3)return 0;const re=ar(U.slice(0,-2),z),xe=ar(U.slice(0,-1),z),Te=ar(U,z);return!re||!xe||!Te?0:(Te-re)/2},or=(U,z)=>{if(!U||U.length<20)return{signal:" WAIT",reason:"...",action:null,signalType:"WAIT"};const re=At,xe=ar(U,re.rsiPeriod),Te=yt(U,re.rsiPeriod),Pe=Kt(U),ke=U[U.length-1].close,We=Ye[z],Ee=pt(U),ze=xt(U),ot=Bt(U),Ze=Et(U);if(!xe||!ot)return{signal:" WAIT",reason:"...",action:null,signalType:"WAIT",rsi:xe,bb:Ee,macd:ze,emaTrend:Ze};const Gt=re.takeProfitPercent,Ct=re.stopLossPercent,Zt=re.maxHoldingMinutes*60*1e3;if(We){const Vt=We.entryPrice,cr=new Date(We.entryTime).getTime(),br=Date.now()-cr,yn=Math.floor(br/6e4),Gr=We.type==="LONG"?(ke-Vt)/Vt*100:(Vt-ke)/Vt*100,en=We.type==="LONG"?Vt*(1+Gt/100):Vt*(1-Gt/100),bn=We.type==="LONG"?Vt*(1-Ct/100):Vt*(1+Ct/100),fd=We.type==="LONG"?ke>=en:ke<=en,pd=We.type==="LONG"?ke<=bn:ke>=bn,gd=br>=Zt;return fd?{signal:" ",signalType:"TAKE_PROFIT",reason:`+${Gr.toFixed(3)}% | ${yn}`,action:We.type==="LONG"?"CLOSE_LONG":"CLOSE_SHORT",position:We,pnlPercent:Gr,rsi:xe,bb:Ee,macd:ze,atr:ot,volume:Pe,emaTrend:Ze,lastPrice:ke,tpPrice:en,slPrice:bn,params:re}:pd?{signal:" ",signalType:"STOP_LOSS",reason:`${Gr.toFixed(3)}% | ${yn}`,action:We.type==="LONG"?"CLOSE_LONG":"CLOSE_SHORT",position:We,pnlPercent:Gr,rsi:xe,bb:Ee,macd:ze,atr:ot,volume:Pe,emaTrend:Ze,lastPrice:ke,tpPrice:en,slPrice:bn,params:re}:gd?{signal:" ",signalType:Gr>=0?"TIME_EXIT_PROFIT":"TIME_EXIT_LOSS",reason:`${Gr>=0?"+":""}${Gr.toFixed(3)}% | ${yn}`,action:We.type==="LONG"?"CLOSE_LONG":"CLOSE_SHORT",position:We,pnlPercent:Gr,rsi:xe,bb:Ee,macd:ze,atr:ot,volume:Pe,emaTrend:Ze,lastPrice:ke,params:re}:{signal:We.type==="LONG"?" HOLD":" HOLD",signalType:"HOLDING",reason:`${Gr>=0?"+":""}${Gr.toFixed(3)}% | ${yn}`,action:null,position:We,pnlPercent:Gr,rsi:xe,bb:Ee,macd:ze,atr:ot,volume:Pe,emaTrend:Ze,lastPrice:ke,tpPrice:en,slPrice:bn,params:re}}const Se=Pe.ratio>=re.volumeThreshold,Qt=xe<re.rsiOversold,er=xe>re.rsiOverbought,et=Te>.5,Nt=Te<-.5,kt=U.length>=4?(ke-U[U.length-4].close)/U[U.length-4].close*100:0,zt=re.momentumThreshold||.08,It=Ee?ke<=Ee.lower*1.002:!1,jt=Ee?ke>=Ee.upper*.998:!1,qt=Qt&&et,gr=It&&xe<50,Sr=kt>zt&&xe<55,Or=(qt||gr||Sr)&&Se,rr=er&&Nt,Er=jt&&xe>50,An=kt<-zt&&xe>45,hs=(rr||Er||An)&&Se,Ns=()=>qt?`RSI${xe.toFixed(0)}`:gr?"BB":Sr?`+${kt.toFixed(2)}%`:"",Jn=()=>rr?`RSI${xe.toFixed(0)}`:Er?"BB":An?`${kt.toFixed(2)}%`:"";if(Or){const Vt=ke*(1+Gt/100),cr=ke*(1-Ct/100);return{signal:" LONG",signalType:"ENTRY_LONG",reason:`${Ns()} | Vol ${Pe.ratio.toFixed(1)}x`,action:"OPEN_LONG",rsi:xe,bb:Ee,macd:ze,atr:ot,volume:Pe,emaTrend:Ze,lastPrice:ke,momentum:kt,suggestedTP:Vt,suggestedSL:cr,params:re,pattern:qt?"RSI":gr?"BB":"MOM"}}if((xe<re.rsiOversold+5||Ee&&ke<Ee.lower*1.01)&&!Or)return{signal:" LONG",signalType:"PREPARE_LONG",reason:`RSI${xe.toFixed(0)} | `,action:null,rsi:xe,bb:Ee,macd:ze,atr:ot,volume:Pe,emaTrend:Ze,lastPrice:ke,momentum:kt,params:re};if(hs){const Vt=ke*(1-Gt/100),cr=ke*(1+Ct/100);return{signal:" SHORT",signalType:"ENTRY_SHORT",reason:`${Jn()} | Vol ${Pe.ratio.toFixed(1)}x`,action:"OPEN_SHORT",rsi:xe,bb:Ee,macd:ze,atr:ot,volume:Pe,emaTrend:Ze,lastPrice:ke,momentum:kt,suggestedTP:Vt,suggestedSL:cr,params:re,pattern:rr?"RSI":Er?"BB":"MOM"}}return(xe>re.rsiOverbought-5||Ee&&ke>Ee.upper*.99)&&!hs?{signal:" SHORT",signalType:"PREPARE_SHORT",reason:`RSI${xe.toFixed(0)} | `,action:null,rsi:xe,bb:Ee,macd:ze,atr:ot,volume:Pe,emaTrend:Ze,lastPrice:ke,momentum:kt,params:re}:{signal:" WAIT",signalType:"WAIT",reason:`RSI${xe.toFixed(0)} | Mom${kt>=0?"+":""}${kt.toFixed(2)}%`,action:null,rsi:xe,bb:Ee,macd:ze,atr:ot,volume:Pe,emaTrend:Ze,lastPrice:ke,momentum:kt,params:re}},$r=(U,z,re)=>{ht(xe=>({...xe,[U]:{type:z,entryPrice:re,entryTime:new Date().toISOString(),quantity:1}}))},an=U=>{ht(z=>{const re={...z};return delete re[U],re})},[qr,xn]=q.useState(!1),[mt,On]=q.useState(null),[ds,hi]=q.useState(!1),[Qr,Ta]=q.useState(null),[cA,fi]=q.useState(""),La=[{id:"structure",name:"Dr. Michael Webb",title:"",avatar:"",specialty:"",style:"",color:"text-blue-400",bgColor:"bg-blue-900/30",borderColor:"border-blue-500/50",weight:1.2},{id:"technical",name:"Dr. Sarah Chen",title:"",avatar:"",specialty:"",style:"",color:"text-cyan-400",bgColor:"bg-cyan-900/30",borderColor:"border-cyan-500/50",weight:1},{id:"risk",name:" ",title:"",avatar:"",specialty:"",style:"",color:"text-amber-400",bgColor:"bg-amber-900/30",borderColor:"border-amber-500/50",weight:1.3},{id:"sentiment",name:"Elena Volkov",title:"",avatar:"",specialty:"",style:"",color:"text-purple-400",bgColor:"bg-purple-900/30",borderColor:"border-purple-500/50",weight:.9},{id:"execution",name:"James Park",title:"",avatar:"",specialty:"",style:"",color:"text-emerald-400",bgColor:"bg-emerald-900/30",borderColor:"border-emerald-500/50",weight:1}],kc=U=>{var zt,It;if(!U||U.length<50)return null;const z=U.map(jt=>jt.high),re=U.map(jt=>jt.low),xe=U.map(jt=>jt.close),Te=xe[xe.length-1],Pe=Math.max(...z.slice(-20)),ke=Math.min(...re.slice(-20)),We=(Pe+ke+Te)/3,Ee=2*We-ke,ze=2*We-Pe,ot=We+(Pe-ke),Ze=We-(Pe-ke),Gt=[],Ct=[];for(let jt=5;jt<U.length-5;jt++)z[jt]===Math.max(...z.slice(jt-5,jt+6))&&Gt.push({price:z[jt],index:jt}),re[jt]===Math.min(...re.slice(jt-5,jt+6))&&Ct.push({price:re[jt],index:jt});const Zt=((zt=Gt.filter(jt=>jt.price>Te).sort((jt,qt)=>jt.price-qt.price)[0])==null?void 0:zt.price)||Ee,Se=((It=Ct.filter(jt=>jt.price<Te).sort((jt,qt)=>qt.price-jt.price)[0])==null?void 0:It.price)||ze,Qt=Gt.slice(-3),er=Ct.slice(-3);let et="RANGE";if(Qt.length>=2&&er.length>=2){const jt=Qt[Qt.length-1].price>Qt[Qt.length-2].price,qt=er[er.length-1].price>er[er.length-2].price,gr=Qt[Qt.length-1].price<Qt[Qt.length-2].price,Sr=er[er.length-1].price<er[er.length-2].price;jt&&qt?et="UPTREND":gr&&Sr&&(et="DOWNTREND")}const Nt=(Zt-Te)/Te*100,kt=(Te-Se)/Te*100;return{pivot:We,r1:Ee,r2:ot,s1:ze,s2:Ze,nearestResistance:Zt,nearestSupport:Se,distanceToResistance:Nt,distanceToSupport:kt,trendStructure:et,swingHighs:Gt.slice(-5),swingLows:Ct.slice(-5),currentPrice:Te}},uo=U=>{if(!U||U.length<30)return null;const z=U.map(ot=>ot.volume),re=z.reduce((ot,Ze)=>ot+Ze,0)/z.length,xe=z.slice(-5).reduce((ot,Ze)=>ot+Ze,0)/5,Te=xe/re,Pe=z.slice(0,Math.floor(z.length/2)).reduce((ot,Ze)=>ot+Ze,0),ke=z.slice(Math.floor(z.length/2)).reduce((ot,Ze)=>ot+Ze,0),We=ke>Pe*1.1?"INCREASING":ke<Pe*.9?"DECREASING":"STABLE";U.slice(1).map((ot,Ze)=>ot.close-U[Ze].close);const Ee=U[U.length-1].close-U[U.length-6].close,ze=Ee>0&&Te>1.2||Ee<0&&Te>1.2;return{avgVolume:re,recentVolume:xe,volumeRatio:Te,volumeTrend:We,volumeConfirmation:ze,isHighVolume:Te>1.5,isLowVolume:Te<.7}},rl=U=>{if(!U||U.length<20)return null;const z=[];for(let ze=1;ze<U.length;ze++){const ot=Math.max(U[ze].high-U[ze].low,Math.abs(U[ze].high-U[ze-1].close),Math.abs(U[ze].low-U[ze-1].close));z.push(ot)}const re=z.slice(-14).reduce((ze,ot)=>ze+ot,0)/14,xe=z.slice(-5).reduce((ze,ot)=>ze+ot,0)/5,Te=U[U.length-1].close,Pe=re/Te*100,ke=xe>re*1.2,We=xe<re*.8;let Ee="NORMAL";return Pe>2?Ee="VERY_HIGH":Pe>1?Ee="HIGH":Pe<.3&&(Ee="LOW"),{atr14:re,atr5:xe,atrPercent:Pe,volatilityExpanding:ke,volatilityContracting:We,volatilityLevel:Ee,suggestedSLMultiplier:Ee==="VERY_HIGH"?2.5:Ee==="HIGH"?2:1.5}},nl=U=>{if(!U||U.length<60)return null;const z=(Ct,Zt)=>{const Se=2/(Zt+1);let Qt=Ct.slice(0,Zt).reduce((er,et)=>er+et,0)/Zt;for(let er=Zt;er<Ct.length;er++)Qt=Ct[er]*Se+Qt*(1-Se);return Qt},re=U.map(Ct=>Ct.close),xe=z(re,5),Te=z(re,20),Pe=z(re,60),ke=re[re.length-1],We=ke>xe?"BULL":"BEAR",Ee=ke>Te?"BULL":"BEAR",ze=ke>Pe?"BULL":"BEAR",Ze=[We,Ee,ze].filter(Ct=>Ct==="BULL").length,Gt=Ze===3?"FULL_BULL":Ze===0?"FULL_BEAR":Ze>=2?"MIXED_BULL":"MIXED_BEAR";return{ema5:xe,ema20:Te,ema60:Pe,shortTrend:We,mediumTrend:Ee,longTrend:ze,alignment:Gt,trendStrength:Ze===3||Ze===0?"STRONG":"WEAK"}},Ts=(U,z,re,xe)=>{var Qt,er;const{structure:Te,volume:Pe,volatility:ke,mtf:We}=xe,Ee=(z==null?void 0:z.rsi)||50,ze=z==null?void 0:z.bb,ot=z==null?void 0:z.macd,Ze=(z==null?void 0:z.lastPrice)||0,Gt=(z==null?void 0:z.signalType)||"WAIT",Ct=Gt==="ENTRY_LONG"||Gt==="PREPARE_LONG",Zt=Gt==="ENTRY_SHORT"||Gt==="PREPARE_SHORT";let Se={vote:"NEUTRAL",confidence:50,analysis:"",deepThoughts:[],concerns:[],keyInsights:[],suggestedEntry:null,suggestedTP:null,suggestedSL:null,positionSizePercent:0,riskRewardRatio:0};if(U.id==="structure"){if(!Te)return Se.analysis="",Se.vote="WAIT",Se;const{trendStructure:et,distanceToResistance:Nt,distanceToSupport:kt,nearestResistance:zt,nearestSupport:It}=Te,jt=Ct&&et==="UPTREND"||Zt&&et==="DOWNTREND",qt=Ct&&et==="DOWNTREND"||Zt&&et==="UPTREND";Se.deepThoughts.push(`: ${et}`),Se.deepThoughts.push(`: ${Nt.toFixed(2)}%`),Se.deepThoughts.push(`: ${kt.toFixed(2)}%`);let gr=50;if(jt?(gr+=25,Se.keyInsights.push(" ")):qt&&(gr-=20,Se.concerns.push(" ")),Ct?(Nt>1?(gr+=15,Se.keyInsights.push(` TP (${Nt.toFixed(2)}%)`),Se.suggestedTP=zt*.995):(gr-=15,Se.concerns.push(`  (${Nt.toFixed(2)}%)`),Se.suggestedTP=Ze*1.003),Se.suggestedSL=It*.998):(kt>1?(gr+=15,Se.keyInsights.push(` TP (${kt.toFixed(2)}%)`),Se.suggestedTP=It*1.005):(gr-=15,Se.concerns.push(`  (${kt.toFixed(2)}%)`),Se.suggestedTP=Ze*.997),Se.suggestedSL=zt*1.002),Se.suggestedEntry=Ze,Se.confidence=Math.max(20,Math.min(95,gr)),Se.vote=gr>=65?"GO":gr>=45?"NEUTRAL":"WAIT",Se.suggestedTP&&Se.suggestedSL){const Sr=Math.abs(Se.suggestedTP-Ze),Or=Math.abs(Ze-Se.suggestedSL);Se.riskRewardRatio=Or>0?Sr/Or:0}Se.analysis=`: ${et}${Ct?"":""}${jt?"":qt?"":""}RR: ${Se.riskRewardRatio.toFixed(2)}`,Se.positionSizePercent=Se.vote==="GO"?10:Se.vote==="NEUTRAL"?5:0}else if(U.id==="technical"){let et=50;const Nt=Ee<35,kt=Ee>65,zt=Ee>=40&&Ee<=60;if(Ct&&Nt?(et+=20,Se.keyInsights.push(` RSI (${Ee.toFixed(0)})`)):Zt&&kt?(et+=20,Se.keyInsights.push(` RSI (${Ee.toFixed(0)})`)):zt&&(et-=5,Se.concerns.push(` RSI (${Ee.toFixed(0)})`)),ze){const It=(Ze-ze.lower)/(ze.upper-ze.lower);Se.deepThoughts.push(`BB: ${(It*100).toFixed(0)}%`),Ct&&It<.2?(et+=15,Se.keyInsights.push(" BB")):Zt&&It>.8?(et+=15,Se.keyInsights.push(" BB")):(Ct&&It>.7||Zt&&It<.3)&&(et-=10,Se.concerns.push(" BB"))}if(ot){const It=ot.histogram>0&&ot.macd>ot.signal,jt=ot.histogram<0&&ot.macd<ot.signal;Ct&&It||Zt&&jt?(et+=15,Se.keyInsights.push(" MACD")):(Ct&&jt||Zt&&It)&&(et-=15,Se.concerns.push(" MACD")),Se.deepThoughts.push(`MACD: ${ot.histogram>0?"+":""}${ot.histogram.toFixed(2)}`)}if(We&&(Ct&&We.alignment==="FULL_BULL"||Zt&&We.alignment==="FULL_BEAR"?(et+=20,Se.keyInsights.push(" ")):(Ct&&We.alignment==="FULL_BEAR"||Zt&&We.alignment==="FULL_BULL")&&(et-=20,Se.concerns.push(" "))),Se.confidence=Math.max(20,Math.min(95,et)),Se.vote=et>=65?"GO":et>=45?"NEUTRAL":"WAIT",ke){const It=ke.volatilityLevel==="HIGH"?2.5:2;Ct?(Se.suggestedTP=Ze+ke.atr14*It,Se.suggestedSL=Ze-ke.atr14*1.5):(Se.suggestedTP=Ze-ke.atr14*It,Se.suggestedSL=Ze+ke.atr14*1.5),Se.suggestedEntry=Ze,Se.riskRewardRatio=It/1.5}Se.analysis=`: RSI(${Ee.toFixed(0)})${ze?`BB${((Ze-ze.lower)/(ze.upper-ze.lower)*100).toFixed(0)}%`:"BB N/A"}${We?`MTF:${We.alignment}`:""}`,Se.positionSizePercent=Se.vote==="GO"?8:Se.vote==="NEUTRAL"?4:0}else if(U.id==="risk"){let et=50;ke&&(Se.deepThoughts.push(`ATR: ${ke.atrPercent.toFixed(2)}%`),Se.deepThoughts.push(`: ${ke.volatilityLevel}`),ke.volatilityLevel==="VERY_HIGH"?(et-=25,Se.concerns.push("  - ")):ke.volatilityLevel==="HIGH"?(et-=10,Se.concerns.push("  - ")):ke.volatilityLevel==="LOW"&&(et+=10,Se.keyInsights.push("  - ")),ke.volatilityExpanding&&(et-=15,Se.concerns.push("  - ")));const Nt=Ct?Ze*1.003:Ze*.997,kt=Ct?Ze*.998:Ze*1.002,zt=Math.abs(Nt-Ze)/Math.abs(Ze-kt);Se.deepThoughts.push(`RR: ${zt.toFixed(2)}`);const It=((Qt=At.performance)==null?void 0:Qt.winRate)||50,jt=At.takeProfitPercent||.25,qt=At.stopLossPercent||.15,gr=(It/100*jt-(1-It/100)*qt)/jt,Sr=Math.max(0,Math.min(gr*.5,.15));Se.deepThoughts.push(`: ${(gr*100).toFixed(1)}%`),Se.deepThoughts.push(`: ${(Sr*100).toFixed(1)}%`),Sr>.05?(et+=20,Se.keyInsights.push(`  (${(Sr*100).toFixed(1)}%)`)):Sr>0?(et+=5,Se.keyInsights.push(`  (${(Sr*100).toFixed(1)}%)`)):(et-=30,Se.concerns.push("  - "));const Or=(At.stopLossPercent||.15)*(Sr*100);Or>3&&(et-=15,Se.concerns.push(` 1${Or.toFixed(1)}%`)),Se.confidence=Math.max(20,Math.min(95,et)),Se.vote=et>=60?"GO":et>=40?"NEUTRAL":"WAIT";const rr=ke?ke.atrPercent*ke.suggestedSLMultiplier:.2,Er=rr*1.5;Ct?(Se.suggestedTP=Ze*(1+Er/100),Se.suggestedSL=Ze*(1-rr/100)):(Se.suggestedTP=Ze*(1-Er/100),Se.suggestedSL=Ze*(1+rr/100)),Se.suggestedEntry=Ze,Se.riskRewardRatio=Er/rr,Se.positionSizePercent=Sr*100,Se.analysis=`: ${(gr*100).toFixed(1)}%${(Sr*100).toFixed(1)}%${(ke==null?void 0:ke.volatilityLevel)||"N/A"}${Se.vote==="WAIT"?"":""}`}else if(U.id==="sentiment"){let et=50;if(Se.deepThoughts.push(`RSI: ${Ee.toFixed(0)} (${Ee<30?"":Ee>70?"":""})`),Ct&&Ee<25||Zt&&Ee>75?(et+=25,Se.keyInsights.push("  - ")):Ct&&Ee<35||Zt&&Ee>65?(et+=10,Se.keyInsights.push("  - ")):(Ct&&Ee>60||Zt&&Ee<40)&&(et-=15,Se.concerns.push(" ")),Pe&&(Pe.isHighVolume&&Pe.volumeConfirmation?(et+=15,Se.keyInsights.push(" ")):Pe.isLowVolume&&(et-=10,Se.concerns.push("  - ")),Pe.volumeTrend==="INCREASING"&&(et+=5,Se.deepThoughts.push(" - "))),re&&re.length>=5){const zt=re.slice(-5),It=zt.every(rr=>rr.close<rr.open),jt=zt.every(rr=>rr.close>rr.open);(Ct&&It||Zt&&jt)&&(et+=15,Se.keyInsights.push(" /FOMO"));const qt=zt[zt.length-1],gr=Math.abs(qt.close-qt.open),Sr=Math.min(qt.close,qt.open)-qt.low,Or=qt.high-Math.max(qt.close,qt.open);Ct&&Sr>gr*2?(et+=10,Se.keyInsights.push("  - ")):Zt&&Or>gr*2&&(et+=10,Se.keyInsights.push("  - "))}Se.confidence=Math.max(20,Math.min(95,et)),Se.vote=et>=65?"GO":et>=45?"NEUTRAL":"WAIT";const Nt=Math.pow(10,Math.floor(Math.log10(Ze))),kt=Math.round(Ze/Nt)*Nt;Ct?(Se.suggestedTP=kt+Nt*.5,Se.suggestedSL=kt-Nt*.3):(Se.suggestedTP=kt-Nt*.5,Se.suggestedSL=kt+Nt*.3),Se.suggestedEntry=Ze,Se.analysis=`: RSI${Ee.toFixed(0)}(${Ee<35?"":Ee>65?"":""})${((er=Pe==null?void 0:Pe.volumeRatio)==null?void 0:er.toFixed(1))||"N/A"}x${Se.vote==="GO"?"":""}`,Se.positionSizePercent=Se.vote==="GO"?6:Se.vote==="NEUTRAL"?3:0}else if(U.id==="execution"){let et=50;Pe&&(Pe.isHighVolume?(et+=15,Se.keyInsights.push("  - ")):Pe.isLowVolume&&(et-=20,Se.concerns.push("  - "))),ke&&(ke.volatilityLevel==="VERY_HIGH"?(et-=15,Se.concerns.push("  - ")):ke.volatilityLevel==="LOW"&&(et+=10,Se.keyInsights.push("  - ")),ke.volatilityExpanding&&(et-=10,Se.concerns.push("  - ")));const kt=new Date().getUTCHours(),zt=kt>=7&&kt<=16,It=kt>=13&&kt<=22,jt=kt>=23||kt<=8,qt=kt>=13&&kt<=16;qt?(et+=15,Se.keyInsights.push(" -NY - ")):zt||It?(et+=5,Se.keyInsights.push(" ")):jt&&(et-=5,Se.concerns.push("  - ")),Se.deepThoughts.push(`(UTC): ${kt}:00`),Se.deepThoughts.push(`: ${zt?"London":""}${It?"NY":""}${jt?"Asia":""}`);let gr="";(ke==null?void 0:ke.volatilityLevel)==="VERY_HIGH"||Pe!=null&&Pe.isLowVolume?(gr="3",et-=5):(ke==null?void 0:ke.volatilityLevel)==="LOW"&&(Pe!=null&&Pe.isHighVolume)?(gr="",et+=5):gr="2",Se.deepThoughts.push(`: ${gr}`),Se.confidence=Math.max(20,Math.min(95,et)),Se.vote=et>=60?"GO":et>=40?"NEUTRAL":"WAIT";const Sr=ke!=null&&ke.atrPercent?ke.atrPercent*.1:.02;Ct?(Se.suggestedEntry=Ze*(1+Sr/100),Se.suggestedTP=(z==null?void 0:z.suggestedTP)||Ze*1.003,Se.suggestedSL=(z==null?void 0:z.suggestedSL)||Ze*.998):(Se.suggestedEntry=Ze*(1-Sr/100),Se.suggestedTP=(z==null?void 0:z.suggestedTP)||Ze*.997,Se.suggestedSL=(z==null?void 0:z.suggestedSL)||Ze*1.002),Se.analysis=`: ${Pe!=null&&Pe.isHighVolume?"":Pe!=null&&Pe.isLowVolume?"":""}${(ke==null?void 0:ke.volatilityLevel)||"N/A"}${qt?"":""}${gr}`,Se.positionSizePercent=Se.vote==="GO"?8:Se.vote==="NEUTRAL"?4:0}return Se},ho=async U=>{const z=i[U],re=n[U];if(!z||!re||re.length<50){alert("50");return}Ta(U),xn(!0),hi(!0),On(null);try{fi(" ..."),await new Promise(rr=>setTimeout(rr,400));const xe=kc(re),Te=uo(re),Pe=rl(re),ke=nl(re),We={structure:xe,volume:Te,volatility:Pe,mtf:ke};fi(" ..."),await new Promise(rr=>setTimeout(rr,500));const Ee=[];for(const rr of La){fi(` ${rr.name}...`),await new Promise(An=>setTimeout(An,300));const Er=Ts(rr,z,re,We);Ee.push({expert:rr,opinion:Er})}fi(" ..."),await new Promise(rr=>setTimeout(rr,400));let ze=0,ot=0,Ze=0,Gt=0,Ct=0;Ee.forEach(({expert:rr,opinion:Er})=>{const An=rr.weight;Gt+=An,Ct+=Er.confidence*An,Er.vote==="GO"?ze+=An:Er.vote==="WAIT"?ot+=An:Ze+=An});let Zt=0,Se=0,Qt=0,er=0,et=0,Nt=0;Ee.forEach(({expert:rr,opinion:Er})=>{Er.suggestedTP&&(Zt+=Er.suggestedTP*rr.weight,er+=rr.weight),Er.suggestedSL&&(Se+=Er.suggestedSL*rr.weight,et+=rr.weight),Er.suggestedEntry&&(Qt+=Er.suggestedEntry*rr.weight,Nt+=rr.weight)}),er>0&&(Zt/=er),et>0&&(Se/=et),Nt>0&&(Qt/=Nt);const kt=Ee.find(rr=>rr.expert.id==="risk"),zt=(kt==null?void 0:kt.opinion.positionSizePercent)||5;let It="NEUTRAL",jt="",qt=[];const gr=ze/Gt,Sr=ot/Gt;gr>=.6?(It="GO",jt=`${(gr*100).toFixed(0)}%`,qt.push(" ")):Sr>=.5?(It="WAIT",jt=`${(Sr*100).toFixed(0)}%`,qt.push(" ")):(It="NEUTRAL",jt="",qt.push(" ")),(kt==null?void 0:kt.opinion.vote)==="WAIT"&&It==="GO"&&(It="NEUTRAL",jt="",qt.push(" "));const Or=Qt&&Zt&&Se?Math.abs(Zt-Qt)/Math.abs(Qt-Se):0;Or<1&&It==="GO"&&(It="NEUTRAL",jt=`RR(${Or.toFixed(2)})1.0`,qt.push(" ")),On({symbol:U,signal:z,opinions:Ee,analyses:We,votes:{GO:ze,NEUTRAL:Ze,WAIT:ot},avgConfidence:Ct/Gt,finalVerdict:It,verdictReason:jt,verdictDetails:qt,finalEntry:Qt,finalTP:Zt,finalSL:Se,finalRR:Or,finalPositionSize:zt,timestamp:new Date().toISOString()})}catch(xe){console.error("Debate error:",xe),alert("")}hi(!1),fi("")},[dr,uA]=q.useState(null),[dA,fo]=q.useState(!1),[sl,zs]=q.useState(!1),[kr,Oa]=q.useState({symbol:"BTC/USDT",days:3,interval:"1m",initialCapital:1e4,positionSize:.1,feeRate:.001}),wn=async(U,z,re="15m")=>{const xe=U.replace("/",""),Pe=Math.min(z*(re==="1h"?24:re==="15m"?96:re==="5m"?288:1440),1e3),ke=await fetch(`https://api.binance.com/api/v3/klines?symbol=${xe}&interval=${re}&limit=${Pe}`);if(!ke.ok)throw new Error("Binance API error");return(await ke.json()).map(Ee=>({timestamp:new Date(Ee[0]),open:parseFloat(Ee[1]),high:parseFloat(Ee[2]),low:parseFloat(Ee[3]),close:parseFloat(Ee[4]),volume:parseFloat(Ee[5])}))},il=(U,z,re=null,xe=null)=>{if(!U||U.length<30)return{signalType:"WAIT",action:null};const Te=xe||At,Pe=(Wt,Vt)=>{if(Wt.length<Vt+1)return null;let cr=0,br=0;for(let en=Wt.length-Vt;en<Wt.length;en++){const bn=Wt[en].close-Wt[en-1].close;bn>0?cr+=bn:br-=bn}const yn=cr/Vt,Gr=br/Vt;return Gr===0?100:100-100/(1+yn/Gr)},ke=(Wt,Vt)=>{if(Wt.length<Vt+3)return 0;const cr=Pe(Wt.slice(0,-2),Vt),br=Pe(Wt,Vt);return!cr||!br?0:br-cr},We=Wt=>{if(Wt.length<20)return 1;const Vt=Wt.slice(-20).reduce((cr,br)=>cr+br.volume,0)/20;return Wt[Wt.length-1].volume/Vt},Ee=Pe(U,Te.rsiPeriod),ze=ke(U,Te.rsiPeriod),ot=We(U),Ze=U[U.length-1].close,Gt=U[U.length-1].timestamp;if(!Ee)return{signalType:"WAIT",action:null};const Ct=Te.takeProfitPercent,Zt=Te.stopLossPercent,Se=Te.maxHoldingMinutes*60*1e3;if(z){const Wt=z.entryPrice,Vt=re?Gt.getTime()-new Date(re).getTime():0,cr=z.type==="LONG"?(Ze-Wt)/Wt*100:(Wt-Ze)/Wt*100,br=cr>=Ct,yn=cr<=-Zt,Gr=Vt>=Se;return br?{signalType:"TAKE_PROFIT",action:z.type==="LONG"?"CLOSE_LONG":"CLOSE_SHORT",pnlPercent:cr,lastPrice:Ze}:yn?{signalType:"STOP_LOSS",action:z.type==="LONG"?"CLOSE_LONG":"CLOSE_SHORT",pnlPercent:cr,lastPrice:Ze}:Gr?{signalType:cr>=0?"TIME_EXIT_PROFIT":"TIME_EXIT_LOSS",action:z.type==="LONG"?"CLOSE_LONG":"CLOSE_SHORT",pnlPercent:cr,lastPrice:Ze}:{signalType:"HOLDING",action:null,pnlPercent:cr,lastPrice:Ze}}const Qt=ot>=Te.volumeThreshold,er=Ee<Te.rsiOversold,et=Ee>Te.rsiOverbought,Nt=ze>.5,kt=ze<-.5,zt=U.length>=4?(Ze-U[U.length-4].close)/U[U.length-4].close*100:0,It=Te.momentumThreshold||.08,qt=((Wt,Vt=20)=>{if(Wt.length<Vt)return null;const cr=Wt.slice(-Vt),br=cr.reduce((en,bn)=>en+bn.close,0)/Vt,yn=cr.reduce((en,bn)=>en+Math.pow(bn.close-br,2),0)/Vt,Gr=Math.sqrt(yn);return{middle:br,upper:br+Gr*2,lower:br-Gr*2}})(U),gr=qt?Ze<=qt.lower*1.002:!1,Sr=qt?Ze>=qt.upper*.998:!1,Or=er&&Nt,rr=gr&&Ee<50,Er=zt>It&&Ee<55,An=(Or||rr||Er)&&Qt,hs=et&&kt,Ns=Sr&&Ee>50,Jn=zt<-It&&Ee>45,Ss=(hs||Ns||Jn)&&Qt;return An?{signalType:"ENTRY_LONG",action:"OPEN_LONG",lastPrice:Ze,rsi:Ee,rsiSlope:ze,volumeRatio:ot,momentum:zt,pattern:Or?"RSI":rr?"BB":"MOM"}:Ss?{signalType:"ENTRY_SHORT",action:"OPEN_SHORT",lastPrice:Ze,rsi:Ee,rsiSlope:ze,volumeRatio:ot,momentum:zt,pattern:hs?"RSI":Ns?"BB":"MOM"}:{signalType:"WAIT",action:null,lastPrice:Ze,rsi:Ee,momentum:zt}},pi=async()=>{fo(!0),uA(null);try{const U=await wn(kr.symbol,kr.days,kr.interval);if(U.length<100)throw new Error("100");let z=kr.initialCapital,re=null,xe=0;const Te=[],Pe=[{time:U[50].timestamp,equity:z}];for(let et=50;et<U.length;et++){const Nt=U.slice(0,et+1),kt=il(Nt.slice(-100),re,re==null?void 0:re.entryTime,At),zt=U[et].close,It=U[et].timestamp;if(!re&&(kt.action==="OPEN_LONG"||kt.action==="OPEN_SHORT")){const jt=z*kr.positionSize,qt=jt*kr.feeRate;re={type:kt.action==="OPEN_LONG"?"LONG":"SHORT",entryPrice:zt,entryTime:It,size:jt,entryFee:qt},z-=qt}if(re&&(kt.action==="CLOSE_LONG"||kt.action==="CLOSE_SHORT")){xe=et;const jt=re.size*kr.feeRate;let qt=0;re.type==="LONG"?qt=re.size*((zt-re.entryPrice)/re.entryPrice):qt=re.size*((re.entryPrice-zt)/re.entryPrice),qt-=re.entryFee+jt,z+=qt,Te.push({type:re.type,entryPrice:re.entryPrice,exitPrice:zt,entryTime:re.entryTime,exitTime:It,pnl:qt,pnlPercent:qt/re.size*100,exitReason:kt.signalType}),re=null}if(et%10===0){let jt=0;re&&(re.type==="LONG"?jt=re.size*((zt-re.entryPrice)/re.entryPrice):jt=re.size*((re.entryPrice-zt)/re.entryPrice)),Pe.push({time:It,equity:z+jt})}}const ke=Te.filter(et=>et.pnl>0),We=Te.filter(et=>et.pnl<=0),Ee=Te.reduce((et,Nt)=>et+Nt.pnl,0),ze=ke.length>0?ke.reduce((et,Nt)=>et+Nt.pnl,0)/ke.length:0,ot=We.length>0?Math.abs(We.reduce((et,Nt)=>et+Nt.pnl,0)/We.length):0;let Ze=kr.initialCapital,Gt=0;for(const et of Pe){et.equity>Ze&&(Ze=et.equity);const Nt=(Ze-et.equity)/Ze*100;Nt>Gt&&(Gt=Nt)}const Ct=Te.map(et=>et.pnlPercent),Zt=Ct.length>0?Ct.reduce((et,Nt)=>et+Nt,0)/Ct.length:0,Se=Ct.length>1?Math.sqrt(Ct.reduce((et,Nt)=>et+Math.pow(Nt-Zt,2),0)/(Ct.length-1)):0,Qt=Se>0?Zt/Se*Math.sqrt(252*288/kr.days):0,er=Te.reduce((et,Nt)=>(et[Nt.exitReason]=(et[Nt.exitReason]||0)+1,et),{});uA({symbol:kr.symbol,interval:kr.interval,period:`${kr.days}`,dataPoints:U.length,initialCapital:kr.initialCapital,finalCapital:z,totalReturn:(z-kr.initialCapital)/kr.initialCapital*100,totalPnL:Ee,totalTrades:Te.length,winTrades:ke.length,loseTrades:We.length,winRate:Te.length>0?ke.length/Te.length*100:0,avgWin:ze,avgLoss:ot,profitFactor:ot>0?ze/ot:ze>0?1/0:0,maxDrawdown:Gt,sharpeRatio:Qt,exitReasons:er,trades:Te.slice(-20),equityCurve:Pe})}catch(U){console.error("Backtest error:",U),alert(`: ${U.message}`)}finally{fo(!1)}},hA=async U=>{const z=U.replace("/",""),re=await fetch(`https://api.binance.com/api/v3/klines?symbol=${z}&interval=5m&limit=100`);if(!re.ok)throw new Error("Binance API error");return(await re.json()).map(Te=>({timestamp:new Date(Te[0]),open:parseFloat(Te[1]),high:parseFloat(Te[2]),low:parseFloat(Te[3]),close:parseFloat(Te[4]),volume:parseFloat(Te[5])}))},fA=q.useCallback(async()=>{l(!0);const U={},z={},re=t.map(async xe=>{try{const Te=await hA(xe);if(Te.length>=20)U[xe]=Te,z[xe]=or(Te,xe);else throw new Error("Insufficient data")}catch(Te){console.log(`API fetch failed for ${xe}:`,Te.message),z[xe]={signal:" API Error",signalType:"WAIT",reason:Te.message,action:null}}});await Promise.all(re),s(U),A(z),b(new Date),l(!1)},[t,p]);q.useEffect(()=>{fA();const U=setInterval(fA,1e4);return()=>clearInterval(U)},[fA]);const wr=(U,z)=>U?z==="DOGE/USDT"?U.toFixed(5):U<1?U.toFixed(4):U<100?U.toFixed(2):U.toLocaleString(void 0,{maximumFractionDigits:2}):"-",un=U=>{switch(U){case"ENTRY_LONG":return"text-emerald-400 bg-emerald-500/20 border-emerald-500";case"ENTRY_SHORT":return"text-red-400 bg-red-500/20 border-red-500";case"TAKE_PROFIT":return"text-yellow-400 bg-yellow-500/20 border-yellow-500 animate-pulse";case"STOP_LOSS":return"text-red-500 bg-red-600/30 border-red-600 animate-pulse";case"PREPARE_LONG":return"text-emerald-300/70 bg-emerald-500/10 border-emerald-500/50";case"PREPARE_SHORT":return"text-red-300/70 bg-red-500/10 border-red-500/50";case"HOLDING":return"text-blue-400 bg-blue-500/20 border-blue-500";default:return"text-slate-500 bg-slate-700/30 border-slate-600"}},Di=v==="midnight"?"bg-[#1B2631]":"bg-[#F5F5F5]",nr=v==="midnight"?"text-white":"text-slate-800",gi=v==="midnight"?"bg-slate-800/50":"bg-white/80";return a.jsxs("div",{className:`min-h-[calc(100vh-200px)] ${Di} rounded-xl p-4 md:p-6 transition-colors`,children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl md:text-3xl font-light tracking-widest text-[#D4AF37]",children:["BOTANICAL QUARTET",a.jsx("span",{className:"text-xs text-emerald-400 ml-2",children:"LIVE"})]}),a.jsxs("p",{className:`text-xs ${nr} opacity-50 mt-1`,children:[h?`Last: ${h.toLocaleTimeString()}`:"Loading...",ee&&a.jsxs("span",{className:"ml-2 text-emerald-400",children:["  ",((al=ee.availableBalance)==null?void 0:al.toFixed(2))||"0.00"," USDT",ee.unrealisedPNL!==0&&a.jsxs("span",{className:ee.unrealisedPNL>=0?"text-emerald-300":"text-red-400",children:[" ","(PnL: ",ee.unrealisedPNL>=0?"+":"",(qs=ee.unrealisedPNL)==null?void 0:qs.toFixed(2),")"]})]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{onClick:()=>{if(y(!x),!x)try{const U=new(window.AudioContext||window.webkitAudioContext),z=U.createOscillator(),re=U.createGain();z.connect(re),re.connect(U.destination),z.frequency.setValueAtTime(880,U.currentTime),re.gain.setValueAtTime(.1,U.currentTime),re.gain.exponentialRampToValueAtTime(.01,U.currentTime+.1),z.start(U.currentTime),z.stop(U.currentTime+.1)}catch{}},className:`px-4 py-2 rounded-lg text-sm transition-all ${x?"bg-[#D4AF37] text-slate-900":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:x?"":""}),a.jsx("button",{onClick:()=>d(!c),className:`px-4 py-2 rounded-lg text-sm transition-all ${c?"bg-[#D4AF37] text-slate-900":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:" ZEN"}),a.jsx("button",{onClick:()=>S(v==="midnight"?"canvas":"midnight"),className:"px-4 py-2 bg-slate-700 text-slate-300 rounded-lg text-sm hover:bg-slate-600",children:v==="midnight"?"":""}),a.jsxs("button",{onClick:()=>P(!0),className:`px-4 py-2 rounded-lg text-sm transition-all ${O?"bg-emerald-600 text-white":"bg-amber-600 text-white animate-pulse"}`,children:[" ",O?"KuCoin":"KuCoin"]}),a.jsx("button",{onClick:()=>zs(!0),className:"px-4 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-lg text-sm transition-all",children:" Backtest"})]})]}),G&&a.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:`${gi} rounded-2xl p-6 max-w-md w-full border border-amber-500/30`,children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-amber-400",children:" KuCoin Futures API"}),a.jsx("button",{onClick:()=>P(!1),className:"text-slate-400 hover:text-white text-2xl",children:""})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 block mb-1",children:"API Key"}),a.jsx("input",{type:"text",value:O,onChange:U=>k(U.target.value),placeholder:"6981985ebec02400012ddbcb",className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-2 text-white text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 block mb-1",children:"API Secret"}),a.jsx("input",{type:"password",value:M,onChange:U=>K(U.target.value),placeholder:"",className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-2 text-white text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 block mb-1",children:"PassphraseAPI"}),a.jsx("input",{type:"password",value:N,onChange:U=>H(U.target.value),placeholder:"",className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-2 text-white text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 block mb-1",children:"APIKuCoin API"}),a.jsxs("select",{value:_,onChange:U=>E(U.target.value),className:"w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-2 text-white text-sm",children:[a.jsx("option",{value:"3",children:"Version 3V3API"}),a.jsx("option",{value:"2",children:"Version 2V2API"})]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:" KuCoinAPI"})]}),F&&a.jsxs("div",{className:`p-3 rounded-lg ${F.includes("")?"bg-emerald-900/30 border border-emerald-500/30":F.includes("")?"bg-red-900/30 border border-red-500/30":"bg-blue-900/30 border border-blue-500/30"}`,children:[a.jsx("div",{className:`text-sm font-medium ${F.includes("")?"text-emerald-400":F.includes("")?"text-red-400":"text-blue-400"}`,children:F}),ee&&a.jsxs("div",{className:"text-xs text-slate-400 mt-2 space-y-1",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:[" : ",a.jsx("span",{className:"text-white font-mono",children:(po=ee.availableBalance)==null?void 0:po.toFixed(2)})," USDT"]}),a.jsxs("div",{children:[" : ",a.jsx("span",{className:"text-white font-mono",children:(go=ee.accountEquity)==null?void 0:go.toFixed(2)})," USDT"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:[" : ",a.jsx("span",{className:"text-amber-400 font-mono",children:(Pa=ee.marginBalance)==null?void 0:Pa.toFixed(2)})," USDT"]}),a.jsxs("div",{children:[" PnL: ",a.jsxs("span",{className:`font-mono ${ee.unrealisedPNL>=0?"text-emerald-400":"text-red-400"}`,children:[ee.unrealisedPNL>=0?"+":"",(oa=ee.unrealisedPNL)==null?void 0:oa.toFixed(2)]})," USDT"]})]})]})]}),a.jsx("div",{className:"p-3 bg-amber-900/30 border border-amber-500/30 rounded-lg",children:a.jsxs("div",{className:"text-xs text-amber-400",children:[" KuCoin Futures",a.jsx("br",{}),"APIFutures",a.jsx("br",{}),"API",a.jsx("br",{}),": Cloudflare Workers"]})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>{J()},disabled:!O||!M||!N,className:`flex-1 py-2 rounded-lg text-sm ${O&&M&&N?"bg-slate-700 hover:bg-slate-600 text-white":"bg-slate-800 text-slate-500 cursor-not-allowed"}`,children:" "}),a.jsx("button",{onClick:()=>P(!1),className:"flex-1 py-2 bg-amber-600 hover:bg-amber-500 text-white rounded-lg text-sm",children:""})]})]})]})}),sl&&a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:`${gi} rounded-2xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-slate-700`,children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-xl font-bold text-[#D4AF37]",children:" "}),a.jsx("button",{onClick:()=>zs(!1),className:"text-slate-400 hover:text-white text-2xl",children:""})]}),a.jsxs("div",{className:"mb-4 p-3 bg-gradient-to-r from-amber-900/30 to-orange-900/30 border border-amber-500/30 rounded-lg",children:[a.jsx("div",{className:"text-sm text-amber-300 font-medium mb-1",children:" V5.1 Raschke/Grimes/Volman"}),a.jsxs("div",{className:"text-xs text-slate-400 space-y-1",children:[a.jsx("div",{className:"text-cyan-300 font-medium",children:"3OR:"}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-1",children:[a.jsxs("div",{className:"text-center p-1 bg-emerald-900/30 rounded",children:[a.jsx("div",{className:"text-emerald-400",children:"RSI"}),a.jsxs("div",{className:"text-[10px]",children:["RSI","<",At.rsiOversold,""]})]}),a.jsxs("div",{className:"text-center p-1 bg-blue-900/30 rounded",children:[a.jsx("div",{className:"text-blue-400",children:"BB"}),a.jsxs("div",{className:"text-[10px]",children:["BB+RSI","<","50"]})]}),a.jsxs("div",{className:"text-center p-1 bg-purple-900/30 rounded",children:[a.jsx("div",{className:"text-purple-400",children:""}),a.jsxs("div",{className:"text-[10px]",children:["+",At.momentumThreshold||.08,"%"]})]})]}),a.jsxs("div",{className:"mt-2",children:[a.jsx("span",{className:"text-yellow-400",children:"TP:"})," ",At.takeProfitPercent,"% |",a.jsx("span",{className:"text-red-400 ml-2",children:"SL:"})," ",At.stopLossPercent,"% |",a.jsx("span",{className:"text-purple-400 ml-2",children:"Time:"})," ",At.maxHoldingMinutes," |",a.jsx("span",{className:"text-cyan-400 ml-2",children:"Vol:"})," ",At.volumeThreshold,"x"]}),a.jsx("div",{className:"text-amber-400 mt-1",children:" "})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:`text-xs ${nr} opacity-60 block mb-1`,children:""}),a.jsx("select",{value:kr.symbol,onChange:U=>Oa({...kr,symbol:U.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-white",children:t.map(U=>a.jsx("option",{value:U,children:U},U))})]}),a.jsxs("div",{children:[a.jsx("label",{className:`text-xs ${nr} opacity-60 block mb-1`,children:" "}),a.jsxs("select",{value:kr.interval,onChange:U=>Oa({...kr,interval:U.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-white",children:[a.jsx("option",{value:"1m",children:"1"}),a.jsx("option",{value:"5m",children:"5"}),a.jsx("option",{value:"15m",children:"15"}),a.jsx("option",{value:"1h",children:"1"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:`text-xs ${nr} opacity-60 block mb-1`,children:""}),a.jsxs("select",{value:kr.days,onChange:U=>Oa({...kr,days:parseInt(U.target.value)}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-white",children:[a.jsx("option",{value:1,children:"1"}),a.jsx("option",{value:3,children:"3"}),a.jsx("option",{value:7,children:"7"}),a.jsx("option",{value:10,children:"10"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:`text-xs ${nr} opacity-60 block mb-1`,children:""}),a.jsx("input",{type:"number",value:kr.initialCapital,onChange:U=>Oa({...kr,initialCapital:parseFloat(U.target.value)}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:`text-xs ${nr} opacity-60 block mb-1`,children:""}),a.jsxs("select",{value:kr.positionSize,onChange:U=>Oa({...kr,positionSize:parseFloat(U.target.value)}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-white",children:[a.jsx("option",{value:.05,children:"5%"}),a.jsx("option",{value:.1,children:"10%"}),a.jsx("option",{value:.2,children:"20%"}),a.jsx("option",{value:.5,children:"50%"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsx("button",{onClick:pi,disabled:dA||L,className:"py-3 bg-purple-600 hover:bg-purple-500 disabled:bg-slate-700 text-white rounded-lg font-medium transition-all",children:dA?" ...":" "}),a.jsx("button",{onClick:_t,disabled:L||dA,className:"py-3 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-400 hover:to-orange-400 disabled:bg-slate-700 text-white rounded-lg font-medium transition-all",children:L?` ... ${st}%`:" "})]}),L&&a.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-amber-900/30 to-orange-900/30 border border-amber-500/30 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between text-sm text-amber-300 mb-2",children:[a.jsx("span",{children:" ..."}),a.jsxs("span",{children:[st,"%"]})]}),a.jsx("div",{className:"w-full h-2 bg-slate-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-amber-500 to-orange-500 transition-all duration-300",style:{width:`${st}%`}})}),a.jsx("div",{className:"mt-2 text-xs text-slate-400 space-y-1",children:Rt.map((U,z)=>a.jsx("div",{children:U},z))})]}),a.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-cyan-900/30 to-blue-900/30 border border-cyan-500/30 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm text-cyan-300 font-medium",children:" V5 "}),At.lastUpdated&&a.jsxs("span",{className:"text-xs text-slate-400",children:[": ",new Date(At.lastUpdated).toLocaleDateString("ja-JP")]})]}),a.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-7 gap-2 text-xs",children:[a.jsxs("div",{className:"text-center p-2 bg-slate-800/50 rounded",children:[a.jsx("div",{className:"text-slate-400",children:"RSI"}),a.jsx("div",{className:"text-cyan-400 font-bold",children:At.rsiPeriod})]}),a.jsxs("div",{className:"text-center p-2 bg-slate-800/50 rounded",children:[a.jsx("div",{className:"text-slate-400",children:""}),a.jsx("div",{className:"text-emerald-400 font-bold",children:At.rsiOversold})]}),a.jsxs("div",{className:"text-center p-2 bg-slate-800/50 rounded",children:[a.jsx("div",{className:"text-slate-400",children:""}),a.jsx("div",{className:"text-red-400 font-bold",children:At.rsiOverbought})]}),a.jsxs("div",{className:"text-center p-2 bg-slate-800/50 rounded",children:[a.jsx("div",{className:"text-slate-400",children:"%"}),a.jsxs("div",{className:"text-emerald-400 font-bold",children:[At.takeProfitPercent,"%"]})]}),a.jsxs("div",{className:"text-center p-2 bg-slate-800/50 rounded",children:[a.jsx("div",{className:"text-slate-400",children:"%"}),a.jsxs("div",{className:"text-red-400 font-bold",children:[At.stopLossPercent,"%"]})]}),a.jsxs("div",{className:"text-center p-2 bg-slate-800/50 rounded",children:[a.jsx("div",{className:"text-slate-400",children:"Vol"}),a.jsxs("div",{className:"text-yellow-400 font-bold",children:[At.volumeThreshold,"x"]})]}),a.jsxs("div",{className:"text-center p-2 bg-slate-800/50 rounded",children:[a.jsx("div",{className:"text-slate-400",children:""}),a.jsxs("div",{className:"text-purple-400 font-bold",children:[At.maxHoldingMinutes,""]})]})]}),At.performance&&At.performance.winRate>0&&a.jsxs("div",{className:"mt-2 flex gap-4 text-xs",children:[a.jsx("span",{className:"text-slate-400",children:":"}),a.jsxs("span",{className:"text-emerald-400",children:[" ",At.performance.winRate.toFixed(1),"%"]}),a.jsxs("span",{className:"text-cyan-400",children:["PF ",At.performance.profitFactor.toFixed(2)]})]})]}),dr&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:`${v==="midnight"?"bg-slate-900/50":"bg-slate-100"} rounded-lg p-4`,children:[a.jsx("div",{className:`text-xs ${nr} opacity-50`,children:""}),a.jsxs("div",{className:`text-2xl font-bold ${dr.totalReturn>=0?"text-emerald-400":"text-red-400"}`,children:[dr.totalReturn>=0?"+":"",dr.totalReturn.toFixed(2),"%"]})]}),a.jsxs("div",{className:`${v==="midnight"?"bg-slate-900/50":"bg-slate-100"} rounded-lg p-4`,children:[a.jsx("div",{className:`text-xs ${nr} opacity-50`,children:""}),a.jsxs("div",{className:`text-2xl font-bold ${dr.winRate>=50?"text-emerald-400":"text-yellow-400"}`,children:[dr.winRate.toFixed(1),"%"]})]}),a.jsxs("div",{className:`${v==="midnight"?"bg-slate-900/50":"bg-slate-100"} rounded-lg p-4`,children:[a.jsx("div",{className:`text-xs ${nr} opacity-50`,children:"DD"}),a.jsxs("div",{className:"text-2xl font-bold text-red-400",children:["-",dr.maxDrawdown.toFixed(2),"%"]})]}),a.jsxs("div",{className:`${v==="midnight"?"bg-slate-900/50":"bg-slate-100"} rounded-lg p-4`,children:[a.jsx("div",{className:`text-xs ${nr} opacity-50`,children:"Profit Factor"}),a.jsx("div",{className:`text-2xl font-bold ${dr.profitFactor>=1.5?"text-emerald-400":dr.profitFactor>=1?"text-yellow-400":"text-red-400"}`,children:dr.profitFactor===1/0?"":dr.profitFactor.toFixed(2)})]})]}),a.jsxs("div",{className:`${v==="midnight"?"bg-slate-900/50":"bg-slate-100"} rounded-lg p-4`,children:[a.jsx("h4",{className:`text-sm font-medium ${nr} mb-3`,children:""}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:`${nr} opacity-50`,children:":"}),a.jsx("span",{className:`ml-2 ${nr}`,children:dr.period})]}),a.jsxs("div",{children:[a.jsx("span",{className:`${nr} opacity-50`,children:":"}),a.jsx("span",{className:`ml-2 ${nr}`,children:dr.interval})]}),a.jsxs("div",{children:[a.jsx("span",{className:`${nr} opacity-50`,children:":"}),a.jsxs("span",{className:`ml-2 ${nr}`,children:[dr.dataPoints,""]})]}),a.jsxs("div",{children:[a.jsx("span",{className:`${nr} opacity-50`,children:":"}),a.jsxs("span",{className:`ml-2 ${nr}`,children:[dr.totalTrades,""]})]}),a.jsxs("div",{children:[a.jsx("span",{className:`${nr} opacity-50`,children:":"}),a.jsxs("span",{className:"ml-2 text-emerald-400",children:[dr.winTrades,""]}),a.jsxs("span",{className:"text-red-400 ml-1",children:[dr.loseTrades,""]})]}),a.jsxs("div",{children:[a.jsx("span",{className:`${nr} opacity-50`,children:":"}),a.jsxs("span",{className:"ml-2 text-emerald-400",children:["$",dr.avgWin.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("span",{className:`${nr} opacity-50`,children:":"}),a.jsxs("span",{className:"ml-2 text-red-400",children:["-$",dr.avgLoss.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("span",{className:`${nr} opacity-50`,children:"Sharpe:"}),a.jsx("span",{className:`ml-2 ${dr.sharpeRatio>=1?"text-emerald-400":"text-yellow-400"}`,children:dr.sharpeRatio.toFixed(2)})]}),a.jsxs("div",{children:[a.jsx("span",{className:`${nr} opacity-50`,children:":"}),a.jsxs("span",{className:`ml-2 ${nr}`,children:["$",dr.finalCapital.toFixed(2)]})]})]})]}),dr.exitReasons&&Object.keys(dr.exitReasons).length>0&&a.jsxs("div",{className:`${v==="midnight"?"bg-slate-900/50":"bg-slate-100"} rounded-lg p-4`,children:[a.jsx("h4",{className:`text-sm font-medium ${nr} mb-3`,children:"Triple Barrier "}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(dr.exitReasons).map(([U,z])=>a.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${U==="TAKE_PROFIT"?"bg-emerald-500/20 text-emerald-400":U==="STOP_LOSS"?"bg-red-500/20 text-red-400":U==="TIME_EXIT_PROFIT"?"bg-purple-500/20 text-purple-400":U==="TIME_EXIT_LOSS"?"bg-orange-500/20 text-orange-400":U==="TREND_REVERSAL"?"bg-blue-500/20 text-blue-400":"bg-slate-500/20 text-slate-400"}`,children:[U==="TAKE_PROFIT"?" (2ATR)":U==="STOP_LOSS"?" (1ATR)":U==="TIME_EXIT_PROFIT"?" (+)":U==="TIME_EXIT_LOSS"?" (-)":U==="TREND_REVERSAL"?" ":U,": ",z,""]},U))})]}),a.jsxs("div",{className:`${v==="midnight"?"bg-slate-900/50":"bg-slate-100"} rounded-lg p-4`,children:[a.jsx("h4",{className:`text-sm font-medium ${nr} mb-3`,children:""}),a.jsx("div",{className:"h-32 flex items-end gap-0.5",children:dr.equityCurve.map((U,z)=>{const re=Math.min(...dr.equityCurve.map(We=>We.equity)),Te=Math.max(...dr.equityCurve.map(We=>We.equity))-re||1,Pe=(U.equity-re)/Te*100,ke=U.equity>=dr.initialCapital;return a.jsx("div",{className:`flex-1 ${ke?"bg-emerald-500/60":"bg-red-500/60"} rounded-t`,style:{height:`${Math.max(Pe,5)}%`},title:`${U.time.toLocaleDateString()} - $${U.equity.toFixed(2)}`},z)})}),a.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-2",children:[a.jsx("span",{children:(Al=dr.equityCurve[0])==null?void 0:Al.time.toLocaleDateString()}),a.jsx("span",{children:(ol=dr.equityCurve[dr.equityCurve.length-1])==null?void 0:ol.time.toLocaleDateString()})]})]}),dr.trades.length>0&&a.jsxs("div",{className:`${v==="midnight"?"bg-slate-900/50":"bg-slate-100"} rounded-lg p-4`,children:[a.jsx("h4",{className:`text-sm font-medium ${nr} mb-3`,children:""}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{className:`${nr} opacity-50`,children:[a.jsx("th",{className:"text-left py-1",children:""}),a.jsx("th",{className:"text-right",children:"Entry"}),a.jsx("th",{className:"text-right",children:"Exit"}),a.jsx("th",{className:"text-right",children:"PnL"}),a.jsx("th",{className:"text-right",children:""})]})}),a.jsx("tbody",{children:dr.trades.map((U,z)=>a.jsxs("tr",{className:"border-t border-slate-700/50",children:[a.jsx("td",{className:`py-2 ${U.type==="LONG"?"text-emerald-400":"text-red-400"}`,children:U.type}),a.jsx("td",{className:`text-right ${nr}`,children:wr(U.entryPrice,dr.symbol)}),a.jsx("td",{className:`text-right ${nr}`,children:wr(U.exitPrice,dr.symbol)}),a.jsxs("td",{className:`text-right ${U.pnl>=0?"text-emerald-400":"text-red-400"}`,children:[U.pnl>=0?"+":"",U.pnlPercent.toFixed(2),"%"]}),a.jsx("td",{className:`text-right ${nr} opacity-60`,children:U.exitReason==="TAKE_PROFIT"?"":""})]},z))})]})})]}),a.jsxs("div",{className:`${v==="midnight"?"bg-slate-900/50":"bg-slate-100"} rounded-lg p-4`,children:[a.jsx("h4",{className:`text-sm font-medium ${nr} mb-2`,children:" "}),a.jsx("p",{className:`text-sm ${nr} opacity-70`,children:dr.totalTrades===0?" ":dr.profitFactor>=1.5&&dr.winRate>=50?" ":dr.profitFactor>=1?" ":" "}),a.jsx("p",{className:`text-xs ${nr} opacity-40 mt-2`,children:" "})]})]})]})}),qr&&a.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:`${gi} rounded-2xl p-6 max-w-5xl w-full max-h-[95vh] overflow-y-auto border border-purple-500/30`,children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold bg-gradient-to-r from-purple-400 to-indigo-400 bg-clip-text text-transparent",children:" AI v2.0"}),a.jsxs("p",{className:"text-sm text-slate-400 mt-1",children:[Qr," - ",((ll=i[Qr])==null?void 0:ll.signalType)==="ENTRY_LONG"?"LONG":"SHORT",""]})]}),a.jsx("button",{onClick:()=>xn(!1),className:"text-slate-400 hover:text-white text-2xl",children:""})]}),ds?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-5xl mb-4 animate-pulse",children:""}),a.jsx("div",{className:"text-lg text-purple-400 font-medium",children:cA||"..."}),a.jsx("div",{className:"flex justify-center gap-3 mt-6",children:La.map((U,z)=>a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("span",{className:"text-3xl animate-bounce",style:{animationDelay:`${z*.15}s`},children:U.avatar}),a.jsx("span",{className:"text-xs text-slate-500 mt-1",children:U.name.split(" ")[0]})]},U.id))}),a.jsx("div",{className:"mt-6 w-64 mx-auto bg-slate-800 rounded-full h-2 overflow-hidden",children:a.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-500 h-full animate-pulse",style:{width:"60%"}})})]}):mt?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:`p-5 rounded-xl border-2 ${mt.finalVerdict==="GO"?"bg-emerald-900/30 border-emerald-500":mt.finalVerdict==="WAIT"?"bg-red-900/30 border-red-500":"bg-amber-900/30 border-amber-500"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:`text-3xl font-bold ${mt.finalVerdict==="GO"?"text-emerald-400":mt.finalVerdict==="WAIT"?"text-red-400":"text-amber-400"}`,children:mt.finalVerdict==="GO"?" ":mt.finalVerdict==="WAIT"?" ":" "}),a.jsx("div",{className:"text-sm text-slate-400 mt-1",children:mt.verdictReason}),mt.verdictDetails&&mt.verdictDetails.map((U,z)=>a.jsx("div",{className:"text-xs text-slate-500 mt-1",children:U},z))]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm text-slate-400",children:""}),a.jsxs("div",{className:`text-3xl font-bold ${mt.avgConfidence>=70?"text-emerald-400":mt.avgConfidence>=50?"text-amber-400":"text-red-400"}`,children:[mt.avgConfidence.toFixed(0),"%"]})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex gap-1 h-3 rounded-full overflow-hidden",children:[a.jsx("div",{className:"bg-emerald-500",style:{width:`${mt.votes.GO/(mt.votes.GO+mt.votes.NEUTRAL+mt.votes.WAIT)*100}%`}}),a.jsx("div",{className:"bg-amber-500",style:{width:`${mt.votes.NEUTRAL/(mt.votes.GO+mt.votes.NEUTRAL+mt.votes.WAIT)*100}%`}}),a.jsx("div",{className:"bg-red-500",style:{width:`${mt.votes.WAIT/(mt.votes.GO+mt.votes.NEUTRAL+mt.votes.WAIT)*100}%`}})]}),a.jsxs("div",{className:"flex justify-between text-xs mt-1",children:[a.jsxs("span",{className:"text-emerald-400",children:["GO: ",mt.votes.GO.toFixed(1)]}),a.jsxs("span",{className:"text-amber-400",children:[": ",mt.votes.NEUTRAL.toFixed(1)]}),a.jsxs("span",{className:"text-red-400",children:["WAIT: ",mt.votes.WAIT.toFixed(1)]})]})]})]}),mt.finalVerdict!=="WAIT"&&mt.finalTP&&mt.finalSL&&a.jsxs("div",{className:"p-5 rounded-xl bg-gradient-to-br from-slate-800 to-slate-900 border-2 border-purple-500",children:[a.jsx("h4",{className:"text-lg font-bold text-purple-400 mb-4 flex items-center gap-2",children:" "}),a.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-4",children:[a.jsxs("div",{className:"p-4 rounded-xl bg-red-900/40 border-2 border-red-500",children:[a.jsx("div",{className:"text-sm text-red-400 font-medium mb-2",children:"  (SL)"}),a.jsx("div",{className:"text-2xl font-bold text-red-400 font-mono",children:wr(mt.finalSL,Qr)}),a.jsxs("div",{className:"text-xs text-red-300 mt-1",children:[((mt.finalSL-mt.finalEntry)/mt.finalEntry*100).toFixed(2),"%"]})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-blue-900/40 border-2 border-blue-500",children:[a.jsx("div",{className:"text-sm text-blue-400 font-medium mb-2",children:" "}),a.jsx("div",{className:"text-2xl font-bold text-white font-mono",children:wr(mt.finalEntry,Qr)}),a.jsx("div",{className:"text-xs text-slate-400 mt-1",children:""})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-emerald-900/40 border-2 border-emerald-500",children:[a.jsx("div",{className:"text-sm text-emerald-400 font-medium mb-2",children:"  (TP)"}),a.jsx("div",{className:"text-2xl font-bold text-emerald-400 font-mono",children:wr(mt.finalTP,Qr)}),a.jsxs("div",{className:"text-xs text-emerald-300 mt-1",children:[((mt.finalTP-mt.finalEntry)/mt.finalEntry*100*(((pA=i[Qr])==null?void 0:pA.action)==="OPEN_LONG"?1:-1)).toFixed(2),"%"]})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-purple-900/40 border-2 border-purple-500",children:[a.jsx("div",{className:"text-sm text-purple-400 font-medium mb-2",children:" RR"}),a.jsxs("div",{className:`text-2xl font-bold font-mono ${mt.finalRR>=1.5?"text-emerald-400":mt.finalRR>=1?"text-amber-400":"text-red-400"}`,children:["1:",mt.finalRR.toFixed(2)]}),a.jsx("div",{className:"text-xs text-slate-400 mt-1",children:mt.finalRR>=1.5?"":mt.finalRR>=1?"":""})]})]}),a.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-slate-900/50",children:[a.jsxs("div",{className:"flex justify-between text-xs mb-2",children:[a.jsxs("span",{className:"text-red-400",children:["SL ",wr(mt.finalSL,Qr)]}),a.jsxs("span",{className:"text-blue-400 font-bold",children:["Entry ",wr(mt.finalEntry,Qr)]}),a.jsxs("span",{className:"text-emerald-400",children:["TP ",wr(mt.finalTP,Qr)]})]}),a.jsxs("div",{className:"h-4 bg-slate-700 rounded-full overflow-hidden relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 bg-red-500/30",style:{width:"30%"}}),a.jsx("div",{className:"absolute inset-y-0 right-0 bg-emerald-500/30",style:{width:"70%"}}),a.jsx("div",{className:"absolute inset-y-0 left-[30%] w-1 bg-blue-400"})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-slate-800/50",children:[a.jsx("span",{className:"text-sm text-slate-400",children:""}),a.jsxs("span",{className:"text-lg font-bold text-amber-400",children:[mt.finalPositionSize.toFixed(1),"%"]})]})]}),a.jsxs("details",{className:"group",children:[a.jsxs("summary",{className:"cursor-pointer p-3 rounded-lg bg-slate-800/50 hover:bg-slate-800 transition-colors flex items-center justify-between",children:[a.jsx("span",{className:"text-slate-300 font-medium",children:" "}),a.jsx("span",{className:"text-slate-400 group-open:rotate-180 transition-transform",children:""})]}),a.jsx("div",{className:"mt-4 space-y-4",children:mt.opinions.map(({expert:U,opinion:z})=>{var re;return a.jsx("div",{className:`p-4 rounded-xl ${U.bgColor} border ${U.borderColor}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"text-3xl",children:U.avatar}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{children:[a.jsx("div",{className:`font-bold ${U.color}`,children:U.name}),a.jsxs("div",{className:"text-xs text-slate-400",children:[U.title," | ",U.specialty]})]}),a.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-bold ${z.vote==="GO"?"bg-emerald-500/20 text-emerald-400":z.vote==="WAIT"?"bg-red-500/20 text-red-400":"bg-amber-500/20 text-amber-400"}`,children:[z.vote==="GO"?" GO":z.vote==="WAIT"?" WAIT":" ",a.jsxs("span",{className:"ml-1 text-xs opacity-70",children:[z.confidence,"%"]})]})]}),a.jsxs("div",{className:"space-y-2",children:[z.deepThoughts&&z.deepThoughts.length>0&&a.jsx("div",{className:"text-xs text-slate-500 flex flex-wrap gap-2",children:z.deepThoughts.map((xe,Te)=>a.jsx("span",{className:"px-2 py-0.5 bg-slate-800/50 rounded",children:xe},Te))}),a.jsx("div",{className:"text-sm text-slate-300",children:z.analysis}),z.keyInsights&&z.keyInsights.length>0&&a.jsx("div",{className:"text-sm text-emerald-400",children:z.keyInsights.join(" | ")}),z.concerns&&z.concerns.length>0&&a.jsx("div",{className:"text-sm text-amber-400",children:z.concerns.join(" | ")}),z.suggestedTP&&z.suggestedSL&&a.jsxs("div",{className:"text-xs text-slate-500 flex gap-4 mt-2 pt-2 border-t border-slate-700/50",children:[a.jsxs("span",{children:["Entry: ",wr(z.suggestedEntry,Qr)]}),a.jsxs("span",{className:"text-emerald-400",children:["TP: ",wr(z.suggestedTP,Qr)]}),a.jsxs("span",{className:"text-red-400",children:["SL: ",wr(z.suggestedSL,Qr)]}),a.jsxs("span",{children:["RR: ",((re=z.riskRewardRatio)==null?void 0:re.toFixed(2))||"N/A"]})]})]})]})]})},U.id)})})]}),a.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-700",children:[a.jsx("button",{onClick:()=>xn(!1),className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-medium transition-all",children:""}),mt.finalVerdict!=="WAIT"&&((mo=i[Qr])==null?void 0:mo.action)&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>{$r(Qr,i[Qr].action==="OPEN_LONG"?"LONG":"SHORT",mt.finalEntry),xn(!1)},className:"px-6 py-3 bg-slate-600 hover:bg-slate-500 text-white rounded-lg font-medium transition-all",children:" "}),O&&a.jsx("button",{onClick:()=>{W(Qr,i[Qr].action==="OPEN_LONG"?"buy":"sell",Math.min(de,mt.finalPositionSize*2).toString(),ve),xn(!1)},disabled:he,className:`flex-1 py-3 rounded-lg font-bold transition-all ${((Ls=i[Qr])==null?void 0:Ls.action)==="OPEN_LONG"?"bg-gradient-to-r from-emerald-600 to-emerald-500 hover:from-emerald-500 hover:to-emerald-400 text-white shadow-lg shadow-emerald-500/30":"bg-gradient-to-r from-red-600 to-red-500 hover:from-red-500 hover:to-red-400 text-white shadow-lg shadow-red-500/30"} ${he?"opacity-50":""}`,children:he?" ...":((cl=i[Qr])==null?void 0:cl.action)==="OPEN_LONG"?` LONG @ ${wr(mt.finalEntry,Qr)}`:` SHORT @ ${wr(mt.finalEntry,Qr)}`})]}),mt.finalVerdict==="WAIT"&&a.jsxs("div",{className:"flex-1 py-3 px-4 bg-red-900/30 border border-red-500/50 rounded-lg text-center",children:[a.jsx("span",{className:"text-red-400 font-medium",children:" "}),a.jsx("span",{className:"text-slate-400 text-sm ml-2",children:""})]})]})]}):null]})}),R.length>0&&a.jsxs("div",{className:`${gi} rounded-xl p-4 border border-amber-500/50 mb-6`,children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-amber-400 font-bold",children:" "}),a.jsxs("span",{className:"px-2 py-0.5 bg-amber-500/20 text-amber-400 text-xs rounded-full",children:[R.length,""]})]}),a.jsx("button",{onClick:Ne,disabled:Y,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white text-sm font-bold rounded-lg transition-all disabled:opacity-50 flex items-center gap-2",children:Y?a.jsx(a.Fragment,{children:" ..."}):a.jsx(a.Fragment,{children:" "})})]}),a.jsx("div",{className:"space-y-3",children:R.map((U,z)=>{var ke,We,Ee,ze;const re=U.openTime?Math.floor((Date.now()-U.openTime)/1e3/60):0,xe=Math.floor(re/60),Te=re%60,Pe=U.entryPrice>0?(U.markPrice-U.entryPrice)/U.entryPrice*100*(U.side==="LONG"?1:-1):0;return a.jsxs("div",{className:"p-3 rounded-lg bg-slate-900/50 border border-slate-700",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold ${U.side==="LONG"?"bg-emerald-500/30 text-emerald-400":"bg-red-500/30 text-red-400"}`,children:U.side}),a.jsx("span",{className:"text-white font-medium",children:U.symbol}),a.jsxs("span",{className:"text-slate-400 text-xs",children:["",((ke=U.leverage)==null?void 0:ke.toFixed(1))||"-"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:`text-lg font-bold ${U.unrealisedPnl>=0?"text-emerald-400":"text-red-400"}`,children:[U.unrealisedPnl>=0?"+":"",(We=U.unrealisedPnl)==null?void 0:We.toFixed(2)," USDT"]}),a.jsxs("div",{className:`text-xs ${Pe>=0?"text-emerald-400":"text-red-400"}`,children:["ROE: ",Pe>=0?"+":"",Pe.toFixed(2),"%"]})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-500",children:""}),a.jsx("div",{className:"text-white font-mono",children:U.qty})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-500",children:""}),a.jsx("div",{className:"text-white font-mono",children:(Ee=U.entryPrice)==null?void 0:Ee.toFixed(2)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-500",children:""}),a.jsx("div",{className:"text-[#D4AF37] font-mono",children:(ze=U.markPrice)==null?void 0:ze.toFixed(2)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-500",children:""}),a.jsxs("div",{className:"text-slate-300",children:[xe>0?`${xe}h `:"",Te,"m"]})]})]}),a.jsxs("div",{className:"mt-2",children:[a.jsxs("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden relative",children:[U.liquidationPrice>0&&a.jsx("div",{className:"absolute inset-y-0 bg-gradient-to-r from-red-500 to-emerald-500 opacity-30",style:{width:"100%"}}),a.jsx("div",{className:`absolute inset-y-0 left-1/2 transition-all ${Pe>=0?"bg-emerald-500":"bg-red-500"}`,style:{width:`${Math.min(Math.abs(Pe)*2,50)}%`,left:Pe>=0?"50%":`${50-Math.min(Math.abs(Pe)*2,50)}%`}}),a.jsx("div",{className:"absolute inset-y-0 left-1/2 w-0.5 bg-white/50"})]}),a.jsxs("div",{className:"flex justify-between text-[10px] text-slate-500 mt-1",children:[a.jsx("span",{children:"-25%"}),a.jsx("span",{children:"0%"}),a.jsx("span",{children:"+25%"})]})]})]},z)})})]}),be.trades>0&&a.jsx("div",{className:`${gi} rounded-xl p-4 border border-slate-700/50 mb-6`,children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-slate-400 text-sm",children:" "}),a.jsx("span",{className:"text-xs text-slate-500",children:be.date})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-slate-500",children:""}),a.jsx("div",{className:"text-white font-bold",children:be.trades})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-slate-500",children:""}),a.jsxs("div",{className:`font-bold ${be.wins/be.trades>=.5?"text-emerald-400":"text-red-400"}`,children:[(be.wins/be.trades*100).toFixed(0),"%"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-slate-500",children:""}),a.jsxs("div",{className:`font-bold ${be.pnl>=0?"text-emerald-400":"text-red-400"}`,children:[be.pnl>=0?"+":"",be.pnl.toFixed(2)," USDT"]})]})]})]})}),c?a.jsxs("div",{className:"text-center py-16 md:py-24",children:[a.jsxs("div",{className:`text-lg opacity-50 tracking-[0.5em] mb-4 ${nr}`,children:[e,Ye[e]&&a.jsxs("span",{className:`ml-2 text-sm ${Ye[e].type==="LONG"?"text-emerald-400":"text-red-400"}`,children:["[",Ye[e].type,"]"]})]}),a.jsx("div",{className:"text-6xl md:text-8xl font-extralight text-[#D4AF37] mb-4",children:wr((gA=(la=n[e])==null?void 0:la.slice(-1)[0])==null?void 0:gA.close,e)}),a.jsx("div",{className:`text-3xl md:text-4xl tracking-widest ${un((ul=i[e])==null?void 0:ul.signalType).split(" ")[0]}`,children:((lr=i[e])==null?void 0:lr.signal)||" WAIT"}),a.jsx("div",{className:`text-sm mt-2 opacity-50 ${nr}`,children:((dl=i[e])==null?void 0:dl.reason)||"..."}),((hl=i[e])==null?void 0:hl.pnlPercent)!=null&&a.jsxs("div",{className:`text-2xl mt-4 ${(((fl=i[e])==null?void 0:fl.pnlPercent)||0)>=0?"text-emerald-400":"text-red-400"}`,children:[(((mi=i[e])==null?void 0:mi.pnlPercent)||0)>=0?"+":"",(((xi=i[e])==null?void 0:xi.pnlPercent)||0).toFixed(2),"%"]}),a.jsx("div",{className:"flex justify-center gap-2 mt-8",children:t.map(U=>a.jsxs("button",{onClick:()=>r(U),className:`px-3 py-1 rounded text-xs transition-all ${e===U?"bg-[#D4AF37] text-slate-900":"bg-slate-700/50 text-slate-400 hover:bg-slate-700"}`,children:[U.split("/")[0],Ye[U]&&a.jsx("span",{className:"ml-1",children:""})]},U))})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6",children:t.map(U=>{var Ee,ze;const z=n[U],re=i[U],xe=Ye[U],Te=(Ee=z==null?void 0:z.slice(-1)[0])==null?void 0:Ee.close,Pe=(ze=z==null?void 0:z.slice(-2)[0])==null?void 0:ze.close,ke=Te&&Pe?(Te-Pe)/Pe*100:0,We=["ENTRY_LONG","ENTRY_SHORT","TAKE_PROFIT","STOP_LOSS"].includes(re==null?void 0:re.signalType);return a.jsxs("div",{onClick:()=>r(U),className:`${gi} rounded-xl p-4 border cursor-pointer transition-all hover:scale-[1.02] ${e===U?"border-[#D4AF37]":"border-slate-700/50"} ${We?"ring-2 ring-[#D4AF37]/50":""}`,children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("span",{className:`text-xs ${nr} opacity-60`,children:U}),xe&&a.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${xe.type==="LONG"?"bg-emerald-500/30 text-emerald-400":"bg-red-500/30 text-red-400"}`,children:xe.type})]}),a.jsx("div",{className:"text-xl md:text-2xl font-light text-[#D4AF37]",children:wr(Te,U)}),a.jsxs("div",{className:`text-xs ${ke>=0?"text-emerald-400":"text-red-400"}`,children:[ke>=0?"+":"",ke.toFixed(2),"%"]}),a.jsx("div",{className:`mt-2 text-center py-1 rounded text-xs font-medium border ${un(re==null?void 0:re.signalType)}`,children:(re==null?void 0:re.signal)||" WAIT"})]},U)})}),a.jsxs("div",{className:`${gi} rounded-xl p-4 md:p-6 border border-slate-700/50`,children:[a.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:`text-sm ${nr} opacity-60 flex items-center gap-2`,children:["Focus",Ye[e]&&a.jsxs("span",{className:`text-xs px-2 py-0.5 rounded ${Ye[e].type==="LONG"?"bg-emerald-500/30 text-emerald-400":"bg-red-500/30 text-red-400"}`,children:[Ye[e].type," @ ",wr(Ye[e].entryPrice,e)]})]}),a.jsxs("div",{className:"text-3xl md:text-4xl font-light text-[#D4AF37]",children:[e," - ",wr((gl=(pl=n[e])==null?void 0:pl.slice(-1)[0])==null?void 0:gl.close,e)]})]}),a.jsxs("div",{className:`text-center px-6 py-3 rounded-lg border-2 ${un((Da=i[e])==null?void 0:Da.signalType)}`,children:[a.jsx("div",{className:"text-2xl font-bold",children:((mA=i[e])==null?void 0:mA.signal)||" WAIT"}),a.jsx("div",{className:"text-xs opacity-70",children:((ca=i[e])==null?void 0:ca.reason)||"..."})]})]}),((ml=i[e])==null?void 0:ml.action)&&a.jsxs("div",{className:"mb-4 p-4 rounded-lg bg-slate-900/50 border border-slate-700",children:[a.jsxs("div",{className:`text-lg font-bold mb-4 ${((wi=i[e])==null?void 0:wi.signalType)==="ENTRY_LONG"?"text-emerald-400":((xl=i[e])==null?void 0:xl.signalType)==="ENTRY_SHORT"?"text-red-400":((xA=i[e])==null?void 0:xA.signalType)==="TAKE_PROFIT"?"text-yellow-400":"text-red-500"}`,children:[((wA=i[e])==null?void 0:wA.action)==="OPEN_LONG"&&" LONG",((xo=i[e])==null?void 0:xo.action)==="OPEN_SHORT"&&" SHORT",((vi=i[e])==null?void 0:vi.action)==="CLOSE_LONG"&&" LONG/",((vA=i[e])==null?void 0:vA.action)==="CLOSE_SHORT"&&" SHORT/"]}),((Ra=i[e])==null?void 0:Ra.suggestedTP)&&(((yA=i[e])==null?void 0:yA.action)==="OPEN_LONG"||((ua=i[e])==null?void 0:ua.action)==="OPEN_SHORT")&&a.jsxs("div",{className:"mb-4 grid grid-cols-3 gap-3",children:[a.jsxs("div",{className:"p-3 rounded-lg bg-slate-800 border-2 border-blue-500/50",children:[a.jsx("div",{className:"text-xs text-blue-400 mb-1 font-medium",children:" "}),a.jsx("div",{className:"text-lg font-bold text-white font-mono",children:wr((bA=i[e])==null?void 0:bA.lastPrice,e)}),a.jsx("div",{className:"text-xs text-slate-400 mt-1",children:""})]}),a.jsxs("div",{className:"p-3 rounded-lg bg-emerald-900/30 border-2 border-emerald-500",children:[a.jsx("div",{className:"text-xs text-emerald-400 mb-1 font-medium",children:"  (TP)"}),a.jsx("div",{className:"text-lg font-bold text-emerald-400 font-mono",children:wr((wo=i[e])==null?void 0:wo.suggestedTP,e)}),a.jsxs("div",{className:"text-xs text-emerald-300 mt-1",children:["+",At.takeProfitPercent,"% (",((vo=i[e])==null?void 0:vo.action)==="OPEN_LONG"?"":"",")"]})]}),a.jsxs("div",{className:"p-3 rounded-lg bg-red-900/30 border-2 border-red-500",children:[a.jsx("div",{className:"text-xs text-red-400 mb-1 font-medium",children:"  (SL)"}),a.jsx("div",{className:"text-lg font-bold text-red-400 font-mono",children:wr((yi=i[e])==null?void 0:yi.suggestedSL,e)}),a.jsxs("div",{className:"text-xs text-red-300 mt-1",children:["-",At.stopLossPercent,"% (",((bi=i[e])==null?void 0:bi.action)==="OPEN_LONG"?"":"",")"]})]})]}),((yo=i[e])==null?void 0:yo.suggestedTP)&&(((da=i[e])==null?void 0:da.action)==="OPEN_LONG"||((bo=i[e])==null?void 0:bo.action)==="OPEN_SHORT")&&a.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-slate-800/50 border border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-slate-400",children:" (RR)"}),a.jsxs("span",{className:"text-lg font-bold text-amber-400",children:["1 : ",(At.takeProfitPercent/At.stopLossPercent).toFixed(2)]})]}),a.jsxs("div",{className:"mt-2 h-2 bg-slate-700 rounded-full overflow-hidden flex",children:[a.jsx("div",{className:"bg-red-500 h-full",style:{width:`${At.stopLossPercent/(At.takeProfitPercent+At.stopLossPercent)*100}%`}}),a.jsx("div",{className:"bg-emerald-500 h-full",style:{width:`${At.takeProfitPercent/(At.takeProfitPercent+At.stopLossPercent)*100}%`}})]}),a.jsxs("div",{className:"flex justify-between text-xs mt-1",children:[a.jsxs("span",{className:"text-red-400",children:[" ",At.stopLossPercent,"%"]}),a.jsxs("span",{className:"text-emerald-400",children:[" ",At.takeProfitPercent,"%"]})]})]}),a.jsx("div",{className:"flex flex-wrap items-center justify-between gap-3",children:a.jsxs("div",{className:"flex flex-col gap-3",children:[(((m=i[e])==null?void 0:m.action)==="OPEN_LONG"||((Q=i[e])==null?void 0:Q.action)==="OPEN_SHORT")&&a.jsx("div",{className:"w-full p-4 bg-slate-800/70 rounded-lg border border-slate-700",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-slate-300",children:" "}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("span",{className:"text-lg font-bold text-emerald-400",children:[de,"%"]})})]}),a.jsx("input",{type:"range",min:"1",max:"100",value:de,onChange:U=>fe(U.target.value),className:"w-full h-3 bg-slate-700 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #10b981 0%, #10b981 ${de}%, #334155 ${de}%, #334155 100%)`}}),a.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-2",children:[a.jsx("span",{children:"1%"}),a.jsx("span",{children:"25%"}),a.jsx("span",{children:"50%"}),a.jsx("span",{children:"75%"}),a.jsx("span",{children:"100%"})]}),a.jsx("div",{className:"flex gap-1 mt-3",children:["10","25","50","75","100"].map(U=>a.jsxs("button",{onClick:()=>fe(U),className:`flex-1 py-1.5 text-xs rounded transition-all font-medium ${de===U?"bg-emerald-500 text-white font-bold":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[U,"%"]},U))})]}),O&&ee&&a.jsxs("div",{className:"p-3 bg-slate-900/50 rounded-lg space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-slate-400",children:" "}),a.jsxs("span",{className:"text-white font-mono",children:[(ae=ee.availableBalance)==null?void 0:ae.toFixed(2)," USDT"]})]}),(()=>{const z=(ee.availableBalance||0)*de/100,re=z*parseInt(ve),xe=parseInt(de),Te=xe*parseInt(ve)/100,Pe=xe>=50,ke=Te>=.5;return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t border-slate-700",children:[a.jsxs("span",{className:"text-slate-400",children:[" (",de,"%)"]}),a.jsxs("span",{className:"text-emerald-400 font-mono font-bold",children:[z.toFixed(2)," USDT"]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-slate-400",children:" "}),a.jsxs("span",{className:"text-amber-400 font-mono font-bold",children:[re.toFixed(2)," USDT"]})]}),(Pe||ke)&&a.jsxs("div",{className:`mt-2 p-2 rounded-lg border ${ke?"bg-red-900/30 border-red-500/50":"bg-amber-900/30 border-amber-500/50"}`,children:[a.jsx("div",{className:`text-xs font-bold flex items-center gap-1 ${ke?"text-red-400":"text-amber-400"}`,children:ke?" ":" "}),a.jsxs("div",{className:"text-xs text-slate-300 mt-1",children:[" ",a.jsxs("span",{className:`font-bold ${ke?"text-red-400":"text-amber-400"}`,children:[xe,"%"]})," ",parseInt(ve)>1&&a.jsxs("span",{className:"text-slate-400",children:["",ve,"x ",(Te*100).toFixed(0),"%"]})]}),ke&&a.jsx("div",{className:"text-[10px] text-red-300 mt-1",children:" "})]})]})})()]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-slate-300",children:" "}),a.jsxs("span",{className:"text-lg font-bold text-amber-400",children:[ve,"x"]})]}),a.jsx("div",{className:"flex gap-1",children:["1","2","3","5","10","20","50"].map(U=>a.jsxs("button",{onClick:()=>I(U),className:`flex-1 py-2 text-xs rounded-lg transition-all font-medium ${ve===U?"bg-amber-500 text-slate-900 font-bold shadow-lg shadow-amber-500/30":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[U,"x"]},U))})]})]})}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[(((me=i[e])==null?void 0:me.action)==="OPEN_LONG"||((Ie=i[e])==null?void 0:Ie.action)==="OPEN_SHORT")&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>ho(e),className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-500 hover:to-indigo-500 text-white rounded-lg text-sm font-medium transition-all",children:" AI"}),a.jsx("button",{onClick:()=>{var U,z;return $r(e,((U=i[e])==null?void 0:U.action)==="OPEN_LONG"?"LONG":"SHORT",(z=i[e])==null?void 0:z.lastPrice)},className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-300 rounded-lg text-sm font-medium transition-all",children:" "}),O&&a.jsx("button",{onClick:()=>{var U;return W(e,((U=i[e])==null?void 0:U.action)==="OPEN_LONG"?"buy":"sell",de,ve)},disabled:he,className:`flex-1 min-w-[150px] py-3 rounded-lg text-sm font-bold transition-all ${((rt=i[e])==null?void 0:rt.action)==="OPEN_LONG"?"bg-gradient-to-r from-emerald-600 to-emerald-500 hover:from-emerald-500 hover:to-emerald-400 text-white shadow-lg shadow-emerald-500/30":"bg-gradient-to-r from-red-600 to-red-500 hover:from-red-500 hover:to-red-400 text-white shadow-lg shadow-red-500/30"} ${he?"opacity-50 cursor-not-allowed":""}`,children:he?" ...":((lt=i[e])==null?void 0:lt.action)==="OPEN_LONG"?" LONG ":" SHORT "})]}),(((Lt=i[e])==null?void 0:Lt.action)==="CLOSE_LONG"||((Ht=i[e])==null?void 0:Ht.action)==="CLOSE_SHORT")&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>an(e),className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-300 rounded-lg text-sm font-medium transition-all",children:" "}),O&&a.jsx("button",{onClick:()=>He(e),disabled:he,className:`px-4 py-2 bg-yellow-600 hover:bg-yellow-500 text-white rounded-lg text-sm font-medium transition-all ${he?"opacity-50 cursor-not-allowed":""}`,children:he?"":" "})]})]})]})})]}),Ye[e]&&!((Ar=i[e])!=null&&Ar.action)&&(()=>{var Ze,Gt;const U=Ye[e],z=U.entryPrice,re=((Gt=(Ze=n[e])==null?void 0:Ze.slice(-1)[0])==null?void 0:Gt.close)||z,xe=U.type==="LONG",Te=At.takeProfitPercent,Pe=At.stopLossPercent,ke=xe?z*(1+Te/100):z*(1-Te/100),We=xe?z*(1-Pe/100):z*(1+Pe/100),Ee=xe?(re-z)/z*100:(z-re)/z*100,ze=xe?(re-z)/(ke-z)*100:(z-re)/(z-ke)*100,ot=xe?(z-re)/(z-We)*100:(re-z)/(We-z)*100;return a.jsxs("div",{className:"mb-4 p-4 rounded-lg bg-slate-900/50 border border-slate-700",children:[a.jsxs("div",{className:`text-lg font-bold mb-3 ${xe?"text-emerald-400":"text-red-400"}`,children:[xe?"":""," ",U.type," "]}),a.jsxs("div",{className:"mb-4 grid grid-cols-4 gap-2",children:[a.jsxs("div",{className:`p-3 rounded-lg border-2 ${ot>50?"bg-red-900/50 border-red-400 animate-pulse":"bg-red-900/30 border-red-500/50"}`,children:[a.jsx("div",{className:"text-xs text-red-400 mb-1 font-medium",children:" "}),a.jsx("div",{className:"text-base font-bold text-red-400 font-mono",children:wr(We,e)}),a.jsxs("div",{className:"text-xs text-red-300 mt-1",children:["-",Pe,"%"]})]}),a.jsxs("div",{className:"p-3 rounded-lg bg-slate-800 border-2 border-blue-500/50",children:[a.jsx("div",{className:"text-xs text-blue-400 mb-1 font-medium",children:" Entry"}),a.jsx("div",{className:"text-base font-bold text-white font-mono",children:wr(z,e)}),a.jsx("div",{className:"text-xs text-slate-400 mt-1",children:""})]}),a.jsxs("div",{className:`p-3 rounded-lg border-2 ${Ee>=0?"bg-emerald-900/30 border-emerald-500/50":"bg-red-900/30 border-red-500/50"}`,children:[a.jsx("div",{className:"text-xs text-slate-400 mb-1 font-medium",children:" "}),a.jsx("div",{className:`text-base font-bold font-mono ${Ee>=0?"text-emerald-400":"text-red-400"}`,children:wr(re,e)}),a.jsxs("div",{className:`text-xs mt-1 ${Ee>=0?"text-emerald-300":"text-red-300"}`,children:[Ee>=0?"+":"",Ee.toFixed(2),"%"]})]}),a.jsxs("div",{className:`p-3 rounded-lg border-2 ${ze>80?"bg-emerald-900/50 border-emerald-400 animate-pulse":"bg-emerald-900/30 border-emerald-500/50"}`,children:[a.jsx("div",{className:"text-xs text-emerald-400 mb-1 font-medium",children:" "}),a.jsx("div",{className:"text-base font-bold text-emerald-400 font-mono",children:wr(ke,e)}),a.jsxs("div",{className:"text-xs text-emerald-300 mt-1",children:["+",Te,"%"]})]})]}),a.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-slate-800/50",children:[a.jsxs("div",{className:"flex justify-between text-xs mb-2",children:[a.jsxs("span",{className:"text-red-400",children:["SL ",wr(We,e)]}),a.jsxs("span",{className:`font-bold ${Ee>=0?"text-emerald-400":"text-red-400"}`,children:[": ",Ee>=0?"+":"",Ee.toFixed(2),"%"]}),a.jsxs("span",{className:"text-emerald-400",children:["TP ",wr(ke,e)]})]}),a.jsxs("div",{className:"h-3 bg-slate-700 rounded-full overflow-hidden relative",children:[a.jsx("div",{className:"absolute left-0 top-0 h-full bg-red-500/30",style:{width:`${Pe/(Te+Pe)*100}%`}}),a.jsx("div",{className:"absolute right-0 top-0 h-full bg-emerald-500/30",style:{width:`${Te/(Te+Pe)*100}%`}}),a.jsx("div",{className:"absolute top-0 h-full w-0.5 bg-blue-400",style:{left:`${Pe/(Te+Pe)*100}%`}}),a.jsx("div",{className:`absolute top-0 h-full w-1 ${Ee>=0?"bg-emerald-400":"bg-red-400"} shadow-lg`,style:{left:`${Math.max(0,Math.min(100,(Pe+Ee)/(Te+Pe)*100))}%`,transition:"left 0.3s ease"}})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>an(e),className:"px-3 py-2 bg-slate-700 hover:bg-slate-600 text-slate-300 rounded text-sm transition-all",children:" "}),O&&a.jsx("button",{onClick:()=>He(e),disabled:he,className:`flex-1 px-4 py-2 bg-yellow-600 hover:bg-yellow-500 text-white rounded text-sm font-bold transition-all ${he?"opacity-50":""}`,children:he?" ...":" "})]})]})})(),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-4",children:[a.jsxs("div",{className:`${v==="midnight"?"bg-slate-900/50":"bg-slate-100"} rounded-lg p-3`,children:[a.jsx("div",{className:`text-xs ${nr} opacity-50`,children:"RSI (14)"}),a.jsx("div",{className:`text-xl font-medium ${(((hr=i[e])==null?void 0:hr.rsi)||50)<30?"text-emerald-400":(((Nr=i[e])==null?void 0:Nr.rsi)||50)>70?"text-red-400":"text-[#D4AF37]"}`,children:((dn=(Wr=i[e])==null?void 0:Wr.rsi)==null?void 0:dn.toFixed(1))||"-"})]}),a.jsxs("div",{className:`${v==="midnight"?"bg-slate-900/50":"bg-slate-100"} rounded-lg p-3`,children:[a.jsx("div",{className:`text-xs ${nr} opacity-50`,children:"MACD"}),a.jsx("div",{className:`text-xl font-medium ${(((vn=(Lr=i[e])==null?void 0:Lr.macd)==null?void 0:vn.histogram)||0)>0?"text-emerald-400":"text-red-400"}`,children:((Bi=(Pn=(hn=i[e])==null?void 0:hn.macd)==null?void 0:Pn.histogram)==null?void 0:Bi.toFixed(2))||"-"})]}),a.jsxs("div",{className:`${v==="midnight"?"bg-slate-900/50":"bg-slate-100"} rounded-lg p-3`,children:[a.jsx("div",{className:`text-xs ${nr} opacity-50`,children:"BB Upper"}),a.jsx("div",{className:"text-xl font-medium text-red-400",children:wr((Ci=(Os=i[e])==null?void 0:Os.bb)==null?void 0:Ci.upper,e)})]}),a.jsxs("div",{className:`${v==="midnight"?"bg-slate-900/50":"bg-slate-100"} rounded-lg p-3`,children:[a.jsx("div",{className:`text-xs ${nr} opacity-50`,children:"BB Lower"}),a.jsx("div",{className:"text-xl font-medium text-emerald-400",children:wr((Ha=(BA=i[e])==null?void 0:BA.bb)==null?void 0:Ha.lower,e)})]}),a.jsxs("div",{className:`${v==="midnight"?"bg-slate-900/50":"bg-slate-100"} rounded-lg p-3`,children:[a.jsx("div",{className:`text-xs ${nr} opacity-50`,children:"Trend"}),a.jsx("div",{className:`text-xl font-medium ${((Ri=i[e])==null?void 0:Ri.trend)==="UP"?"text-emerald-400":((ha=i[e])==null?void 0:ha.trend)==="DOWN"?"text-red-400":"text-slate-400"}`,children:((fa=i[e])==null?void 0:fa.trend)==="UP"?"":((Hi=i[e])==null?void 0:Hi.trend)==="DOWN"?"":""})]})]}),a.jsxs("div",{className:`${v==="midnight"?"bg-slate-900/50":"bg-slate-100"} rounded-lg p-4`,children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("span",{className:`text-sm ${nr}`,children:"Sensitivity"}),a.jsxs("span",{className:"text-sm text-[#D4AF37]",children:[(p*100).toFixed(0),"%"]})]}),a.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:p,onChange:U=>g(parseFloat(U.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-[#D4AF37]"}),a.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[a.jsx("span",{children:"Conservative"}),a.jsx("span",{children:"Aggressive"})]})]})]}),a.jsx("div",{className:`mt-4 text-center text-xs ${nr} opacity-40`,children:" LONG () |  SHORT () |   |   |  HOLD |  WAIT"}),O&&a.jsxs("div",{className:`mt-8 ${gi} rounded-2xl p-6 border border-slate-700/50`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>we("history"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${Z==="history"?"bg-[#D4AF37] text-slate-900":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:" "}),a.jsx("button",{onClick:()=>we("pnl"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${Z==="pnl"?"bg-[#D4AF37] text-slate-900":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:" "}),a.jsx("button",{onClick:()=>we("stats"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${Z==="stats"?"bg-[#D4AF37] text-slate-900":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:" "}),a.jsxs("button",{onClick:()=>we("alerts"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${Z==="alerts"?"bg-[#D4AF37] text-slate-900":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[" ",pe.filter(U=>!U.triggered).length>0&&a.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-amber-500 text-slate-900 text-xs rounded-full",children:pe.filter(U=>!U.triggered).length})]})]}),a.jsx("button",{onClick:()=>{_e(),Xe()},disabled:Be,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg text-sm transition-all",children:Be?" ...":" "})]}),Z==="history"&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-[#D4AF37] mb-4",children:" 100"}),Ve.length===0?a.jsxs("div",{className:"text-center py-12 text-slate-400",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("div",{children:""}),a.jsx("div",{className:"text-sm mt-2",children:"KuCoin Futures"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-slate-700",children:[a.jsx("th",{className:"text-left py-3 px-2 text-slate-400",children:""}),a.jsx("th",{className:"text-left py-3 px-2 text-slate-400",children:""}),a.jsx("th",{className:"text-left py-3 px-2 text-slate-400",children:""}),a.jsx("th",{className:"text-right py-3 px-2 text-slate-400",children:""}),a.jsx("th",{className:"text-right py-3 px-2 text-slate-400",children:""}),a.jsx("th",{className:"text-right py-3 px-2 text-slate-400",children:""}),a.jsx("th",{className:"text-right py-3 px-2 text-slate-400",children:""}),a.jsx("th",{className:"text-right py-3 px-2 text-slate-400",children:""})]})}),a.jsx("tbody",{children:Ve.slice(0,50).map((U,z)=>a.jsxs("tr",{className:"border-b border-slate-800 hover:bg-slate-800/50",children:[a.jsxs("td",{className:"py-3 px-2 text-slate-300 text-xs",children:[U.time.toLocaleDateString("ja-JP"),a.jsx("br",{}),a.jsx("span",{className:"text-slate-500",children:U.time.toLocaleTimeString("ja-JP")})]}),a.jsx("td",{className:"py-3 px-2 text-white font-medium",children:U.symbol}),a.jsx("td",{className:"py-3 px-2",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${U.side==="buy"?"bg-emerald-500/20 text-emerald-400":"bg-red-500/20 text-red-400"}`,children:U.side==="buy"?"BUY":"SELL"})}),a.jsx("td",{className:"py-3 px-2 text-right text-slate-300 font-mono",children:U.price.toLocaleString()}),a.jsx("td",{className:"py-3 px-2 text-right text-slate-300 font-mono",children:U.size}),a.jsxs("td",{className:"py-3 px-2 text-right text-slate-300 font-mono",children:["$",U.value.toFixed(2)]}),a.jsxs("td",{className:"py-3 px-2 text-right text-amber-400 font-mono text-xs",children:["-$",U.fee.toFixed(4)]}),a.jsx("td",{className:`py-3 px-2 text-right font-mono font-bold ${U.pnl>=0?"text-emerald-400":"text-red-400"}`,children:U.pnl!==0?`${U.pnl>=0?"+":""}$${U.pnl.toFixed(2)}`:"-"})]},U.id||z))})]})})]}),Z==="pnl"&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-[#D4AF37] mb-4",children:" "}),Ge.length===0?a.jsxs("div",{className:"text-center py-12 text-slate-400",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("div",{children:""}),a.jsx("div",{className:"text-sm mt-2",children:""})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"h-64 bg-slate-900/50 rounded-xl p-4 mb-6 relative",children:[a.jsxs("svg",{viewBox:"0 0 800 200",className:"w-full h-full",children:[a.jsx("defs",{children:a.jsx("pattern",{id:"grid",width:"80",height:"40",patternUnits:"userSpaceOnUse",children:a.jsx("path",{d:"M 80 0 L 0 0 0 40",fill:"none",stroke:"#334155",strokeWidth:"0.5"})})}),a.jsx("rect",{width:"800",height:"200",fill:"url(#grid)"}),(()=>{Math.max(...Ge.map(z=>Math.abs(z.cumulative)),1);const U=100;return a.jsx("line",{x1:"0",y1:U,x2:"800",y2:U,stroke:"#64748b",strokeWidth:"1",strokeDasharray:"4"})})(),(()=>{var Te;const U=Math.max(...Ge.map(Pe=>Math.abs(Pe.cumulative)),1),z=Ge.map((Pe,ke)=>{const We=ke/(Ge.length-1||1)*780+10,Ee=100-Pe.cumulative/U*80;return`${We},${Ee}`}).join(" "),re=((Te=Ge[Ge.length-1])==null?void 0:Te.cumulative)||0,xe=re>=0?"#10b981":"#ef4444";return a.jsxs(a.Fragment,{children:[a.jsx("polygon",{points:`10,100 ${z} 790,100`,fill:re>=0?"rgba(16, 185, 129, 0.2)":"rgba(239, 68, 68, 0.2)"}),a.jsx("polyline",{points:z,fill:"none",stroke:xe,strokeWidth:"2",strokeLinejoin:"round"}),Ge.map((Pe,ke)=>{const We=ke/(Ge.length-1||1)*780+10,Ee=100-Pe.cumulative/U*80;return a.jsx("circle",{cx:We,cy:Ee,r:"4",fill:Pe.pnl>=0?"#10b981":"#ef4444",stroke:"#1e293b",strokeWidth:"2"},ke)})]})})()]}),a.jsxs("div",{className:"absolute top-4 right-4 text-right",children:[a.jsx("div",{className:"text-xs text-slate-400",children:""}),a.jsxs("div",{className:`text-2xl font-bold ${(((Dn=Ge[Ge.length-1])==null?void 0:Dn.cumulative)||0)>=0?"text-emerald-400":"text-red-400"}`,children:[(((pa=Ge[Ge.length-1])==null?void 0:pa.cumulative)||0)>=0?"+":"","$",(((ga=Ge[Ge.length-1])==null?void 0:ga.cumulative)||0).toFixed(2)]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-sm font-medium text-slate-400 mb-3",children:" "}),Je.slice(0,20).map((U,z)=>a.jsxs("div",{className:`p-3 rounded-lg border ${U.pnl>=0?"bg-emerald-900/20 border-emerald-500/30":"bg-red-900/20 border-red-500/30"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${U.side==="buy"?"bg-emerald-500/20 text-emerald-400":"bg-red-500/20 text-red-400"}`,children:U.side==="buy"?"LONG":"SHORT"}),a.jsx("span",{className:"text-white font-medium",children:U.symbol}),a.jsxs("span",{className:"text-slate-400 text-xs",children:["",U.leverage]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:`font-bold ${U.pnl>=0?"text-emerald-400":"text-red-400"}`,children:[U.pnl>=0?"+":"","$",U.pnl.toFixed(2)]}),a.jsxs("div",{className:`text-xs ${U.roe>=0?"text-emerald-300":"text-red-300"}`,children:["ROE: ",U.roe>=0?"+":"",U.roe.toFixed(2),"%"]})]})]}),a.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-2",children:[a.jsxs("span",{children:["Entry: $",U.entryPrice.toLocaleString(),"  Exit: $",U.closePrice.toLocaleString()]}),a.jsxs("span",{children:[U.closeTime.toLocaleDateString("ja-JP")," ",U.closeTime.toLocaleTimeString("ja-JP")]})]})]},U.id||z))]})]})]}),Z==="stats"&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-[#D4AF37] mb-4",children:" "}),ge?a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/50 border border-slate-700",children:[a.jsx("div",{className:"text-xs text-slate-400 mb-1",children:""}),a.jsx("div",{className:"text-2xl font-bold text-white",children:ge.totalTrades})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/50 border border-slate-700",children:[a.jsx("div",{className:"text-xs text-slate-400 mb-1",children:""}),a.jsxs("div",{className:`text-2xl font-bold ${ge.winRate>=50?"text-emerald-400":"text-red-400"}`,children:[ge.winRate.toFixed(1),"%"]}),a.jsxs("div",{className:"text-xs text-slate-500",children:[ge.wins," / ",ge.losses,""]})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/50 border border-slate-700",children:[a.jsx("div",{className:"text-xs text-slate-400 mb-1",children:""}),a.jsxs("div",{className:`text-2xl font-bold ${ge.totalPnl>=0?"text-emerald-400":"text-red-400"}`,children:[ge.totalPnl>=0?"+":"","$",ge.totalPnl.toFixed(2)]})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/50 border border-slate-700",children:[a.jsx("div",{className:"text-xs text-slate-400 mb-1",children:""}),a.jsx("div",{className:`text-2xl font-bold ${ge.profitFactor>=1?"text-emerald-400":"text-red-400"}`,children:ge.profitFactor.toFixed(2)})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-emerald-900/30 border border-emerald-500/30",children:[a.jsx("div",{className:"text-xs text-emerald-400 mb-1",children:""}),a.jsxs("div",{className:"text-xl font-bold text-emerald-400",children:["+$",ge.avgWin.toFixed(2)]}),a.jsxs("div",{className:"text-xs text-emerald-300",children:[": +$",ge.maxWin.toFixed(2)]})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-red-900/30 border border-red-500/30",children:[a.jsx("div",{className:"text-xs text-red-400 mb-1",children:""}),a.jsxs("div",{className:"text-xl font-bold text-red-400",children:["$",ge.avgLoss.toFixed(2)]}),a.jsxs("div",{className:"text-xs text-red-300",children:[": $",ge.maxLoss.toFixed(2)]})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-amber-900/30 border border-amber-500/30",children:[a.jsx("div",{className:"text-xs text-amber-400 mb-1",children:""}),a.jsxs("div",{className:"text-xl font-bold text-amber-400",children:["-$",ge.totalFees.toFixed(2)]})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/50 border border-[#D4AF37]/50",children:[a.jsx("div",{className:"text-xs text-[#D4AF37] mb-1",children:""}),a.jsxs("div",{className:`text-xl font-bold ${ge.netPnl>=0?"text-emerald-400":"text-red-400"}`,children:[ge.netPnl>=0?"+":"","$",ge.netPnl.toFixed(2)]})]}),a.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/50 border border-slate-700 col-span-2",children:[a.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"ROE"}),a.jsxs("div",{className:`text-2xl font-bold ${ge.avgRoe>=0?"text-emerald-400":"text-red-400"}`,children:[ge.avgRoe>=0?"+":"",ge.avgRoe.toFixed(2),"%"]})]})]}):a.jsxs("div",{className:"text-center py-12 text-slate-400",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("div",{children:""}),a.jsx("div",{className:"text-sm mt-2",children:""})]})]}),Z==="alerts"&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-[#D4AF37] mb-4",children:" "}),a.jsxs("div",{className:"p-4 bg-slate-900/50 rounded-xl mb-6",children:[a.jsx("div",{className:"text-sm text-slate-400 mb-3",children:""}),a.jsxs("div",{className:"flex flex-wrap gap-2 items-end",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:""}),a.jsx("select",{id:"alertSymbol",className:"px-3 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white text-sm",defaultValue:"BTC/USDT",children:t.map(U=>a.jsx("option",{value:U,children:U},U))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:""}),a.jsxs("select",{id:"alertCondition",className:"px-3 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white text-sm",defaultValue:"above",children:[a.jsx("option",{value:"above",children:" "}),a.jsx("option",{value:"below",children:" "})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:""}),a.jsx("input",{type:"number",id:"alertPrice",placeholder:"100000",className:"px-3 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white text-sm w-32"})]}),a.jsx("button",{onClick:()=>{const U=document.getElementById("alertSymbol").value,z=document.getElementById("alertCondition").value,re=document.getElementById("alertPrice").value;re&&(ft(U,re,z),document.getElementById("alertPrice").value="")},className:"px-4 py-2 bg-amber-500 hover:bg-amber-600 text-slate-900 rounded-lg text-sm font-bold transition-all",children:"+ "})]}),a.jsxs("div",{className:"mt-2 text-xs text-slate-500",children:[" : ",t.map(U=>{var z,re,xe;return`${U.split("/")[0]} ${((xe=(re=(z=n[U])==null?void 0:z.slice(-1)[0])==null?void 0:re.close)==null?void 0:xe.toFixed(2))||"-"}`}).join(" | ")]})]}),pe.length===0?a.jsxs("div",{className:"text-center py-12 text-slate-400",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("div",{children:""}),a.jsx("div",{className:"text-sm mt-2",children:""})]}):a.jsx("div",{className:"space-y-2",children:pe.map(U=>{var xe,Te;const z=(Te=(xe=n[U.symbol])==null?void 0:xe.slice(-1)[0])==null?void 0:Te.close,re=z?(U.price-z)/z*100:null;return a.jsxs("div",{className:`p-3 rounded-lg border flex items-center justify-between ${U.triggered?"bg-emerald-900/30 border-emerald-500/50":"bg-slate-800/50 border-slate-700"}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:`text-2xl ${U.triggered?"opacity-50":""}`,children:U.condition==="above"?"":""}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-white font-medium",children:U.symbol}),a.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${U.condition==="above"?"bg-emerald-500/30 text-emerald-400":"bg-red-500/30 text-red-400"}`,children:U.condition==="above"?"":""}),U.triggered&&a.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-emerald-500/30 text-emerald-400",children:" "})]}),a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"text-[#D4AF37] font-mono",children:U.price.toFixed(2)}),re!==null&&!U.triggered&&a.jsxs("span",{className:`ml-2 text-xs ${Math.abs(re)<1?"text-amber-400":"text-slate-500"}`,children:["(",re>=0?"+":"",re.toFixed(2),"%)"]})]})]})]}),a.jsx("button",{onClick:()=>at(U.id),className:"px-3 py-1 bg-slate-700 hover:bg-red-600 text-slate-300 hover:text-white rounded text-xs transition-all",children:""})]},U.id)})})]})]})]})]})}function jL({transactions:t,addTransaction:e,updateTransaction:r,deleteTransaction:n,tasks:s,events:i,goals:A}){var ge,Qe,ft,at,vt,pt,xt,Bt,Kt,Et,At,Br;const[o,l]=q.useState(!1),[c,d]=q.useState(null),[p,g]=q.useState({title:"",amount:"",type:"expense",category:"",date:new Date().toISOString().split("T")[0],paymentTiming:"immediate",linkedType:"",linkedId:""}),[h,b]=q.useState("all"),[v,S]=q.useState(!1),[x,y]=q.useState(()=>{const L=localStorage.getItem("budgetPlanner_income");return L?parseInt(L):3e5}),[B,j]=q.useState(()=>{const L=localStorage.getItem("budgetPlanner_allocations");return L?JSON.parse(L):{necessities:50,wants:30,savings:20}}),[O,k]=q.useState(()=>{const L=localStorage.getItem("budgetPlanner_special");return L?JSON.parse(L):[]}),[M,K]=q.useState({title:"",amount:"",month:new Date().toISOString().slice(0,7),linkedType:"",linkedId:""}),N=[{id:"allowance",name:"",icon:"",defaultAmount:7e4,isFixed:!0},{id:"kbt",name:"KBT",icon:"",keywords:["KBT","KB","",""],paymentType:"nextMonth"},{id:"stripchat",name:"Stripchat",icon:"",keywords:["Stripchat","StripChat","","stripchat",""],paymentType:"currentMonth"},{id:"massage",name:"",icon:"",keywords:[""],paymentType:"currentMonth"},{id:"system",name:"",icon:"",keywords:["","","","IT"],paymentType:"nextMonth"},{id:"housework",name:"",icon:"",keywords:["",""],paymentType:"currentMonth"}],H=[{id:"rent",name:"",icon:"",defaultAmount:132e3,isFixed:!0},{id:"shop_rent",name:"",icon:"",defaultAmount:8e4,isFixed:!0},{id:"electricity",name:"",icon:"",defaultAmount:15e3,isFixed:!0},{id:"gas",name:"",icon:"",defaultAmount:4e3,isFixed:!0},{id:"water",name:"",icon:"",defaultAmount:3e3,isFixed:!0},{id:"tobacco",name:"",icon:"",defaultAmount:16e3,isFixed:!0},{id:"ai_subscription",name:"AI",icon:"",defaultAmount:5e4,isFixed:!0},{id:"food",name:"",icon:"",defaultAmount:2e4,isFixed:!0},{id:"transport",name:"",icon:"",defaultAmount:5e3,isFixed:!0},{id:"phone",name:"",icon:"",defaultAmount:9e3,isFixed:!0},{id:"travel",name:"",icon:"",budgetRatio:.05,isFixed:!1},{id:"entertainment",name:"",icon:"",budgetRatio:.05,isFixed:!1},{id:"savings",name:"",icon:"",budgetRatio:.1,isFixed:!1},{id:"other_expense",name:"",icon:"",budgetRatio:.05,isFixed:!1}],[_,E]=q.useState(()=>{const L=localStorage.getItem("budgetPlanner_incomeBreakdown");return L?JSON.parse(L):N.map(Ue=>({categoryId:Ue.id,amount:0,linkedItems:[]}))}),[G,P]=q.useState(()=>{const L=localStorage.getItem("budgetPlanner_expenseBreakdown");if(L){const Ue=JSON.parse(L);return H.map(st=>{const Me=Ue.find(Rt=>Rt.categoryId===st.id);return Me||{categoryId:st.id,amount:st.isFixed&&st.defaultAmount||0,linkedItems:[]}})}return H.map(Ue=>({categoryId:Ue.id,amount:Ue.isFixed&&Ue.defaultAmount||0,linkedItems:[]}))}),[ee,ce]=q.useState(null),[he,ie]=q.useState(null),de=[{id:"cash",name:"",icon:""},{id:"savings",name:"",icon:""},{id:"insurance",name:"",icon:""},{id:"stocks",name:"",icon:""},{id:"investment",name:"",icon:""},{id:"bonds",name:"",icon:""},{id:"pension",name:"",icon:""},{id:"realEstate",name:"",icon:""},{id:"car",name:"",icon:""},{id:"household",name:"",icon:""}],fe=[{id:"mortgage",name:"",icon:""},{id:"carLoan",name:"",icon:""},{id:"educationLoan",name:"",icon:""},{id:"scholarship",name:"",icon:""},{id:"cardLoan",name:"",icon:""},{id:"otherLoan",name:"",icon:""}],[ve,I]=q.useState(()=>{const L=localStorage.getItem("balanceSheet_assets");return L?JSON.parse(L):de.map(Ue=>({id:Ue.id,amount:0}))}),[R,te]=q.useState(()=>{const L=localStorage.getItem("balanceSheet_liabilities");return L?JSON.parse(L):fe.map(Ue=>({id:Ue.id,amount:0}))}),[Y,le]=q.useState(!1);q.useEffect(()=>{localStorage.setItem("balanceSheet_assets",JSON.stringify(ve))},[ve]),q.useEffect(()=>{localStorage.setItem("balanceSheet_liabilities",JSON.stringify(R))},[R]),ve.reduce((L,Ue)=>L+(Ue.amount||0),0),R.reduce((L,Ue)=>L+(Ue.amount||0),0);const pe=(L,Ue)=>{if(!L||!Ue)return null;if(L==="event"){const st=i==null?void 0:i.find(Me=>String(Me.id)===String(Ue));return st?{name:st.title,icon:"",color:"text-blue-400"}:null}if(L==="goal"){const st=A==null?void 0:A.find(Me=>String(Me.id)===String(Ue));return st?{name:st.title,icon:"",color:"text-purple-400"}:null}if(L==="task"){const st=s==null?void 0:s.find(Me=>String(Me.id)===String(Ue));return st?{name:st.title,icon:"",color:"text-emerald-400"}:null}return null},Fe=(L=0)=>{const Ue=new Date,st=new Date(Ue.getFullYear(),Ue.getMonth()+L,1),Me=new Date(st.getFullYear(),st.getMonth(),1),Rt=new Date(st.getFullYear(),st.getMonth()+1,0);return{start:Me.toISOString().split("T")[0],end:Rt.toISOString().split("T")[0]}},be=L=>{if(L.isFixed&&L.defaultAmount)return{total:L.defaultAmount,matchedItems:[],count:0,isFixed:!0};const Ue=L.keywords||[];if(Ue.length===0)return{total:0,matchedItems:[],count:0};const st=L.paymentType==="nextMonth",Me=Fe(st?-1:0),Rt=new Set,fr=(i||[]).filter(yt=>{const or=yt.title||"",$r=yt.date;return Ue.some(qr=>or.toLowerCase().includes(qr.toLowerCase()))&&$r>=Me.start&&$r<=Me.end?(Rt.add(String(yt.id)),!0):!1}),_t=(t||[]).filter(yt=>{if(yt.type!=="income")return!1;const or=yt.title||"",$r=yt.originalDate||yt.date;if($r<Me.start||$r>Me.end)return!1;if(yt.linkedType==="event"&&yt.linkedId){if(Rt.has(String(yt.linkedId)))return!0;const qr=i==null?void 0:i.find(xn=>String(xn.id)===String(yt.linkedId));if(qr){const xn=qr.title||"";if(Ue.some(On=>xn.toLowerCase().includes(On.toLowerCase())))return!0}}return!!Ue.some(qr=>or.toLowerCase().includes(qr.toLowerCase()))}),xr=_t.reduce((yt,or)=>yt+(or.amount||0),0),ar=_t.map(yt=>({type:"transaction",id:String(yt.id),name:yt.title,amount:yt.amount||0}));return{total:xr,matchedItems:ar,targetRange:Me,isNextMonth:st,eventCount:fr.length,count:_t.length}},Oe=q.useMemo(()=>N.map(L=>{const Ue=be(L);return{categoryId:L.id,...Ue}}),[i,t,N]),Ye=()=>(H.filter(L=>L.isFixed).reduce((L,Ue)=>L+(Ue.defaultAmount||0),0),H.map(L=>{if(L.isFixed)return{categoryId:L.id,amount:L.defaultAmount||0};{const Ue=Math.round(se*(L.budgetRatio||0));return{categoryId:L.id,amount:Ue}}})),ht=()=>{const L=Ye();P(L)},ue=q.useRef(null),qe=()=>{const L={date:new Date().toISOString(),month:new Date().toLocaleDateString("ja-JP",{year:"numeric",month:"long"}),income:Oe.map(st=>{const Me=N.find(Rt=>Rt.id===st.categoryId);return{name:(Me==null?void 0:Me.name)||st.categoryId,amount:st.total||0,isFixed:(Me==null?void 0:Me.isFixed)||!1}}),expenses:G.map(st=>{const Me=H.find(Rt=>Rt.id===st.categoryId);return{name:(Me==null?void 0:Me.name)||st.categoryId,amount:st.amount||0,isFixed:(Me==null?void 0:Me.isFixed)||!1}}),totalIncome:se,totalExpense:Ke,balance:se-Ke},Ue=JSON.parse(localStorage.getItem("balanceSheet_history")||"[]");Ue.unshift(L),localStorage.setItem("balanceSheet_history",JSON.stringify(Ue.slice(0,12))),alert("")},F=()=>{const L=new Date().toLocaleDateString("ja-JP",{year:"numeric",month:"long"}),Ue=se-Ke,st=N.map(_t=>{const xr=Oe.find(or=>or.categoryId===_t.id)||{total:0,count:0},ar=_t.isFixed?"":_t.paymentType==="nextMonth"?"1":"2",yt=xr.count>0?`(${xr.count})`:"";return`
        <tr>
          <td class="cell-name">${_t.name}</td>
          <td class="cell-label">${ar} ${yt}</td>
          <td class="cell-amount">${xr.total.toLocaleString()}</td>
        </tr>
      `}).join(""),Me=H.map(_t=>{const xr=G.find(yt=>yt.categoryId===_t.id)||{amount:0},ar=_t.isFixed?"":"";return`
        <tr>
          <td class="cell-name">${_t.name}</td>
          <td class="cell-label">${ar}</td>
          <td class="cell-amount">${xr.amount.toLocaleString()}</td>
        </tr>
      `}).join(""),Rt=`
      <!DOCTYPE html>
      <html lang="ja">
      <head>
        <meta charset="UTF-8">
        <title> - ${L}</title>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
        <style>
          * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
          }
          body { 
            font-family: 'Noto Sans JP', 'Hiragino Sans', 'Meiryo', sans-serif; 
            background-color: #ffffff !important; 
            color: #000000 !important; 
            padding: 50px;
            font-size: 16px;
            line-height: 1.8;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
          }
          .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: #ffffff;
          }
          .header { 
            text-align: center; 
            margin-bottom: 40px; 
            padding-bottom: 20px;
            border-bottom: 3px solid #000000;
          }
          .header h1 { 
            font-size: 28px; 
            font-weight: 700; 
            color: #000000;
            margin-bottom: 10px;
            letter-spacing: 2px;
          }
          .header .date { 
            font-size: 18px; 
            color: #333333;
            font-weight: 500;
          }
          .content { 
            display: flex; 
            gap: 40px; 
            margin-bottom: 40px;
          }
          .section { 
            flex: 1; 
          }
          .section-title { 
            font-size: 20px; 
            font-weight: 700; 
            padding: 14px 20px;
            margin-bottom: 0;
            border: 2px solid #000000;
            color: #000000;
            background-color: #f5f5f5;
          }
          table { 
            width: 100%; 
            border-collapse: collapse; 
            background-color: #ffffff;
            border: 2px solid #000000;
            border-top: none;
          }
          .cell-name {
            padding: 12px 16px;
            border-bottom: 1px solid #cccccc;
            font-size: 15px;
            color: #000000;
            font-weight: 500;
          }
          .cell-label {
            padding: 12px 16px;
            border-bottom: 1px solid #cccccc;
            text-align: center;
            color: #555555;
            font-size: 14px;
          }
          .cell-amount {
            padding: 12px 16px;
            border-bottom: 1px solid #cccccc;
            text-align: right;
            font-size: 16px;
            font-weight: 500;
            color: #000000;
            font-variant-numeric: tabular-nums;
          }
          .total-row { 
            background-color: #f0f0f0; 
          }
          .total-row td {
            padding: 14px 16px !important;
            border-bottom: none !important;
            font-weight: 700;
            font-size: 17px;
            color: #000000;
          }
          .summary { 
            margin-top: 30px; 
            padding: 25px;
            border: 3px solid #000000;
            background-color: #f8f8f8;
            text-align: center;
          }
          .summary-label { 
            font-size: 18px; 
            margin-bottom: 10px;
            color: #000000;
            font-weight: 500;
          }
          .summary-value { 
            font-size: 32px; 
            font-weight: 700; 
            color: #000000;
            font-variant-numeric: tabular-nums;
          }
          .summary-positive {
            color: #006600;
          }
          .summary-negative {
            color: #cc0000;
          }
          .footer {
            margin-top: 50px;
            text-align: center;
            font-size: 14px;
            color: #666666;
            border-top: 1px solid #cccccc;
            padding-top: 20px;
          }
          @media print {
            body { 
              padding: 30px;
              background-color: #ffffff !important;
              color: #000000 !important;
            }
            .content { gap: 30px; }
            .section-title,
            table,
            .summary {
              -webkit-print-color-adjust: exact;
              print-color-adjust: exact;
            }
          }
        </style>
      </head>
      <body>
        <div class="container">
          <div class="header">
            <h1></h1>
            <div class="date">${L}</div>
          </div>
          
          <div class="content">
            <div class="section">
              <div class="section-title"></div>
              <table>
                ${st}
                <tr class="total-row">
                  <td colspan="2"> </td>
                  <td style="text-align: right;">${se.toLocaleString()}</td>
                </tr>
              </table>
            </div>
            
            <div class="section">
              <div class="section-title"></div>
              <table>
                ${Me}
                <tr class="total-row">
                  <td colspan="2"> </td>
                  <td style="text-align: right;">${Ke.toLocaleString()}</td>
                </tr>
              </table>
            </div>
          </div>
          
          <div class="summary">
            <div class="summary-label">  </div>
            <div class="summary-value ${Ue>=0?"summary-positive":"summary-negative"}">${Ue.toLocaleString()}</div>
          </div>
          
          <div class="footer">
            : ${new Date().toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric"})}
          </div>
        </div>
      </body>
      </html>
    `,fr=window.open("","_blank");fr?(fr.document.write(Rt),fr.document.close(),setTimeout(()=>{fr.print()},800)):alert("")};q.useEffect(()=>{localStorage.setItem("budgetPlanner_income",x.toString())},[x]),q.useEffect(()=>{localStorage.setItem("budgetPlanner_allocations",JSON.stringify(B))},[B]),q.useEffect(()=>{localStorage.setItem("budgetPlanner_incomeBreakdown",JSON.stringify(_))},[_]),q.useEffect(()=>{localStorage.setItem("budgetPlanner_expenseBreakdown",JSON.stringify(G))},[G]),q.useEffect(()=>{G.some(Ue=>{const st=H.find(Me=>Me.id===Ue.categoryId);return(st==null?void 0:st.isFixed)&&st.defaultAmount&&Ue.amount===0})&&P(Ue=>Ue.map(st=>{const Me=H.find(Rt=>Rt.id===st.categoryId);return Me!=null&&Me.isFixed&&Me.defaultAmount&&st.amount===0?{...st,amount:Me.defaultAmount}:st}))},[]);const se=Oe.reduce((L,Ue)=>L+(Ue.total||0),0),Ke=G.reduce((L,Ue)=>L+(Ue.amount||0),0),J=(L,Ue)=>{P(st=>st.map(Me=>Me.categoryId===L?{...Me,amount:parseInt(Ue)||0}:Me))},ne=()=>{y(se)};q.useEffect(()=>{localStorage.setItem("budgetPlanner_special",JSON.stringify(O))},[O]);const Ne=L=>Math.round(x*L/100),W=()=>{M.title&&M.amount&&(k([...O,{id:Date.now(),...M,amount:parseInt(M.amount)}]),K({title:"",amount:"",month:new Date().toISOString().slice(0,7),linkedType:"",linkedId:""}))},He=(L,Ue)=>{L==="event"?`${Ue.title}`:L==="goal"?`${Ue.title}`:`${Ue.title}`,K({title:Ue.title,amount:"",month:Ue.date?Ue.date.slice(0,7):Ue.deadline?Ue.deadline.slice(0,7):new Date().toISOString().slice(0,7),linkedType:L,linkedId:String(Ue.id)})},Ve=L=>{k(O.filter(Ue=>Ue.id!==L))},$e=O.filter(L=>L.month===new Date().toISOString().slice(0,7)).reduce((L,Ue)=>L+Ue.amount,0),Je={expense:["","","","","","","","","","",""],income:["","","","","",""]},ct=L=>{const Ue=new Date(L);return Ue.setMonth(Ue.getMonth()+2),Ue.setDate(0),Ue.toISOString().split("T")[0]},Be=()=>{const L=new Date,Ue=new Date(L.getFullYear(),L.getMonth(),1),st=new Date(L.getFullYear(),L.getMonth()+1,0);return{start:Ue.toISOString().split("T")[0],end:st.toISOString().split("T")[0]}},Ce=q.useMemo(()=>{const L=Be(),Ue=t.filter(yt=>yt.type==="income"&&yt.date>=L.start&&yt.date<=L.end).reduce((yt,or)=>yt+or.amount,0),st=t.filter(yt=>yt.type==="expense"&&yt.date>=L.start&&yt.date<=L.end).reduce((yt,or)=>yt+or.amount,0),Me=t.filter(yt=>yt.type==="income").reduce((yt,or)=>yt+or.amount,0),Rt=t.filter(yt=>yt.type==="expense").reduce((yt,or)=>yt+or.amount,0),fr=new Date().toISOString().split("T")[0],_t=t.filter(yt=>yt.type==="income"&&yt.paymentTiming==="nextMonthEnd"&&yt.date>fr).reduce((yt,or)=>yt+or.amount,0),xr={};t.filter(yt=>yt.type==="expense").forEach(yt=>{xr[yt.category]=(xr[yt.category]||0)+yt.amount});const ar={};return t.filter(yt=>yt.type==="income").forEach(yt=>{ar[yt.category]=(ar[yt.category]||0)+yt.amount}),{monthlyIncome:Ue,monthlyExpense:st,monthlyBalance:Ue-st,totalIncome:Me,totalExpense:Rt,totalBalance:Me-Rt,pendingIncome:_t,categoryTotals:xr,incomeCategoryTotals:ar}},[t]),Z=(L,Ue)=>{if(!L||!Ue)return null;if(L==="task"){const st=s==null?void 0:s.find(Me=>String(Me.id)===String(Ue));return st?{type:"task",name:st.title,icon:"",colorId:st.colorId||"blue"}:null}if(L==="event"){const st=i==null?void 0:i.find(Me=>String(Me.id)===String(Ue));return st?{type:"event",name:st.title,icon:"",colorId:st.colorId||"emerald"}:null}if(L==="goal"){const st=A==null?void 0:A.find(Me=>String(Me.id)===String(Ue));return st?{type:"goal",name:st.title,icon:"",colorId:st.colorId||"purple"}:null}return null},we=t.filter(L=>h==="all"||L.type===h).sort((L,Ue)=>new Date(Ue.date)-new Date(L.date)),_e=async()=>{if(p.title.trim()&&p.amount){let L=p.date;p.type==="income"&&p.paymentTiming==="nextMonthEnd"&&(L=ct(p.date));const Ue={title:p.title,amount:parseFloat(p.amount),type:p.type,category:p.category,date:L,originalDate:p.date,paymentTiming:p.type==="income"?p.paymentTiming:"immediate",linkedType:p.linkedType||"",linkedId:p.linkedId||""};await e(Ue),g({title:"",amount:"",type:"expense",category:"",date:new Date().toISOString().split("T")[0],paymentTiming:"immediate",linkedType:"",linkedId:""}),l(!1)}},Xe=async()=>{if(c&&c.title.trim()&&c.amount){let L=c.originalDate||c.date;c.type==="income"&&c.paymentTiming==="nextMonthEnd"?L=ct(c.originalDate||c.date):c.type==="income"&&c.paymentTiming==="immediate"&&(L=c.originalDate||c.date),await r(c.id,{title:c.title,amount:parseFloat(c.amount),type:c.type,category:c.category,date:L,originalDate:c.originalDate||c.date,paymentTiming:c.type==="income"?c.paymentTiming:"immediate",linkedType:c.linkedType||"",linkedId:c.linkedId||""}),d(null)}},Ge=async L=>{confirm("")&&await n(L)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-2xl border border-slate-700/50 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsx("h2",{className:"text-xl font-bold text-white",children:""}),a.jsx("span",{className:"text-sm text-slate-400",children:new Date().toLocaleDateString("ja-JP",{year:"numeric",month:"long"})})]}),a.jsx("button",{onClick:()=>S(!v),className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg text-sm font-medium transition-all",children:v?" ":" "})]}),v&&a.jsxs("div",{className:"mb-6 p-5 bg-slate-900/70 rounded-xl border border-slate-600/50 space-y-5",children:[a.jsxs("h3",{className:"text-lg font-bold text-emerald-400 flex items-center gap-2",children:[a.jsx("span",{children:""})," "]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm text-slate-400",children:" "}),a.jsx("button",{onClick:ne,className:"px-3 py-1 bg-emerald-600 hover:bg-emerald-500 text-white rounded text-xs font-medium",children:" "})]}),a.jsxs("div",{className:"p-3 bg-slate-800/50 rounded-lg text-xs space-y-1 mb-3",children:[a.jsx("div",{className:"text-slate-400 font-medium",children:" :"}),a.jsxs("div",{className:"text-cyan-400",children:[" KBT  ",a.jsx("span",{className:"text-white",children:""}),""]}),a.jsxs("div",{className:"text-pink-400",children:[" StripChat  ",a.jsx("span",{className:"text-white",children:""}),""]})]}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:N.map(L=>{const Ue=_.find(_t=>_t.categoryId===L.id)||{amount:0},st=pe(Ue.linkedType,Ue.linkedId),Me=Ue.linkedType==="event"?i==null?void 0:i.find(_t=>String(_t.id)===String(Ue.linkedId)):null,Rt=Me&&nextMonthPaymentKeywords.some(_t=>{var xr;return(xr=Me.title)==null?void 0:xr.includes(_t)}),fr=Me&&currentMonthPaymentKeywords.some(_t=>{var xr;return(xr=Me.title)==null?void 0:xr.includes(_t)});return a.jsxs("div",{className:`p-3 rounded-lg ${L.bgColor} border ${L.borderColor}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:L.icon}),a.jsx("span",{className:`text-sm font-medium ${L.color}`,children:L.name})]}),a.jsx("button",{onClick:()=>ce(ee===L.id?null:L.id),className:"text-xs text-slate-400 hover:text-white",children:ee===L.id?"":""})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-slate-500 text-sm",children:""}),a.jsx("input",{type:"number",value:Ue.amount||"",onChange:_t=>updateIncomeBreakdown(L.id,_t.target.value,Ue.linkedType,Ue.linkedId),className:`flex-1 px-2 py-1.5 bg-slate-900/50 border rounded text-white text-sm font-mono ${Ue.autoCalculated?"border-emerald-500":"border-slate-600"}`,placeholder:"0"})]}),st&&a.jsxs("div",{className:"mt-2 space-y-1",children:[a.jsxs("div",{className:`text-xs ${st.color} flex items-center gap-1`,children:[a.jsx("span",{children:st.icon})," ",st.name]}),Rt&&a.jsx("div",{className:"text-[10px] text-cyan-400 bg-cyan-900/30 px-2 py-0.5 rounded",children:" "}),fr&&a.jsx("div",{className:"text-[10px] text-pink-400 bg-pink-900/30 px-2 py-0.5 rounded",children:" "}),Ue.autoCalculated&&a.jsx("div",{className:"text-[10px] text-emerald-400",children:" "})]}),ee===L.id&&a.jsxs("div",{className:"mt-2 p-2 bg-slate-900/50 rounded text-xs",children:[a.jsx("div",{className:"text-slate-500 mb-1",children:":"}),a.jsxs("div",{className:"flex flex-wrap gap-1 max-h-24 overflow-y-auto",children:[i==null?void 0:i.slice(0,10).map(_t=>{var or;const xr=Ue.linkedType==="event"&&Ue.linkedId===String(_t.id),ar=nextMonthPaymentKeywords.some($r=>{var an;return(an=_t.title)==null?void 0:an.includes($r)}),yt=currentMonthPaymentKeywords.some($r=>{var an;return(an=_t.title)==null?void 0:an.includes($r)});return a.jsxs("button",{onClick:()=>updateIncomeBreakdownWithAutoCalc(L.id,"event",String(_t.id)),className:`px-1.5 py-0.5 rounded text-[10px] ${xr?"bg-blue-500 text-white":ar?"bg-cyan-900/50 text-cyan-300 border border-cyan-700":yt?"bg-pink-900/50 text-pink-300 border border-pink-700":"bg-blue-900/50 text-blue-300"}`,children:["",(or=_t.title)==null?void 0:or.slice(0,8)]},`e-${_t.id}`)}),A==null?void 0:A.slice(0,3).map(_t=>a.jsxs("button",{onClick:()=>updateIncomeBreakdown(L.id,Ue.amount,"goal",String(_t.id)),className:`px-1.5 py-0.5 rounded text-[10px] ${Ue.linkedType==="goal"&&Ue.linkedId===String(_t.id)?"bg-purple-500 text-white":"bg-purple-900/50 text-purple-300"}`,children:["",_t.title.slice(0,8)]},`g-${_t.id}`)),s==null?void 0:s.filter(_t=>!_t.completed).slice(0,3).map(_t=>a.jsxs("button",{onClick:()=>updateIncomeBreakdown(L.id,Ue.amount,"task",String(_t.id)),className:`px-1.5 py-0.5 rounded text-[10px] ${Ue.linkedType==="task"&&Ue.linkedId===String(_t.id)?"bg-emerald-500 text-white":"bg-emerald-900/50 text-emerald-300"}`,children:["",_t.title.slice(0,8)]},`t-${_t.id}`)),Ue.linkedType&&a.jsx("button",{onClick:()=>updateIncomeBreakdown(L.id,Ue.amount,"",""),className:"px-1.5 py-0.5 rounded text-[10px] bg-red-900/50 text-red-300",children:""})]})]})]},L.id)})}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-emerald-900/30 rounded-lg border border-emerald-700/50",children:[a.jsx("span",{className:"text-sm text-emerald-300",children:""}),a.jsxs("span",{className:"text-lg font-bold text-emerald-400 font-mono",children:["",se.toLocaleString()]})]})]}),a.jsxs("div",{className:"pt-4 border-t border-slate-700",children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:" "}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-slate-400",children:""}),a.jsx("input",{type:"number",value:x,onChange:L=>y(parseInt(L.target.value)||0),className:"flex-1 px-4 py-3 bg-slate-800 border border-slate-600 rounded-lg text-white text-lg font-mono",placeholder:"300000"}),a.jsx("div",{className:"flex gap-1",children:[2e5,25e4,3e5,35e4,4e5,5e5].map(L=>a.jsxs("button",{onClick:()=>y(L),className:`px-2 py-1 text-xs rounded ${x===L?"bg-emerald-500 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[(L/1e4).toFixed(0),""]},L))})]}),se!==x&&se>0&&a.jsxs("div",{className:"mt-2 text-xs text-amber-400",children:[" ",se.toLocaleString(),""]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-slate-300",children:" 50/30/20"}),a.jsx("button",{onClick:()=>j({necessities:50,wants:30,savings:20}),className:"text-xs text-emerald-400 hover:text-emerald-300",children:""})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-slate-300",children:" "}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-lg font-bold text-red-400",children:[B.necessities,"%"]}),a.jsxs("span",{className:"text-sm text-slate-500",children:["= ",Ne(B.necessities).toLocaleString()]})]})]}),a.jsx("input",{type:"range",min:"30",max:"70",value:B.necessities,onChange:L=>{const Ue=parseInt(L.target.value),st=100-Ue,Me=B.wants/(B.wants+B.savings);j({necessities:Ue,wants:Math.round(st*Me),savings:st-Math.round(st*Me)})},className:"w-full h-2 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #ef4444 0%, #ef4444 ${(B.necessities-30)/40*100}%, #334155 ${(B.necessities-30)/40*100}%, #334155 100%)`}})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-slate-300",children:" "}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-lg font-bold text-amber-400",children:[B.wants,"%"]}),a.jsxs("span",{className:"text-sm text-slate-500",children:["= ",Ne(B.wants).toLocaleString()]})]})]}),a.jsx("input",{type:"range",min:"10",max:"50",value:B.wants,onChange:L=>{const Ue=parseInt(L.target.value),st=100-B.necessities-Ue;st>=5&&j({...B,wants:Ue,savings:st})},className:"w-full h-2 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #f59e0b 0%, #f59e0b ${(B.wants-10)/40*100}%, #334155 ${(B.wants-10)/40*100}%, #334155 100%)`}})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-slate-300",children:" "}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-lg font-bold text-emerald-400",children:[B.savings,"%"]}),a.jsxs("span",{className:"text-sm text-slate-500",children:["= ",Ne(B.savings).toLocaleString()]})]})]}),a.jsx("div",{className:"w-full h-2 rounded-lg bg-emerald-500/30",children:a.jsx("div",{className:"h-full bg-emerald-500 rounded-lg transition-all",style:{width:`${B.savings/50*100}%`}})}),a.jsx("div",{className:"text-xs text-slate-500",children:" "})]}),a.jsxs("div",{className:"flex h-6 rounded-lg overflow-hidden mt-4",children:[a.jsxs("div",{className:"bg-red-500 flex items-center justify-center text-xs text-white font-bold",style:{width:`${B.necessities}%`},children:[B.necessities,"%"]}),a.jsxs("div",{className:"bg-amber-500 flex items-center justify-center text-xs text-white font-bold",style:{width:`${B.wants}%`},children:[B.wants,"%"]}),a.jsxs("div",{className:"bg-emerald-500 flex items-center justify-center text-xs text-white font-bold",style:{width:`${B.savings}%`},children:[B.savings,"%"]})]})]}),a.jsxs("div",{className:"pt-4 border-t border-slate-700",children:[a.jsxs("h4",{className:"text-sm font-bold text-amber-400 mb-3 flex items-center gap-2",children:[a.jsx("span",{children:""})," "]}),a.jsxs("div",{className:"mb-4 p-3 bg-slate-800/50 rounded-lg",children:[a.jsx("div",{className:"text-xs text-slate-400 mb-2",children:" :"}),a.jsxs("div",{className:"flex flex-wrap gap-2 max-h-24 overflow-y-auto",children:[i==null?void 0:i.filter(L=>!O.some(Ue=>Ue.linkedType==="event"&&String(Ue.linkedId)===String(L.id))).slice(0,5).map(L=>a.jsxs("button",{onClick:()=>He("event",L),className:"px-2 py-1 bg-blue-900/50 hover:bg-blue-800/50 text-blue-300 rounded text-xs border border-blue-700/50 flex items-center gap-1",children:[a.jsx("span",{children:""})," ",L.title.slice(0,15),L.title.length>15?"...":""]},`event-${L.id}`)),A==null?void 0:A.filter(L=>!O.some(Ue=>Ue.linkedType==="goal"&&String(Ue.linkedId)===String(L.id))).slice(0,5).map(L=>a.jsxs("button",{onClick:()=>He("goal",L),className:"px-2 py-1 bg-purple-900/50 hover:bg-purple-800/50 text-purple-300 rounded text-xs border border-purple-700/50 flex items-center gap-1",children:[a.jsx("span",{children:""})," ",L.title.slice(0,15),L.title.length>15?"...":""]},`goal-${L.id}`)),s==null?void 0:s.filter(L=>!L.completed&&!O.some(Ue=>Ue.linkedType==="task"&&String(Ue.linkedId)===String(L.id))).slice(0,5).map(L=>a.jsxs("button",{onClick:()=>He("task",L),className:"px-2 py-1 bg-emerald-900/50 hover:bg-emerald-800/50 text-emerald-300 rounded text-xs border border-emerald-700/50 flex items-center gap-1",children:[a.jsx("span",{children:""})," ",L.title.slice(0,15),L.title.length>15?"...":""]},`task-${L.id}`))]})]}),a.jsxs("div",{className:"space-y-2 mb-3",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:M.title,onChange:L=>K({...M,title:L.target.value}),className:"flex-1 px-3 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white text-sm",placeholder:": "}),a.jsx("input",{type:"number",value:M.amount,onChange:L=>K({...M,amount:L.target.value}),className:"w-28 px-3 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white text-sm",placeholder:""}),a.jsx("input",{type:"month",value:M.month,onChange:L=>K({...M,month:L.target.value}),className:"px-3 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white text-sm"}),a.jsx("button",{onClick:W,className:"px-4 py-2 bg-amber-600 hover:bg-amber-500 text-white rounded-lg text-sm font-medium",children:""})]}),M.linkedType&&a.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[a.jsx("span",{className:"text-slate-500",children:":"}),(()=>{const L=pe(M.linkedType,M.linkedId);return L?a.jsxs("span",{className:`${L.color} flex items-center gap-1`,children:[a.jsx("span",{children:L.icon})," ",L.name]}):null})(),a.jsx("button",{onClick:()=>K({...M,linkedType:"",linkedId:""}),className:"text-red-400 hover:text-red-300",children:""})]})]}),O.length>0&&a.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:O.map(L=>{const Ue=pe(L.linkedType,L.linkedId);return a.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-slate-800/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-amber-400",children:""}),a.jsxs("div",{children:[a.jsx("span",{className:"text-white text-sm",children:L.title}),Ue&&a.jsxs("div",{className:`text-xs ${Ue.color} flex items-center gap-1`,children:[a.jsx("span",{children:Ue.icon})," ",Ue.name]})]}),a.jsx("span",{className:"text-xs text-slate-500",children:L.month})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-amber-400 font-mono",children:["",L.amount.toLocaleString()]}),a.jsx("button",{onClick:()=>Ve(L.id),className:"text-red-400 hover:text-red-300 text-xs",children:""})]})]},L.id)})})]})]}),a.jsxs("div",{className:"mb-4",ref:ue,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[" ",a.jsx("span",{className:"text-sm text-slate-400 font-normal",children:new Date().toLocaleDateString("ja-JP",{year:"numeric",month:"long"})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:ht,className:"px-3 py-2 bg-emerald-600 hover:bg-emerald-500 text-white text-sm font-medium rounded-lg transition-colors",children:" "}),a.jsx("button",{onClick:qe,className:"px-3 py-2 bg-blue-600 hover:bg-blue-500 text-white text-sm font-medium rounded-lg transition-colors",children:" "}),a.jsx("button",{onClick:F,className:"px-3 py-2 bg-slate-600 hover:bg-slate-500 text-white text-sm font-medium rounded-lg transition-colors",children:" PDF"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"border border-slate-600 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-slate-800 px-4 py-2 text-center border-b border-slate-600",children:a.jsx("span",{className:"font-bold text-emerald-400",children:""})}),a.jsx("div",{className:"p-3 space-y-1",children:N.map(L=>{const Ue=Oe.find(Rt=>Rt.categoryId===L.id)||{total:0,count:0},st=L.paymentType==="nextMonth",Me=L.isFixed;return a.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-700/30 last:border-b-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:L.icon}),a.jsx("span",{className:"text-sm text-slate-300",children:L.name}),Me?a.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-slate-700 text-slate-400",children:""}):a.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-slate-700 text-slate-400",children:st?"1":"2"}),Ue.count>0&&a.jsxs("span",{className:"text-[10px] text-slate-500",children:["(",Ue.count,")"]})]}),a.jsxs("span",{className:`font-mono ${Ue.total>0?"text-white":"text-slate-600"}`,children:["",Ue.total.toLocaleString()]})]},L.id)})}),a.jsx("div",{className:"bg-slate-800 px-4 py-3 border-t border-slate-600",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-bold text-emerald-400",children:""}),a.jsxs("span",{className:"font-bold text-emerald-400 font-mono text-lg",children:["",se.toLocaleString()]})]})})]}),a.jsxs("div",{className:"border border-slate-600 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-slate-800 px-4 py-2 text-center border-b border-slate-600",children:a.jsx("span",{className:"font-bold text-red-400",children:""})}),a.jsx("div",{className:"p-3 space-y-1",children:H.map(L=>{const Ue=G.find(st=>st.categoryId===L.id)||{amount:0};return a.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-700/30 last:border-b-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm",children:L.icon}),a.jsx("span",{className:"text-sm text-slate-300",children:L.name}),L.isFixed&&a.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-slate-700 text-slate-400",children:""})]}),a.jsx("input",{type:"number",value:Ue.amount||"",onChange:st=>J(L.id,st.target.value),className:"w-28 bg-slate-800 border border-slate-600 rounded px-2 py-1 text-right text-white font-mono text-sm",placeholder:"0"})]},L.id)})}),a.jsx("div",{className:"bg-slate-800 px-4 py-3 border-t border-slate-600",children:a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-bold text-red-400",children:""}),a.jsxs("span",{className:"font-bold text-red-400 font-mono text-lg",children:["",Ke.toLocaleString()]})]})})]})]}),a.jsx("div",{className:`mt-4 p-4 rounded-lg border ${se-Ke>=0?"bg-slate-800 border-emerald-600":"bg-slate-800 border-red-600"}`,children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-bold text-lg text-slate-300",children:""}),a.jsxs("span",{className:`font-bold font-mono text-2xl ${se-Ke>=0?"text-emerald-400":"text-red-400"}`,children:["",(se-Ke).toLocaleString()]})]})})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-4 border border-red-900/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("span",{className:"text-lg",children:""}),a.jsx("span",{className:"text-sm text-slate-400",children:""})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-xs text-slate-500",children:""}),a.jsxs("span",{className:"text-sm text-slate-300 font-mono",children:["",Ne(B.necessities).toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-xs text-slate-500",children:""}),a.jsxs("span",{className:"text-sm text-red-400 font-mono",children:["",((((ge=Ce.categoryTotals)==null?void 0:ge.)||0)+(((Qe=Ce.categoryTotals)==null?void 0:Qe.)||0)+(((ft=Ce.categoryTotals)==null?void 0:ft.)||0)+(((at=Ce.categoryTotals)==null?void 0:at.)||0)).toLocaleString()]})]}),a.jsx("div",{className:"w-full h-2 bg-slate-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-red-500 transition-all",style:{width:`${Math.min(100,((((vt=Ce.categoryTotals)==null?void 0:vt.)||0)+(((pt=Ce.categoryTotals)==null?void 0:pt.)||0)+(((xt=Ce.categoryTotals)==null?void 0:xt.)||0)+(((Bt=Ce.categoryTotals)==null?void 0:Bt.)||0))/Ne(B.necessities)*100)}%`}})})]})]}),a.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-4 border border-amber-900/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("span",{className:"text-lg",children:""}),a.jsx("span",{className:"text-sm text-slate-400",children:""})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-xs text-slate-500",children:""}),a.jsxs("span",{className:"text-sm text-slate-300 font-mono",children:["",Ne(B.wants).toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-xs text-slate-500",children:""}),a.jsxs("span",{className:"text-sm text-amber-400 font-mono",children:["",((((Kt=Ce.categoryTotals)==null?void 0:Kt.)||0)+(((Et=Ce.categoryTotals)==null?void 0:Et.)||0)).toLocaleString()]})]}),a.jsx("div",{className:"w-full h-2 bg-slate-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-amber-500 transition-all",style:{width:`${Math.min(100,((((At=Ce.categoryTotals)==null?void 0:At.)||0)+(((Br=Ce.categoryTotals)==null?void 0:Br.)||0))/Ne(B.wants)*100)}%`}})})]})]}),a.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-4 border border-emerald-900/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("span",{className:"text-lg",children:""}),a.jsx("span",{className:"text-sm text-slate-400",children:""})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-xs text-slate-500",children:""}),a.jsxs("span",{className:"text-sm text-slate-300 font-mono",children:["",Ne(B.savings).toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-xs text-slate-500",children:""}),a.jsxs("span",{className:"text-sm text-emerald-400 font-mono",children:["",Math.max(0,Ce.monthlyBalance).toLocaleString()]})]}),a.jsx("div",{className:"w-full h-2 bg-slate-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-emerald-500 transition-all",style:{width:`${Math.min(100,Math.max(0,Ce.monthlyBalance)/Ne(B.savings)*100)}%`}})})]})]})]}),$e>0&&a.jsxs("div",{className:"p-3 bg-amber-900/30 border border-amber-700/50 rounded-lg flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:""}),a.jsx("span",{className:"text-amber-300 text-sm",children:""})]}),a.jsxs("span",{className:"text-amber-400 font-bold",children:["",$e.toLocaleString()]})]}),a.jsxs("div",{className:"flex gap-2 mt-4",children:[a.jsx("span",{className:"text-sm text-slate-500 self-center",children:":"}),a.jsx("button",{onClick:()=>{g({...p,type:"expense",category:"",amount:Math.round(Ne(B.necessities)*.3).toString()}),l(!0)},className:"px-3 py-1.5 bg-red-900/50 hover:bg-red-800/50 text-red-300 rounded-lg text-xs border border-red-700/50",children:"  (30%)"}),a.jsx("button",{onClick:()=>{g({...p,type:"expense",category:"",amount:Math.round(Ne(B.wants)*.5).toString()}),l(!0)},className:"px-3 py-1.5 bg-amber-900/50 hover:bg-amber-800/50 text-amber-300 rounded-lg text-xs border border-amber-700/50",children:"  (50%)"}),a.jsx("button",{onClick:()=>{g({...p,type:"expense",category:"",amount:""}),l(!0)},className:"px-3 py-1.5 bg-purple-900/50 hover:bg-purple-800/50 text-purple-300 rounded-lg text-xs border border-purple-700/50",children:" "})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-gradient-to-br from-emerald-900/50 to-emerald-800/30 rounded-xl border border-emerald-700/50 p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(bt,{name:"trendingUp",size:24,className:"text-emerald-400"}),a.jsx("span",{className:"text-slate-400 text-sm",children:""})]}),a.jsxs("div",{className:"text-2xl font-bold text-emerald-400",children:["",Ce.monthlyIncome.toLocaleString()]}),Ce.pendingIncome>0&&a.jsxs("div",{className:"text-xs text-blue-400 mt-1",children:[" : ",Ce.pendingIncome.toLocaleString()]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-red-900/50 to-red-800/30 rounded-xl border border-red-700/50 p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(bt,{name:"trendingDown",size:24,className:"text-red-400"}),a.jsx("span",{className:"text-slate-400 text-sm",children:""})]}),a.jsxs("div",{className:"text-2xl font-bold text-red-400",children:["",Ce.monthlyExpense.toLocaleString()]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-blue-900/50 to-blue-800/30 rounded-xl border border-blue-700/50 p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(bt,{name:"wallet",size:24,className:"text-blue-400"}),a.jsx("span",{className:"text-slate-400 text-sm",children:""})]}),a.jsxs("div",{className:`text-2xl font-bold ${Ce.monthlyBalance>=0?"text-blue-400":"text-red-400"}`,children:["",Ce.monthlyBalance.toLocaleString()]})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-900/50 to-purple-800/30 rounded-xl border border-purple-700/50 p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(bt,{name:"piggyBank",size:24,className:"text-purple-400"}),a.jsx("span",{className:"text-slate-400 text-sm",children:""})]}),a.jsxs("div",{className:`text-2xl font-bold ${Ce.totalBalance>=0?"text-purple-400":"text-red-400"}`,children:["",Ce.totalBalance.toLocaleString()]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-slate-800/40 rounded-xl border border-slate-700/50 p-6",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-400 mb-4",children:""}),Object.keys(Ce.categoryTotals).length>0?a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"relative w-40 h-40 flex-shrink-0",children:[a.jsx("svg",{viewBox:"0 0 100 100",className:"w-full h-full -rotate-90",children:(()=>{const L=Object.entries(Ce.categoryTotals).sort((Rt,fr)=>fr[1]-Rt[1]),Ue=L.reduce((Rt,[,fr])=>Rt+fr,0),st=["#ef4444","#f97316","#eab308","#22c55e","#06b6d4","#3b82f6","#8b5cf6","#ec4899"];let Me=0;return L.map(([Rt,fr],_t)=>{const xr=fr/Ue*100,ar=Me;Me+=xr;const yt=xr>50?1:0,or=50+40*Math.cos(ar/100*2*Math.PI),$r=50+40*Math.sin(ar/100*2*Math.PI),an=50+40*Math.cos(Me/100*2*Math.PI),qr=50+40*Math.sin(Me/100*2*Math.PI);return a.jsx("path",{d:`M 50 50 L ${or} ${$r} A 40 40 0 ${yt} 1 ${an} ${qr} Z`,fill:st[_t%st.length],className:"hover:opacity-80 transition-opacity cursor-pointer"},Rt)})})()}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-slate-500",children:""}),a.jsxs("div",{className:"text-sm font-bold text-red-400",children:["",Ce.totalExpense.toLocaleString()]})]})})]}),a.jsx("div",{className:"flex-1 space-y-2",children:(()=>{const L=Object.entries(Ce.categoryTotals).sort((Me,Rt)=>Rt[1]-Me[1]),Ue=L.reduce((Me,[,Rt])=>Me+Rt,0),st=["#ef4444","#f97316","#eab308","#22c55e","#06b6d4","#3b82f6","#8b5cf6","#ec4899"];return L.map(([Me,Rt],fr)=>a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:st[fr%st.length]}}),a.jsx("span",{className:"text-slate-300 flex-1 truncate",children:Me}),a.jsxs("span",{className:"text-slate-500 text-xs",children:[(Rt/Ue*100).toFixed(0),"%"]}),a.jsxs("span",{className:"text-slate-400 w-20 text-right",children:["",Rt.toLocaleString()]})]},Me))})()})]}):a.jsx("div",{className:"text-center text-slate-500 py-8",children:""})]}),a.jsxs("div",{className:"bg-slate-800/40 rounded-xl border border-slate-700/50 p-6",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-400 mb-4",children:""}),Object.keys(Ce.incomeCategoryTotals).length>0?a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"relative w-40 h-40 flex-shrink-0",children:[a.jsx("svg",{viewBox:"0 0 100 100",className:"w-full h-full -rotate-90",children:(()=>{const L=Object.entries(Ce.incomeCategoryTotals).sort((Rt,fr)=>fr[1]-Rt[1]),Ue=L.reduce((Rt,[,fr])=>Rt+fr,0),st=["#10b981","#14b8a6","#06b6d4","#0ea5e9","#3b82f6","#6366f1","#8b5cf6","#a855f7"];let Me=0;return L.map(([Rt,fr],_t)=>{const xr=fr/Ue*100,ar=Me;Me+=xr;const yt=xr>50?1:0,or=50+40*Math.cos(ar/100*2*Math.PI),$r=50+40*Math.sin(ar/100*2*Math.PI),an=50+40*Math.cos(Me/100*2*Math.PI),qr=50+40*Math.sin(Me/100*2*Math.PI);return a.jsx("path",{d:`M 50 50 L ${or} ${$r} A 40 40 0 ${yt} 1 ${an} ${qr} Z`,fill:st[_t%st.length],className:"hover:opacity-80 transition-opacity cursor-pointer"},Rt)})})()}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-slate-500",children:""}),a.jsxs("div",{className:"text-sm font-bold text-emerald-400",children:["",Ce.totalIncome.toLocaleString()]})]})})]}),a.jsx("div",{className:"flex-1 space-y-2",children:(()=>{const L=Object.entries(Ce.incomeCategoryTotals).sort((Me,Rt)=>Rt[1]-Me[1]),Ue=L.reduce((Me,[,Rt])=>Me+Rt,0),st=["#10b981","#14b8a6","#06b6d4","#0ea5e9","#3b82f6","#6366f1","#8b5cf6","#a855f7"];return L.map(([Me,Rt],fr)=>a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:st[fr%st.length]}}),a.jsx("span",{className:"text-slate-300 flex-1 truncate",children:Me}),a.jsxs("span",{className:"text-slate-500 text-xs",children:[(Rt/Ue*100).toFixed(0),"%"]}),a.jsxs("span",{className:"text-slate-400 w-20 text-right",children:["",Rt.toLocaleString()]})]},Me))})()})]}):a.jsx("div",{className:"text-center text-slate-500 py-8",children:""})]})]}),a.jsxs("div",{className:"bg-slate-800/40 rounded-xl border border-slate-700/50 p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-400",children:""}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("select",{value:h,onChange:L=>b(L.target.value),className:"bg-slate-900 border border-slate-700 text-slate-300 px-3 py-1 rounded-lg text-sm outline-none",children:[a.jsx("option",{value:"all",children:""}),a.jsx("option",{value:"income",children:""}),a.jsx("option",{value:"expense",children:""})]}),a.jsxs("button",{onClick:()=>l(!0),className:"px-4 py-1 bg-blue-600 text-white rounded-lg flex items-center gap-2 text-sm hover:bg-blue-500 transition-colors",children:[a.jsx(bt,{name:"plus",size:16})," "]})]})]}),a.jsxs("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:[we.map(L=>{const Ue=Z(L.linkedType,L.linkedId);return a.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg hover:bg-slate-900/70 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${L.type==="income"?"bg-emerald-500/20 text-emerald-400":"bg-red-500/20 text-red-400"}`,children:a.jsx(bt,{name:L.type==="income"?"trendingUp":"trendingDown",size:20})}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-sm font-medium text-slate-200 flex items-center gap-2",children:[L.title,Ue&&(()=>{const st=Un(Ue.colorId);return a.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full ${st.bgLight} ${st.text}`,children:[Ue.icon," ",Ue.name]})})()]}),a.jsxs("div",{className:"text-xs text-slate-500",children:[L.category,"  ",L.date,L.type==="income"&&L.paymentTiming==="nextMonthEnd"&&a.jsx("span",{className:"ml-2 text-blue-400",children:" "}),L.type==="income"&&L.originalDate&&L.originalDate!==L.date&&a.jsxs("span",{className:"ml-1 text-slate-600",children:["(: ",L.originalDate,")"]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:`font-bold ${L.type==="income"?"text-emerald-400":"text-red-400"}`,children:[L.type==="income"?"+":"-","",L.amount.toLocaleString()]}),a.jsx("button",{onClick:()=>d({...L,amount:L.amount.toString(),originalDate:L.originalDate||L.date,paymentTiming:L.paymentTiming||"immediate",linkedType:L.linkedType||"",linkedId:L.linkedId||""}),className:"text-slate-600 hover:text-blue-400 transition-colors p-1",children:a.jsx(bt,{name:"edit",size:16})}),a.jsx("button",{onClick:()=>Ge(L.id),className:"text-slate-600 hover:text-red-400 transition-colors p-1",children:a.jsx(bt,{name:"trash",size:16})})]})]},L.id)}),we.length===0&&a.jsx("div",{className:"text-center py-8 text-slate-500",children:""})]})]}),o&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>l(!1),children:a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 w-96 border border-slate-700",onClick:L=>L.stopPropagation(),children:[a.jsx("h3",{className:"text-lg font-bold text-slate-200 mb-4",children:""}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>g({...p,type:"expense",category:""}),className:`flex-1 py-2 rounded-lg transition-colors ${p.type==="expense"?"bg-red-600 text-white":"bg-slate-700 text-slate-400"}`,children:""}),a.jsx("button",{onClick:()=>g({...p,type:"income",category:""}),className:`flex-1 py-2 rounded-lg transition-colors ${p.type==="income"?"bg-emerald-600 text-white":"bg-slate-700 text-slate-400"}`,children:""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsx("input",{type:"text",value:p.title,onChange:L=>g({...p,title:L.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500",placeholder:": "})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsx("input",{type:"number",value:p.amount,onChange:L=>g({...p,amount:L.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500",placeholder:"1000"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsx("select",{value:p.category,onChange:L=>g({...p,category:L.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500",children:Je[p.type].map(L=>a.jsx("option",{value:L,children:L},L))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:p.type==="income"?"":""}),a.jsx("input",{type:"date",value:p.date,onChange:L=>g({...p,date:L.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500"})]}),p.type==="income"&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>g({...p,paymentTiming:"immediate"}),className:`flex-1 py-2 rounded-lg transition-colors text-sm ${p.paymentTiming==="immediate"?"bg-emerald-600 text-white":"bg-slate-700 text-slate-400 hover:bg-slate-600"}`,children:" "}),a.jsx("button",{onClick:()=>g({...p,paymentTiming:"nextMonthEnd"}),className:`flex-1 py-2 rounded-lg transition-colors text-sm ${p.paymentTiming==="nextMonthEnd"?"bg-blue-600 text-white":"bg-slate-700 text-slate-400 hover:bg-slate-600"}`,children:" "})]}),p.paymentTiming==="nextMonthEnd"&&p.date&&a.jsxs("div",{className:"mt-2 text-xs text-blue-400 bg-blue-500/10 px-3 py-2 rounded-lg",children:[" : ",ct(p.date)]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("select",{value:p.linkedType,onChange:L=>g({...p,linkedType:L.target.value,linkedId:""}),className:"bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500 text-sm",children:[a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"task",children:" "}),a.jsx("option",{value:"event",children:" "}),a.jsx("option",{value:"goal",children:" "})]}),a.jsxs("select",{value:p.linkedId,onChange:L=>g({...p,linkedId:L.target.value}),className:"bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500 text-sm",disabled:!p.linkedType,children:[a.jsx("option",{value:"",children:""}),p.linkedType==="task"&&(s==null?void 0:s.map(L=>a.jsxs("option",{value:L.id,children:[L.date?`${L.date} - `:"",L.title]},L.id))),p.linkedType==="event"&&(i==null?void 0:i.map(L=>a.jsxs("option",{value:L.id,children:[L.date?`${L.date} - `:"",L.title]},L.id))),p.linkedType==="goal"&&(A==null?void 0:A.map(L=>a.jsxs("option",{value:L.id,children:[L.date?`${L.date} - `:"",L.title]},L.id)))]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsx("button",{onClick:()=>l(!1),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg transition-colors",children:""}),a.jsx("button",{onClick:_e,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors",children:""})]})]})]})}),c&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>d(null),children:a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 w-96 border border-slate-700",onClick:L=>L.stopPropagation(),children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-200 mb-4 flex items-center gap-2",children:[a.jsx(bt,{name:"edit",size:20,className:"text-blue-400"}),""]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>d({...c,type:"expense",category:""}),className:`flex-1 py-2 rounded-lg transition-colors ${c.type==="expense"?"bg-red-600 text-white":"bg-slate-700 text-slate-400"}`,children:""}),a.jsx("button",{onClick:()=>d({...c,type:"income",category:""}),className:`flex-1 py-2 rounded-lg transition-colors ${c.type==="income"?"bg-emerald-600 text-white":"bg-slate-700 text-slate-400"}`,children:""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsx("input",{type:"text",value:c.title,onChange:L=>d({...c,title:L.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsx("input",{type:"number",value:c.amount,onChange:L=>d({...c,amount:L.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsx("select",{value:c.category,onChange:L=>d({...c,category:L.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500",children:Je[c.type].map(L=>a.jsx("option",{value:L,children:L},L))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:c.type==="income"?"":""}),a.jsx("input",{type:"date",value:c.originalDate||c.date,onChange:L=>d({...c,originalDate:L.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500"})]}),c.type==="income"&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>d({...c,paymentTiming:"immediate"}),className:`flex-1 py-2 rounded-lg transition-colors text-sm ${c.paymentTiming==="immediate"?"bg-emerald-600 text-white":"bg-slate-700 text-slate-400 hover:bg-slate-600"}`,children:" "}),a.jsx("button",{onClick:()=>d({...c,paymentTiming:"nextMonthEnd"}),className:`flex-1 py-2 rounded-lg transition-colors text-sm ${c.paymentTiming==="nextMonthEnd"?"bg-blue-600 text-white":"bg-slate-700 text-slate-400 hover:bg-slate-600"}`,children:" "})]}),c.paymentTiming==="nextMonthEnd"&&c.originalDate&&a.jsxs("div",{className:"mt-2 text-xs text-blue-400 bg-blue-500/10 px-3 py-2 rounded-lg",children:[" : ",ct(c.originalDate)]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("select",{value:c.linkedType,onChange:L=>d({...c,linkedType:L.target.value,linkedId:""}),className:"bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500 text-sm",children:[a.jsx("option",{value:"",children:""}),a.jsx("option",{value:"task",children:" "}),a.jsx("option",{value:"event",children:" "}),a.jsx("option",{value:"goal",children:" "})]}),a.jsxs("select",{value:c.linkedId,onChange:L=>d({...c,linkedId:L.target.value}),className:"bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500 text-sm",disabled:!c.linkedType,children:[a.jsx("option",{value:"",children:""}),c.linkedType==="task"&&(s==null?void 0:s.map(L=>a.jsxs("option",{value:L.id,children:[L.date?`${L.date} - `:"",L.title]},L.id))),c.linkedType==="event"&&(i==null?void 0:i.map(L=>a.jsxs("option",{value:L.id,children:[L.date?`${L.date} - `:"",L.title]},L.id))),c.linkedType==="goal"&&(A==null?void 0:A.map(L=>a.jsxs("option",{value:L.id,children:[L.date?`${L.date} - `:"",L.title]},L.id)))]})]})]}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsx("button",{onClick:()=>d(null),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg transition-colors",children:""}),a.jsx("button",{onClick:Xe,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors",children:""})]})]})]})})]})}function FL({settings:t,updateSettings:e,exportData:r,importData:n,clearAllData:s,syncToSupabase:i,autoBackup:A,getLastAutoBackup:o,getBackupHistory:l,restoreFromBackup:c}){const[d,p]=q.useState(!1),[g,h]=q.useState(""),[b,v]=q.useState(()=>localStorage.getItem("ai_api_key")||""),[S,x]=q.useState(()=>localStorage.getItem("ai_provider")||"gemini"),[y,B]=q.useState(!1),[j,O]=q.useState(!1),[k,M]=q.useState(null),[K,N]=q.useState(!1),[H,_]=q.useState([]),[E,G]=q.useState(null),[P,ee]=q.useState(!1);q.useEffect(()=>{const R=l();_(R),R.length>0&&G(new Date(R[0].timestamp))},[l]);const ce=()=>{A();const R=l();_(R),R.length>0&&G(new Date(R[0].timestamp)),alert("")},he=async R=>{if(confirm(""))try{await c(R)?(N(!1),alert(""),window.location.reload()):alert("")}catch(te){console.error("Restore error:",te),alert(": "+te.message)}},ie=(R,te)=>{const Y=new Blob([JSON.stringify(R,null,2)],{type:"application/json"}),le=URL.createObjectURL(Y),pe=document.createElement("a");pe.href=le,pe.download=`life-dashboard-backup-${te.split("T")[0]}.json`,pe.click(),URL.revokeObjectURL(le)},de=()=>{localStorage.setItem("ai_api_key",b),localStorage.setItem("ai_provider",S),alert("AI API")},fe=async()=>{try{const R=JSON.parse(g);p(!1),h(""),O(!0),M(null),await n(R),O(!1),alert("Supabase")}catch(R){O(!1),console.error("Import error:",R),alert(": "+R.message)}},ve=()=>{confirm("")&&s()},I=async()=>{if(confirm(`Supabase
Supabase`)){O(!0),M(null);try{const R=await i();M(R),alert("")}catch(R){alert(`: ${R.message}`)}finally{O(!1)}}};return a.jsxs("div",{className:"space-y-6 max-w-2xl",children:[a.jsxs("div",{className:"bg-slate-800/40 rounded-xl border border-slate-700/50 p-6",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-200 mb-4 flex items-center gap-2",children:[a.jsx(bt,{name:"user",size:20,className:"text-blue-400"}),""]}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:""}),a.jsx("input",{type:"text",value:t.username,onChange:R=>e({...t,username:R.target.value}),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500",placeholder:""})]})})]}),a.jsxs("div",{className:"bg-slate-800/40 rounded-xl border border-slate-700/50 p-6",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-200 mb-4 flex items-center gap-2",children:[a.jsx(bt,{name:"bell",size:20,className:"text-yellow-400"}),""]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-slate-400 text-sm",children:""}),a.jsxs("button",{onClick:()=>ee(!0),className:"w-full px-4 py-3 bg-yellow-600 hover:bg-yellow-500 text-white rounded-lg transition-colors flex items-center justify-center gap-2",children:[a.jsx(bt,{name:"bell",size:20}),""]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center text-xs",children:[a.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-2",children:[a.jsx("div",{className:"text-yellow-400 font-bold",children:""}),a.jsx("div",{className:"text-slate-400",children:""})]}),a.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-2",children:[a.jsx("div",{className:"text-blue-400 font-bold",children:""}),a.jsx("div",{className:"text-slate-400",children:""})]}),a.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-2",children:[a.jsx("div",{className:"text-green-400 font-bold",children:""}),a.jsx("div",{className:"text-slate-400",children:""})]}),a.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-2",children:[a.jsx("div",{className:"text-purple-400 font-bold",children:""}),a.jsx("div",{className:"text-slate-400",children:""})]}),a.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-2",children:[a.jsx("div",{className:"text-orange-400 font-bold",children:""}),a.jsx("div",{className:"text-slate-400",children:""})]}),a.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-2",children:[a.jsx("div",{className:"text-pink-400 font-bold",children:""}),a.jsx("div",{className:"text-slate-400",children:""})]})]})]})]}),P&&a.jsx(WF,{onClose:()=>ee(!1)}),a.jsxs("div",{className:"bg-slate-800/40 rounded-xl border border-slate-700/50 p-6",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-200 mb-4 flex items-center gap-2",children:[a.jsx(bt,{name:"cpu",size:20,className:"text-purple-400"}),"AI API"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:"AI"}),a.jsxs("select",{value:S,onChange:R=>x(R.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500",children:[a.jsx("option",{value:"gemini",children:"Google Gemini"}),a.jsx("option",{value:"groq",children:"Groq (Llama)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:"API"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:y?"text":"password",value:b,onChange:R=>v(R.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 pr-20 text-slate-200 outline-none focus:border-blue-500",placeholder:S==="gemini"?"AIza...":"gsk_..."}),a.jsx("button",{onClick:()=>B(!y),className:"absolute right-2 top-1/2 -translate-y-1/2 px-2 py-1 text-xs text-slate-400 hover:text-slate-200",children:y?"":""})]})]}),a.jsx("button",{onClick:de,className:"w-full px-4 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-lg transition-colors",children:""}),b&&a.jsx("div",{className:"text-sm text-emerald-400 flex items-center gap-2",children:" API"})]})]}),a.jsxs("div",{className:"bg-slate-800/40 rounded-xl border border-slate-700/50 p-6",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-200 mb-4 flex items-center gap-2",children:[a.jsx(bt,{name:"download",size:20,className:"text-emerald-400"}),""]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:r,className:"flex-1 px-4 py-3 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg flex items-center justify-center gap-2 transition-colors",children:[a.jsx(bt,{name:"download",size:18}),""]}),a.jsxs("button",{onClick:()=>p(!0),className:"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-lg flex items-center justify-center gap-2 transition-colors",children:[a.jsx(bt,{name:"upload",size:18}),""]})]}),a.jsxs("button",{onClick:ve,className:"w-full px-4 py-3 bg-red-600/20 hover:bg-red-600/30 text-red-400 border border-red-600/50 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[a.jsx(bt,{name:"trash",size:18}),""]})]})]}),a.jsxs("div",{className:"bg-slate-800/40 rounded-xl border border-slate-700/50 p-6",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-200 mb-4 flex items-center gap-2",children:[a.jsx(bt,{name:"cloud",size:20,className:"text-cyan-400"}),""]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-slate-400",children:"Supabase "}),a.jsx("button",{onClick:I,disabled:j,className:"w-full px-4 py-3 bg-cyan-600 hover:bg-cyan-500 disabled:bg-cyan-800 disabled:cursor-not-allowed text-white rounded-lg flex items-center justify-center gap-2 transition-colors",children:j?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bt,{name:"cloud",size:18}),"Supabase"]})}),k&&a.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 text-sm",children:[a.jsx("div",{className:"font-bold text-slate-200 mb-2",children:":"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-slate-400",children:[a.jsxs("div",{children:[": ",a.jsx("span",{className:"text-emerald-400",children:k.tasks.success})," / ",a.jsx("span",{className:"text-red-400",children:k.tasks.failed})]}),a.jsxs("div",{children:[": ",a.jsx("span",{className:"text-emerald-400",children:k.events.success})," / ",a.jsx("span",{className:"text-red-400",children:k.events.failed})]}),a.jsxs("div",{children:[": ",a.jsx("span",{className:"text-emerald-400",children:k.goals.success})," / ",a.jsx("span",{className:"text-red-400",children:k.goals.failed})]}),a.jsxs("div",{children:[": ",a.jsx("span",{className:"text-emerald-400",children:k.transactions.success})," / ",a.jsx("span",{className:"text-red-400",children:k.transactions.failed})]}),a.jsxs("div",{children:[": ",a.jsx("span",{className:"text-emerald-400",children:k.shoppingItems.success})," / ",a.jsx("span",{className:"text-red-400",children:k.shoppingItems.failed})]}),a.jsxs("div",{children:[": ",a.jsx("span",{className:"text-emerald-400",children:k.scripts.success})," / ",a.jsx("span",{className:"text-red-400",children:k.scripts.failed})]}),a.jsxs("div",{children:[": ",a.jsx("span",{className:"text-emerald-400",children:k.diary.success})," / ",a.jsx("span",{className:"text-red-400",children:k.diary.failed})]})]})]})]})]}),a.jsxs("div",{className:"bg-slate-800/40 rounded-xl border border-slate-700/50 p-6",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-200 mb-4 flex items-center gap-2",children:[a.jsx(bt,{name:"save",size:20,className:"text-orange-400"}),""]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-slate-400",children:":"}),a.jsx("span",{className:"text-emerald-400 font-medium",children:"30"})]}),E&&a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-slate-400",children:":"}),a.jsx("span",{className:"text-slate-200",children:E.toLocaleString("ja-JP")})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:ce,className:"flex-1 px-4 py-3 bg-orange-600 hover:bg-orange-500 text-white rounded-lg flex items-center justify-center gap-2 transition-colors",children:[a.jsx(bt,{name:"save",size:18}),""]}),a.jsxs("button",{onClick:()=>N(!0),className:"flex-1 px-4 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg flex items-center justify-center gap-2 transition-colors",children:[a.jsx(bt,{name:"clock",size:18}),""]})]}),a.jsx("p",{className:"text-xs text-slate-500",children:"5 "})]})]}),a.jsxs("div",{className:"bg-slate-800/40 rounded-xl border border-slate-700/50 p-6",children:[a.jsx("h3",{className:"text-lg font-bold text-slate-200 mb-4",children:""}),a.jsxs("div",{className:"text-sm text-slate-400 space-y-2",children:[a.jsx("div",{children:": 2.1.0 ()"}),a.jsx("div",{children:": 2026.01.18"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:":"}),a.jsx("span",{className:"text-emerald-400",children:"Supabase Cloud"})]}),a.jsx("div",{className:"pt-2 text-slate-500",children:"Life Dashboard - "})]})]}),d&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>p(!1),children:a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 w-[500px] border border-slate-700",onClick:R=>R.stopPropagation(),children:[a.jsx("h3",{className:"text-lg font-bold text-slate-200 mb-4",children:""}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 mb-1 block",children:"JSON"}),a.jsx("textarea",{value:g,onChange:R=>h(R.target.value),className:"w-full h-48 bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500 font-mono text-sm",placeholder:'{"tasks": [...], "goals": [...], ...}'})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>p(!1),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg transition-colors",children:""}),a.jsx("button",{onClick:fe,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors",children:""})]})]})]})}),K&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:()=>N(!1),children:a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 w-[600px] max-h-[80vh] border border-slate-700 overflow-hidden flex flex-col",onClick:R=>R.stopPropagation(),children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-200 mb-4 flex items-center gap-2",children:[a.jsx(bt,{name:"clock",size:20,className:"text-orange-400"}),""]}),a.jsx("div",{className:"flex-1 overflow-y-auto space-y-3",children:H.length===0?a.jsx("div",{className:"text-center text-slate-500 py-8",children:""}):H.map((R,te)=>{var Y,le,pe,Fe;return a.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-slate-700/50",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-slate-200 font-medium",children:new Date(R.timestamp).toLocaleString("ja-JP")}),a.jsx("div",{className:"text-xs text-slate-500",children:te===0?"":`${te+1}`})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>ie(R.data,R.timestamp),className:"px-3 py-1.5 bg-emerald-600/20 hover:bg-emerald-600/30 text-emerald-400 text-sm rounded-lg transition-colors flex items-center gap-1",children:[a.jsx(bt,{name:"download",size:14}),""]}),a.jsxs("button",{onClick:()=>he(R.data),className:"px-3 py-1.5 bg-blue-600/20 hover:bg-blue-600/30 text-blue-400 text-sm rounded-lg transition-colors flex items-center gap-1",children:[a.jsx(bt,{name:"refresh-cw",size:14}),""]})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs text-slate-500",children:[a.jsxs("div",{children:[": ",((Y=R.data.tasks)==null?void 0:Y.length)||0]}),a.jsxs("div",{children:[": ",((le=R.data.events)==null?void 0:le.length)||0]}),a.jsxs("div",{children:[": ",((pe=R.data.goals)==null?void 0:pe.length)||0]}),a.jsxs("div",{children:[": ",((Fe=R.data.transactions)==null?void 0:Fe.length)||0]})]})]},R.timestamp)})}),a.jsx("div",{className:"mt-4 pt-4 border-t border-slate-700",children:a.jsx("button",{onClick:()=>N(!1),className:"w-full px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg transition-colors",children:""})})]})})]})}function S2(){const{user:t,loading:e}=cd(),r=GF(),n=window.innerWidth<768,[s,i]=q.useState(()=>n?"ai":"calendar"),[A,o]=q.useState(()=>{const d=localStorage.getItem("theme");return d||"dark"});if(q.useEffect(()=>{document.documentElement.setAttribute("data-theme",A)},[]),q.useEffect(()=>{const d=localStorage.getItem("ai_api_key");d&&(d==="AIzaSyDlt0pKNba7l_zR9CQMm_m_nXU1CMASbyg"||d.startsWith("AIzaSyDlt0pKNba7l"))&&(localStorage.removeItem("ai_api_key"),console.log("APIAPI"),alert(`API

Gemini API

: https://aistudio.google.com/apikey`)),localStorage.getItem("ai_provider")||localStorage.setItem("ai_provider","gemini")},[]),e||r.loading)return a.jsx("div",{className:"min-h-screen flex items-center justify-center transition-theme",style:{backgroundColor:"var(--bg-primary)"},children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl mx-auto mb-4 flex items-center justify-center animate-pulse",style:{backgroundColor:"var(--accent-secondary)"},children:a.jsx(bt,{name:"box",size:32,className:"text-white"})}),a.jsx("p",{style:{color:"var(--text-tertiary)"},children:"..."})]})});const l=()=>{switch(s){case"calendar":return a.jsx(pL,{tasks:r.tasks,setTasks:r.setTasks,events:r.events,setEvents:r.setEvents,goals:r.goals,transactions:r.transactions,addTask:r.addTask,updateTask:r.updateTask,deleteTask:r.deleteTask,addEvent:r.addEvent,updateEvent:r.updateEvent,deleteEvent:r.deleteEvent,addGoal:r.addGoal,updateGoal:r.updateGoal,deleteGoal:r.deleteGoal,addTransaction:r.addTransaction});case"tasks":return a.jsx(gL,{tasks:r.tasks,addTask:r.addTask,updateTask:r.updateTask,deleteTask:r.deleteTask,events:r.events,goals:r.goals,setTasks:r.setTasks});case"roadmap":return a.jsx(mL,{tasks:r.tasks,goals:r.goals,events:r.events,updateTask:r.updateTask,deleteTask:r.deleteTask,addTask:r.addTask,addGoal:r.addGoal,addEvent:r.addEvent});case"shopping":return a.jsx(NL,{shoppingItems:r.shoppingItems,addShoppingItem:r.addShoppingItem,updateShoppingItem:r.updateShoppingItem,deleteShoppingItem:r.deleteShoppingItem,events:r.events,goals:r.goals});case"scripts":return a.jsx(bL,{scripts:r.scripts,addScript:r.addScript,updateScript:r.updateScript,deleteScript:r.deleteScript});case"morning":return a.jsx(BL,{diaryEntries:r.diaryEntries,addDiaryEntry:r.addDiaryEntry,settings:r.settings});case"diary":return a.jsx(CL,{diaryEntries:r.diaryEntries,addDiaryEntry:r.addDiaryEntry,updateDiaryEntry:r.updateDiaryEntry,deleteDiaryEntry:r.deleteDiaryEntry,events:r.events,goals:r.goals,tasks:r.tasks});case"tracking":return a.jsx(xL,{});case"analytics":return a.jsx(wL,{tasks:r.tasks,goals:r.goals,transactions:r.transactions});case"ai":return a.jsx(vL,{tasks:r.tasks,goals:r.goals,transactions:r.transactions,events:r.events,addTask:r.addTask,addEvent:r.addEvent,addGoal:r.addGoal,updateTask:r.updateTask,deleteTask:r.deleteTask,diaryEntries:r.diaryEntries,addDiaryEntry:r.addDiaryEntry,settings:r.settings});case"finance":return a.jsx(jL,{transactions:r.transactions,addTransaction:r.addTransaction,updateTransaction:r.updateTransaction,deleteTransaction:r.deleteTransaction,tasks:r.tasks,events:r.events,goals:r.goals});case"trade":return a.jsx(SL,{});case"twin":return a.jsx(yL,{tasks:r.tasks,goals:r.goals,events:r.events,transactions:r.transactions,diaryEntries:r.diaryEntries,shoppingItems:r.shoppingItems,scripts:r.scripts,settings:r.settings});case"system":return a.jsx(FL,{settings:r.settings,updateSettings:r.updateSettings,exportData:r.exportData,importData:r.importData,clearAllData:r.clearAllData,syncToSupabase:r.syncToSupabase,autoBackup:r.autoBackup,getLastAutoBackup:r.getLastAutoBackup,getBackupHistory:r.getBackupHistory,restoreFromBackup:r.restoreFromBackup});default:return a.jsx("div",{className:"text-slate-500 flex items-center justify-center h-96",children:""})}},c=()=>({calendar:"Schedule",tasks:"Task List",roadmap:"Roadmap",shopping:"Shopping List",scripts:"AI Scripts",morning:"Morning Note",diary:"Diary",tracking:"Tracking",analytics:"Activity",ai:"AI Concierge",twin:"Digital Twin",finance:"Finance",system:"System Settings"})[s]||"Dashboard";return a.jsxs("div",{className:"min-h-screen font-sans transition-theme",style:{backgroundColor:"var(--bg-primary)",color:"var(--text-primary)"},children:[a.jsx(zF,{activeTab:s,setActiveTab:i}),a.jsxs("main",{className:"md:pl-[88px] px-2 md:px-6 py-2 md:py-6 pb-36 md:pb-6",children:[a.jsx(qF,{title:c(),tasks:r.tasks,goals:r.goals,events:r.events,theme:A,setTheme:o}),a.jsx("div",{className:"animate-in",children:l()})]})]})}function EL(){const{user:t,loading:e}=cd();return e?a.jsx("div",{className:"min-h-screen flex items-center justify-center transition-theme",style:{backgroundColor:"var(--bg-primary)"},children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl mx-auto mb-4 flex items-center justify-center animate-pulse",style:{backgroundColor:"var(--accent-secondary)"},children:a.jsx(bt,{name:"box",size:32,className:"text-white"})}),a.jsx("p",{style:{color:"var(--text-tertiary)"},children:"..."})]})}):(t==null?void 0:t.id)==="local-user"?a.jsx(S2,{}):t?a.jsx(S2,{}):a.jsx(VF,{})}function _L(){return a.jsx(KF,{children:a.jsx(EL,{})})}ag.createRoot(document.getElementById("root")).render(a.jsx(XC.StrictMode,{children:a.jsx(_L,{})}));export{Hr as _,UL as c,LC as g};
