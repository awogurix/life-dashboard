var QC = Object.defineProperty; var TC = (t, e, r) => e in t ? QC(t, e, { enumerable: !0, configurable: !0, writable: !0, value: r }) : t[e] = r; var Or = (t, e, r) => TC(t, typeof e != "symbol" ? e + "" : e, r); (function () { const e = document.createElement("link").relList; if (e && e.supports && e.supports("modulepreload")) return; for (const s of document.querySelectorAll('link[rel="modulepreload"]')) n(s); new MutationObserver(s => { for (const a of s) if (a.type === "childList") for (const A of a.addedNodes) A.tagName === "LINK" && A.rel === "modulepreload" && n(A) }).observe(document, { childList: !0, subtree: !0 }); function r(s) { const a = {}; return s.integrity && (a.integrity = s.integrity), s.referrerPolicy && (a.referrerPolicy = s.referrerPolicy), s.crossOrigin === "use-credentials" ? a.credentials = "include" : s.crossOrigin === "anonymous" ? a.credentials = "omit" : a.credentials = "same-origin", a } function n(s) { if (s.ep) return; s.ep = !0; const a = r(s); fetch(s.href, a) } })(); var UL = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : {}; function LC(t) { return t && t.__esModule && Object.prototype.hasOwnProperty.call(t, "default") ? t.default : t } var F2 = { exports: {} }, A0 = {}, _2 = { exports: {} }, yr = {};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _d = Symbol.for("react.element"), OC = Symbol.for("react.portal"), PC = Symbol.for("react.fragment"), DC = Symbol.for("react.strict_mode"), RC = Symbol.for("react.profiler"), HC = Symbol.for("react.provider"), MC = Symbol.for("react.context"), $C = Symbol.for("react.forward_ref"), KC = Symbol.for("react.suspense"), GC = Symbol.for("react.memo"), VC = Symbol.for("react.lazy"), P1 = Symbol.iterator; function zC(t) { return t === null || typeof t != "object" ? null : (t = P1 && t[P1] || t["@@iterator"], typeof t == "function" ? t : null) } var k2 = { isMounted: function () { return !1 }, enqueueForceUpdate: function () { }, enqueueReplaceState: function () { }, enqueueSetState: function () { } }, U2 = Object.assign, I2 = {}; function qc(t, e, r) { this.props = t, this.context = e, this.refs = I2, this.updater = r || k2 } qc.prototype.isReactComponent = {}; qc.prototype.setState = function (t, e) { if (typeof t != "object" && typeof t != "function" && t != null) throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables."); this.updater.enqueueSetState(this, t, e, "setState") }; qc.prototype.forceUpdate = function (t) { this.updater.enqueueForceUpdate(this, t, "forceUpdate") }; function Q2() { } Q2.prototype = qc.prototype; function ax(t, e, r) { this.props = t, this.context = e, this.refs = I2, this.updater = r || k2 } var Ax = ax.prototype = new Q2; Ax.constructor = ax; U2(Ax, qc.prototype); Ax.isPureReactComponent = !0; var D1 = Array.isArray, T2 = Object.prototype.hasOwnProperty, ox = { current: null }, L2 = { key: !0, ref: !0, __self: !0, __source: !0 }; function O2(t, e, r) { var n, s = {}, a = null, A = null; if (e != null) for (n in e.ref !== void 0 && (A = e.ref), e.key !== void 0 && (a = "" + e.key), e) T2.call(e, n) && !L2.hasOwnProperty(n) && (s[n] = e[n]); var o = arguments.length - 2; if (o === 1) s.children = r; else if (1 < o) { for (var l = Array(o), c = 0; c < o; c++)l[c] = arguments[c + 2]; s.children = l } if (t && t.defaultProps) for (n in o = t.defaultProps, o) s[n] === void 0 && (s[n] = o[n]); return { $$typeof: _d, type: t, key: a, ref: A, props: s, _owner: ox.current } } function qC(t, e) { return { $$typeof: _d, type: t.type, key: e, ref: t.ref, props: t.props, _owner: t._owner } } function lx(t) { return typeof t == "object" && t !== null && t.$$typeof === _d } function WC(t) { var e = { "=": "=0", ":": "=2" }; return "$" + t.replace(/[=:]/g, function (r) { return e[r] }) } var R1 = /\/+/g; function Y0(t, e) { return typeof t == "object" && t !== null && t.key != null ? WC("" + t.key) : e.toString(36) } function Jh(t, e, r, n, s) { var a = typeof t; (a === "undefined" || a === "boolean") && (t = null); var A = !1; if (t === null) A = !0; else switch (a) { case "string": case "number": A = !0; break; case "object": switch (t.$$typeof) { case _d: case OC: A = !0 } }if (A) return A = t, s = s(A), t = n === "" ? "." + Y0(A, 0) : n, D1(s) ? (r = "", t != null && (r = t.replace(R1, "$&/") + "/"), Jh(s, e, r, "", function (c) { return c })) : s != null && (lx(s) && (s = qC(s, r + (!s.key || A && A.key === s.key ? "" : ("" + s.key).replace(R1, "$&/") + "/") + t)), e.push(s)), 1; if (A = 0, n = n === "" ? "." : n + ":", D1(t)) for (var o = 0; o < t.length; o++) { a = t[o]; var l = n + Y0(a, o); A += Jh(a, e, r, l, s) } else if (l = zC(t), typeof l == "function") for (t = l.call(t), o = 0; !(a = t.next()).done;)a = a.value, l = n + Y0(a, o++), A += Jh(a, e, r, l, s); else if (a === "object") throw e = String(t), Error("Objects are not valid as a React child (found: " + (e === "[object Object]" ? "object with keys {" + Object.keys(t).join(", ") + "}" : e) + "). If you meant to render a collection of children, use an array instead."); return A } function Yd(t, e, r) { if (t == null) return t; var n = [], s = 0; return Jh(t, n, "", "", function (a) { return e.call(r, a, s++) }), n } function JC(t) { if (t._status === -1) { var e = t._result; e = e(), e.then(function (r) { (t._status === 0 || t._status === -1) && (t._status = 1, t._result = r) }, function (r) { (t._status === 0 || t._status === -1) && (t._status = 2, t._result = r) }), t._status === -1 && (t._status = 0, t._result = e) } if (t._status === 1) return t._result.default; throw t._result } var Ts = { current: null }, Yh = { transition: null }, YC = { ReactCurrentDispatcher: Ts, ReactCurrentBatchConfig: Yh, ReactCurrentOwner: ox }; function P2() { throw Error("act(...) is not supported in production builds of React.") } yr.Children = { map: Yd, forEach: function (t, e, r) { Yd(t, function () { e.apply(this, arguments) }, r) }, count: function (t) { var e = 0; return Yd(t, function () { e++ }), e }, toArray: function (t) { return Yd(t, function (e) { return e }) || [] }, only: function (t) { if (!lx(t)) throw Error("React.Children.only expected to receive a single React element child."); return t } }; yr.Component = qc; yr.Fragment = PC; yr.Profiler = RC; yr.PureComponent = ax; yr.StrictMode = DC; yr.Suspense = KC; yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = YC; yr.act = P2; yr.cloneElement = function (t, e, r) { if (t == null) throw Error("React.cloneElement(...): The argument must be a React element, but you passed " + t + "."); var n = U2({}, t.props), s = t.key, a = t.ref, A = t._owner; if (e != null) { if (e.ref !== void 0 && (a = e.ref, A = ox.current), e.key !== void 0 && (s = "" + e.key), t.type && t.type.defaultProps) var o = t.type.defaultProps; for (l in e) T2.call(e, l) && !L2.hasOwnProperty(l) && (n[l] = e[l] === void 0 && o !== void 0 ? o[l] : e[l]) } var l = arguments.length - 2; if (l === 1) n.children = r; else if (1 < l) { o = Array(l); for (var c = 0; c < l; c++)o[c] = arguments[c + 2]; n.children = o } return { $$typeof: _d, type: t.type, key: s, ref: a, props: n, _owner: A } }; yr.createContext = function (t) { return t = { $$typeof: MC, _currentValue: t, _currentValue2: t, _threadCount: 0, Provider: null, Consumer: null, _defaultValue: null, _globalName: null }, t.Provider = { $$typeof: HC, _context: t }, t.Consumer = t }; yr.createElement = O2; yr.createFactory = function (t) { var e = O2.bind(null, t); return e.type = t, e }; yr.createRef = function () { return { current: null } }; yr.forwardRef = function (t) { return { $$typeof: $C, render: t } }; yr.isValidElement = lx; yr.lazy = function (t) { return { $$typeof: VC, _payload: { _status: -1, _result: t }, _init: JC } }; yr.memo = function (t, e) { return { $$typeof: GC, type: t, compare: e === void 0 ? null : e } }; yr.startTransition = function (t) { var e = Yh.transition; Yh.transition = {}; try { t() } finally { Yh.transition = e } }; yr.unstable_act = P2; yr.useCallback = function (t, e) { return Ts.current.useCallback(t, e) }; yr.useContext = function (t) { return Ts.current.useContext(t) }; yr.useDebugValue = function () { }; yr.useDeferredValue = function (t) { return Ts.current.useDeferredValue(t) }; yr.useEffect = function (t, e) { return Ts.current.useEffect(t, e) }; yr.useId = function () { return Ts.current.useId() }; yr.useImperativeHandle = function (t, e, r) { return Ts.current.useImperativeHandle(t, e, r) }; yr.useInsertionEffect = function (t, e) { return Ts.current.useInsertionEffect(t, e) }; yr.useLayoutEffect = function (t, e) { return Ts.current.useLayoutEffect(t, e) }; yr.useMemo = function (t, e) { return Ts.current.useMemo(t, e) }; yr.useReducer = function (t, e, r) { return Ts.current.useReducer(t, e, r) }; yr.useRef = function (t) { return Ts.current.useRef(t) }; yr.useState = function (t) { return Ts.current.useState(t) }; yr.useSyncExternalStore = function (t, e, r) { return Ts.current.useSyncExternalStore(t, e, r) }; yr.useTransition = function () { return Ts.current.useTransition() }; yr.version = "18.3.1"; _2.exports = yr; var z = _2.exports; const XC = LC(z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZC = z, eN = Symbol.for("react.element"), tN = Symbol.for("react.fragment"), rN = Object.prototype.hasOwnProperty, nN = ZC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner, sN = { key: !0, ref: !0, __self: !0, __source: !0 }; function D2(t, e, r) { var n, s = {}, a = null, A = null; r !== void 0 && (a = "" + r), e.key !== void 0 && (a = "" + e.key), e.ref !== void 0 && (A = e.ref); for (n in e) rN.call(e, n) && !sN.hasOwnProperty(n) && (s[n] = e[n]); if (t && t.defaultProps) for (n in e = t.defaultProps, e) s[n] === void 0 && (s[n] = e[n]); return { $$typeof: eN, type: t, key: a, ref: A, props: s, _owner: nN.current } } A0.Fragment = tN; A0.jsx = D2; A0.jsxs = D2; F2.exports = A0; var i = F2.exports, yg = {}, R2 = { exports: {} }, pi = {}, H2 = { exports: {} }, M2 = {};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function (t) { function e(ie, ue) { var pe = ie.length; ie.push(ue); e: for (; 0 < pe;) { var ve = pe - 1 >>> 1, I = ie[ve]; if (0 < s(I, ue)) ie[ve] = ue, ie[pe] = I, pe = ve; else break e } } function r(ie) { return ie.length === 0 ? null : ie[0] } function n(ie) { if (ie.length === 0) return null; var ue = ie[0], pe = ie.pop(); if (pe !== ue) { ie[0] = pe; e: for (var ve = 0, I = ie.length, R = I >>> 1; ve < R;) { var re = 2 * (ve + 1) - 1, Y = ie[re], le = re + 1, ge = ie[le]; if (0 > s(Y, pe)) le < I && 0 > s(ge, Y) ? (ie[ve] = ge, ie[le] = pe, ve = le) : (ie[ve] = Y, ie[re] = pe, ve = re); else if (le < I && 0 > s(ge, pe)) ie[ve] = ge, ie[le] = pe, ve = le; else break e } } return ue } function s(ie, ue) { var pe = ie.sortIndex - ue.sortIndex; return pe !== 0 ? pe : ie.id - ue.id } if (typeof performance == "object" && typeof performance.now == "function") { var a = performance; t.unstable_now = function () { return a.now() } } else { var A = Date, o = A.now(); t.unstable_now = function () { return A.now() - o } } var l = [], c = [], d = 1, p = null, g = 3, h = !1, b = !1, w = !1, j = typeof setTimeout == "function" ? setTimeout : null, x = typeof clearTimeout == "function" ? clearTimeout : null, y = typeof setImmediate < "u" ? setImmediate : null; typeof navigator < "u" && navigator.scheduling !== void 0 && navigator.scheduling.isInputPending !== void 0 && navigator.scheduling.isInputPending.bind(navigator.scheduling); function B(ie) { for (var ue = r(c); ue !== null;) { if (ue.callback === null) n(c); else if (ue.startTime <= ie) n(c), ue.sortIndex = ue.expirationTime, e(l, ue); else break; ue = r(c) } } function E(ie) { if (w = !1, B(ie), !b) if (r(l) !== null) b = !0, ce(T); else { var ue = r(c); ue !== null && he(E, ue.startTime - ie) } } function T(ie, ue) { b = !1, w && (w = !1, x(G), G = -1), h = !0; var pe = g; try { for (B(ue), p = r(l); p !== null && (!(p.expirationTime > ue) || ie && !k());) { var ve = p.callback; if (typeof ve == "function") { p.callback = null, g = p.priorityLevel; var I = ve(p.expirationTime <= ue); ue = t.unstable_now(), typeof I == "function" ? p.callback = I : p === r(l) && n(l), B(ue) } else n(l); p = r(l) } if (p !== null) var R = !0; else { var re = r(c); re !== null && he(E, re.startTime - ue), R = !1 } return R } finally { p = null, g = pe, h = !1 } } var U = !1, M = null, G = -1, N = 5, H = -1; function k() { return !(t.unstable_now() - H < N) } function _() { if (M !== null) { var ie = t.unstable_now(); H = ie; var ue = !0; try { ue = M(!0, ie) } finally { ue ? V() : (U = !1, M = null) } } else U = !1 } var V; if (typeof y == "function") V = function () { y(_) }; else if (typeof MessageChannel < "u") { var P = new MessageChannel, te = P.port2; P.port1.onmessage = _, V = function () { te.postMessage(null) } } else V = function () { j(_, 0) }; function ce(ie) { M = ie, U || (U = !0, V()) } function he(ie, ue) { G = j(function () { ie(t.unstable_now()) }, ue) } t.unstable_IdlePriority = 5, t.unstable_ImmediatePriority = 1, t.unstable_LowPriority = 4, t.unstable_NormalPriority = 3, t.unstable_Profiling = null, t.unstable_UserBlockingPriority = 2, t.unstable_cancelCallback = function (ie) { ie.callback = null }, t.unstable_continueExecution = function () { b || h || (b = !0, ce(T)) }, t.unstable_forceFrameRate = function (ie) { 0 > ie || 125 < ie ? console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported") : N = 0 < ie ? Math.floor(1e3 / ie) : 5 }, t.unstable_getCurrentPriorityLevel = function () { return g }, t.unstable_getFirstCallbackNode = function () { return r(l) }, t.unstable_next = function (ie) { switch (g) { case 1: case 2: case 3: var ue = 3; break; default: ue = g }var pe = g; g = ue; try { return ie() } finally { g = pe } }, t.unstable_pauseExecution = function () { }, t.unstable_requestPaint = function () { }, t.unstable_runWithPriority = function (ie, ue) { switch (ie) { case 1: case 2: case 3: case 4: case 5: break; default: ie = 3 }var pe = g; g = ie; try { return ue() } finally { g = pe } }, t.unstable_scheduleCallback = function (ie, ue, pe) { var ve = t.unstable_now(); switch (typeof pe == "object" && pe !== null ? (pe = pe.delay, pe = typeof pe == "number" && 0 < pe ? ve + pe : ve) : pe = ve, ie) { case 1: var I = -1; break; case 2: I = 250; break; case 5: I = 1073741823; break; case 4: I = 1e4; break; default: I = 5e3 }return I = pe + I, ie = { id: d++, callback: ue, priorityLevel: ie, startTime: pe, expirationTime: I, sortIndex: -1 }, pe > ve ? (ie.sortIndex = pe, e(c, ie), r(l) === null && ie === r(c) && (w ? (x(G), G = -1) : w = !0, he(E, pe - ve))) : (ie.sortIndex = I, e(l, ie), b || h || (b = !0, ce(T))), ie }, t.unstable_shouldYield = k, t.unstable_wrapCallback = function (ie) { var ue = g; return function () { var pe = g; g = ue; try { return ie.apply(this, arguments) } finally { g = pe } } } })(M2); H2.exports = M2; var iN = H2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aN = z, fi = iN; function wt(t) { for (var e = "https://reactjs.org/docs/error-decoder.html?invariant=" + t, r = 1; r < arguments.length; r++)e += "&args[]=" + encodeURIComponent(arguments[r]); return "Minified React error #" + t + "; visit " + e + " for the full message or use the non-minified dev environment for full errors and additional helpful warnings." } var $2 = new Set, rd = {}; function yl(t, e) { Pc(t, e), Pc(t + "Capture", e) } function Pc(t, e) { for (rd[t] = e, t = 0; t < e.length; t++)$2.add(e[t]) } var vA = !(typeof window > "u" || typeof window.document > "u" || typeof window.document.createElement > "u"), bg = Object.prototype.hasOwnProperty, AN = /^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/, H1 = {}, M1 = {}; function oN(t) { return bg.call(M1, t) ? !0 : bg.call(H1, t) ? !1 : AN.test(t) ? M1[t] = !0 : (H1[t] = !0, !1) } function lN(t, e, r, n) { if (r !== null && r.type === 0) return !1; switch (typeof e) { case "function": case "symbol": return !0; case "boolean": return n ? !1 : r !== null ? !r.acceptsBooleans : (t = t.toLowerCase().slice(0, 5), t !== "data-" && t !== "aria-"); default: return !1 } } function cN(t, e, r, n) { if (e === null || typeof e > "u" || lN(t, e, r, n)) return !0; if (n) return !1; if (r !== null) switch (r.type) { case 3: return !e; case 4: return e === !1; case 5: return isNaN(e); case 6: return isNaN(e) || 1 > e }return !1 } function Ls(t, e, r, n, s, a, A) { this.acceptsBooleans = e === 2 || e === 3 || e === 4, this.attributeName = n, this.attributeNamespace = s, this.mustUseProperty = r, this.propertyName = t, this.type = e, this.sanitizeURL = a, this.removeEmptyString = A } var ds = {}; "children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function (t) { ds[t] = new Ls(t, 0, !1, t, null, !1, !1) });[["acceptCharset", "accept-charset"], ["className", "class"], ["htmlFor", "for"], ["httpEquiv", "http-equiv"]].forEach(function (t) { var e = t[0]; ds[e] = new Ls(e, 1, !1, t[1], null, !1, !1) });["contentEditable", "draggable", "spellCheck", "value"].forEach(function (t) { ds[t] = new Ls(t, 2, !1, t.toLowerCase(), null, !1, !1) });["autoReverse", "externalResourcesRequired", "focusable", "preserveAlpha"].forEach(function (t) { ds[t] = new Ls(t, 2, !1, t, null, !1, !1) }); "allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function (t) { ds[t] = new Ls(t, 3, !1, t.toLowerCase(), null, !1, !1) });["checked", "multiple", "muted", "selected"].forEach(function (t) { ds[t] = new Ls(t, 3, !0, t, null, !1, !1) });["capture", "download"].forEach(function (t) { ds[t] = new Ls(t, 4, !1, t, null, !1, !1) });["cols", "rows", "size", "span"].forEach(function (t) { ds[t] = new Ls(t, 6, !1, t, null, !1, !1) });["rowSpan", "start"].forEach(function (t) { ds[t] = new Ls(t, 5, !1, t.toLowerCase(), null, !1, !1) }); var cx = /[\-:]([a-z])/g; function ux(t) { return t[1].toUpperCase() } "accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function (t) { var e = t.replace(cx, ux); ds[e] = new Ls(e, 1, !1, t, null, !1, !1) }); "xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function (t) { var e = t.replace(cx, ux); ds[e] = new Ls(e, 1, !1, t, "http://www.w3.org/1999/xlink", !1, !1) });["xml:base", "xml:lang", "xml:space"].forEach(function (t) { var e = t.replace(cx, ux); ds[e] = new Ls(e, 1, !1, t, "http://www.w3.org/XML/1998/namespace", !1, !1) });["tabIndex", "crossOrigin"].forEach(function (t) { ds[t] = new Ls(t, 1, !1, t.toLowerCase(), null, !1, !1) }); ds.xlinkHref = new Ls("xlinkHref", 1, !1, "xlink:href", "http://www.w3.org/1999/xlink", !0, !1);["src", "href", "action", "formAction"].forEach(function (t) { ds[t] = new Ls(t, 1, !1, t.toLowerCase(), null, !0, !0) }); function dx(t, e, r, n) { var s = ds.hasOwnProperty(e) ? ds[e] : null; (s !== null ? s.type !== 0 : n || !(2 < e.length) || e[0] !== "o" && e[0] !== "O" || e[1] !== "n" && e[1] !== "N") && (cN(e, r, s, n) && (r = null), n || s === null ? oN(e) && (r === null ? t.removeAttribute(e) : t.setAttribute(e, "" + r)) : s.mustUseProperty ? t[s.propertyName] = r === null ? s.type === 3 ? !1 : "" : r : (e = s.attributeName, n = s.attributeNamespace, r === null ? t.removeAttribute(e) : (s = s.type, r = s === 3 || s === 4 && r === !0 ? "" : "" + r, n ? t.setAttributeNS(n, e, r) : t.setAttribute(e, r)))) } var CA = aN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED, Xd = Symbol.for("react.element"), uc = Symbol.for("react.portal"), dc = Symbol.for("react.fragment"), hx = Symbol.for("react.strict_mode"), Bg = Symbol.for("react.profiler"), K2 = Symbol.for("react.provider"), G2 = Symbol.for("react.context"), fx = Symbol.for("react.forward_ref"), Cg = Symbol.for("react.suspense"), Ng = Symbol.for("react.suspense_list"), px = Symbol.for("react.memo"), ro = Symbol.for("react.lazy"), V2 = Symbol.for("react.offscreen"), $1 = Symbol.iterator; function cu(t) { return t === null || typeof t != "object" ? null : (t = $1 && t[$1] || t["@@iterator"], typeof t == "function" ? t : null) } var xn = Object.assign, X0; function Su(t) {
  if (X0 === void 0) try { throw Error() } catch (r) { var e = r.stack.trim().match(/\n( *(at )?)/); X0 = e && e[1] || "" } return `
`+ X0 + t
} var Z0 = !1; function ep(t, e) {
  if (!t || Z0) return ""; Z0 = !0; var r = Error.prepareStackTrace; Error.prepareStackTrace = void 0; try { if (e) if (e = function () { throw Error() }, Object.defineProperty(e.prototype, "props", { set: function () { throw Error() } }), typeof Reflect == "object" && Reflect.construct) { try { Reflect.construct(e, []) } catch (c) { var n = c } Reflect.construct(t, [], e) } else { try { e.call() } catch (c) { n = c } t.call(e.prototype) } else { try { throw Error() } catch (c) { n = c } t() } } catch (c) {
    if (c && n && typeof c.stack == "string") {
      for (var s = c.stack.split(`
`), a = n.stack.split(`
`), A = s.length - 1, o = a.length - 1; 1 <= A && 0 <= o && s[A] !== a[o];)o--; for (; 1 <= A && 0 <= o; A--, o--)if (s[A] !== a[o]) {
        if (A !== 1 || o !== 1) do if (A--, o--, 0 > o || s[A] !== a[o]) {
          var l = `
`+ s[A].replace(" at new ", " at "); return t.displayName && l.includes("<anonymous>") && (l = l.replace("<anonymous>", t.displayName)), l
        } while (1 <= A && 0 <= o); break
      }
    }
  } finally { Z0 = !1, Error.prepareStackTrace = r } return (t = t ? t.displayName || t.name : "") ? Su(t) : ""
} function uN(t) { switch (t.tag) { case 5: return Su(t.type); case 16: return Su("Lazy"); case 13: return Su("Suspense"); case 19: return Su("SuspenseList"); case 0: case 2: case 15: return t = ep(t.type, !1), t; case 11: return t = ep(t.type.render, !1), t; case 1: return t = ep(t.type, !0), t; default: return "" } } function Sg(t) { if (t == null) return null; if (typeof t == "function") return t.displayName || t.name || null; if (typeof t == "string") return t; switch (t) { case dc: return "Fragment"; case uc: return "Portal"; case Bg: return "Profiler"; case hx: return "StrictMode"; case Cg: return "Suspense"; case Ng: return "SuspenseList" }if (typeof t == "object") switch (t.$$typeof) { case G2: return (t.displayName || "Context") + ".Consumer"; case K2: return (t._context.displayName || "Context") + ".Provider"; case fx: var e = t.render; return t = t.displayName, t || (t = e.displayName || e.name || "", t = t !== "" ? "ForwardRef(" + t + ")" : "ForwardRef"), t; case px: return e = t.displayName || null, e !== null ? e : Sg(t.type) || "Memo"; case ro: e = t._payload, t = t._init; try { return Sg(t(e)) } catch { } }return null } function dN(t) { var e = t.type; switch (t.tag) { case 24: return "Cache"; case 9: return (e.displayName || "Context") + ".Consumer"; case 10: return (e._context.displayName || "Context") + ".Provider"; case 18: return "DehydratedFragment"; case 11: return t = e.render, t = t.displayName || t.name || "", e.displayName || (t !== "" ? "ForwardRef(" + t + ")" : "ForwardRef"); case 7: return "Fragment"; case 5: return e; case 4: return "Portal"; case 3: return "Root"; case 6: return "Text"; case 16: return Sg(e); case 8: return e === hx ? "StrictMode" : "Mode"; case 22: return "Offscreen"; case 12: return "Profiler"; case 21: return "Scope"; case 13: return "Suspense"; case 19: return "SuspenseList"; case 25: return "TracingMarker"; case 1: case 0: case 17: case 2: case 14: case 15: if (typeof e == "function") return e.displayName || e.name || null; if (typeof e == "string") return e }return null } function So(t) { switch (typeof t) { case "boolean": case "number": case "string": case "undefined": return t; case "object": return t; default: return "" } } function z2(t) { var e = t.type; return (t = t.nodeName) && t.toLowerCase() === "input" && (e === "checkbox" || e === "radio") } function hN(t) { var e = z2(t) ? "checked" : "value", r = Object.getOwnPropertyDescriptor(t.constructor.prototype, e), n = "" + t[e]; if (!t.hasOwnProperty(e) && typeof r < "u" && typeof r.get == "function" && typeof r.set == "function") { var s = r.get, a = r.set; return Object.defineProperty(t, e, { configurable: !0, get: function () { return s.call(this) }, set: function (A) { n = "" + A, a.call(this, A) } }), Object.defineProperty(t, e, { enumerable: r.enumerable }), { getValue: function () { return n }, setValue: function (A) { n = "" + A }, stopTracking: function () { t._valueTracker = null, delete t[e] } } } } function Zd(t) { t._valueTracker || (t._valueTracker = hN(t)) } function q2(t) { if (!t) return !1; var e = t._valueTracker; if (!e) return !0; var r = e.getValue(), n = ""; return t && (n = z2(t) ? t.checked ? "true" : "false" : t.value), t = n, t !== r ? (e.setValue(t), !0) : !1 } function vf(t) { if (t = t || (typeof document < "u" ? document : void 0), typeof t > "u") return null; try { return t.activeElement || t.body } catch { return t.body } } function jg(t, e) { var r = e.checked; return xn({}, e, { defaultChecked: void 0, defaultValue: void 0, value: void 0, checked: r ?? t._wrapperState.initialChecked }) } function K1(t, e) { var r = e.defaultValue == null ? "" : e.defaultValue, n = e.checked != null ? e.checked : e.defaultChecked; r = So(e.value != null ? e.value : r), t._wrapperState = { initialChecked: n, initialValue: r, controlled: e.type === "checkbox" || e.type === "radio" ? e.checked != null : e.value != null } } function W2(t, e) { e = e.checked, e != null && dx(t, "checked", e, !1) } function Eg(t, e) { W2(t, e); var r = So(e.value), n = e.type; if (r != null) n === "number" ? (r === 0 && t.value === "" || t.value != r) && (t.value = "" + r) : t.value !== "" + r && (t.value = "" + r); else if (n === "submit" || n === "reset") { t.removeAttribute("value"); return } e.hasOwnProperty("value") ? Fg(t, e.type, r) : e.hasOwnProperty("defaultValue") && Fg(t, e.type, So(e.defaultValue)), e.checked == null && e.defaultChecked != null && (t.defaultChecked = !!e.defaultChecked) } function G1(t, e, r) { if (e.hasOwnProperty("value") || e.hasOwnProperty("defaultValue")) { var n = e.type; if (!(n !== "submit" && n !== "reset" || e.value !== void 0 && e.value !== null)) return; e = "" + t._wrapperState.initialValue, r || e === t.value || (t.value = e), t.defaultValue = e } r = t.name, r !== "" && (t.name = ""), t.defaultChecked = !!t._wrapperState.initialChecked, r !== "" && (t.name = r) } function Fg(t, e, r) { (e !== "number" || vf(t.ownerDocument) !== t) && (r == null ? t.defaultValue = "" + t._wrapperState.initialValue : t.defaultValue !== "" + r && (t.defaultValue = "" + r)) } var ju = Array.isArray; function Sc(t, e, r, n) { if (t = t.options, e) { e = {}; for (var s = 0; s < r.length; s++)e["$" + r[s]] = !0; for (r = 0; r < t.length; r++)s = e.hasOwnProperty("$" + t[r].value), t[r].selected !== s && (t[r].selected = s), s && n && (t[r].defaultSelected = !0) } else { for (r = "" + So(r), e = null, s = 0; s < t.length; s++) { if (t[s].value === r) { t[s].selected = !0, n && (t[s].defaultSelected = !0); return } e !== null || t[s].disabled || (e = t[s]) } e !== null && (e.selected = !0) } } function _g(t, e) { if (e.dangerouslySetInnerHTML != null) throw Error(wt(91)); return xn({}, e, { value: void 0, defaultValue: void 0, children: "" + t._wrapperState.initialValue }) } function V1(t, e) { var r = e.value; if (r == null) { if (r = e.children, e = e.defaultValue, r != null) { if (e != null) throw Error(wt(92)); if (ju(r)) { if (1 < r.length) throw Error(wt(93)); r = r[0] } e = r } e == null && (e = ""), r = e } t._wrapperState = { initialValue: So(r) } } function J2(t, e) { var r = So(e.value), n = So(e.defaultValue); r != null && (r = "" + r, r !== t.value && (t.value = r), e.defaultValue == null && t.defaultValue !== r && (t.defaultValue = r)), n != null && (t.defaultValue = "" + n) } function z1(t) { var e = t.textContent; e === t._wrapperState.initialValue && e !== "" && e !== null && (t.value = e) } function Y2(t) { switch (t) { case "svg": return "http://www.w3.org/2000/svg"; case "math": return "http://www.w3.org/1998/Math/MathML"; default: return "http://www.w3.org/1999/xhtml" } } function kg(t, e) { return t == null || t === "http://www.w3.org/1999/xhtml" ? Y2(e) : t === "http://www.w3.org/2000/svg" && e === "foreignObject" ? "http://www.w3.org/1999/xhtml" : t } var eh, X2 = function (t) { return typeof MSApp < "u" && MSApp.execUnsafeLocalFunction ? function (e, r, n, s) { MSApp.execUnsafeLocalFunction(function () { return t(e, r, n, s) }) } : t }(function (t, e) { if (t.namespaceURI !== "http://www.w3.org/2000/svg" || "innerHTML" in t) t.innerHTML = e; else { for (eh = eh || document.createElement("div"), eh.innerHTML = "<svg>" + e.valueOf().toString() + "</svg>", e = eh.firstChild; t.firstChild;)t.removeChild(t.firstChild); for (; e.firstChild;)t.appendChild(e.firstChild) } }); function nd(t, e) { if (e) { var r = t.firstChild; if (r && r === t.lastChild && r.nodeType === 3) { r.nodeValue = e; return } } t.textContent = e } var Pu = { animationIterationCount: !0, aspectRatio: !0, borderImageOutset: !0, borderImageSlice: !0, borderImageWidth: !0, boxFlex: !0, boxFlexGroup: !0, boxOrdinalGroup: !0, columnCount: !0, columns: !0, flex: !0, flexGrow: !0, flexPositive: !0, flexShrink: !0, flexNegative: !0, flexOrder: !0, gridArea: !0, gridRow: !0, gridRowEnd: !0, gridRowSpan: !0, gridRowStart: !0, gridColumn: !0, gridColumnEnd: !0, gridColumnSpan: !0, gridColumnStart: !0, fontWeight: !0, lineClamp: !0, lineHeight: !0, opacity: !0, order: !0, orphans: !0, tabSize: !0, widows: !0, zIndex: !0, zoom: !0, fillOpacity: !0, floodOpacity: !0, stopOpacity: !0, strokeDasharray: !0, strokeDashoffset: !0, strokeMiterlimit: !0, strokeOpacity: !0, strokeWidth: !0 }, fN = ["Webkit", "ms", "Moz", "O"]; Object.keys(Pu).forEach(function (t) { fN.forEach(function (e) { e = e + t.charAt(0).toUpperCase() + t.substring(1), Pu[e] = Pu[t] }) }); function Z2(t, e, r) { return e == null || typeof e == "boolean" || e === "" ? "" : r || typeof e != "number" || e === 0 || Pu.hasOwnProperty(t) && Pu[t] ? ("" + e).trim() : e + "px" } function eb(t, e) { t = t.style; for (var r in e) if (e.hasOwnProperty(r)) { var n = r.indexOf("--") === 0, s = Z2(r, e[r], n); r === "float" && (r = "cssFloat"), n ? t.setProperty(r, s) : t[r] = s } } var pN = xn({ menuitem: !0 }, { area: !0, base: !0, br: !0, col: !0, embed: !0, hr: !0, img: !0, input: !0, keygen: !0, link: !0, meta: !0, param: !0, source: !0, track: !0, wbr: !0 }); function Ug(t, e) { if (e) { if (pN[t] && (e.children != null || e.dangerouslySetInnerHTML != null)) throw Error(wt(137, t)); if (e.dangerouslySetInnerHTML != null) { if (e.children != null) throw Error(wt(60)); if (typeof e.dangerouslySetInnerHTML != "object" || !("__html" in e.dangerouslySetInnerHTML)) throw Error(wt(61)) } if (e.style != null && typeof e.style != "object") throw Error(wt(62)) } } function Ig(t, e) { if (t.indexOf("-") === -1) return typeof e.is == "string"; switch (t) { case "annotation-xml": case "color-profile": case "font-face": case "font-face-src": case "font-face-uri": case "font-face-format": case "font-face-name": case "missing-glyph": return !1; default: return !0 } } var Qg = null; function gx(t) { return t = t.target || t.srcElement || window, t.correspondingUseElement && (t = t.correspondingUseElement), t.nodeType === 3 ? t.parentNode : t } var Tg = null, jc = null, Ec = null; function q1(t) { if (t = Id(t)) { if (typeof Tg != "function") throw Error(wt(280)); var e = t.stateNode; e && (e = d0(e), Tg(t.stateNode, t.type, e)) } } function tb(t) { jc ? Ec ? Ec.push(t) : Ec = [t] : jc = t } function rb() { if (jc) { var t = jc, e = Ec; if (Ec = jc = null, q1(t), e) for (t = 0; t < e.length; t++)q1(e[t]) } } function nb(t, e) { return t(e) } function sb() { } var tp = !1; function ib(t, e, r) { if (tp) return t(e, r); tp = !0; try { return nb(t, e, r) } finally { tp = !1, (jc !== null || Ec !== null) && (sb(), rb()) } } function sd(t, e) { var r = t.stateNode; if (r === null) return null; var n = d0(r); if (n === null) return null; r = n[e]; e: switch (e) { case "onClick": case "onClickCapture": case "onDoubleClick": case "onDoubleClickCapture": case "onMouseDown": case "onMouseDownCapture": case "onMouseMove": case "onMouseMoveCapture": case "onMouseUp": case "onMouseUpCapture": case "onMouseEnter": (n = !n.disabled) || (t = t.type, n = !(t === "button" || t === "input" || t === "select" || t === "textarea")), t = !n; break e; default: t = !1 }if (t) return null; if (r && typeof r != "function") throw Error(wt(231, e, typeof r)); return r } var Lg = !1; if (vA) try { var uu = {}; Object.defineProperty(uu, "passive", { get: function () { Lg = !0 } }), window.addEventListener("test", uu, uu), window.removeEventListener("test", uu, uu) } catch { Lg = !1 } function gN(t, e, r, n, s, a, A, o, l) { var c = Array.prototype.slice.call(arguments, 3); try { e.apply(r, c) } catch (d) { this.onError(d) } } var Du = !1, wf = null, yf = !1, Og = null, mN = { onError: function (t) { Du = !0, wf = t } }; function xN(t, e, r, n, s, a, A, o, l) { Du = !1, wf = null, gN.apply(mN, arguments) } function vN(t, e, r, n, s, a, A, o, l) { if (xN.apply(this, arguments), Du) { if (Du) { var c = wf; Du = !1, wf = null } else throw Error(wt(198)); yf || (yf = !0, Og = c) } } function bl(t) { var e = t, r = t; if (t.alternate) for (; e.return;)e = e.return; else { t = e; do e = t, e.flags & 4098 && (r = e.return), t = e.return; while (t) } return e.tag === 3 ? r : null } function ab(t) { if (t.tag === 13) { var e = t.memoizedState; if (e === null && (t = t.alternate, t !== null && (e = t.memoizedState)), e !== null) return e.dehydrated } return null } function W1(t) { if (bl(t) !== t) throw Error(wt(188)) } function wN(t) { var e = t.alternate; if (!e) { if (e = bl(t), e === null) throw Error(wt(188)); return e !== t ? null : t } for (var r = t, n = e; ;) { var s = r.return; if (s === null) break; var a = s.alternate; if (a === null) { if (n = s.return, n !== null) { r = n; continue } break } if (s.child === a.child) { for (a = s.child; a;) { if (a === r) return W1(s), t; if (a === n) return W1(s), e; a = a.sibling } throw Error(wt(188)) } if (r.return !== n.return) r = s, n = a; else { for (var A = !1, o = s.child; o;) { if (o === r) { A = !0, r = s, n = a; break } if (o === n) { A = !0, n = s, r = a; break } o = o.sibling } if (!A) { for (o = a.child; o;) { if (o === r) { A = !0, r = a, n = s; break } if (o === n) { A = !0, n = a, r = s; break } o = o.sibling } if (!A) throw Error(wt(189)) } } if (r.alternate !== n) throw Error(wt(190)) } if (r.tag !== 3) throw Error(wt(188)); return r.stateNode.current === r ? t : e } function Ab(t) { return t = wN(t), t !== null ? ob(t) : null } function ob(t) { if (t.tag === 5 || t.tag === 6) return t; for (t = t.child; t !== null;) { var e = ob(t); if (e !== null) return e; t = t.sibling } return null } var lb = fi.unstable_scheduleCallback, J1 = fi.unstable_cancelCallback, yN = fi.unstable_shouldYield, bN = fi.unstable_requestPaint, Un = fi.unstable_now, BN = fi.unstable_getCurrentPriorityLevel, mx = fi.unstable_ImmediatePriority, cb = fi.unstable_UserBlockingPriority, bf = fi.unstable_NormalPriority, CN = fi.unstable_LowPriority, ub = fi.unstable_IdlePriority, o0 = null, Ma = null; function NN(t) { if (Ma && typeof Ma.onCommitFiberRoot == "function") try { Ma.onCommitFiberRoot(o0, t, void 0, (t.current.flags & 128) === 128) } catch { } } var ca = Math.clz32 ? Math.clz32 : EN, SN = Math.log, jN = Math.LN2; function EN(t) { return t >>>= 0, t === 0 ? 32 : 31 - (SN(t) / jN | 0) | 0 } var th = 64, rh = 4194304; function Eu(t) { switch (t & -t) { case 1: return 1; case 2: return 2; case 4: return 4; case 8: return 8; case 16: return 16; case 32: return 32; case 64: case 128: case 256: case 512: case 1024: case 2048: case 4096: case 8192: case 16384: case 32768: case 65536: case 131072: case 262144: case 524288: case 1048576: case 2097152: return t & 4194240; case 4194304: case 8388608: case 16777216: case 33554432: case 67108864: return t & 130023424; case 134217728: return 134217728; case 268435456: return 268435456; case 536870912: return 536870912; case 1073741824: return 1073741824; default: return t } } function Bf(t, e) { var r = t.pendingLanes; if (r === 0) return 0; var n = 0, s = t.suspendedLanes, a = t.pingedLanes, A = r & 268435455; if (A !== 0) { var o = A & ~s; o !== 0 ? n = Eu(o) : (a &= A, a !== 0 && (n = Eu(a))) } else A = r & ~s, A !== 0 ? n = Eu(A) : a !== 0 && (n = Eu(a)); if (n === 0) return 0; if (e !== 0 && e !== n && !(e & s) && (s = n & -n, a = e & -e, s >= a || s === 16 && (a & 4194240) !== 0)) return e; if (n & 4 && (n |= r & 16), e = t.entangledLanes, e !== 0) for (t = t.entanglements, e &= n; 0 < e;)r = 31 - ca(e), s = 1 << r, n |= t[r], e &= ~s; return n } function FN(t, e) { switch (t) { case 1: case 2: case 4: return e + 250; case 8: case 16: case 32: case 64: case 128: case 256: case 512: case 1024: case 2048: case 4096: case 8192: case 16384: case 32768: case 65536: case 131072: case 262144: case 524288: case 1048576: case 2097152: return e + 5e3; case 4194304: case 8388608: case 16777216: case 33554432: case 67108864: return -1; case 134217728: case 268435456: case 536870912: case 1073741824: return -1; default: return -1 } } function _N(t, e) { for (var r = t.suspendedLanes, n = t.pingedLanes, s = t.expirationTimes, a = t.pendingLanes; 0 < a;) { var A = 31 - ca(a), o = 1 << A, l = s[A]; l === -1 ? (!(o & r) || o & n) && (s[A] = FN(o, e)) : l <= e && (t.expiredLanes |= o), a &= ~o } } function Pg(t) { return t = t.pendingLanes & -1073741825, t !== 0 ? t : t & 1073741824 ? 1073741824 : 0 } function db() { var t = th; return th <<= 1, !(th & 4194240) && (th = 64), t } function rp(t) { for (var e = [], r = 0; 31 > r; r++)e.push(t); return e } function kd(t, e, r) { t.pendingLanes |= e, e !== 536870912 && (t.suspendedLanes = 0, t.pingedLanes = 0), t = t.eventTimes, e = 31 - ca(e), t[e] = r } function kN(t, e) { var r = t.pendingLanes & ~e; t.pendingLanes = e, t.suspendedLanes = 0, t.pingedLanes = 0, t.expiredLanes &= e, t.mutableReadLanes &= e, t.entangledLanes &= e, e = t.entanglements; var n = t.eventTimes; for (t = t.expirationTimes; 0 < r;) { var s = 31 - ca(r), a = 1 << s; e[s] = 0, n[s] = -1, t[s] = -1, r &= ~a } } function xx(t, e) { var r = t.entangledLanes |= e; for (t = t.entanglements; r;) { var n = 31 - ca(r), s = 1 << n; s & e | t[n] & e && (t[n] |= e), r &= ~s } } var Dr = 0; function hb(t) { return t &= -t, 1 < t ? 4 < t ? t & 268435455 ? 16 : 536870912 : 4 : 1 } var fb, vx, pb, gb, mb, Dg = !1, nh = [], go = null, mo = null, xo = null, id = new Map, ad = new Map, ao = [], UN = "mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "); function Y1(t, e) { switch (t) { case "focusin": case "focusout": go = null; break; case "dragenter": case "dragleave": mo = null; break; case "mouseover": case "mouseout": xo = null; break; case "pointerover": case "pointerout": id.delete(e.pointerId); break; case "gotpointercapture": case "lostpointercapture": ad.delete(e.pointerId) } } function du(t, e, r, n, s, a) { return t === null || t.nativeEvent !== a ? (t = { blockedOn: e, domEventName: r, eventSystemFlags: n, nativeEvent: a, targetContainers: [s] }, e !== null && (e = Id(e), e !== null && vx(e)), t) : (t.eventSystemFlags |= n, e = t.targetContainers, s !== null && e.indexOf(s) === -1 && e.push(s), t) } function IN(t, e, r, n, s) { switch (e) { case "focusin": return go = du(go, t, e, r, n, s), !0; case "dragenter": return mo = du(mo, t, e, r, n, s), !0; case "mouseover": return xo = du(xo, t, e, r, n, s), !0; case "pointerover": var a = s.pointerId; return id.set(a, du(id.get(a) || null, t, e, r, n, s)), !0; case "gotpointercapture": return a = s.pointerId, ad.set(a, du(ad.get(a) || null, t, e, r, n, s)), !0 }return !1 } function xb(t) { var e = sl(t.target); if (e !== null) { var r = bl(e); if (r !== null) { if (e = r.tag, e === 13) { if (e = ab(r), e !== null) { t.blockedOn = e, mb(t.priority, function () { pb(r) }); return } } else if (e === 3 && r.stateNode.current.memoizedState.isDehydrated) { t.blockedOn = r.tag === 3 ? r.stateNode.containerInfo : null; return } } } t.blockedOn = null } function Xh(t) { if (t.blockedOn !== null) return !1; for (var e = t.targetContainers; 0 < e.length;) { var r = Rg(t.domEventName, t.eventSystemFlags, e[0], t.nativeEvent); if (r === null) { r = t.nativeEvent; var n = new r.constructor(r.type, r); Qg = n, r.target.dispatchEvent(n), Qg = null } else return e = Id(r), e !== null && vx(e), t.blockedOn = r, !1; e.shift() } return !0 } function X1(t, e, r) { Xh(t) && r.delete(e) } function QN() { Dg = !1, go !== null && Xh(go) && (go = null), mo !== null && Xh(mo) && (mo = null), xo !== null && Xh(xo) && (xo = null), id.forEach(X1), ad.forEach(X1) } function hu(t, e) { t.blockedOn === e && (t.blockedOn = null, Dg || (Dg = !0, fi.unstable_scheduleCallback(fi.unstable_NormalPriority, QN))) } function Ad(t) { function e(s) { return hu(s, t) } if (0 < nh.length) { hu(nh[0], t); for (var r = 1; r < nh.length; r++) { var n = nh[r]; n.blockedOn === t && (n.blockedOn = null) } } for (go !== null && hu(go, t), mo !== null && hu(mo, t), xo !== null && hu(xo, t), id.forEach(e), ad.forEach(e), r = 0; r < ao.length; r++)n = ao[r], n.blockedOn === t && (n.blockedOn = null); for (; 0 < ao.length && (r = ao[0], r.blockedOn === null);)xb(r), r.blockedOn === null && ao.shift() } var Fc = CA.ReactCurrentBatchConfig, Cf = !0; function TN(t, e, r, n) { var s = Dr, a = Fc.transition; Fc.transition = null; try { Dr = 1, wx(t, e, r, n) } finally { Dr = s, Fc.transition = a } } function LN(t, e, r, n) { var s = Dr, a = Fc.transition; Fc.transition = null; try { Dr = 4, wx(t, e, r, n) } finally { Dr = s, Fc.transition = a } } function wx(t, e, r, n) { if (Cf) { var s = Rg(t, e, r, n); if (s === null) dp(t, e, n, Nf, r), Y1(t, n); else if (IN(s, t, e, r, n)) n.stopPropagation(); else if (Y1(t, n), e & 4 && -1 < UN.indexOf(t)) { for (; s !== null;) { var a = Id(s); if (a !== null && fb(a), a = Rg(t, e, r, n), a === null && dp(t, e, n, Nf, r), a === s) break; s = a } s !== null && n.stopPropagation() } else dp(t, e, n, null, r) } } var Nf = null; function Rg(t, e, r, n) { if (Nf = null, t = gx(n), t = sl(t), t !== null) if (e = bl(t), e === null) t = null; else if (r = e.tag, r === 13) { if (t = ab(e), t !== null) return t; t = null } else if (r === 3) { if (e.stateNode.current.memoizedState.isDehydrated) return e.tag === 3 ? e.stateNode.containerInfo : null; t = null } else e !== t && (t = null); return Nf = t, null } function vb(t) { switch (t) { case "cancel": case "click": case "close": case "contextmenu": case "copy": case "cut": case "auxclick": case "dblclick": case "dragend": case "dragstart": case "drop": case "focusin": case "focusout": case "input": case "invalid": case "keydown": case "keypress": case "keyup": case "mousedown": case "mouseup": case "paste": case "pause": case "play": case "pointercancel": case "pointerdown": case "pointerup": case "ratechange": case "reset": case "resize": case "seeked": case "submit": case "touchcancel": case "touchend": case "touchstart": case "volumechange": case "change": case "selectionchange": case "textInput": case "compositionstart": case "compositionend": case "compositionupdate": case "beforeblur": case "afterblur": case "beforeinput": case "blur": case "fullscreenchange": case "focus": case "hashchange": case "popstate": case "select": case "selectstart": return 1; case "drag": case "dragenter": case "dragexit": case "dragleave": case "dragover": case "mousemove": case "mouseout": case "mouseover": case "pointermove": case "pointerout": case "pointerover": case "scroll": case "toggle": case "touchmove": case "wheel": case "mouseenter": case "mouseleave": case "pointerenter": case "pointerleave": return 4; case "message": switch (BN()) { case mx: return 1; case cb: return 4; case bf: case CN: return 16; case ub: return 536870912; default: return 16 }default: return 16 } } var lo = null, yx = null, Zh = null; function wb() { if (Zh) return Zh; var t, e = yx, r = e.length, n, s = "value" in lo ? lo.value : lo.textContent, a = s.length; for (t = 0; t < r && e[t] === s[t]; t++); var A = r - t; for (n = 1; n <= A && e[r - n] === s[a - n]; n++); return Zh = s.slice(t, 1 < n ? 1 - n : void 0) } function ef(t) { var e = t.keyCode; return "charCode" in t ? (t = t.charCode, t === 0 && e === 13 && (t = 13)) : t = e, t === 10 && (t = 13), 32 <= t || t === 13 ? t : 0 } function sh() { return !0 } function Z1() { return !1 } function gi(t) { function e(r, n, s, a, A) { this._reactName = r, this._targetInst = s, this.type = n, this.nativeEvent = a, this.target = A, this.currentTarget = null; for (var o in t) t.hasOwnProperty(o) && (r = t[o], this[o] = r ? r(a) : a[o]); return this.isDefaultPrevented = (a.defaultPrevented != null ? a.defaultPrevented : a.returnValue === !1) ? sh : Z1, this.isPropagationStopped = Z1, this } return xn(e.prototype, { preventDefault: function () { this.defaultPrevented = !0; var r = this.nativeEvent; r && (r.preventDefault ? r.preventDefault() : typeof r.returnValue != "unknown" && (r.returnValue = !1), this.isDefaultPrevented = sh) }, stopPropagation: function () { var r = this.nativeEvent; r && (r.stopPropagation ? r.stopPropagation() : typeof r.cancelBubble != "unknown" && (r.cancelBubble = !0), this.isPropagationStopped = sh) }, persist: function () { }, isPersistent: sh }), e } var Wc = { eventPhase: 0, bubbles: 0, cancelable: 0, timeStamp: function (t) { return t.timeStamp || Date.now() }, defaultPrevented: 0, isTrusted: 0 }, bx = gi(Wc), Ud = xn({}, Wc, { view: 0, detail: 0 }), ON = gi(Ud), np, sp, fu, l0 = xn({}, Ud, { screenX: 0, screenY: 0, clientX: 0, clientY: 0, pageX: 0, pageY: 0, ctrlKey: 0, shiftKey: 0, altKey: 0, metaKey: 0, getModifierState: Bx, button: 0, buttons: 0, relatedTarget: function (t) { return t.relatedTarget === void 0 ? t.fromElement === t.srcElement ? t.toElement : t.fromElement : t.relatedTarget }, movementX: function (t) { return "movementX" in t ? t.movementX : (t !== fu && (fu && t.type === "mousemove" ? (np = t.screenX - fu.screenX, sp = t.screenY - fu.screenY) : sp = np = 0, fu = t), np) }, movementY: function (t) { return "movementY" in t ? t.movementY : sp } }), ev = gi(l0), PN = xn({}, l0, { dataTransfer: 0 }), DN = gi(PN), RN = xn({}, Ud, { relatedTarget: 0 }), ip = gi(RN), HN = xn({}, Wc, { animationName: 0, elapsedTime: 0, pseudoElement: 0 }), MN = gi(HN), $N = xn({}, Wc, { clipboardData: function (t) { return "clipboardData" in t ? t.clipboardData : window.clipboardData } }), KN = gi($N), GN = xn({}, Wc, { data: 0 }), tv = gi(GN), VN = { Esc: "Escape", Spacebar: " ", Left: "ArrowLeft", Up: "ArrowUp", Right: "ArrowRight", Down: "ArrowDown", Del: "Delete", Win: "OS", Menu: "ContextMenu", Apps: "ContextMenu", Scroll: "ScrollLock", MozPrintableKey: "Unidentified" }, zN = { 8: "Backspace", 9: "Tab", 12: "Clear", 13: "Enter", 16: "Shift", 17: "Control", 18: "Alt", 19: "Pause", 20: "CapsLock", 27: "Escape", 32: " ", 33: "PageUp", 34: "PageDown", 35: "End", 36: "Home", 37: "ArrowLeft", 38: "ArrowUp", 39: "ArrowRight", 40: "ArrowDown", 45: "Insert", 46: "Delete", 112: "F1", 113: "F2", 114: "F3", 115: "F4", 116: "F5", 117: "F6", 118: "F7", 119: "F8", 120: "F9", 121: "F10", 122: "F11", 123: "F12", 144: "NumLock", 145: "ScrollLock", 224: "Meta" }, qN = { Alt: "altKey", Control: "ctrlKey", Meta: "metaKey", Shift: "shiftKey" }; function WN(t) { var e = this.nativeEvent; return e.getModifierState ? e.getModifierState(t) : (t = qN[t]) ? !!e[t] : !1 } function Bx() { return WN } var JN = xn({}, Ud, { key: function (t) { if (t.key) { var e = VN[t.key] || t.key; if (e !== "Unidentified") return e } return t.type === "keypress" ? (t = ef(t), t === 13 ? "Enter" : String.fromCharCode(t)) : t.type === "keydown" || t.type === "keyup" ? zN[t.keyCode] || "Unidentified" : "" }, code: 0, location: 0, ctrlKey: 0, shiftKey: 0, altKey: 0, metaKey: 0, repeat: 0, locale: 0, getModifierState: Bx, charCode: function (t) { return t.type === "keypress" ? ef(t) : 0 }, keyCode: function (t) { return t.type === "keydown" || t.type === "keyup" ? t.keyCode : 0 }, which: function (t) { return t.type === "keypress" ? ef(t) : t.type === "keydown" || t.type === "keyup" ? t.keyCode : 0 } }), YN = gi(JN), XN = xn({}, l0, { pointerId: 0, width: 0, height: 0, pressure: 0, tangentialPressure: 0, tiltX: 0, tiltY: 0, twist: 0, pointerType: 0, isPrimary: 0 }), rv = gi(XN), ZN = xn({}, Ud, { touches: 0, targetTouches: 0, changedTouches: 0, altKey: 0, metaKey: 0, ctrlKey: 0, shiftKey: 0, getModifierState: Bx }), e3 = gi(ZN), t3 = xn({}, Wc, { propertyName: 0, elapsedTime: 0, pseudoElement: 0 }), r3 = gi(t3), n3 = xn({}, l0, { deltaX: function (t) { return "deltaX" in t ? t.deltaX : "wheelDeltaX" in t ? -t.wheelDeltaX : 0 }, deltaY: function (t) { return "deltaY" in t ? t.deltaY : "wheelDeltaY" in t ? -t.wheelDeltaY : "wheelDelta" in t ? -t.wheelDelta : 0 }, deltaZ: 0, deltaMode: 0 }), s3 = gi(n3), i3 = [9, 13, 27, 32], Cx = vA && "CompositionEvent" in window, Ru = null; vA && "documentMode" in document && (Ru = document.documentMode); var a3 = vA && "TextEvent" in window && !Ru, yb = vA && (!Cx || Ru && 8 < Ru && 11 >= Ru), nv = " ", sv = !1; function bb(t, e) { switch (t) { case "keyup": return i3.indexOf(e.keyCode) !== -1; case "keydown": return e.keyCode !== 229; case "keypress": case "mousedown": case "focusout": return !0; default: return !1 } } function Bb(t) { return t = t.detail, typeof t == "object" && "data" in t ? t.data : null } var hc = !1; function A3(t, e) { switch (t) { case "compositionend": return Bb(e); case "keypress": return e.which !== 32 ? null : (sv = !0, nv); case "textInput": return t = e.data, t === nv && sv ? null : t; default: return null } } function o3(t, e) { if (hc) return t === "compositionend" || !Cx && bb(t, e) ? (t = wb(), Zh = yx = lo = null, hc = !1, t) : null; switch (t) { case "paste": return null; case "keypress": if (!(e.ctrlKey || e.altKey || e.metaKey) || e.ctrlKey && e.altKey) { if (e.char && 1 < e.char.length) return e.char; if (e.which) return String.fromCharCode(e.which) } return null; case "compositionend": return yb && e.locale !== "ko" ? null : e.data; default: return null } } var l3 = { color: !0, date: !0, datetime: !0, "datetime-local": !0, email: !0, month: !0, number: !0, password: !0, range: !0, search: !0, tel: !0, text: !0, time: !0, url: !0, week: !0 }; function iv(t) { var e = t && t.nodeName && t.nodeName.toLowerCase(); return e === "input" ? !!l3[t.type] : e === "textarea" } function Cb(t, e, r, n) { tb(n), e = Sf(e, "onChange"), 0 < e.length && (r = new bx("onChange", "change", null, r, n), t.push({ event: r, listeners: e })) } var Hu = null, od = null; function c3(t) { Tb(t, 0) } function c0(t) { var e = gc(t); if (q2(e)) return t } function u3(t, e) { if (t === "change") return e } var Nb = !1; if (vA) { var ap; if (vA) { var Ap = "oninput" in document; if (!Ap) { var av = document.createElement("div"); av.setAttribute("oninput", "return;"), Ap = typeof av.oninput == "function" } ap = Ap } else ap = !1; Nb = ap && (!document.documentMode || 9 < document.documentMode) } function Av() { Hu && (Hu.detachEvent("onpropertychange", Sb), od = Hu = null) } function Sb(t) { if (t.propertyName === "value" && c0(od)) { var e = []; Cb(e, od, t, gx(t)), ib(c3, e) } } function d3(t, e, r) { t === "focusin" ? (Av(), Hu = e, od = r, Hu.attachEvent("onpropertychange", Sb)) : t === "focusout" && Av() } function h3(t) { if (t === "selectionchange" || t === "keyup" || t === "keydown") return c0(od) } function f3(t, e) { if (t === "click") return c0(e) } function p3(t, e) { if (t === "input" || t === "change") return c0(e) } function g3(t, e) { return t === e && (t !== 0 || 1 / t === 1 / e) || t !== t && e !== e } var da = typeof Object.is == "function" ? Object.is : g3; function ld(t, e) { if (da(t, e)) return !0; if (typeof t != "object" || t === null || typeof e != "object" || e === null) return !1; var r = Object.keys(t), n = Object.keys(e); if (r.length !== n.length) return !1; for (n = 0; n < r.length; n++) { var s = r[n]; if (!bg.call(e, s) || !da(t[s], e[s])) return !1 } return !0 } function ov(t) { for (; t && t.firstChild;)t = t.firstChild; return t } function lv(t, e) { var r = ov(t); t = 0; for (var n; r;) { if (r.nodeType === 3) { if (n = t + r.textContent.length, t <= e && n >= e) return { node: r, offset: e - t }; t = n } e: { for (; r;) { if (r.nextSibling) { r = r.nextSibling; break e } r = r.parentNode } r = void 0 } r = ov(r) } } function jb(t, e) { return t && e ? t === e ? !0 : t && t.nodeType === 3 ? !1 : e && e.nodeType === 3 ? jb(t, e.parentNode) : "contains" in t ? t.contains(e) : t.compareDocumentPosition ? !!(t.compareDocumentPosition(e) & 16) : !1 : !1 } function Eb() { for (var t = window, e = vf(); e instanceof t.HTMLIFrameElement;) { try { var r = typeof e.contentWindow.location.href == "string" } catch { r = !1 } if (r) t = e.contentWindow; else break; e = vf(t.document) } return e } function Nx(t) { var e = t && t.nodeName && t.nodeName.toLowerCase(); return e && (e === "input" && (t.type === "text" || t.type === "search" || t.type === "tel" || t.type === "url" || t.type === "password") || e === "textarea" || t.contentEditable === "true") } function m3(t) { var e = Eb(), r = t.focusedElem, n = t.selectionRange; if (e !== r && r && r.ownerDocument && jb(r.ownerDocument.documentElement, r)) { if (n !== null && Nx(r)) { if (e = n.start, t = n.end, t === void 0 && (t = e), "selectionStart" in r) r.selectionStart = e, r.selectionEnd = Math.min(t, r.value.length); else if (t = (e = r.ownerDocument || document) && e.defaultView || window, t.getSelection) { t = t.getSelection(); var s = r.textContent.length, a = Math.min(n.start, s); n = n.end === void 0 ? a : Math.min(n.end, s), !t.extend && a > n && (s = n, n = a, a = s), s = lv(r, a); var A = lv(r, n); s && A && (t.rangeCount !== 1 || t.anchorNode !== s.node || t.anchorOffset !== s.offset || t.focusNode !== A.node || t.focusOffset !== A.offset) && (e = e.createRange(), e.setStart(s.node, s.offset), t.removeAllRanges(), a > n ? (t.addRange(e), t.extend(A.node, A.offset)) : (e.setEnd(A.node, A.offset), t.addRange(e))) } } for (e = [], t = r; t = t.parentNode;)t.nodeType === 1 && e.push({ element: t, left: t.scrollLeft, top: t.scrollTop }); for (typeof r.focus == "function" && r.focus(), r = 0; r < e.length; r++)t = e[r], t.element.scrollLeft = t.left, t.element.scrollTop = t.top } } var x3 = vA && "documentMode" in document && 11 >= document.documentMode, fc = null, Hg = null, Mu = null, Mg = !1; function cv(t, e, r) { var n = r.window === r ? r.document : r.nodeType === 9 ? r : r.ownerDocument; Mg || fc == null || fc !== vf(n) || (n = fc, "selectionStart" in n && Nx(n) ? n = { start: n.selectionStart, end: n.selectionEnd } : (n = (n.ownerDocument && n.ownerDocument.defaultView || window).getSelection(), n = { anchorNode: n.anchorNode, anchorOffset: n.anchorOffset, focusNode: n.focusNode, focusOffset: n.focusOffset }), Mu && ld(Mu, n) || (Mu = n, n = Sf(Hg, "onSelect"), 0 < n.length && (e = new bx("onSelect", "select", null, e, r), t.push({ event: e, listeners: n }), e.target = fc))) } function ih(t, e) { var r = {}; return r[t.toLowerCase()] = e.toLowerCase(), r["Webkit" + t] = "webkit" + e, r["Moz" + t] = "moz" + e, r } var pc = { animationend: ih("Animation", "AnimationEnd"), animationiteration: ih("Animation", "AnimationIteration"), animationstart: ih("Animation", "AnimationStart"), transitionend: ih("Transition", "TransitionEnd") }, op = {}, Fb = {}; vA && (Fb = document.createElement("div").style, "AnimationEvent" in window || (delete pc.animationend.animation, delete pc.animationiteration.animation, delete pc.animationstart.animation), "TransitionEvent" in window || delete pc.transitionend.transition); function u0(t) { if (op[t]) return op[t]; if (!pc[t]) return t; var e = pc[t], r; for (r in e) if (e.hasOwnProperty(r) && r in Fb) return op[t] = e[r]; return t } var _b = u0("animationend"), kb = u0("animationiteration"), Ub = u0("animationstart"), Ib = u0("transitionend"), Qb = new Map, uv = "abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" "); function _o(t, e) { Qb.set(t, e), yl(e, [t]) } for (var lp = 0; lp < uv.length; lp++) { var cp = uv[lp], v3 = cp.toLowerCase(), w3 = cp[0].toUpperCase() + cp.slice(1); _o(v3, "on" + w3) } _o(_b, "onAnimationEnd"); _o(kb, "onAnimationIteration"); _o(Ub, "onAnimationStart"); _o("dblclick", "onDoubleClick"); _o("focusin", "onFocus"); _o("focusout", "onBlur"); _o(Ib, "onTransitionEnd"); Pc("onMouseEnter", ["mouseout", "mouseover"]); Pc("onMouseLeave", ["mouseout", "mouseover"]); Pc("onPointerEnter", ["pointerout", "pointerover"]); Pc("onPointerLeave", ["pointerout", "pointerover"]); yl("onChange", "change click focusin focusout input keydown keyup selectionchange".split(" ")); yl("onSelect", "focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")); yl("onBeforeInput", ["compositionend", "keypress", "textInput", "paste"]); yl("onCompositionEnd", "compositionend focusout keydown keypress keyup mousedown".split(" ")); yl("onCompositionStart", "compositionstart focusout keydown keypress keyup mousedown".split(" ")); yl("onCompositionUpdate", "compositionupdate focusout keydown keypress keyup mousedown".split(" ")); var Fu = "abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "), y3 = new Set("cancel close invalid load scroll toggle".split(" ").concat(Fu)); function dv(t, e, r) { var n = t.type || "unknown-event"; t.currentTarget = r, vN(n, e, void 0, t), t.currentTarget = null } function Tb(t, e) { e = (e & 4) !== 0; for (var r = 0; r < t.length; r++) { var n = t[r], s = n.event; n = n.listeners; e: { var a = void 0; if (e) for (var A = n.length - 1; 0 <= A; A--) { var o = n[A], l = o.instance, c = o.currentTarget; if (o = o.listener, l !== a && s.isPropagationStopped()) break e; dv(s, o, c), a = l } else for (A = 0; A < n.length; A++) { if (o = n[A], l = o.instance, c = o.currentTarget, o = o.listener, l !== a && s.isPropagationStopped()) break e; dv(s, o, c), a = l } } } if (yf) throw t = Og, yf = !1, Og = null, t } function tn(t, e) { var r = e[zg]; r === void 0 && (r = e[zg] = new Set); var n = t + "__bubble"; r.has(n) || (Lb(e, t, 2, !1), r.add(n)) } function up(t, e, r) { var n = 0; e && (n |= 4), Lb(r, t, n, e) } var ah = "_reactListening" + Math.random().toString(36).slice(2); function cd(t) { if (!t[ah]) { t[ah] = !0, $2.forEach(function (r) { r !== "selectionchange" && (y3.has(r) || up(r, !1, t), up(r, !0, t)) }); var e = t.nodeType === 9 ? t : t.ownerDocument; e === null || e[ah] || (e[ah] = !0, up("selectionchange", !1, e)) } } function Lb(t, e, r, n) { switch (vb(e)) { case 1: var s = TN; break; case 4: s = LN; break; default: s = wx }r = s.bind(null, e, r, t), s = void 0, !Lg || e !== "touchstart" && e !== "touchmove" && e !== "wheel" || (s = !0), n ? s !== void 0 ? t.addEventListener(e, r, { capture: !0, passive: s }) : t.addEventListener(e, r, !0) : s !== void 0 ? t.addEventListener(e, r, { passive: s }) : t.addEventListener(e, r, !1) } function dp(t, e, r, n, s) { var a = n; if (!(e & 1) && !(e & 2) && n !== null) e: for (; ;) { if (n === null) return; var A = n.tag; if (A === 3 || A === 4) { var o = n.stateNode.containerInfo; if (o === s || o.nodeType === 8 && o.parentNode === s) break; if (A === 4) for (A = n.return; A !== null;) { var l = A.tag; if ((l === 3 || l === 4) && (l = A.stateNode.containerInfo, l === s || l.nodeType === 8 && l.parentNode === s)) return; A = A.return } for (; o !== null;) { if (A = sl(o), A === null) return; if (l = A.tag, l === 5 || l === 6) { n = a = A; continue e } o = o.parentNode } } n = n.return } ib(function () { var c = a, d = gx(r), p = []; e: { var g = Qb.get(t); if (g !== void 0) { var h = bx, b = t; switch (t) { case "keypress": if (ef(r) === 0) break e; case "keydown": case "keyup": h = YN; break; case "focusin": b = "focus", h = ip; break; case "focusout": b = "blur", h = ip; break; case "beforeblur": case "afterblur": h = ip; break; case "click": if (r.button === 2) break e; case "auxclick": case "dblclick": case "mousedown": case "mousemove": case "mouseup": case "mouseout": case "mouseover": case "contextmenu": h = ev; break; case "drag": case "dragend": case "dragenter": case "dragexit": case "dragleave": case "dragover": case "dragstart": case "drop": h = DN; break; case "touchcancel": case "touchend": case "touchmove": case "touchstart": h = e3; break; case _b: case kb: case Ub: h = MN; break; case Ib: h = r3; break; case "scroll": h = ON; break; case "wheel": h = s3; break; case "copy": case "cut": case "paste": h = KN; break; case "gotpointercapture": case "lostpointercapture": case "pointercancel": case "pointerdown": case "pointermove": case "pointerout": case "pointerover": case "pointerup": h = rv }var w = (e & 4) !== 0, j = !w && t === "scroll", x = w ? g !== null ? g + "Capture" : null : g; w = []; for (var y = c, B; y !== null;) { B = y; var E = B.stateNode; if (B.tag === 5 && E !== null && (B = E, x !== null && (E = sd(y, x), E != null && w.push(ud(y, E, B)))), j) break; y = y.return } 0 < w.length && (g = new h(g, b, null, r, d), p.push({ event: g, listeners: w })) } } if (!(e & 7)) { e: { if (g = t === "mouseover" || t === "pointerover", h = t === "mouseout" || t === "pointerout", g && r !== Qg && (b = r.relatedTarget || r.fromElement) && (sl(b) || b[wA])) break e; if ((h || g) && (g = d.window === d ? d : (g = d.ownerDocument) ? g.defaultView || g.parentWindow : window, h ? (b = r.relatedTarget || r.toElement, h = c, b = b ? sl(b) : null, b !== null && (j = bl(b), b !== j || b.tag !== 5 && b.tag !== 6) && (b = null)) : (h = null, b = c), h !== b)) { if (w = ev, E = "onMouseLeave", x = "onMouseEnter", y = "mouse", (t === "pointerout" || t === "pointerover") && (w = rv, E = "onPointerLeave", x = "onPointerEnter", y = "pointer"), j = h == null ? g : gc(h), B = b == null ? g : gc(b), g = new w(E, y + "leave", h, r, d), g.target = j, g.relatedTarget = B, E = null, sl(d) === c && (w = new w(x, y + "enter", b, r, d), w.target = B, w.relatedTarget = j, E = w), j = E, h && b) t: { for (w = h, x = b, y = 0, B = w; B; B = Ml(B))y++; for (B = 0, E = x; E; E = Ml(E))B++; for (; 0 < y - B;)w = Ml(w), y--; for (; 0 < B - y;)x = Ml(x), B--; for (; y--;) { if (w === x || x !== null && w === x.alternate) break t; w = Ml(w), x = Ml(x) } w = null } else w = null; h !== null && hv(p, g, h, w, !1), b !== null && j !== null && hv(p, j, b, w, !0) } } e: { if (g = c ? gc(c) : window, h = g.nodeName && g.nodeName.toLowerCase(), h === "select" || h === "input" && g.type === "file") var T = u3; else if (iv(g)) if (Nb) T = p3; else { T = h3; var U = d3 } else (h = g.nodeName) && h.toLowerCase() === "input" && (g.type === "checkbox" || g.type === "radio") && (T = f3); if (T && (T = T(t, c))) { Cb(p, T, r, d); break e } U && U(t, g, c), t === "focusout" && (U = g._wrapperState) && U.controlled && g.type === "number" && Fg(g, "number", g.value) } switch (U = c ? gc(c) : window, t) { case "focusin": (iv(U) || U.contentEditable === "true") && (fc = U, Hg = c, Mu = null); break; case "focusout": Mu = Hg = fc = null; break; case "mousedown": Mg = !0; break; case "contextmenu": case "mouseup": case "dragend": Mg = !1, cv(p, r, d); break; case "selectionchange": if (x3) break; case "keydown": case "keyup": cv(p, r, d) }var M; if (Cx) e: { switch (t) { case "compositionstart": var G = "onCompositionStart"; break e; case "compositionend": G = "onCompositionEnd"; break e; case "compositionupdate": G = "onCompositionUpdate"; break e }G = void 0 } else hc ? bb(t, r) && (G = "onCompositionEnd") : t === "keydown" && r.keyCode === 229 && (G = "onCompositionStart"); G && (yb && r.locale !== "ko" && (hc || G !== "onCompositionStart" ? G === "onCompositionEnd" && hc && (M = wb()) : (lo = d, yx = "value" in lo ? lo.value : lo.textContent, hc = !0)), U = Sf(c, G), 0 < U.length && (G = new tv(G, t, null, r, d), p.push({ event: G, listeners: U }), M ? G.data = M : (M = Bb(r), M !== null && (G.data = M)))), (M = a3 ? A3(t, r) : o3(t, r)) && (c = Sf(c, "onBeforeInput"), 0 < c.length && (d = new tv("onBeforeInput", "beforeinput", null, r, d), p.push({ event: d, listeners: c }), d.data = M)) } Tb(p, e) }) } function ud(t, e, r) { return { instance: t, listener: e, currentTarget: r } } function Sf(t, e) { for (var r = e + "Capture", n = []; t !== null;) { var s = t, a = s.stateNode; s.tag === 5 && a !== null && (s = a, a = sd(t, r), a != null && n.unshift(ud(t, a, s)), a = sd(t, e), a != null && n.push(ud(t, a, s))), t = t.return } return n } function Ml(t) { if (t === null) return null; do t = t.return; while (t && t.tag !== 5); return t || null } function hv(t, e, r, n, s) { for (var a = e._reactName, A = []; r !== null && r !== n;) { var o = r, l = o.alternate, c = o.stateNode; if (l !== null && l === n) break; o.tag === 5 && c !== null && (o = c, s ? (l = sd(r, a), l != null && A.unshift(ud(r, l, o))) : s || (l = sd(r, a), l != null && A.push(ud(r, l, o)))), r = r.return } A.length !== 0 && t.push({ event: e, listeners: A }) } var b3 = /\r\n?/g, B3 = /\u0000|\uFFFD/g; function fv(t) {
  return (typeof t == "string" ? t : "" + t).replace(b3, `
`).replace(B3, "")
} function Ah(t, e, r) { if (e = fv(e), fv(t) !== e && r) throw Error(wt(425)) } function jf() { } var $g = null, Kg = null; function Gg(t, e) { return t === "textarea" || t === "noscript" || typeof e.children == "string" || typeof e.children == "number" || typeof e.dangerouslySetInnerHTML == "object" && e.dangerouslySetInnerHTML !== null && e.dangerouslySetInnerHTML.__html != null } var Vg = typeof setTimeout == "function" ? setTimeout : void 0, C3 = typeof clearTimeout == "function" ? clearTimeout : void 0, pv = typeof Promise == "function" ? Promise : void 0, N3 = typeof queueMicrotask == "function" ? queueMicrotask : typeof pv < "u" ? function (t) { return pv.resolve(null).then(t).catch(S3) } : Vg; function S3(t) { setTimeout(function () { throw t }) } function hp(t, e) { var r = e, n = 0; do { var s = r.nextSibling; if (t.removeChild(r), s && s.nodeType === 8) if (r = s.data, r === "/$") { if (n === 0) { t.removeChild(s), Ad(e); return } n-- } else r !== "$" && r !== "$?" && r !== "$!" || n++; r = s } while (r); Ad(e) } function vo(t) { for (; t != null; t = t.nextSibling) { var e = t.nodeType; if (e === 1 || e === 3) break; if (e === 8) { if (e = t.data, e === "$" || e === "$!" || e === "$?") break; if (e === "/$") return null } } return t } function gv(t) { t = t.previousSibling; for (var e = 0; t;) { if (t.nodeType === 8) { var r = t.data; if (r === "$" || r === "$!" || r === "$?") { if (e === 0) return t; e-- } else r === "/$" && e++ } t = t.previousSibling } return null } var Jc = Math.random().toString(36).slice(2), Ra = "__reactFiber$" + Jc, dd = "__reactProps$" + Jc, wA = "__reactContainer$" + Jc, zg = "__reactEvents$" + Jc, j3 = "__reactListeners$" + Jc, E3 = "__reactHandles$" + Jc; function sl(t) { var e = t[Ra]; if (e) return e; for (var r = t.parentNode; r;) { if (e = r[wA] || r[Ra]) { if (r = e.alternate, e.child !== null || r !== null && r.child !== null) for (t = gv(t); t !== null;) { if (r = t[Ra]) return r; t = gv(t) } return e } t = r, r = t.parentNode } return null } function Id(t) { return t = t[Ra] || t[wA], !t || t.tag !== 5 && t.tag !== 6 && t.tag !== 13 && t.tag !== 3 ? null : t } function gc(t) { if (t.tag === 5 || t.tag === 6) return t.stateNode; throw Error(wt(33)) } function d0(t) { return t[dd] || null } var qg = [], mc = -1; function ko(t) { return { current: t } } function nn(t) { 0 > mc || (t.current = qg[mc], qg[mc] = null, mc--) } function Xr(t, e) { mc++, qg[mc] = t.current, t.current = e } var jo = {}, js = ko(jo), zs = ko(!1), fl = jo; function Dc(t, e) { var r = t.type.contextTypes; if (!r) return jo; var n = t.stateNode; if (n && n.__reactInternalMemoizedUnmaskedChildContext === e) return n.__reactInternalMemoizedMaskedChildContext; var s = {}, a; for (a in r) s[a] = e[a]; return n && (t = t.stateNode, t.__reactInternalMemoizedUnmaskedChildContext = e, t.__reactInternalMemoizedMaskedChildContext = s), s } function qs(t) { return t = t.childContextTypes, t != null } function Ef() { nn(zs), nn(js) } function mv(t, e, r) { if (js.current !== jo) throw Error(wt(168)); Xr(js, e), Xr(zs, r) } function Ob(t, e, r) { var n = t.stateNode; if (e = e.childContextTypes, typeof n.getChildContext != "function") return r; n = n.getChildContext(); for (var s in n) if (!(s in e)) throw Error(wt(108, dN(t) || "Unknown", s)); return xn({}, r, n) } function Ff(t) { return t = (t = t.stateNode) && t.__reactInternalMemoizedMergedChildContext || jo, fl = js.current, Xr(js, t), Xr(zs, zs.current), !0 } function xv(t, e, r) { var n = t.stateNode; if (!n) throw Error(wt(169)); r ? (t = Ob(t, e, fl), n.__reactInternalMemoizedMergedChildContext = t, nn(zs), nn(js), Xr(js, t)) : nn(zs), Xr(zs, r) } var hA = null, h0 = !1, fp = !1; function Pb(t) { hA === null ? hA = [t] : hA.push(t) } function F3(t) { h0 = !0, Pb(t) } function Uo() { if (!fp && hA !== null) { fp = !0; var t = 0, e = Dr; try { var r = hA; for (Dr = 1; t < r.length; t++) { var n = r[t]; do n = n(!0); while (n !== null) } hA = null, h0 = !1 } catch (s) { throw hA !== null && (hA = hA.slice(t + 1)), lb(mx, Uo), s } finally { Dr = e, fp = !1 } } return null } var xc = [], vc = 0, _f = null, kf = 0, Ii = [], Qi = 0, pl = null, pA = 1, gA = ""; function Jo(t, e) { xc[vc++] = kf, xc[vc++] = _f, _f = t, kf = e } function Db(t, e, r) { Ii[Qi++] = pA, Ii[Qi++] = gA, Ii[Qi++] = pl, pl = t; var n = pA; t = gA; var s = 32 - ca(n) - 1; n &= ~(1 << s), r += 1; var a = 32 - ca(e) + s; if (30 < a) { var A = s - s % 5; a = (n & (1 << A) - 1).toString(32), n >>= A, s -= A, pA = 1 << 32 - ca(e) + s | r << s | n, gA = a + t } else pA = 1 << a | r << s | n, gA = t } function Sx(t) { t.return !== null && (Jo(t, 1), Db(t, 1, 0)) } function jx(t) { for (; t === _f;)_f = xc[--vc], xc[vc] = null, kf = xc[--vc], xc[vc] = null; for (; t === pl;)pl = Ii[--Qi], Ii[Qi] = null, gA = Ii[--Qi], Ii[Qi] = null, pA = Ii[--Qi], Ii[Qi] = null } var hi = null, ui = null, ln = !1, la = null; function Rb(t, e) { var r = Li(5, null, null, 0); r.elementType = "DELETED", r.stateNode = e, r.return = t, e = t.deletions, e === null ? (t.deletions = [r], t.flags |= 16) : e.push(r) } function vv(t, e) { switch (t.tag) { case 5: var r = t.type; return e = e.nodeType !== 1 || r.toLowerCase() !== e.nodeName.toLowerCase() ? null : e, e !== null ? (t.stateNode = e, hi = t, ui = vo(e.firstChild), !0) : !1; case 6: return e = t.pendingProps === "" || e.nodeType !== 3 ? null : e, e !== null ? (t.stateNode = e, hi = t, ui = null, !0) : !1; case 13: return e = e.nodeType !== 8 ? null : e, e !== null ? (r = pl !== null ? { id: pA, overflow: gA } : null, t.memoizedState = { dehydrated: e, treeContext: r, retryLane: 1073741824 }, r = Li(18, null, null, 0), r.stateNode = e, r.return = t, t.child = r, hi = t, ui = null, !0) : !1; default: return !1 } } function Wg(t) { return (t.mode & 1) !== 0 && (t.flags & 128) === 0 } function Jg(t) { if (ln) { var e = ui; if (e) { var r = e; if (!vv(t, e)) { if (Wg(t)) throw Error(wt(418)); e = vo(r.nextSibling); var n = hi; e && vv(t, e) ? Rb(n, r) : (t.flags = t.flags & -4097 | 2, ln = !1, hi = t) } } else { if (Wg(t)) throw Error(wt(418)); t.flags = t.flags & -4097 | 2, ln = !1, hi = t } } } function wv(t) { for (t = t.return; t !== null && t.tag !== 5 && t.tag !== 3 && t.tag !== 13;)t = t.return; hi = t } function oh(t) { if (t !== hi) return !1; if (!ln) return wv(t), ln = !0, !1; var e; if ((e = t.tag !== 3) && !(e = t.tag !== 5) && (e = t.type, e = e !== "head" && e !== "body" && !Gg(t.type, t.memoizedProps)), e && (e = ui)) { if (Wg(t)) throw Hb(), Error(wt(418)); for (; e;)Rb(t, e), e = vo(e.nextSibling) } if (wv(t), t.tag === 13) { if (t = t.memoizedState, t = t !== null ? t.dehydrated : null, !t) throw Error(wt(317)); e: { for (t = t.nextSibling, e = 0; t;) { if (t.nodeType === 8) { var r = t.data; if (r === "/$") { if (e === 0) { ui = vo(t.nextSibling); break e } e-- } else r !== "$" && r !== "$!" && r !== "$?" || e++ } t = t.nextSibling } ui = null } } else ui = hi ? vo(t.stateNode.nextSibling) : null; return !0 } function Hb() { for (var t = ui; t;)t = vo(t.nextSibling) } function Rc() { ui = hi = null, ln = !1 } function Ex(t) { la === null ? la = [t] : la.push(t) } var _3 = CA.ReactCurrentBatchConfig; function pu(t, e, r) { if (t = r.ref, t !== null && typeof t != "function" && typeof t != "object") { if (r._owner) { if (r = r._owner, r) { if (r.tag !== 1) throw Error(wt(309)); var n = r.stateNode } if (!n) throw Error(wt(147, t)); var s = n, a = "" + t; return e !== null && e.ref !== null && typeof e.ref == "function" && e.ref._stringRef === a ? e.ref : (e = function (A) { var o = s.refs; A === null ? delete o[a] : o[a] = A }, e._stringRef = a, e) } if (typeof t != "string") throw Error(wt(284)); if (!r._owner) throw Error(wt(290, t)) } return t } function lh(t, e) { throw t = Object.prototype.toString.call(e), Error(wt(31, t === "[object Object]" ? "object with keys {" + Object.keys(e).join(", ") + "}" : t)) } function yv(t) { var e = t._init; return e(t._payload) } function Mb(t) { function e(x, y) { if (t) { var B = x.deletions; B === null ? (x.deletions = [y], x.flags |= 16) : B.push(y) } } function r(x, y) { if (!t) return null; for (; y !== null;)e(x, y), y = y.sibling; return null } function n(x, y) { for (x = new Map; y !== null;)y.key !== null ? x.set(y.key, y) : x.set(y.index, y), y = y.sibling; return x } function s(x, y) { return x = Bo(x, y), x.index = 0, x.sibling = null, x } function a(x, y, B) { return x.index = B, t ? (B = x.alternate, B !== null ? (B = B.index, B < y ? (x.flags |= 2, y) : B) : (x.flags |= 2, y)) : (x.flags |= 1048576, y) } function A(x) { return t && x.alternate === null && (x.flags |= 2), x } function o(x, y, B, E) { return y === null || y.tag !== 6 ? (y = yp(B, x.mode, E), y.return = x, y) : (y = s(y, B), y.return = x, y) } function l(x, y, B, E) { var T = B.type; return T === dc ? d(x, y, B.props.children, E, B.key) : y !== null && (y.elementType === T || typeof T == "object" && T !== null && T.$$typeof === ro && yv(T) === y.type) ? (E = s(y, B.props), E.ref = pu(x, y, B), E.return = x, E) : (E = of(B.type, B.key, B.props, null, x.mode, E), E.ref = pu(x, y, B), E.return = x, E) } function c(x, y, B, E) { return y === null || y.tag !== 4 || y.stateNode.containerInfo !== B.containerInfo || y.stateNode.implementation !== B.implementation ? (y = bp(B, x.mode, E), y.return = x, y) : (y = s(y, B.children || []), y.return = x, y) } function d(x, y, B, E, T) { return y === null || y.tag !== 7 ? (y = cl(B, x.mode, E, T), y.return = x, y) : (y = s(y, B), y.return = x, y) } function p(x, y, B) { if (typeof y == "string" && y !== "" || typeof y == "number") return y = yp("" + y, x.mode, B), y.return = x, y; if (typeof y == "object" && y !== null) { switch (y.$$typeof) { case Xd: return B = of(y.type, y.key, y.props, null, x.mode, B), B.ref = pu(x, null, y), B.return = x, B; case uc: return y = bp(y, x.mode, B), y.return = x, y; case ro: var E = y._init; return p(x, E(y._payload), B) }if (ju(y) || cu(y)) return y = cl(y, x.mode, B, null), y.return = x, y; lh(x, y) } return null } function g(x, y, B, E) { var T = y !== null ? y.key : null; if (typeof B == "string" && B !== "" || typeof B == "number") return T !== null ? null : o(x, y, "" + B, E); if (typeof B == "object" && B !== null) { switch (B.$$typeof) { case Xd: return B.key === T ? l(x, y, B, E) : null; case uc: return B.key === T ? c(x, y, B, E) : null; case ro: return T = B._init, g(x, y, T(B._payload), E) }if (ju(B) || cu(B)) return T !== null ? null : d(x, y, B, E, null); lh(x, B) } return null } function h(x, y, B, E, T) { if (typeof E == "string" && E !== "" || typeof E == "number") return x = x.get(B) || null, o(y, x, "" + E, T); if (typeof E == "object" && E !== null) { switch (E.$$typeof) { case Xd: return x = x.get(E.key === null ? B : E.key) || null, l(y, x, E, T); case uc: return x = x.get(E.key === null ? B : E.key) || null, c(y, x, E, T); case ro: var U = E._init; return h(x, y, B, U(E._payload), T) }if (ju(E) || cu(E)) return x = x.get(B) || null, d(y, x, E, T, null); lh(y, E) } return null } function b(x, y, B, E) { for (var T = null, U = null, M = y, G = y = 0, N = null; M !== null && G < B.length; G++) { M.index > G ? (N = M, M = null) : N = M.sibling; var H = g(x, M, B[G], E); if (H === null) { M === null && (M = N); break } t && M && H.alternate === null && e(x, M), y = a(H, y, G), U === null ? T = H : U.sibling = H, U = H, M = N } if (G === B.length) return r(x, M), ln && Jo(x, G), T; if (M === null) { for (; G < B.length; G++)M = p(x, B[G], E), M !== null && (y = a(M, y, G), U === null ? T = M : U.sibling = M, U = M); return ln && Jo(x, G), T } for (M = n(x, M); G < B.length; G++)N = h(M, x, G, B[G], E), N !== null && (t && N.alternate !== null && M.delete(N.key === null ? G : N.key), y = a(N, y, G), U === null ? T = N : U.sibling = N, U = N); return t && M.forEach(function (k) { return e(x, k) }), ln && Jo(x, G), T } function w(x, y, B, E) { var T = cu(B); if (typeof T != "function") throw Error(wt(150)); if (B = T.call(B), B == null) throw Error(wt(151)); for (var U = T = null, M = y, G = y = 0, N = null, H = B.next(); M !== null && !H.done; G++, H = B.next()) { M.index > G ? (N = M, M = null) : N = M.sibling; var k = g(x, M, H.value, E); if (k === null) { M === null && (M = N); break } t && M && k.alternate === null && e(x, M), y = a(k, y, G), U === null ? T = k : U.sibling = k, U = k, M = N } if (H.done) return r(x, M), ln && Jo(x, G), T; if (M === null) { for (; !H.done; G++, H = B.next())H = p(x, H.value, E), H !== null && (y = a(H, y, G), U === null ? T = H : U.sibling = H, U = H); return ln && Jo(x, G), T } for (M = n(x, M); !H.done; G++, H = B.next())H = h(M, x, G, H.value, E), H !== null && (t && H.alternate !== null && M.delete(H.key === null ? G : H.key), y = a(H, y, G), U === null ? T = H : U.sibling = H, U = H); return t && M.forEach(function (_) { return e(x, _) }), ln && Jo(x, G), T } function j(x, y, B, E) { if (typeof B == "object" && B !== null && B.type === dc && B.key === null && (B = B.props.children), typeof B == "object" && B !== null) { switch (B.$$typeof) { case Xd: e: { for (var T = B.key, U = y; U !== null;) { if (U.key === T) { if (T = B.type, T === dc) { if (U.tag === 7) { r(x, U.sibling), y = s(U, B.props.children), y.return = x, x = y; break e } } else if (U.elementType === T || typeof T == "object" && T !== null && T.$$typeof === ro && yv(T) === U.type) { r(x, U.sibling), y = s(U, B.props), y.ref = pu(x, U, B), y.return = x, x = y; break e } r(x, U); break } else e(x, U); U = U.sibling } B.type === dc ? (y = cl(B.props.children, x.mode, E, B.key), y.return = x, x = y) : (E = of(B.type, B.key, B.props, null, x.mode, E), E.ref = pu(x, y, B), E.return = x, x = E) } return A(x); case uc: e: { for (U = B.key; y !== null;) { if (y.key === U) if (y.tag === 4 && y.stateNode.containerInfo === B.containerInfo && y.stateNode.implementation === B.implementation) { r(x, y.sibling), y = s(y, B.children || []), y.return = x, x = y; break e } else { r(x, y); break } else e(x, y); y = y.sibling } y = bp(B, x.mode, E), y.return = x, x = y } return A(x); case ro: return U = B._init, j(x, y, U(B._payload), E) }if (ju(B)) return b(x, y, B, E); if (cu(B)) return w(x, y, B, E); lh(x, B) } return typeof B == "string" && B !== "" || typeof B == "number" ? (B = "" + B, y !== null && y.tag === 6 ? (r(x, y.sibling), y = s(y, B), y.return = x, x = y) : (r(x, y), y = yp(B, x.mode, E), y.return = x, x = y), A(x)) : r(x, y) } return j } var Hc = Mb(!0), $b = Mb(!1), Uf = ko(null), If = null, wc = null, Fx = null; function _x() { Fx = wc = If = null } function kx(t) { var e = Uf.current; nn(Uf), t._currentValue = e } function Yg(t, e, r) { for (; t !== null;) { var n = t.alternate; if ((t.childLanes & e) !== e ? (t.childLanes |= e, n !== null && (n.childLanes |= e)) : n !== null && (n.childLanes & e) !== e && (n.childLanes |= e), t === r) break; t = t.return } } function _c(t, e) { If = t, Fx = wc = null, t = t.dependencies, t !== null && t.firstContext !== null && (t.lanes & e && (Vs = !0), t.firstContext = null) } function Ri(t) { var e = t._currentValue; if (Fx !== t) if (t = { context: t, memoizedValue: e, next: null }, wc === null) { if (If === null) throw Error(wt(308)); wc = t, If.dependencies = { lanes: 0, firstContext: t } } else wc = wc.next = t; return e } var il = null; function Ux(t) { il === null ? il = [t] : il.push(t) } function Kb(t, e, r, n) { var s = e.interleaved; return s === null ? (r.next = r, Ux(e)) : (r.next = s.next, s.next = r), e.interleaved = r, yA(t, n) } function yA(t, e) { t.lanes |= e; var r = t.alternate; for (r !== null && (r.lanes |= e), r = t, t = t.return; t !== null;)t.childLanes |= e, r = t.alternate, r !== null && (r.childLanes |= e), r = t, t = t.return; return r.tag === 3 ? r.stateNode : null } var no = !1; function Ix(t) { t.updateQueue = { baseState: t.memoizedState, firstBaseUpdate: null, lastBaseUpdate: null, shared: { pending: null, interleaved: null, lanes: 0 }, effects: null } } function Gb(t, e) { t = t.updateQueue, e.updateQueue === t && (e.updateQueue = { baseState: t.baseState, firstBaseUpdate: t.firstBaseUpdate, lastBaseUpdate: t.lastBaseUpdate, shared: t.shared, effects: t.effects }) } function mA(t, e) { return { eventTime: t, lane: e, tag: 0, payload: null, callback: null, next: null } } function wo(t, e, r) { var n = t.updateQueue; if (n === null) return null; if (n = n.shared, Fr & 2) { var s = n.pending; return s === null ? e.next = e : (e.next = s.next, s.next = e), n.pending = e, yA(t, r) } return s = n.interleaved, s === null ? (e.next = e, Ux(n)) : (e.next = s.next, s.next = e), n.interleaved = e, yA(t, r) } function tf(t, e, r) { if (e = e.updateQueue, e !== null && (e = e.shared, (r & 4194240) !== 0)) { var n = e.lanes; n &= t.pendingLanes, r |= n, e.lanes = r, xx(t, r) } } function bv(t, e) { var r = t.updateQueue, n = t.alternate; if (n !== null && (n = n.updateQueue, r === n)) { var s = null, a = null; if (r = r.firstBaseUpdate, r !== null) { do { var A = { eventTime: r.eventTime, lane: r.lane, tag: r.tag, payload: r.payload, callback: r.callback, next: null }; a === null ? s = a = A : a = a.next = A, r = r.next } while (r !== null); a === null ? s = a = e : a = a.next = e } else s = a = e; r = { baseState: n.baseState, firstBaseUpdate: s, lastBaseUpdate: a, shared: n.shared, effects: n.effects }, t.updateQueue = r; return } t = r.lastBaseUpdate, t === null ? r.firstBaseUpdate = e : t.next = e, r.lastBaseUpdate = e } function Qf(t, e, r, n) { var s = t.updateQueue; no = !1; var a = s.firstBaseUpdate, A = s.lastBaseUpdate, o = s.shared.pending; if (o !== null) { s.shared.pending = null; var l = o, c = l.next; l.next = null, A === null ? a = c : A.next = c, A = l; var d = t.alternate; d !== null && (d = d.updateQueue, o = d.lastBaseUpdate, o !== A && (o === null ? d.firstBaseUpdate = c : o.next = c, d.lastBaseUpdate = l)) } if (a !== null) { var p = s.baseState; A = 0, d = c = l = null, o = a; do { var g = o.lane, h = o.eventTime; if ((n & g) === g) { d !== null && (d = d.next = { eventTime: h, lane: 0, tag: o.tag, payload: o.payload, callback: o.callback, next: null }); e: { var b = t, w = o; switch (g = e, h = r, w.tag) { case 1: if (b = w.payload, typeof b == "function") { p = b.call(h, p, g); break e } p = b; break e; case 3: b.flags = b.flags & -65537 | 128; case 0: if (b = w.payload, g = typeof b == "function" ? b.call(h, p, g) : b, g == null) break e; p = xn({}, p, g); break e; case 2: no = !0 } } o.callback !== null && o.lane !== 0 && (t.flags |= 64, g = s.effects, g === null ? s.effects = [o] : g.push(o)) } else h = { eventTime: h, lane: g, tag: o.tag, payload: o.payload, callback: o.callback, next: null }, d === null ? (c = d = h, l = p) : d = d.next = h, A |= g; if (o = o.next, o === null) { if (o = s.shared.pending, o === null) break; g = o, o = g.next, g.next = null, s.lastBaseUpdate = g, s.shared.pending = null } } while (!0); if (d === null && (l = p), s.baseState = l, s.firstBaseUpdate = c, s.lastBaseUpdate = d, e = s.shared.interleaved, e !== null) { s = e; do A |= s.lane, s = s.next; while (s !== e) } else a === null && (s.shared.lanes = 0); ml |= A, t.lanes = A, t.memoizedState = p } } function Bv(t, e, r) { if (t = e.effects, e.effects = null, t !== null) for (e = 0; e < t.length; e++) { var n = t[e], s = n.callback; if (s !== null) { if (n.callback = null, n = r, typeof s != "function") throw Error(wt(191, s)); s.call(n) } } } var Qd = {}, $a = ko(Qd), hd = ko(Qd), fd = ko(Qd); function al(t) { if (t === Qd) throw Error(wt(174)); return t } function Qx(t, e) { switch (Xr(fd, e), Xr(hd, t), Xr($a, Qd), t = e.nodeType, t) { case 9: case 11: e = (e = e.documentElement) ? e.namespaceURI : kg(null, ""); break; default: t = t === 8 ? e.parentNode : e, e = t.namespaceURI || null, t = t.tagName, e = kg(e, t) }nn($a), Xr($a, e) } function Mc() { nn($a), nn(hd), nn(fd) } function Vb(t) { al(fd.current); var e = al($a.current), r = kg(e, t.type); e !== r && (Xr(hd, t), Xr($a, r)) } function Tx(t) { hd.current === t && (nn($a), nn(hd)) } var gn = ko(0); function Tf(t) { for (var e = t; e !== null;) { if (e.tag === 13) { var r = e.memoizedState; if (r !== null && (r = r.dehydrated, r === null || r.data === "$?" || r.data === "$!")) return e } else if (e.tag === 19 && e.memoizedProps.revealOrder !== void 0) { if (e.flags & 128) return e } else if (e.child !== null) { e.child.return = e, e = e.child; continue } if (e === t) break; for (; e.sibling === null;) { if (e.return === null || e.return === t) return null; e = e.return } e.sibling.return = e.return, e = e.sibling } return null } var pp = []; function Lx() { for (var t = 0; t < pp.length; t++)pp[t]._workInProgressVersionPrimary = null; pp.length = 0 } var rf = CA.ReactCurrentDispatcher, gp = CA.ReactCurrentBatchConfig, gl = 0, mn = null, zn = null, Zn = null, Lf = !1, $u = !1, pd = 0, k3 = 0; function xs() { throw Error(wt(321)) } function Ox(t, e) { if (e === null) return !1; for (var r = 0; r < e.length && r < t.length; r++)if (!da(t[r], e[r])) return !1; return !0 } function Px(t, e, r, n, s, a) { if (gl = a, mn = e, e.memoizedState = null, e.updateQueue = null, e.lanes = 0, rf.current = t === null || t.memoizedState === null ? T3 : L3, t = r(n, s), $u) { a = 0; do { if ($u = !1, pd = 0, 25 <= a) throw Error(wt(301)); a += 1, Zn = zn = null, e.updateQueue = null, rf.current = O3, t = r(n, s) } while ($u) } if (rf.current = Of, e = zn !== null && zn.next !== null, gl = 0, Zn = zn = mn = null, Lf = !1, e) throw Error(wt(300)); return t } function Dx() { var t = pd !== 0; return pd = 0, t } function Da() { var t = { memoizedState: null, baseState: null, baseQueue: null, queue: null, next: null }; return Zn === null ? mn.memoizedState = Zn = t : Zn = Zn.next = t, Zn } function Hi() { if (zn === null) { var t = mn.alternate; t = t !== null ? t.memoizedState : null } else t = zn.next; var e = Zn === null ? mn.memoizedState : Zn.next; if (e !== null) Zn = e, zn = t; else { if (t === null) throw Error(wt(310)); zn = t, t = { memoizedState: zn.memoizedState, baseState: zn.baseState, baseQueue: zn.baseQueue, queue: zn.queue, next: null }, Zn === null ? mn.memoizedState = Zn = t : Zn = Zn.next = t } return Zn } function gd(t, e) { return typeof e == "function" ? e(t) : e } function mp(t) { var e = Hi(), r = e.queue; if (r === null) throw Error(wt(311)); r.lastRenderedReducer = t; var n = zn, s = n.baseQueue, a = r.pending; if (a !== null) { if (s !== null) { var A = s.next; s.next = a.next, a.next = A } n.baseQueue = s = a, r.pending = null } if (s !== null) { a = s.next, n = n.baseState; var o = A = null, l = null, c = a; do { var d = c.lane; if ((gl & d) === d) l !== null && (l = l.next = { lane: 0, action: c.action, hasEagerState: c.hasEagerState, eagerState: c.eagerState, next: null }), n = c.hasEagerState ? c.eagerState : t(n, c.action); else { var p = { lane: d, action: c.action, hasEagerState: c.hasEagerState, eagerState: c.eagerState, next: null }; l === null ? (o = l = p, A = n) : l = l.next = p, mn.lanes |= d, ml |= d } c = c.next } while (c !== null && c !== a); l === null ? A = n : l.next = o, da(n, e.memoizedState) || (Vs = !0), e.memoizedState = n, e.baseState = A, e.baseQueue = l, r.lastRenderedState = n } if (t = r.interleaved, t !== null) { s = t; do a = s.lane, mn.lanes |= a, ml |= a, s = s.next; while (s !== t) } else s === null && (r.lanes = 0); return [e.memoizedState, r.dispatch] } function xp(t) { var e = Hi(), r = e.queue; if (r === null) throw Error(wt(311)); r.lastRenderedReducer = t; var n = r.dispatch, s = r.pending, a = e.memoizedState; if (s !== null) { r.pending = null; var A = s = s.next; do a = t(a, A.action), A = A.next; while (A !== s); da(a, e.memoizedState) || (Vs = !0), e.memoizedState = a, e.baseQueue === null && (e.baseState = a), r.lastRenderedState = a } return [a, n] } function zb() { } function qb(t, e) { var r = mn, n = Hi(), s = e(), a = !da(n.memoizedState, s); if (a && (n.memoizedState = s, Vs = !0), n = n.queue, Rx(Yb.bind(null, r, n, t), [t]), n.getSnapshot !== e || a || Zn !== null && Zn.memoizedState.tag & 1) { if (r.flags |= 2048, md(9, Jb.bind(null, r, n, s, e), void 0, null), ts === null) throw Error(wt(349)); gl & 30 || Wb(r, e, s) } return s } function Wb(t, e, r) { t.flags |= 16384, t = { getSnapshot: e, value: r }, e = mn.updateQueue, e === null ? (e = { lastEffect: null, stores: null }, mn.updateQueue = e, e.stores = [t]) : (r = e.stores, r === null ? e.stores = [t] : r.push(t)) } function Jb(t, e, r, n) { e.value = r, e.getSnapshot = n, Xb(e) && Zb(t) } function Yb(t, e, r) { return r(function () { Xb(e) && Zb(t) }) } function Xb(t) { var e = t.getSnapshot; t = t.value; try { var r = e(); return !da(t, r) } catch { return !0 } } function Zb(t) { var e = yA(t, 1); e !== null && ua(e, t, 1, -1) } function Cv(t) { var e = Da(); return typeof t == "function" && (t = t()), e.memoizedState = e.baseState = t, t = { pending: null, interleaved: null, lanes: 0, dispatch: null, lastRenderedReducer: gd, lastRenderedState: t }, e.queue = t, t = t.dispatch = Q3.bind(null, mn, t), [e.memoizedState, t] } function md(t, e, r, n) { return t = { tag: t, create: e, destroy: r, deps: n, next: null }, e = mn.updateQueue, e === null ? (e = { lastEffect: null, stores: null }, mn.updateQueue = e, e.lastEffect = t.next = t) : (r = e.lastEffect, r === null ? e.lastEffect = t.next = t : (n = r.next, r.next = t, t.next = n, e.lastEffect = t)), t } function e5() { return Hi().memoizedState } function nf(t, e, r, n) { var s = Da(); mn.flags |= t, s.memoizedState = md(1 | e, r, void 0, n === void 0 ? null : n) } function f0(t, e, r, n) { var s = Hi(); n = n === void 0 ? null : n; var a = void 0; if (zn !== null) { var A = zn.memoizedState; if (a = A.destroy, n !== null && Ox(n, A.deps)) { s.memoizedState = md(e, r, a, n); return } } mn.flags |= t, s.memoizedState = md(1 | e, r, a, n) } function Nv(t, e) { return nf(8390656, 8, t, e) } function Rx(t, e) { return f0(2048, 8, t, e) } function t5(t, e) { return f0(4, 2, t, e) } function r5(t, e) { return f0(4, 4, t, e) } function n5(t, e) { if (typeof e == "function") return t = t(), e(t), function () { e(null) }; if (e != null) return t = t(), e.current = t, function () { e.current = null } } function s5(t, e, r) { return r = r != null ? r.concat([t]) : null, f0(4, 4, n5.bind(null, e, t), r) } function Hx() { } function i5(t, e) { var r = Hi(); e = e === void 0 ? null : e; var n = r.memoizedState; return n !== null && e !== null && Ox(e, n[1]) ? n[0] : (r.memoizedState = [t, e], t) } function a5(t, e) { var r = Hi(); e = e === void 0 ? null : e; var n = r.memoizedState; return n !== null && e !== null && Ox(e, n[1]) ? n[0] : (t = t(), r.memoizedState = [t, e], t) } function A5(t, e, r) { return gl & 21 ? (da(r, e) || (r = db(), mn.lanes |= r, ml |= r, t.baseState = !0), e) : (t.baseState && (t.baseState = !1, Vs = !0), t.memoizedState = r) } function U3(t, e) { var r = Dr; Dr = r !== 0 && 4 > r ? r : 4, t(!0); var n = gp.transition; gp.transition = {}; try { t(!1), e() } finally { Dr = r, gp.transition = n } } function o5() { return Hi().memoizedState } function I3(t, e, r) { var n = bo(t); if (r = { lane: n, action: r, hasEagerState: !1, eagerState: null, next: null }, l5(t)) c5(e, r); else if (r = Kb(t, e, r, n), r !== null) { var s = Qs(); ua(r, t, n, s), u5(r, e, n) } } function Q3(t, e, r) { var n = bo(t), s = { lane: n, action: r, hasEagerState: !1, eagerState: null, next: null }; if (l5(t)) c5(e, s); else { var a = t.alternate; if (t.lanes === 0 && (a === null || a.lanes === 0) && (a = e.lastRenderedReducer, a !== null)) try { var A = e.lastRenderedState, o = a(A, r); if (s.hasEagerState = !0, s.eagerState = o, da(o, A)) { var l = e.interleaved; l === null ? (s.next = s, Ux(e)) : (s.next = l.next, l.next = s), e.interleaved = s; return } } catch { } finally { } r = Kb(t, e, s, n), r !== null && (s = Qs(), ua(r, t, n, s), u5(r, e, n)) } } function l5(t) { var e = t.alternate; return t === mn || e !== null && e === mn } function c5(t, e) { $u = Lf = !0; var r = t.pending; r === null ? e.next = e : (e.next = r.next, r.next = e), t.pending = e } function u5(t, e, r) { if (r & 4194240) { var n = e.lanes; n &= t.pendingLanes, r |= n, e.lanes = r, xx(t, r) } } var Of = { readContext: Ri, useCallback: xs, useContext: xs, useEffect: xs, useImperativeHandle: xs, useInsertionEffect: xs, useLayoutEffect: xs, useMemo: xs, useReducer: xs, useRef: xs, useState: xs, useDebugValue: xs, useDeferredValue: xs, useTransition: xs, useMutableSource: xs, useSyncExternalStore: xs, useId: xs, unstable_isNewReconciler: !1 }, T3 = { readContext: Ri, useCallback: function (t, e) { return Da().memoizedState = [t, e === void 0 ? null : e], t }, useContext: Ri, useEffect: Nv, useImperativeHandle: function (t, e, r) { return r = r != null ? r.concat([t]) : null, nf(4194308, 4, n5.bind(null, e, t), r) }, useLayoutEffect: function (t, e) { return nf(4194308, 4, t, e) }, useInsertionEffect: function (t, e) { return nf(4, 2, t, e) }, useMemo: function (t, e) { var r = Da(); return e = e === void 0 ? null : e, t = t(), r.memoizedState = [t, e], t }, useReducer: function (t, e, r) { var n = Da(); return e = r !== void 0 ? r(e) : e, n.memoizedState = n.baseState = e, t = { pending: null, interleaved: null, lanes: 0, dispatch: null, lastRenderedReducer: t, lastRenderedState: e }, n.queue = t, t = t.dispatch = I3.bind(null, mn, t), [n.memoizedState, t] }, useRef: function (t) { var e = Da(); return t = { current: t }, e.memoizedState = t }, useState: Cv, useDebugValue: Hx, useDeferredValue: function (t) { return Da().memoizedState = t }, useTransition: function () { var t = Cv(!1), e = t[0]; return t = U3.bind(null, t[1]), Da().memoizedState = t, [e, t] }, useMutableSource: function () { }, useSyncExternalStore: function (t, e, r) { var n = mn, s = Da(); if (ln) { if (r === void 0) throw Error(wt(407)); r = r() } else { if (r = e(), ts === null) throw Error(wt(349)); gl & 30 || Wb(n, e, r) } s.memoizedState = r; var a = { value: r, getSnapshot: e }; return s.queue = a, Nv(Yb.bind(null, n, a, t), [t]), n.flags |= 2048, md(9, Jb.bind(null, n, a, r, e), void 0, null), r }, useId: function () { var t = Da(), e = ts.identifierPrefix; if (ln) { var r = gA, n = pA; r = (n & ~(1 << 32 - ca(n) - 1)).toString(32) + r, e = ":" + e + "R" + r, r = pd++, 0 < r && (e += "H" + r.toString(32)), e += ":" } else r = k3++, e = ":" + e + "r" + r.toString(32) + ":"; return t.memoizedState = e }, unstable_isNewReconciler: !1 }, L3 = { readContext: Ri, useCallback: i5, useContext: Ri, useEffect: Rx, useImperativeHandle: s5, useInsertionEffect: t5, useLayoutEffect: r5, useMemo: a5, useReducer: mp, useRef: e5, useState: function () { return mp(gd) }, useDebugValue: Hx, useDeferredValue: function (t) { var e = Hi(); return A5(e, zn.memoizedState, t) }, useTransition: function () { var t = mp(gd)[0], e = Hi().memoizedState; return [t, e] }, useMutableSource: zb, useSyncExternalStore: qb, useId: o5, unstable_isNewReconciler: !1 }, O3 = { readContext: Ri, useCallback: i5, useContext: Ri, useEffect: Rx, useImperativeHandle: s5, useInsertionEffect: t5, useLayoutEffect: r5, useMemo: a5, useReducer: xp, useRef: e5, useState: function () { return xp(gd) }, useDebugValue: Hx, useDeferredValue: function (t) { var e = Hi(); return zn === null ? e.memoizedState = t : A5(e, zn.memoizedState, t) }, useTransition: function () { var t = xp(gd)[0], e = Hi().memoizedState; return [t, e] }, useMutableSource: zb, useSyncExternalStore: qb, useId: o5, unstable_isNewReconciler: !1 }; function ia(t, e) { if (t && t.defaultProps) { e = xn({}, e), t = t.defaultProps; for (var r in t) e[r] === void 0 && (e[r] = t[r]); return e } return e } function Xg(t, e, r, n) { e = t.memoizedState, r = r(n, e), r = r == null ? e : xn({}, e, r), t.memoizedState = r, t.lanes === 0 && (t.updateQueue.baseState = r) } var p0 = { isMounted: function (t) { return (t = t._reactInternals) ? bl(t) === t : !1 }, enqueueSetState: function (t, e, r) { t = t._reactInternals; var n = Qs(), s = bo(t), a = mA(n, s); a.payload = e, r != null && (a.callback = r), e = wo(t, a, s), e !== null && (ua(e, t, s, n), tf(e, t, s)) }, enqueueReplaceState: function (t, e, r) { t = t._reactInternals; var n = Qs(), s = bo(t), a = mA(n, s); a.tag = 1, a.payload = e, r != null && (a.callback = r), e = wo(t, a, s), e !== null && (ua(e, t, s, n), tf(e, t, s)) }, enqueueForceUpdate: function (t, e) { t = t._reactInternals; var r = Qs(), n = bo(t), s = mA(r, n); s.tag = 2, e != null && (s.callback = e), e = wo(t, s, n), e !== null && (ua(e, t, n, r), tf(e, t, n)) } }; function Sv(t, e, r, n, s, a, A) { return t = t.stateNode, typeof t.shouldComponentUpdate == "function" ? t.shouldComponentUpdate(n, a, A) : e.prototype && e.prototype.isPureReactComponent ? !ld(r, n) || !ld(s, a) : !0 } function d5(t, e, r) { var n = !1, s = jo, a = e.contextType; return typeof a == "object" && a !== null ? a = Ri(a) : (s = qs(e) ? fl : js.current, n = e.contextTypes, a = (n = n != null) ? Dc(t, s) : jo), e = new e(r, a), t.memoizedState = e.state !== null && e.state !== void 0 ? e.state : null, e.updater = p0, t.stateNode = e, e._reactInternals = t, n && (t = t.stateNode, t.__reactInternalMemoizedUnmaskedChildContext = s, t.__reactInternalMemoizedMaskedChildContext = a), e } function jv(t, e, r, n) { t = e.state, typeof e.componentWillReceiveProps == "function" && e.componentWillReceiveProps(r, n), typeof e.UNSAFE_componentWillReceiveProps == "function" && e.UNSAFE_componentWillReceiveProps(r, n), e.state !== t && p0.enqueueReplaceState(e, e.state, null) } function Zg(t, e, r, n) { var s = t.stateNode; s.props = r, s.state = t.memoizedState, s.refs = {}, Ix(t); var a = e.contextType; typeof a == "object" && a !== null ? s.context = Ri(a) : (a = qs(e) ? fl : js.current, s.context = Dc(t, a)), s.state = t.memoizedState, a = e.getDerivedStateFromProps, typeof a == "function" && (Xg(t, e, a, r), s.state = t.memoizedState), typeof e.getDerivedStateFromProps == "function" || typeof s.getSnapshotBeforeUpdate == "function" || typeof s.UNSAFE_componentWillMount != "function" && typeof s.componentWillMount != "function" || (e = s.state, typeof s.componentWillMount == "function" && s.componentWillMount(), typeof s.UNSAFE_componentWillMount == "function" && s.UNSAFE_componentWillMount(), e !== s.state && p0.enqueueReplaceState(s, s.state, null), Qf(t, r, s, n), s.state = t.memoizedState), typeof s.componentDidMount == "function" && (t.flags |= 4194308) } function $c(t, e) {
  try { var r = "", n = e; do r += uN(n), n = n.return; while (n); var s = r } catch (a) {
    s = `
Error generating stack: `+ a.message + `
`+ a.stack
  } return { value: t, source: e, stack: s, digest: null }
} function vp(t, e, r) { return { value: t, source: null, stack: r ?? null, digest: e ?? null } } function em(t, e) { try { console.error(e.value) } catch (r) { setTimeout(function () { throw r }) } } var P3 = typeof WeakMap == "function" ? WeakMap : Map; function h5(t, e, r) { r = mA(-1, r), r.tag = 3, r.payload = { element: null }; var n = e.value; return r.callback = function () { Df || (Df = !0, cm = n), em(t, e) }, r } function f5(t, e, r) { r = mA(-1, r), r.tag = 3; var n = t.type.getDerivedStateFromError; if (typeof n == "function") { var s = e.value; r.payload = function () { return n(s) }, r.callback = function () { em(t, e) } } var a = t.stateNode; return a !== null && typeof a.componentDidCatch == "function" && (r.callback = function () { em(t, e), typeof n != "function" && (yo === null ? yo = new Set([this]) : yo.add(this)); var A = e.stack; this.componentDidCatch(e.value, { componentStack: A !== null ? A : "" }) }), r } function Ev(t, e, r) { var n = t.pingCache; if (n === null) { n = t.pingCache = new P3; var s = new Set; n.set(e, s) } else s = n.get(e), s === void 0 && (s = new Set, n.set(e, s)); s.has(r) || (s.add(r), t = X3.bind(null, t, e, r), e.then(t, t)) } function Fv(t) { do { var e; if ((e = t.tag === 13) && (e = t.memoizedState, e = e !== null ? e.dehydrated !== null : !0), e) return t; t = t.return } while (t !== null); return null } function _v(t, e, r, n, s) { return t.mode & 1 ? (t.flags |= 65536, t.lanes = s, t) : (t === e ? t.flags |= 65536 : (t.flags |= 128, r.flags |= 131072, r.flags &= -52805, r.tag === 1 && (r.alternate === null ? r.tag = 17 : (e = mA(-1, 1), e.tag = 2, wo(r, e, 1))), r.lanes |= 1), t) } var D3 = CA.ReactCurrentOwner, Vs = !1; function Is(t, e, r, n) { e.child = t === null ? $b(e, null, r, n) : Hc(e, t.child, r, n) } function kv(t, e, r, n, s) { r = r.render; var a = e.ref; return _c(e, s), n = Px(t, e, r, n, a, s), r = Dx(), t !== null && !Vs ? (e.updateQueue = t.updateQueue, e.flags &= -2053, t.lanes &= ~s, bA(t, e, s)) : (ln && r && Sx(e), e.flags |= 1, Is(t, e, n, s), e.child) } function Uv(t, e, r, n, s) { if (t === null) { var a = r.type; return typeof a == "function" && !Wx(a) && a.defaultProps === void 0 && r.compare === null && r.defaultProps === void 0 ? (e.tag = 15, e.type = a, p5(t, e, a, n, s)) : (t = of(r.type, null, n, e, e.mode, s), t.ref = e.ref, t.return = e, e.child = t) } if (a = t.child, !(t.lanes & s)) { var A = a.memoizedProps; if (r = r.compare, r = r !== null ? r : ld, r(A, n) && t.ref === e.ref) return bA(t, e, s) } return e.flags |= 1, t = Bo(a, n), t.ref = e.ref, t.return = e, e.child = t } function p5(t, e, r, n, s) { if (t !== null) { var a = t.memoizedProps; if (ld(a, n) && t.ref === e.ref) if (Vs = !1, e.pendingProps = n = a, (t.lanes & s) !== 0) t.flags & 131072 && (Vs = !0); else return e.lanes = t.lanes, bA(t, e, s) } return tm(t, e, r, n, s) } function g5(t, e, r) { var n = e.pendingProps, s = n.children, a = t !== null ? t.memoizedState : null; if (n.mode === "hidden") if (!(e.mode & 1)) e.memoizedState = { baseLanes: 0, cachePool: null, transitions: null }, Xr(bc, oi), oi |= r; else { if (!(r & 1073741824)) return t = a !== null ? a.baseLanes | r : r, e.lanes = e.childLanes = 1073741824, e.memoizedState = { baseLanes: t, cachePool: null, transitions: null }, e.updateQueue = null, Xr(bc, oi), oi |= t, null; e.memoizedState = { baseLanes: 0, cachePool: null, transitions: null }, n = a !== null ? a.baseLanes : r, Xr(bc, oi), oi |= n } else a !== null ? (n = a.baseLanes | r, e.memoizedState = null) : n = r, Xr(bc, oi), oi |= n; return Is(t, e, s, r), e.child } function m5(t, e) { var r = e.ref; (t === null && r !== null || t !== null && t.ref !== r) && (e.flags |= 512, e.flags |= 2097152) } function tm(t, e, r, n, s) { var a = qs(r) ? fl : js.current; return a = Dc(e, a), _c(e, s), r = Px(t, e, r, n, a, s), n = Dx(), t !== null && !Vs ? (e.updateQueue = t.updateQueue, e.flags &= -2053, t.lanes &= ~s, bA(t, e, s)) : (ln && n && Sx(e), e.flags |= 1, Is(t, e, r, s), e.child) } function Iv(t, e, r, n, s) { if (qs(r)) { var a = !0; Ff(e) } else a = !1; if (_c(e, s), e.stateNode === null) sf(t, e), d5(e, r, n), Zg(e, r, n, s), n = !0; else if (t === null) { var A = e.stateNode, o = e.memoizedProps; A.props = o; var l = A.context, c = r.contextType; typeof c == "object" && c !== null ? c = Ri(c) : (c = qs(r) ? fl : js.current, c = Dc(e, c)); var d = r.getDerivedStateFromProps, p = typeof d == "function" || typeof A.getSnapshotBeforeUpdate == "function"; p || typeof A.UNSAFE_componentWillReceiveProps != "function" && typeof A.componentWillReceiveProps != "function" || (o !== n || l !== c) && jv(e, A, n, c), no = !1; var g = e.memoizedState; A.state = g, Qf(e, n, A, s), l = e.memoizedState, o !== n || g !== l || zs.current || no ? (typeof d == "function" && (Xg(e, r, d, n), l = e.memoizedState), (o = no || Sv(e, r, o, n, g, l, c)) ? (p || typeof A.UNSAFE_componentWillMount != "function" && typeof A.componentWillMount != "function" || (typeof A.componentWillMount == "function" && A.componentWillMount(), typeof A.UNSAFE_componentWillMount == "function" && A.UNSAFE_componentWillMount()), typeof A.componentDidMount == "function" && (e.flags |= 4194308)) : (typeof A.componentDidMount == "function" && (e.flags |= 4194308), e.memoizedProps = n, e.memoizedState = l), A.props = n, A.state = l, A.context = c, n = o) : (typeof A.componentDidMount == "function" && (e.flags |= 4194308), n = !1) } else { A = e.stateNode, Gb(t, e), o = e.memoizedProps, c = e.type === e.elementType ? o : ia(e.type, o), A.props = c, p = e.pendingProps, g = A.context, l = r.contextType, typeof l == "object" && l !== null ? l = Ri(l) : (l = qs(r) ? fl : js.current, l = Dc(e, l)); var h = r.getDerivedStateFromProps; (d = typeof h == "function" || typeof A.getSnapshotBeforeUpdate == "function") || typeof A.UNSAFE_componentWillReceiveProps != "function" && typeof A.componentWillReceiveProps != "function" || (o !== p || g !== l) && jv(e, A, n, l), no = !1, g = e.memoizedState, A.state = g, Qf(e, n, A, s); var b = e.memoizedState; o !== p || g !== b || zs.current || no ? (typeof h == "function" && (Xg(e, r, h, n), b = e.memoizedState), (c = no || Sv(e, r, c, n, g, b, l) || !1) ? (d || typeof A.UNSAFE_componentWillUpdate != "function" && typeof A.componentWillUpdate != "function" || (typeof A.componentWillUpdate == "function" && A.componentWillUpdate(n, b, l), typeof A.UNSAFE_componentWillUpdate == "function" && A.UNSAFE_componentWillUpdate(n, b, l)), typeof A.componentDidUpdate == "function" && (e.flags |= 4), typeof A.getSnapshotBeforeUpdate == "function" && (e.flags |= 1024)) : (typeof A.componentDidUpdate != "function" || o === t.memoizedProps && g === t.memoizedState || (e.flags |= 4), typeof A.getSnapshotBeforeUpdate != "function" || o === t.memoizedProps && g === t.memoizedState || (e.flags |= 1024), e.memoizedProps = n, e.memoizedState = b), A.props = n, A.state = b, A.context = l, n = c) : (typeof A.componentDidUpdate != "function" || o === t.memoizedProps && g === t.memoizedState || (e.flags |= 4), typeof A.getSnapshotBeforeUpdate != "function" || o === t.memoizedProps && g === t.memoizedState || (e.flags |= 1024), n = !1) } return rm(t, e, r, n, a, s) } function rm(t, e, r, n, s, a) { m5(t, e); var A = (e.flags & 128) !== 0; if (!n && !A) return s && xv(e, r, !1), bA(t, e, a); n = e.stateNode, D3.current = e; var o = A && typeof r.getDerivedStateFromError != "function" ? null : n.render(); return e.flags |= 1, t !== null && A ? (e.child = Hc(e, t.child, null, a), e.child = Hc(e, null, o, a)) : Is(t, e, o, a), e.memoizedState = n.state, s && xv(e, r, !0), e.child } function x5(t) { var e = t.stateNode; e.pendingContext ? mv(t, e.pendingContext, e.pendingContext !== e.context) : e.context && mv(t, e.context, !1), Qx(t, e.containerInfo) } function Qv(t, e, r, n, s) { return Rc(), Ex(s), e.flags |= 256, Is(t, e, r, n), e.child } var nm = { dehydrated: null, treeContext: null, retryLane: 0 }; function sm(t) { return { baseLanes: t, cachePool: null, transitions: null } } function v5(t, e, r) { var n = e.pendingProps, s = gn.current, a = !1, A = (e.flags & 128) !== 0, o; if ((o = A) || (o = t !== null && t.memoizedState === null ? !1 : (s & 2) !== 0), o ? (a = !0, e.flags &= -129) : (t === null || t.memoizedState !== null) && (s |= 1), Xr(gn, s & 1), t === null) return Jg(e), t = e.memoizedState, t !== null && (t = t.dehydrated, t !== null) ? (e.mode & 1 ? t.data === "$!" ? e.lanes = 8 : e.lanes = 1073741824 : e.lanes = 1, null) : (A = n.children, t = n.fallback, a ? (n = e.mode, a = e.child, A = { mode: "hidden", children: A }, !(n & 1) && a !== null ? (a.childLanes = 0, a.pendingProps = A) : a = x0(A, n, 0, null), t = cl(t, n, r, null), a.return = e, t.return = e, a.sibling = t, e.child = a, e.child.memoizedState = sm(r), e.memoizedState = nm, t) : Mx(e, A)); if (s = t.memoizedState, s !== null && (o = s.dehydrated, o !== null)) return R3(t, e, A, n, o, s, r); if (a) { a = n.fallback, A = e.mode, s = t.child, o = s.sibling; var l = { mode: "hidden", children: n.children }; return !(A & 1) && e.child !== s ? (n = e.child, n.childLanes = 0, n.pendingProps = l, e.deletions = null) : (n = Bo(s, l), n.subtreeFlags = s.subtreeFlags & 14680064), o !== null ? a = Bo(o, a) : (a = cl(a, A, r, null), a.flags |= 2), a.return = e, n.return = e, n.sibling = a, e.child = n, n = a, a = e.child, A = t.child.memoizedState, A = A === null ? sm(r) : { baseLanes: A.baseLanes | r, cachePool: null, transitions: A.transitions }, a.memoizedState = A, a.childLanes = t.childLanes & ~r, e.memoizedState = nm, n } return a = t.child, t = a.sibling, n = Bo(a, { mode: "visible", children: n.children }), !(e.mode & 1) && (n.lanes = r), n.return = e, n.sibling = null, t !== null && (r = e.deletions, r === null ? (e.deletions = [t], e.flags |= 16) : r.push(t)), e.child = n, e.memoizedState = null, n } function Mx(t, e) { return e = x0({ mode: "visible", children: e }, t.mode, 0, null), e.return = t, t.child = e } function ch(t, e, r, n) { return n !== null && Ex(n), Hc(e, t.child, null, r), t = Mx(e, e.pendingProps.children), t.flags |= 2, e.memoizedState = null, t } function R3(t, e, r, n, s, a, A) { if (r) return e.flags & 256 ? (e.flags &= -257, n = vp(Error(wt(422))), ch(t, e, A, n)) : e.memoizedState !== null ? (e.child = t.child, e.flags |= 128, null) : (a = n.fallback, s = e.mode, n = x0({ mode: "visible", children: n.children }, s, 0, null), a = cl(a, s, A, null), a.flags |= 2, n.return = e, a.return = e, n.sibling = a, e.child = n, e.mode & 1 && Hc(e, t.child, null, A), e.child.memoizedState = sm(A), e.memoizedState = nm, a); if (!(e.mode & 1)) return ch(t, e, A, null); if (s.data === "$!") { if (n = s.nextSibling && s.nextSibling.dataset, n) var o = n.dgst; return n = o, a = Error(wt(419)), n = vp(a, n, void 0), ch(t, e, A, n) } if (o = (A & t.childLanes) !== 0, Vs || o) { if (n = ts, n !== null) { switch (A & -A) { case 4: s = 2; break; case 16: s = 8; break; case 64: case 128: case 256: case 512: case 1024: case 2048: case 4096: case 8192: case 16384: case 32768: case 65536: case 131072: case 262144: case 524288: case 1048576: case 2097152: case 4194304: case 8388608: case 16777216: case 33554432: case 67108864: s = 32; break; case 536870912: s = 268435456; break; default: s = 0 }s = s & (n.suspendedLanes | A) ? 0 : s, s !== 0 && s !== a.retryLane && (a.retryLane = s, yA(t, s), ua(n, t, s, -1)) } return qx(), n = vp(Error(wt(421))), ch(t, e, A, n) } return s.data === "$?" ? (e.flags |= 128, e.child = t.child, e = Z3.bind(null, t), s._reactRetry = e, null) : (t = a.treeContext, ui = vo(s.nextSibling), hi = e, ln = !0, la = null, t !== null && (Ii[Qi++] = pA, Ii[Qi++] = gA, Ii[Qi++] = pl, pA = t.id, gA = t.overflow, pl = e), e = Mx(e, n.children), e.flags |= 4096, e) } function Tv(t, e, r) { t.lanes |= e; var n = t.alternate; n !== null && (n.lanes |= e), Yg(t.return, e, r) } function wp(t, e, r, n, s) { var a = t.memoizedState; a === null ? t.memoizedState = { isBackwards: e, rendering: null, renderingStartTime: 0, last: n, tail: r, tailMode: s } : (a.isBackwards = e, a.rendering = null, a.renderingStartTime = 0, a.last = n, a.tail = r, a.tailMode = s) } function w5(t, e, r) { var n = e.pendingProps, s = n.revealOrder, a = n.tail; if (Is(t, e, n.children, r), n = gn.current, n & 2) n = n & 1 | 2, e.flags |= 128; else { if (t !== null && t.flags & 128) e: for (t = e.child; t !== null;) { if (t.tag === 13) t.memoizedState !== null && Tv(t, r, e); else if (t.tag === 19) Tv(t, r, e); else if (t.child !== null) { t.child.return = t, t = t.child; continue } if (t === e) break e; for (; t.sibling === null;) { if (t.return === null || t.return === e) break e; t = t.return } t.sibling.return = t.return, t = t.sibling } n &= 1 } if (Xr(gn, n), !(e.mode & 1)) e.memoizedState = null; else switch (s) { case "forwards": for (r = e.child, s = null; r !== null;)t = r.alternate, t !== null && Tf(t) === null && (s = r), r = r.sibling; r = s, r === null ? (s = e.child, e.child = null) : (s = r.sibling, r.sibling = null), wp(e, !1, s, r, a); break; case "backwards": for (r = null, s = e.child, e.child = null; s !== null;) { if (t = s.alternate, t !== null && Tf(t) === null) { e.child = s; break } t = s.sibling, s.sibling = r, r = s, s = t } wp(e, !0, r, null, a); break; case "together": wp(e, !1, null, null, void 0); break; default: e.memoizedState = null }return e.child } function sf(t, e) { !(e.mode & 1) && t !== null && (t.alternate = null, e.alternate = null, e.flags |= 2) } function bA(t, e, r) { if (t !== null && (e.dependencies = t.dependencies), ml |= e.lanes, !(r & e.childLanes)) return null; if (t !== null && e.child !== t.child) throw Error(wt(153)); if (e.child !== null) { for (t = e.child, r = Bo(t, t.pendingProps), e.child = r, r.return = e; t.sibling !== null;)t = t.sibling, r = r.sibling = Bo(t, t.pendingProps), r.return = e; r.sibling = null } return e.child } function H3(t, e, r) { switch (e.tag) { case 3: x5(e), Rc(); break; case 5: Vb(e); break; case 1: qs(e.type) && Ff(e); break; case 4: Qx(e, e.stateNode.containerInfo); break; case 10: var n = e.type._context, s = e.memoizedProps.value; Xr(Uf, n._currentValue), n._currentValue = s; break; case 13: if (n = e.memoizedState, n !== null) return n.dehydrated !== null ? (Xr(gn, gn.current & 1), e.flags |= 128, null) : r & e.child.childLanes ? v5(t, e, r) : (Xr(gn, gn.current & 1), t = bA(t, e, r), t !== null ? t.sibling : null); Xr(gn, gn.current & 1); break; case 19: if (n = (r & e.childLanes) !== 0, t.flags & 128) { if (n) return w5(t, e, r); e.flags |= 128 } if (s = e.memoizedState, s !== null && (s.rendering = null, s.tail = null, s.lastEffect = null), Xr(gn, gn.current), n) break; return null; case 22: case 23: return e.lanes = 0, g5(t, e, r) }return bA(t, e, r) } var y5, im, b5, B5; y5 = function (t, e) { for (var r = e.child; r !== null;) { if (r.tag === 5 || r.tag === 6) t.appendChild(r.stateNode); else if (r.tag !== 4 && r.child !== null) { r.child.return = r, r = r.child; continue } if (r === e) break; for (; r.sibling === null;) { if (r.return === null || r.return === e) return; r = r.return } r.sibling.return = r.return, r = r.sibling } }; im = function () { }; b5 = function (t, e, r, n) { var s = t.memoizedProps; if (s !== n) { t = e.stateNode, al($a.current); var a = null; switch (r) { case "input": s = jg(t, s), n = jg(t, n), a = []; break; case "select": s = xn({}, s, { value: void 0 }), n = xn({}, n, { value: void 0 }), a = []; break; case "textarea": s = _g(t, s), n = _g(t, n), a = []; break; default: typeof s.onClick != "function" && typeof n.onClick == "function" && (t.onclick = jf) }Ug(r, n); var A; r = null; for (c in s) if (!n.hasOwnProperty(c) && s.hasOwnProperty(c) && s[c] != null) if (c === "style") { var o = s[c]; for (A in o) o.hasOwnProperty(A) && (r || (r = {}), r[A] = "") } else c !== "dangerouslySetInnerHTML" && c !== "children" && c !== "suppressContentEditableWarning" && c !== "suppressHydrationWarning" && c !== "autoFocus" && (rd.hasOwnProperty(c) ? a || (a = []) : (a = a || []).push(c, null)); for (c in n) { var l = n[c]; if (o = s != null ? s[c] : void 0, n.hasOwnProperty(c) && l !== o && (l != null || o != null)) if (c === "style") if (o) { for (A in o) !o.hasOwnProperty(A) || l && l.hasOwnProperty(A) || (r || (r = {}), r[A] = ""); for (A in l) l.hasOwnProperty(A) && o[A] !== l[A] && (r || (r = {}), r[A] = l[A]) } else r || (a || (a = []), a.push(c, r)), r = l; else c === "dangerouslySetInnerHTML" ? (l = l ? l.__html : void 0, o = o ? o.__html : void 0, l != null && o !== l && (a = a || []).push(c, l)) : c === "children" ? typeof l != "string" && typeof l != "number" || (a = a || []).push(c, "" + l) : c !== "suppressContentEditableWarning" && c !== "suppressHydrationWarning" && (rd.hasOwnProperty(c) ? (l != null && c === "onScroll" && tn("scroll", t), a || o === l || (a = [])) : (a = a || []).push(c, l)) } r && (a = a || []).push("style", r); var c = a; (e.updateQueue = c) && (e.flags |= 4) } }; B5 = function (t, e, r, n) { r !== n && (e.flags |= 4) }; function gu(t, e) { if (!ln) switch (t.tailMode) { case "hidden": e = t.tail; for (var r = null; e !== null;)e.alternate !== null && (r = e), e = e.sibling; r === null ? t.tail = null : r.sibling = null; break; case "collapsed": r = t.tail; for (var n = null; r !== null;)r.alternate !== null && (n = r), r = r.sibling; n === null ? e || t.tail === null ? t.tail = null : t.tail.sibling = null : n.sibling = null } } function vs(t) { var e = t.alternate !== null && t.alternate.child === t.child, r = 0, n = 0; if (e) for (var s = t.child; s !== null;)r |= s.lanes | s.childLanes, n |= s.subtreeFlags & 14680064, n |= s.flags & 14680064, s.return = t, s = s.sibling; else for (s = t.child; s !== null;)r |= s.lanes | s.childLanes, n |= s.subtreeFlags, n |= s.flags, s.return = t, s = s.sibling; return t.subtreeFlags |= n, t.childLanes = r, e } function M3(t, e, r) { var n = e.pendingProps; switch (jx(e), e.tag) { case 2: case 16: case 15: case 0: case 11: case 7: case 8: case 12: case 9: case 14: return vs(e), null; case 1: return qs(e.type) && Ef(), vs(e), null; case 3: return n = e.stateNode, Mc(), nn(zs), nn(js), Lx(), n.pendingContext && (n.context = n.pendingContext, n.pendingContext = null), (t === null || t.child === null) && (oh(e) ? e.flags |= 4 : t === null || t.memoizedState.isDehydrated && !(e.flags & 256) || (e.flags |= 1024, la !== null && (hm(la), la = null))), im(t, e), vs(e), null; case 5: Tx(e); var s = al(fd.current); if (r = e.type, t !== null && e.stateNode != null) b5(t, e, r, n, s), t.ref !== e.ref && (e.flags |= 512, e.flags |= 2097152); else { if (!n) { if (e.stateNode === null) throw Error(wt(166)); return vs(e), null } if (t = al($a.current), oh(e)) { n = e.stateNode, r = e.type; var a = e.memoizedProps; switch (n[Ra] = e, n[dd] = a, t = (e.mode & 1) !== 0, r) { case "dialog": tn("cancel", n), tn("close", n); break; case "iframe": case "object": case "embed": tn("load", n); break; case "video": case "audio": for (s = 0; s < Fu.length; s++)tn(Fu[s], n); break; case "source": tn("error", n); break; case "img": case "image": case "link": tn("error", n), tn("load", n); break; case "details": tn("toggle", n); break; case "input": K1(n, a), tn("invalid", n); break; case "select": n._wrapperState = { wasMultiple: !!a.multiple }, tn("invalid", n); break; case "textarea": V1(n, a), tn("invalid", n) }Ug(r, a), s = null; for (var A in a) if (a.hasOwnProperty(A)) { var o = a[A]; A === "children" ? typeof o == "string" ? n.textContent !== o && (a.suppressHydrationWarning !== !0 && Ah(n.textContent, o, t), s = ["children", o]) : typeof o == "number" && n.textContent !== "" + o && (a.suppressHydrationWarning !== !0 && Ah(n.textContent, o, t), s = ["children", "" + o]) : rd.hasOwnProperty(A) && o != null && A === "onScroll" && tn("scroll", n) } switch (r) { case "input": Zd(n), G1(n, a, !0); break; case "textarea": Zd(n), z1(n); break; case "select": case "option": break; default: typeof a.onClick == "function" && (n.onclick = jf) }n = s, e.updateQueue = n, n !== null && (e.flags |= 4) } else { A = s.nodeType === 9 ? s : s.ownerDocument, t === "http://www.w3.org/1999/xhtml" && (t = Y2(r)), t === "http://www.w3.org/1999/xhtml" ? r === "script" ? (t = A.createElement("div"), t.innerHTML = "<script><\/script>", t = t.removeChild(t.firstChild)) : typeof n.is == "string" ? t = A.createElement(r, { is: n.is }) : (t = A.createElement(r), r === "select" && (A = t, n.multiple ? A.multiple = !0 : n.size && (A.size = n.size))) : t = A.createElementNS(t, r), t[Ra] = e, t[dd] = n, y5(t, e, !1, !1), e.stateNode = t; e: { switch (A = Ig(r, n), r) { case "dialog": tn("cancel", t), tn("close", t), s = n; break; case "iframe": case "object": case "embed": tn("load", t), s = n; break; case "video": case "audio": for (s = 0; s < Fu.length; s++)tn(Fu[s], t); s = n; break; case "source": tn("error", t), s = n; break; case "img": case "image": case "link": tn("error", t), tn("load", t), s = n; break; case "details": tn("toggle", t), s = n; break; case "input": K1(t, n), s = jg(t, n), tn("invalid", t); break; case "option": s = n; break; case "select": t._wrapperState = { wasMultiple: !!n.multiple }, s = xn({}, n, { value: void 0 }), tn("invalid", t); break; case "textarea": V1(t, n), s = _g(t, n), tn("invalid", t); break; default: s = n }Ug(r, s), o = s; for (a in o) if (o.hasOwnProperty(a)) { var l = o[a]; a === "style" ? eb(t, l) : a === "dangerouslySetInnerHTML" ? (l = l ? l.__html : void 0, l != null && X2(t, l)) : a === "children" ? typeof l == "string" ? (r !== "textarea" || l !== "") && nd(t, l) : typeof l == "number" && nd(t, "" + l) : a !== "suppressContentEditableWarning" && a !== "suppressHydrationWarning" && a !== "autoFocus" && (rd.hasOwnProperty(a) ? l != null && a === "onScroll" && tn("scroll", t) : l != null && dx(t, a, l, A)) } switch (r) { case "input": Zd(t), G1(t, n, !1); break; case "textarea": Zd(t), z1(t); break; case "option": n.value != null && t.setAttribute("value", "" + So(n.value)); break; case "select": t.multiple = !!n.multiple, a = n.value, a != null ? Sc(t, !!n.multiple, a, !1) : n.defaultValue != null && Sc(t, !!n.multiple, n.defaultValue, !0); break; default: typeof s.onClick == "function" && (t.onclick = jf) }switch (r) { case "button": case "input": case "select": case "textarea": n = !!n.autoFocus; break e; case "img": n = !0; break e; default: n = !1 } } n && (e.flags |= 4) } e.ref !== null && (e.flags |= 512, e.flags |= 2097152) } return vs(e), null; case 6: if (t && e.stateNode != null) B5(t, e, t.memoizedProps, n); else { if (typeof n != "string" && e.stateNode === null) throw Error(wt(166)); if (r = al(fd.current), al($a.current), oh(e)) { if (n = e.stateNode, r = e.memoizedProps, n[Ra] = e, (a = n.nodeValue !== r) && (t = hi, t !== null)) switch (t.tag) { case 3: Ah(n.nodeValue, r, (t.mode & 1) !== 0); break; case 5: t.memoizedProps.suppressHydrationWarning !== !0 && Ah(n.nodeValue, r, (t.mode & 1) !== 0) }a && (e.flags |= 4) } else n = (r.nodeType === 9 ? r : r.ownerDocument).createTextNode(n), n[Ra] = e, e.stateNode = n } return vs(e), null; case 13: if (nn(gn), n = e.memoizedState, t === null || t.memoizedState !== null && t.memoizedState.dehydrated !== null) { if (ln && ui !== null && e.mode & 1 && !(e.flags & 128)) Hb(), Rc(), e.flags |= 98560, a = !1; else if (a = oh(e), n !== null && n.dehydrated !== null) { if (t === null) { if (!a) throw Error(wt(318)); if (a = e.memoizedState, a = a !== null ? a.dehydrated : null, !a) throw Error(wt(317)); a[Ra] = e } else Rc(), !(e.flags & 128) && (e.memoizedState = null), e.flags |= 4; vs(e), a = !1 } else la !== null && (hm(la), la = null), a = !0; if (!a) return e.flags & 65536 ? e : null } return e.flags & 128 ? (e.lanes = r, e) : (n = n !== null, n !== (t !== null && t.memoizedState !== null) && n && (e.child.flags |= 8192, e.mode & 1 && (t === null || gn.current & 1 ? Wn === 0 && (Wn = 3) : qx())), e.updateQueue !== null && (e.flags |= 4), vs(e), null); case 4: return Mc(), im(t, e), t === null && cd(e.stateNode.containerInfo), vs(e), null; case 10: return kx(e.type._context), vs(e), null; case 17: return qs(e.type) && Ef(), vs(e), null; case 19: if (nn(gn), a = e.memoizedState, a === null) return vs(e), null; if (n = (e.flags & 128) !== 0, A = a.rendering, A === null) if (n) gu(a, !1); else { if (Wn !== 0 || t !== null && t.flags & 128) for (t = e.child; t !== null;) { if (A = Tf(t), A !== null) { for (e.flags |= 128, gu(a, !1), n = A.updateQueue, n !== null && (e.updateQueue = n, e.flags |= 4), e.subtreeFlags = 0, n = r, r = e.child; r !== null;)a = r, t = n, a.flags &= 14680066, A = a.alternate, A === null ? (a.childLanes = 0, a.lanes = t, a.child = null, a.subtreeFlags = 0, a.memoizedProps = null, a.memoizedState = null, a.updateQueue = null, a.dependencies = null, a.stateNode = null) : (a.childLanes = A.childLanes, a.lanes = A.lanes, a.child = A.child, a.subtreeFlags = 0, a.deletions = null, a.memoizedProps = A.memoizedProps, a.memoizedState = A.memoizedState, a.updateQueue = A.updateQueue, a.type = A.type, t = A.dependencies, a.dependencies = t === null ? null : { lanes: t.lanes, firstContext: t.firstContext }), r = r.sibling; return Xr(gn, gn.current & 1 | 2), e.child } t = t.sibling } a.tail !== null && Un() > Kc && (e.flags |= 128, n = !0, gu(a, !1), e.lanes = 4194304) } else { if (!n) if (t = Tf(A), t !== null) { if (e.flags |= 128, n = !0, r = t.updateQueue, r !== null && (e.updateQueue = r, e.flags |= 4), gu(a, !0), a.tail === null && a.tailMode === "hidden" && !A.alternate && !ln) return vs(e), null } else 2 * Un() - a.renderingStartTime > Kc && r !== 1073741824 && (e.flags |= 128, n = !0, gu(a, !1), e.lanes = 4194304); a.isBackwards ? (A.sibling = e.child, e.child = A) : (r = a.last, r !== null ? r.sibling = A : e.child = A, a.last = A) } return a.tail !== null ? (e = a.tail, a.rendering = e, a.tail = e.sibling, a.renderingStartTime = Un(), e.sibling = null, r = gn.current, Xr(gn, n ? r & 1 | 2 : r & 1), e) : (vs(e), null); case 22: case 23: return zx(), n = e.memoizedState !== null, t !== null && t.memoizedState !== null !== n && (e.flags |= 8192), n && e.mode & 1 ? oi & 1073741824 && (vs(e), e.subtreeFlags & 6 && (e.flags |= 8192)) : vs(e), null; case 24: return null; case 25: return null }throw Error(wt(156, e.tag)) } function $3(t, e) { switch (jx(e), e.tag) { case 1: return qs(e.type) && Ef(), t = e.flags, t & 65536 ? (e.flags = t & -65537 | 128, e) : null; case 3: return Mc(), nn(zs), nn(js), Lx(), t = e.flags, t & 65536 && !(t & 128) ? (e.flags = t & -65537 | 128, e) : null; case 5: return Tx(e), null; case 13: if (nn(gn), t = e.memoizedState, t !== null && t.dehydrated !== null) { if (e.alternate === null) throw Error(wt(340)); Rc() } return t = e.flags, t & 65536 ? (e.flags = t & -65537 | 128, e) : null; case 19: return nn(gn), null; case 4: return Mc(), null; case 10: return kx(e.type._context), null; case 22: case 23: return zx(), null; case 24: return null; default: return null } } var uh = !1, Ss = !1, K3 = typeof WeakSet == "function" ? WeakSet : Set, Kt = null; function yc(t, e) { var r = t.ref; if (r !== null) if (typeof r == "function") try { r(null) } catch (n) { Nn(t, e, n) } else r.current = null } function am(t, e, r) { try { r() } catch (n) { Nn(t, e, n) } } var Lv = !1; function G3(t, e) { if ($g = Cf, t = Eb(), Nx(t)) { if ("selectionStart" in t) var r = { start: t.selectionStart, end: t.selectionEnd }; else e: { r = (r = t.ownerDocument) && r.defaultView || window; var n = r.getSelection && r.getSelection(); if (n && n.rangeCount !== 0) { r = n.anchorNode; var s = n.anchorOffset, a = n.focusNode; n = n.focusOffset; try { r.nodeType, a.nodeType } catch { r = null; break e } var A = 0, o = -1, l = -1, c = 0, d = 0, p = t, g = null; t: for (; ;) { for (var h; p !== r || s !== 0 && p.nodeType !== 3 || (o = A + s), p !== a || n !== 0 && p.nodeType !== 3 || (l = A + n), p.nodeType === 3 && (A += p.nodeValue.length), (h = p.firstChild) !== null;)g = p, p = h; for (; ;) { if (p === t) break t; if (g === r && ++c === s && (o = A), g === a && ++d === n && (l = A), (h = p.nextSibling) !== null) break; p = g, g = p.parentNode } p = h } r = o === -1 || l === -1 ? null : { start: o, end: l } } else r = null } r = r || { start: 0, end: 0 } } else r = null; for (Kg = { focusedElem: t, selectionRange: r }, Cf = !1, Kt = e; Kt !== null;)if (e = Kt, t = e.child, (e.subtreeFlags & 1028) !== 0 && t !== null) t.return = e, Kt = t; else for (; Kt !== null;) { e = Kt; try { var b = e.alternate; if (e.flags & 1024) switch (e.tag) { case 0: case 11: case 15: break; case 1: if (b !== null) { var w = b.memoizedProps, j = b.memoizedState, x = e.stateNode, y = x.getSnapshotBeforeUpdate(e.elementType === e.type ? w : ia(e.type, w), j); x.__reactInternalSnapshotBeforeUpdate = y } break; case 3: var B = e.stateNode.containerInfo; B.nodeType === 1 ? B.textContent = "" : B.nodeType === 9 && B.documentElement && B.removeChild(B.documentElement); break; case 5: case 6: case 4: case 17: break; default: throw Error(wt(163)) } } catch (E) { Nn(e, e.return, E) } if (t = e.sibling, t !== null) { t.return = e.return, Kt = t; break } Kt = e.return } return b = Lv, Lv = !1, b } function Ku(t, e, r) { var n = e.updateQueue; if (n = n !== null ? n.lastEffect : null, n !== null) { var s = n = n.next; do { if ((s.tag & t) === t) { var a = s.destroy; s.destroy = void 0, a !== void 0 && am(e, r, a) } s = s.next } while (s !== n) } } function g0(t, e) { if (e = e.updateQueue, e = e !== null ? e.lastEffect : null, e !== null) { var r = e = e.next; do { if ((r.tag & t) === t) { var n = r.create; r.destroy = n() } r = r.next } while (r !== e) } } function Am(t) { var e = t.ref; if (e !== null) { var r = t.stateNode; switch (t.tag) { case 5: t = r; break; default: t = r }typeof e == "function" ? e(t) : e.current = t } } function C5(t) { var e = t.alternate; e !== null && (t.alternate = null, C5(e)), t.child = null, t.deletions = null, t.sibling = null, t.tag === 5 && (e = t.stateNode, e !== null && (delete e[Ra], delete e[dd], delete e[zg], delete e[j3], delete e[E3])), t.stateNode = null, t.return = null, t.dependencies = null, t.memoizedProps = null, t.memoizedState = null, t.pendingProps = null, t.stateNode = null, t.updateQueue = null } function N5(t) { return t.tag === 5 || t.tag === 3 || t.tag === 4 } function Ov(t) { e: for (; ;) { for (; t.sibling === null;) { if (t.return === null || N5(t.return)) return null; t = t.return } for (t.sibling.return = t.return, t = t.sibling; t.tag !== 5 && t.tag !== 6 && t.tag !== 18;) { if (t.flags & 2 || t.child === null || t.tag === 4) continue e; t.child.return = t, t = t.child } if (!(t.flags & 2)) return t.stateNode } } function om(t, e, r) { var n = t.tag; if (n === 5 || n === 6) t = t.stateNode, e ? r.nodeType === 8 ? r.parentNode.insertBefore(t, e) : r.insertBefore(t, e) : (r.nodeType === 8 ? (e = r.parentNode, e.insertBefore(t, r)) : (e = r, e.appendChild(t)), r = r._reactRootContainer, r != null || e.onclick !== null || (e.onclick = jf)); else if (n !== 4 && (t = t.child, t !== null)) for (om(t, e, r), t = t.sibling; t !== null;)om(t, e, r), t = t.sibling } function lm(t, e, r) { var n = t.tag; if (n === 5 || n === 6) t = t.stateNode, e ? r.insertBefore(t, e) : r.appendChild(t); else if (n !== 4 && (t = t.child, t !== null)) for (lm(t, e, r), t = t.sibling; t !== null;)lm(t, e, r), t = t.sibling } var os = null, Aa = !1; function YA(t, e, r) { for (r = r.child; r !== null;)S5(t, e, r), r = r.sibling } function S5(t, e, r) { if (Ma && typeof Ma.onCommitFiberUnmount == "function") try { Ma.onCommitFiberUnmount(o0, r) } catch { } switch (r.tag) { case 5: Ss || yc(r, e); case 6: var n = os, s = Aa; os = null, YA(t, e, r), os = n, Aa = s, os !== null && (Aa ? (t = os, r = r.stateNode, t.nodeType === 8 ? t.parentNode.removeChild(r) : t.removeChild(r)) : os.removeChild(r.stateNode)); break; case 18: os !== null && (Aa ? (t = os, r = r.stateNode, t.nodeType === 8 ? hp(t.parentNode, r) : t.nodeType === 1 && hp(t, r), Ad(t)) : hp(os, r.stateNode)); break; case 4: n = os, s = Aa, os = r.stateNode.containerInfo, Aa = !0, YA(t, e, r), os = n, Aa = s; break; case 0: case 11: case 14: case 15: if (!Ss && (n = r.updateQueue, n !== null && (n = n.lastEffect, n !== null))) { s = n = n.next; do { var a = s, A = a.destroy; a = a.tag, A !== void 0 && (a & 2 || a & 4) && am(r, e, A), s = s.next } while (s !== n) } YA(t, e, r); break; case 1: if (!Ss && (yc(r, e), n = r.stateNode, typeof n.componentWillUnmount == "function")) try { n.props = r.memoizedProps, n.state = r.memoizedState, n.componentWillUnmount() } catch (o) { Nn(r, e, o) } YA(t, e, r); break; case 21: YA(t, e, r); break; case 22: r.mode & 1 ? (Ss = (n = Ss) || r.memoizedState !== null, YA(t, e, r), Ss = n) : YA(t, e, r); break; default: YA(t, e, r) } } function Pv(t) { var e = t.updateQueue; if (e !== null) { t.updateQueue = null; var r = t.stateNode; r === null && (r = t.stateNode = new K3), e.forEach(function (n) { var s = eS.bind(null, t, n); r.has(n) || (r.add(n), n.then(s, s)) }) } } function ea(t, e) { var r = e.deletions; if (r !== null) for (var n = 0; n < r.length; n++) { var s = r[n]; try { var a = t, A = e, o = A; e: for (; o !== null;) { switch (o.tag) { case 5: os = o.stateNode, Aa = !1; break e; case 3: os = o.stateNode.containerInfo, Aa = !0; break e; case 4: os = o.stateNode.containerInfo, Aa = !0; break e }o = o.return } if (os === null) throw Error(wt(160)); S5(a, A, s), os = null, Aa = !1; var l = s.alternate; l !== null && (l.return = null), s.return = null } catch (c) { Nn(s, e, c) } } if (e.subtreeFlags & 12854) for (e = e.child; e !== null;)j5(e, t), e = e.sibling } function j5(t, e) { var r = t.alternate, n = t.flags; switch (t.tag) { case 0: case 11: case 14: case 15: if (ea(e, t), Fa(t), n & 4) { try { Ku(3, t, t.return), g0(3, t) } catch (w) { Nn(t, t.return, w) } try { Ku(5, t, t.return) } catch (w) { Nn(t, t.return, w) } } break; case 1: ea(e, t), Fa(t), n & 512 && r !== null && yc(r, r.return); break; case 5: if (ea(e, t), Fa(t), n & 512 && r !== null && yc(r, r.return), t.flags & 32) { var s = t.stateNode; try { nd(s, "") } catch (w) { Nn(t, t.return, w) } } if (n & 4 && (s = t.stateNode, s != null)) { var a = t.memoizedProps, A = r !== null ? r.memoizedProps : a, o = t.type, l = t.updateQueue; if (t.updateQueue = null, l !== null) try { o === "input" && a.type === "radio" && a.name != null && W2(s, a), Ig(o, A); var c = Ig(o, a); for (A = 0; A < l.length; A += 2) { var d = l[A], p = l[A + 1]; d === "style" ? eb(s, p) : d === "dangerouslySetInnerHTML" ? X2(s, p) : d === "children" ? nd(s, p) : dx(s, d, p, c) } switch (o) { case "input": Eg(s, a); break; case "textarea": J2(s, a); break; case "select": var g = s._wrapperState.wasMultiple; s._wrapperState.wasMultiple = !!a.multiple; var h = a.value; h != null ? Sc(s, !!a.multiple, h, !1) : g !== !!a.multiple && (a.defaultValue != null ? Sc(s, !!a.multiple, a.defaultValue, !0) : Sc(s, !!a.multiple, a.multiple ? [] : "", !1)) }s[dd] = a } catch (w) { Nn(t, t.return, w) } } break; case 6: if (ea(e, t), Fa(t), n & 4) { if (t.stateNode === null) throw Error(wt(162)); s = t.stateNode, a = t.memoizedProps; try { s.nodeValue = a } catch (w) { Nn(t, t.return, w) } } break; case 3: if (ea(e, t), Fa(t), n & 4 && r !== null && r.memoizedState.isDehydrated) try { Ad(e.containerInfo) } catch (w) { Nn(t, t.return, w) } break; case 4: ea(e, t), Fa(t); break; case 13: ea(e, t), Fa(t), s = t.child, s.flags & 8192 && (a = s.memoizedState !== null, s.stateNode.isHidden = a, !a || s.alternate !== null && s.alternate.memoizedState !== null || (Gx = Un())), n & 4 && Pv(t); break; case 22: if (d = r !== null && r.memoizedState !== null, t.mode & 1 ? (Ss = (c = Ss) || d, ea(e, t), Ss = c) : ea(e, t), Fa(t), n & 8192) { if (c = t.memoizedState !== null, (t.stateNode.isHidden = c) && !d && t.mode & 1) for (Kt = t, d = t.child; d !== null;) { for (p = Kt = d; Kt !== null;) { switch (g = Kt, h = g.child, g.tag) { case 0: case 11: case 14: case 15: Ku(4, g, g.return); break; case 1: yc(g, g.return); var b = g.stateNode; if (typeof b.componentWillUnmount == "function") { n = g, r = g.return; try { e = n, b.props = e.memoizedProps, b.state = e.memoizedState, b.componentWillUnmount() } catch (w) { Nn(n, r, w) } } break; case 5: yc(g, g.return); break; case 22: if (g.memoizedState !== null) { Rv(p); continue } }h !== null ? (h.return = g, Kt = h) : Rv(p) } d = d.sibling } e: for (d = null, p = t; ;) { if (p.tag === 5) { if (d === null) { d = p; try { s = p.stateNode, c ? (a = s.style, typeof a.setProperty == "function" ? a.setProperty("display", "none", "important") : a.display = "none") : (o = p.stateNode, l = p.memoizedProps.style, A = l != null && l.hasOwnProperty("display") ? l.display : null, o.style.display = Z2("display", A)) } catch (w) { Nn(t, t.return, w) } } } else if (p.tag === 6) { if (d === null) try { p.stateNode.nodeValue = c ? "" : p.memoizedProps } catch (w) { Nn(t, t.return, w) } } else if ((p.tag !== 22 && p.tag !== 23 || p.memoizedState === null || p === t) && p.child !== null) { p.child.return = p, p = p.child; continue } if (p === t) break e; for (; p.sibling === null;) { if (p.return === null || p.return === t) break e; d === p && (d = null), p = p.return } d === p && (d = null), p.sibling.return = p.return, p = p.sibling } } break; case 19: ea(e, t), Fa(t), n & 4 && Pv(t); break; case 21: break; default: ea(e, t), Fa(t) } } function Fa(t) { var e = t.flags; if (e & 2) { try { e: { for (var r = t.return; r !== null;) { if (N5(r)) { var n = r; break e } r = r.return } throw Error(wt(160)) } switch (n.tag) { case 5: var s = n.stateNode; n.flags & 32 && (nd(s, ""), n.flags &= -33); var a = Ov(t); lm(t, a, s); break; case 3: case 4: var A = n.stateNode.containerInfo, o = Ov(t); om(t, o, A); break; default: throw Error(wt(161)) } } catch (l) { Nn(t, t.return, l) } t.flags &= -3 } e & 4096 && (t.flags &= -4097) } function V3(t, e, r) { Kt = t, E5(t) } function E5(t, e, r) { for (var n = (t.mode & 1) !== 0; Kt !== null;) { var s = Kt, a = s.child; if (s.tag === 22 && n) { var A = s.memoizedState !== null || uh; if (!A) { var o = s.alternate, l = o !== null && o.memoizedState !== null || Ss; o = uh; var c = Ss; if (uh = A, (Ss = l) && !c) for (Kt = s; Kt !== null;)A = Kt, l = A.child, A.tag === 22 && A.memoizedState !== null ? Hv(s) : l !== null ? (l.return = A, Kt = l) : Hv(s); for (; a !== null;)Kt = a, E5(a), a = a.sibling; Kt = s, uh = o, Ss = c } Dv(t) } else s.subtreeFlags & 8772 && a !== null ? (a.return = s, Kt = a) : Dv(t) } } function Dv(t) { for (; Kt !== null;) { var e = Kt; if (e.flags & 8772) { var r = e.alternate; try { if (e.flags & 8772) switch (e.tag) { case 0: case 11: case 15: Ss || g0(5, e); break; case 1: var n = e.stateNode; if (e.flags & 4 && !Ss) if (r === null) n.componentDidMount(); else { var s = e.elementType === e.type ? r.memoizedProps : ia(e.type, r.memoizedProps); n.componentDidUpdate(s, r.memoizedState, n.__reactInternalSnapshotBeforeUpdate) } var a = e.updateQueue; a !== null && Bv(e, a, n); break; case 3: var A = e.updateQueue; if (A !== null) { if (r = null, e.child !== null) switch (e.child.tag) { case 5: r = e.child.stateNode; break; case 1: r = e.child.stateNode }Bv(e, A, r) } break; case 5: var o = e.stateNode; if (r === null && e.flags & 4) { r = o; var l = e.memoizedProps; switch (e.type) { case "button": case "input": case "select": case "textarea": l.autoFocus && r.focus(); break; case "img": l.src && (r.src = l.src) } } break; case 6: break; case 4: break; case 12: break; case 13: if (e.memoizedState === null) { var c = e.alternate; if (c !== null) { var d = c.memoizedState; if (d !== null) { var p = d.dehydrated; p !== null && Ad(p) } } } break; case 19: case 17: case 21: case 22: case 23: case 25: break; default: throw Error(wt(163)) }Ss || e.flags & 512 && Am(e) } catch (g) { Nn(e, e.return, g) } } if (e === t) { Kt = null; break } if (r = e.sibling, r !== null) { r.return = e.return, Kt = r; break } Kt = e.return } } function Rv(t) { for (; Kt !== null;) { var e = Kt; if (e === t) { Kt = null; break } var r = e.sibling; if (r !== null) { r.return = e.return, Kt = r; break } Kt = e.return } } function Hv(t) { for (; Kt !== null;) { var e = Kt; try { switch (e.tag) { case 0: case 11: case 15: var r = e.return; try { g0(4, e) } catch (l) { Nn(e, r, l) } break; case 1: var n = e.stateNode; if (typeof n.componentDidMount == "function") { var s = e.return; try { n.componentDidMount() } catch (l) { Nn(e, s, l) } } var a = e.return; try { Am(e) } catch (l) { Nn(e, a, l) } break; case 5: var A = e.return; try { Am(e) } catch (l) { Nn(e, A, l) } } } catch (l) { Nn(e, e.return, l) } if (e === t) { Kt = null; break } var o = e.sibling; if (o !== null) { o.return = e.return, Kt = o; break } Kt = e.return } } var z3 = Math.ceil, Pf = CA.ReactCurrentDispatcher, $x = CA.ReactCurrentOwner, Di = CA.ReactCurrentBatchConfig, Fr = 0, ts = null, Hn = null, us = 0, oi = 0, bc = ko(0), Wn = 0, xd = null, ml = 0, m0 = 0, Kx = 0, Gu = null, Gs = null, Gx = 0, Kc = 1 / 0, uA = null, Df = !1, cm = null, yo = null, dh = !1, co = null, Rf = 0, Vu = 0, um = null, af = -1, Af = 0; function Qs() { return Fr & 6 ? Un() : af !== -1 ? af : af = Un() } function bo(t) { return t.mode & 1 ? Fr & 2 && us !== 0 ? us & -us : _3.transition !== null ? (Af === 0 && (Af = db()), Af) : (t = Dr, t !== 0 || (t = window.event, t = t === void 0 ? 16 : vb(t.type)), t) : 1 } function ua(t, e, r, n) { if (50 < Vu) throw Vu = 0, um = null, Error(wt(185)); kd(t, r, n), (!(Fr & 2) || t !== ts) && (t === ts && (!(Fr & 2) && (m0 |= r), Wn === 4 && Ao(t, us)), Ws(t, n), r === 1 && Fr === 0 && !(e.mode & 1) && (Kc = Un() + 500, h0 && Uo())) } function Ws(t, e) { var r = t.callbackNode; _N(t, e); var n = Bf(t, t === ts ? us : 0); if (n === 0) r !== null && J1(r), t.callbackNode = null, t.callbackPriority = 0; else if (e = n & -n, t.callbackPriority !== e) { if (r != null && J1(r), e === 1) t.tag === 0 ? F3(Mv.bind(null, t)) : Pb(Mv.bind(null, t)), N3(function () { !(Fr & 6) && Uo() }), r = null; else { switch (hb(n)) { case 1: r = mx; break; case 4: r = cb; break; case 16: r = bf; break; case 536870912: r = ub; break; default: r = bf }r = L5(r, F5.bind(null, t)) } t.callbackPriority = e, t.callbackNode = r } } function F5(t, e) { if (af = -1, Af = 0, Fr & 6) throw Error(wt(327)); var r = t.callbackNode; if (kc() && t.callbackNode !== r) return null; var n = Bf(t, t === ts ? us : 0); if (n === 0) return null; if (n & 30 || n & t.expiredLanes || e) e = Hf(t, n); else { e = n; var s = Fr; Fr |= 2; var a = k5(); (ts !== t || us !== e) && (uA = null, Kc = Un() + 500, ll(t, e)); do try { J3(); break } catch (o) { _5(t, o) } while (!0); _x(), Pf.current = a, Fr = s, Hn !== null ? e = 0 : (ts = null, us = 0, e = Wn) } if (e !== 0) { if (e === 2 && (s = Pg(t), s !== 0 && (n = s, e = dm(t, s))), e === 1) throw r = xd, ll(t, 0), Ao(t, n), Ws(t, Un()), r; if (e === 6) Ao(t, n); else { if (s = t.current.alternate, !(n & 30) && !q3(s) && (e = Hf(t, n), e === 2 && (a = Pg(t), a !== 0 && (n = a, e = dm(t, a))), e === 1)) throw r = xd, ll(t, 0), Ao(t, n), Ws(t, Un()), r; switch (t.finishedWork = s, t.finishedLanes = n, e) { case 0: case 1: throw Error(wt(345)); case 2: Yo(t, Gs, uA); break; case 3: if (Ao(t, n), (n & 130023424) === n && (e = Gx + 500 - Un(), 10 < e)) { if (Bf(t, 0) !== 0) break; if (s = t.suspendedLanes, (s & n) !== n) { Qs(), t.pingedLanes |= t.suspendedLanes & s; break } t.timeoutHandle = Vg(Yo.bind(null, t, Gs, uA), e); break } Yo(t, Gs, uA); break; case 4: if (Ao(t, n), (n & 4194240) === n) break; for (e = t.eventTimes, s = -1; 0 < n;) { var A = 31 - ca(n); a = 1 << A, A = e[A], A > s && (s = A), n &= ~a } if (n = s, n = Un() - n, n = (120 > n ? 120 : 480 > n ? 480 : 1080 > n ? 1080 : 1920 > n ? 1920 : 3e3 > n ? 3e3 : 4320 > n ? 4320 : 1960 * z3(n / 1960)) - n, 10 < n) { t.timeoutHandle = Vg(Yo.bind(null, t, Gs, uA), n); break } Yo(t, Gs, uA); break; case 5: Yo(t, Gs, uA); break; default: throw Error(wt(329)) } } } return Ws(t, Un()), t.callbackNode === r ? F5.bind(null, t) : null } function dm(t, e) { var r = Gu; return t.current.memoizedState.isDehydrated && (ll(t, e).flags |= 256), t = Hf(t, e), t !== 2 && (e = Gs, Gs = r, e !== null && hm(e)), t } function hm(t) { Gs === null ? Gs = t : Gs.push.apply(Gs, t) } function q3(t) { for (var e = t; ;) { if (e.flags & 16384) { var r = e.updateQueue; if (r !== null && (r = r.stores, r !== null)) for (var n = 0; n < r.length; n++) { var s = r[n], a = s.getSnapshot; s = s.value; try { if (!da(a(), s)) return !1 } catch { return !1 } } } if (r = e.child, e.subtreeFlags & 16384 && r !== null) r.return = e, e = r; else { if (e === t) break; for (; e.sibling === null;) { if (e.return === null || e.return === t) return !0; e = e.return } e.sibling.return = e.return, e = e.sibling } } return !0 } function Ao(t, e) { for (e &= ~Kx, e &= ~m0, t.suspendedLanes |= e, t.pingedLanes &= ~e, t = t.expirationTimes; 0 < e;) { var r = 31 - ca(e), n = 1 << r; t[r] = -1, e &= ~n } } function Mv(t) { if (Fr & 6) throw Error(wt(327)); kc(); var e = Bf(t, 0); if (!(e & 1)) return Ws(t, Un()), null; var r = Hf(t, e); if (t.tag !== 0 && r === 2) { var n = Pg(t); n !== 0 && (e = n, r = dm(t, n)) } if (r === 1) throw r = xd, ll(t, 0), Ao(t, e), Ws(t, Un()), r; if (r === 6) throw Error(wt(345)); return t.finishedWork = t.current.alternate, t.finishedLanes = e, Yo(t, Gs, uA), Ws(t, Un()), null } function Vx(t, e) { var r = Fr; Fr |= 1; try { return t(e) } finally { Fr = r, Fr === 0 && (Kc = Un() + 500, h0 && Uo()) } } function xl(t) { co !== null && co.tag === 0 && !(Fr & 6) && kc(); var e = Fr; Fr |= 1; var r = Di.transition, n = Dr; try { if (Di.transition = null, Dr = 1, t) return t() } finally { Dr = n, Di.transition = r, Fr = e, !(Fr & 6) && Uo() } } function zx() { oi = bc.current, nn(bc) } function ll(t, e) { t.finishedWork = null, t.finishedLanes = 0; var r = t.timeoutHandle; if (r !== -1 && (t.timeoutHandle = -1, C3(r)), Hn !== null) for (r = Hn.return; r !== null;) { var n = r; switch (jx(n), n.tag) { case 1: n = n.type.childContextTypes, n != null && Ef(); break; case 3: Mc(), nn(zs), nn(js), Lx(); break; case 5: Tx(n); break; case 4: Mc(); break; case 13: nn(gn); break; case 19: nn(gn); break; case 10: kx(n.type._context); break; case 22: case 23: zx() }r = r.return } if (ts = t, Hn = t = Bo(t.current, null), us = oi = e, Wn = 0, xd = null, Kx = m0 = ml = 0, Gs = Gu = null, il !== null) { for (e = 0; e < il.length; e++)if (r = il[e], n = r.interleaved, n !== null) { r.interleaved = null; var s = n.next, a = r.pending; if (a !== null) { var A = a.next; a.next = s, n.next = A } r.pending = n } il = null } return t } function _5(t, e) { do { var r = Hn; try { if (_x(), rf.current = Of, Lf) { for (var n = mn.memoizedState; n !== null;) { var s = n.queue; s !== null && (s.pending = null), n = n.next } Lf = !1 } if (gl = 0, Zn = zn = mn = null, $u = !1, pd = 0, $x.current = null, r === null || r.return === null) { Wn = 1, xd = e, Hn = null; break } e: { var a = t, A = r.return, o = r, l = e; if (e = us, o.flags |= 32768, l !== null && typeof l == "object" && typeof l.then == "function") { var c = l, d = o, p = d.tag; if (!(d.mode & 1) && (p === 0 || p === 11 || p === 15)) { var g = d.alternate; g ? (d.updateQueue = g.updateQueue, d.memoizedState = g.memoizedState, d.lanes = g.lanes) : (d.updateQueue = null, d.memoizedState = null) } var h = Fv(A); if (h !== null) { h.flags &= -257, _v(h, A, o, a, e), h.mode & 1 && Ev(a, c, e), e = h, l = c; var b = e.updateQueue; if (b === null) { var w = new Set; w.add(l), e.updateQueue = w } else b.add(l); break e } else { if (!(e & 1)) { Ev(a, c, e), qx(); break e } l = Error(wt(426)) } } else if (ln && o.mode & 1) { var j = Fv(A); if (j !== null) { !(j.flags & 65536) && (j.flags |= 256), _v(j, A, o, a, e), Ex($c(l, o)); break e } } a = l = $c(l, o), Wn !== 4 && (Wn = 2), Gu === null ? Gu = [a] : Gu.push(a), a = A; do { switch (a.tag) { case 3: a.flags |= 65536, e &= -e, a.lanes |= e; var x = h5(a, l, e); bv(a, x); break e; case 1: o = l; var y = a.type, B = a.stateNode; if (!(a.flags & 128) && (typeof y.getDerivedStateFromError == "function" || B !== null && typeof B.componentDidCatch == "function" && (yo === null || !yo.has(B)))) { a.flags |= 65536, e &= -e, a.lanes |= e; var E = f5(a, o, e); bv(a, E); break e } }a = a.return } while (a !== null) } I5(r) } catch (T) { e = T, Hn === r && r !== null && (Hn = r = r.return); continue } break } while (!0) } function k5() { var t = Pf.current; return Pf.current = Of, t === null ? Of : t } function qx() { (Wn === 0 || Wn === 3 || Wn === 2) && (Wn = 4), ts === null || !(ml & 268435455) && !(m0 & 268435455) || Ao(ts, us) } function Hf(t, e) { var r = Fr; Fr |= 2; var n = k5(); (ts !== t || us !== e) && (uA = null, ll(t, e)); do try { W3(); break } catch (s) { _5(t, s) } while (!0); if (_x(), Fr = r, Pf.current = n, Hn !== null) throw Error(wt(261)); return ts = null, us = 0, Wn } function W3() { for (; Hn !== null;)U5(Hn) } function J3() { for (; Hn !== null && !yN();)U5(Hn) } function U5(t) { var e = T5(t.alternate, t, oi); t.memoizedProps = t.pendingProps, e === null ? I5(t) : Hn = e, $x.current = null } function I5(t) { var e = t; do { var r = e.alternate; if (t = e.return, e.flags & 32768) { if (r = $3(r, e), r !== null) { r.flags &= 32767, Hn = r; return } if (t !== null) t.flags |= 32768, t.subtreeFlags = 0, t.deletions = null; else { Wn = 6, Hn = null; return } } else if (r = M3(r, e, oi), r !== null) { Hn = r; return } if (e = e.sibling, e !== null) { Hn = e; return } Hn = e = t } while (e !== null); Wn === 0 && (Wn = 5) } function Yo(t, e, r) { var n = Dr, s = Di.transition; try { Di.transition = null, Dr = 1, Y3(t, e, r, n) } finally { Di.transition = s, Dr = n } return null } function Y3(t, e, r, n) { do kc(); while (co !== null); if (Fr & 6) throw Error(wt(327)); r = t.finishedWork; var s = t.finishedLanes; if (r === null) return null; if (t.finishedWork = null, t.finishedLanes = 0, r === t.current) throw Error(wt(177)); t.callbackNode = null, t.callbackPriority = 0; var a = r.lanes | r.childLanes; if (kN(t, a), t === ts && (Hn = ts = null, us = 0), !(r.subtreeFlags & 2064) && !(r.flags & 2064) || dh || (dh = !0, L5(bf, function () { return kc(), null })), a = (r.flags & 15990) !== 0, r.subtreeFlags & 15990 || a) { a = Di.transition, Di.transition = null; var A = Dr; Dr = 1; var o = Fr; Fr |= 4, $x.current = null, G3(t, r), j5(r, t), m3(Kg), Cf = !!$g, Kg = $g = null, t.current = r, V3(r), bN(), Fr = o, Dr = A, Di.transition = a } else t.current = r; if (dh && (dh = !1, co = t, Rf = s), a = t.pendingLanes, a === 0 && (yo = null), NN(r.stateNode), Ws(t, Un()), e !== null) for (n = t.onRecoverableError, r = 0; r < e.length; r++)s = e[r], n(s.value, { componentStack: s.stack, digest: s.digest }); if (Df) throw Df = !1, t = cm, cm = null, t; return Rf & 1 && t.tag !== 0 && kc(), a = t.pendingLanes, a & 1 ? t === um ? Vu++ : (Vu = 0, um = t) : Vu = 0, Uo(), null } function kc() { if (co !== null) { var t = hb(Rf), e = Di.transition, r = Dr; try { if (Di.transition = null, Dr = 16 > t ? 16 : t, co === null) var n = !1; else { if (t = co, co = null, Rf = 0, Fr & 6) throw Error(wt(331)); var s = Fr; for (Fr |= 4, Kt = t.current; Kt !== null;) { var a = Kt, A = a.child; if (Kt.flags & 16) { var o = a.deletions; if (o !== null) { for (var l = 0; l < o.length; l++) { var c = o[l]; for (Kt = c; Kt !== null;) { var d = Kt; switch (d.tag) { case 0: case 11: case 15: Ku(8, d, a) }var p = d.child; if (p !== null) p.return = d, Kt = p; else for (; Kt !== null;) { d = Kt; var g = d.sibling, h = d.return; if (C5(d), d === c) { Kt = null; break } if (g !== null) { g.return = h, Kt = g; break } Kt = h } } } var b = a.alternate; if (b !== null) { var w = b.child; if (w !== null) { b.child = null; do { var j = w.sibling; w.sibling = null, w = j } while (w !== null) } } Kt = a } } if (a.subtreeFlags & 2064 && A !== null) A.return = a, Kt = A; else e: for (; Kt !== null;) { if (a = Kt, a.flags & 2048) switch (a.tag) { case 0: case 11: case 15: Ku(9, a, a.return) }var x = a.sibling; if (x !== null) { x.return = a.return, Kt = x; break e } Kt = a.return } } var y = t.current; for (Kt = y; Kt !== null;) { A = Kt; var B = A.child; if (A.subtreeFlags & 2064 && B !== null) B.return = A, Kt = B; else e: for (A = y; Kt !== null;) { if (o = Kt, o.flags & 2048) try { switch (o.tag) { case 0: case 11: case 15: g0(9, o) } } catch (T) { Nn(o, o.return, T) } if (o === A) { Kt = null; break e } var E = o.sibling; if (E !== null) { E.return = o.return, Kt = E; break e } Kt = o.return } } if (Fr = s, Uo(), Ma && typeof Ma.onPostCommitFiberRoot == "function") try { Ma.onPostCommitFiberRoot(o0, t) } catch { } n = !0 } return n } finally { Dr = r, Di.transition = e } } return !1 } function $v(t, e, r) { e = $c(r, e), e = h5(t, e, 1), t = wo(t, e, 1), e = Qs(), t !== null && (kd(t, 1, e), Ws(t, e)) } function Nn(t, e, r) { if (t.tag === 3) $v(t, t, r); else for (; e !== null;) { if (e.tag === 3) { $v(e, t, r); break } else if (e.tag === 1) { var n = e.stateNode; if (typeof e.type.getDerivedStateFromError == "function" || typeof n.componentDidCatch == "function" && (yo === null || !yo.has(n))) { t = $c(r, t), t = f5(e, t, 1), e = wo(e, t, 1), t = Qs(), e !== null && (kd(e, 1, t), Ws(e, t)); break } } e = e.return } } function X3(t, e, r) { var n = t.pingCache; n !== null && n.delete(e), e = Qs(), t.pingedLanes |= t.suspendedLanes & r, ts === t && (us & r) === r && (Wn === 4 || Wn === 3 && (us & 130023424) === us && 500 > Un() - Gx ? ll(t, 0) : Kx |= r), Ws(t, e) } function Q5(t, e) { e === 0 && (t.mode & 1 ? (e = rh, rh <<= 1, !(rh & 130023424) && (rh = 4194304)) : e = 1); var r = Qs(); t = yA(t, e), t !== null && (kd(t, e, r), Ws(t, r)) } function Z3(t) { var e = t.memoizedState, r = 0; e !== null && (r = e.retryLane), Q5(t, r) } function eS(t, e) { var r = 0; switch (t.tag) { case 13: var n = t.stateNode, s = t.memoizedState; s !== null && (r = s.retryLane); break; case 19: n = t.stateNode; break; default: throw Error(wt(314)) }n !== null && n.delete(e), Q5(t, r) } var T5; T5 = function (t, e, r) { if (t !== null) if (t.memoizedProps !== e.pendingProps || zs.current) Vs = !0; else { if (!(t.lanes & r) && !(e.flags & 128)) return Vs = !1, H3(t, e, r); Vs = !!(t.flags & 131072) } else Vs = !1, ln && e.flags & 1048576 && Db(e, kf, e.index); switch (e.lanes = 0, e.tag) { case 2: var n = e.type; sf(t, e), t = e.pendingProps; var s = Dc(e, js.current); _c(e, r), s = Px(null, e, n, t, s, r); var a = Dx(); return e.flags |= 1, typeof s == "object" && s !== null && typeof s.render == "function" && s.$$typeof === void 0 ? (e.tag = 1, e.memoizedState = null, e.updateQueue = null, qs(n) ? (a = !0, Ff(e)) : a = !1, e.memoizedState = s.state !== null && s.state !== void 0 ? s.state : null, Ix(e), s.updater = p0, e.stateNode = s, s._reactInternals = e, Zg(e, n, t, r), e = rm(null, e, n, !0, a, r)) : (e.tag = 0, ln && a && Sx(e), Is(null, e, s, r), e = e.child), e; case 16: n = e.elementType; e: { switch (sf(t, e), t = e.pendingProps, s = n._init, n = s(n._payload), e.type = n, s = e.tag = rS(n), t = ia(n, t), s) { case 0: e = tm(null, e, n, t, r); break e; case 1: e = Iv(null, e, n, t, r); break e; case 11: e = kv(null, e, n, t, r); break e; case 14: e = Uv(null, e, n, ia(n.type, t), r); break e }throw Error(wt(306, n, "")) } return e; case 0: return n = e.type, s = e.pendingProps, s = e.elementType === n ? s : ia(n, s), tm(t, e, n, s, r); case 1: return n = e.type, s = e.pendingProps, s = e.elementType === n ? s : ia(n, s), Iv(t, e, n, s, r); case 3: e: { if (x5(e), t === null) throw Error(wt(387)); n = e.pendingProps, a = e.memoizedState, s = a.element, Gb(t, e), Qf(e, n, null, r); var A = e.memoizedState; if (n = A.element, a.isDehydrated) if (a = { element: n, isDehydrated: !1, cache: A.cache, pendingSuspenseBoundaries: A.pendingSuspenseBoundaries, transitions: A.transitions }, e.updateQueue.baseState = a, e.memoizedState = a, e.flags & 256) { s = $c(Error(wt(423)), e), e = Qv(t, e, n, r, s); break e } else if (n !== s) { s = $c(Error(wt(424)), e), e = Qv(t, e, n, r, s); break e } else for (ui = vo(e.stateNode.containerInfo.firstChild), hi = e, ln = !0, la = null, r = $b(e, null, n, r), e.child = r; r;)r.flags = r.flags & -3 | 4096, r = r.sibling; else { if (Rc(), n === s) { e = bA(t, e, r); break e } Is(t, e, n, r) } e = e.child } return e; case 5: return Vb(e), t === null && Jg(e), n = e.type, s = e.pendingProps, a = t !== null ? t.memoizedProps : null, A = s.children, Gg(n, s) ? A = null : a !== null && Gg(n, a) && (e.flags |= 32), m5(t, e), Is(t, e, A, r), e.child; case 6: return t === null && Jg(e), null; case 13: return v5(t, e, r); case 4: return Qx(e, e.stateNode.containerInfo), n = e.pendingProps, t === null ? e.child = Hc(e, null, n, r) : Is(t, e, n, r), e.child; case 11: return n = e.type, s = e.pendingProps, s = e.elementType === n ? s : ia(n, s), kv(t, e, n, s, r); case 7: return Is(t, e, e.pendingProps, r), e.child; case 8: return Is(t, e, e.pendingProps.children, r), e.child; case 12: return Is(t, e, e.pendingProps.children, r), e.child; case 10: e: { if (n = e.type._context, s = e.pendingProps, a = e.memoizedProps, A = s.value, Xr(Uf, n._currentValue), n._currentValue = A, a !== null) if (da(a.value, A)) { if (a.children === s.children && !zs.current) { e = bA(t, e, r); break e } } else for (a = e.child, a !== null && (a.return = e); a !== null;) { var o = a.dependencies; if (o !== null) { A = a.child; for (var l = o.firstContext; l !== null;) { if (l.context === n) { if (a.tag === 1) { l = mA(-1, r & -r), l.tag = 2; var c = a.updateQueue; if (c !== null) { c = c.shared; var d = c.pending; d === null ? l.next = l : (l.next = d.next, d.next = l), c.pending = l } } a.lanes |= r, l = a.alternate, l !== null && (l.lanes |= r), Yg(a.return, r, e), o.lanes |= r; break } l = l.next } } else if (a.tag === 10) A = a.type === e.type ? null : a.child; else if (a.tag === 18) { if (A = a.return, A === null) throw Error(wt(341)); A.lanes |= r, o = A.alternate, o !== null && (o.lanes |= r), Yg(A, r, e), A = a.sibling } else A = a.child; if (A !== null) A.return = a; else for (A = a; A !== null;) { if (A === e) { A = null; break } if (a = A.sibling, a !== null) { a.return = A.return, A = a; break } A = A.return } a = A } Is(t, e, s.children, r), e = e.child } return e; case 9: return s = e.type, n = e.pendingProps.children, _c(e, r), s = Ri(s), n = n(s), e.flags |= 1, Is(t, e, n, r), e.child; case 14: return n = e.type, s = ia(n, e.pendingProps), s = ia(n.type, s), Uv(t, e, n, s, r); case 15: return p5(t, e, e.type, e.pendingProps, r); case 17: return n = e.type, s = e.pendingProps, s = e.elementType === n ? s : ia(n, s), sf(t, e), e.tag = 1, qs(n) ? (t = !0, Ff(e)) : t = !1, _c(e, r), d5(e, n, s), Zg(e, n, s, r), rm(null, e, n, !0, t, r); case 19: return w5(t, e, r); case 22: return g5(t, e, r) }throw Error(wt(156, e.tag)) }; function L5(t, e) { return lb(t, e) } function tS(t, e, r, n) { this.tag = t, this.key = r, this.sibling = this.child = this.return = this.stateNode = this.type = this.elementType = null, this.index = 0, this.ref = null, this.pendingProps = e, this.dependencies = this.memoizedState = this.updateQueue = this.memoizedProps = null, this.mode = n, this.subtreeFlags = this.flags = 0, this.deletions = null, this.childLanes = this.lanes = 0, this.alternate = null } function Li(t, e, r, n) { return new tS(t, e, r, n) } function Wx(t) { return t = t.prototype, !(!t || !t.isReactComponent) } function rS(t) { if (typeof t == "function") return Wx(t) ? 1 : 0; if (t != null) { if (t = t.$$typeof, t === fx) return 11; if (t === px) return 14 } return 2 } function Bo(t, e) { var r = t.alternate; return r === null ? (r = Li(t.tag, e, t.key, t.mode), r.elementType = t.elementType, r.type = t.type, r.stateNode = t.stateNode, r.alternate = t, t.alternate = r) : (r.pendingProps = e, r.type = t.type, r.flags = 0, r.subtreeFlags = 0, r.deletions = null), r.flags = t.flags & 14680064, r.childLanes = t.childLanes, r.lanes = t.lanes, r.child = t.child, r.memoizedProps = t.memoizedProps, r.memoizedState = t.memoizedState, r.updateQueue = t.updateQueue, e = t.dependencies, r.dependencies = e === null ? null : { lanes: e.lanes, firstContext: e.firstContext }, r.sibling = t.sibling, r.index = t.index, r.ref = t.ref, r } function of(t, e, r, n, s, a) { var A = 2; if (n = t, typeof t == "function") Wx(t) && (A = 1); else if (typeof t == "string") A = 5; else e: switch (t) { case dc: return cl(r.children, s, a, e); case hx: A = 8, s |= 8; break; case Bg: return t = Li(12, r, e, s | 2), t.elementType = Bg, t.lanes = a, t; case Cg: return t = Li(13, r, e, s), t.elementType = Cg, t.lanes = a, t; case Ng: return t = Li(19, r, e, s), t.elementType = Ng, t.lanes = a, t; case V2: return x0(r, s, a, e); default: if (typeof t == "object" && t !== null) switch (t.$$typeof) { case K2: A = 10; break e; case G2: A = 9; break e; case fx: A = 11; break e; case px: A = 14; break e; case ro: A = 16, n = null; break e }throw Error(wt(130, t == null ? t : typeof t, "")) }return e = Li(A, r, e, s), e.elementType = t, e.type = n, e.lanes = a, e } function cl(t, e, r, n) { return t = Li(7, t, n, e), t.lanes = r, t } function x0(t, e, r, n) { return t = Li(22, t, n, e), t.elementType = V2, t.lanes = r, t.stateNode = { isHidden: !1 }, t } function yp(t, e, r) { return t = Li(6, t, null, e), t.lanes = r, t } function bp(t, e, r) { return e = Li(4, t.children !== null ? t.children : [], t.key, e), e.lanes = r, e.stateNode = { containerInfo: t.containerInfo, pendingChildren: null, implementation: t.implementation }, e } function nS(t, e, r, n, s) { this.tag = e, this.containerInfo = t, this.finishedWork = this.pingCache = this.current = this.pendingChildren = null, this.timeoutHandle = -1, this.callbackNode = this.pendingContext = this.context = null, this.callbackPriority = 0, this.eventTimes = rp(0), this.expirationTimes = rp(-1), this.entangledLanes = this.finishedLanes = this.mutableReadLanes = this.expiredLanes = this.pingedLanes = this.suspendedLanes = this.pendingLanes = 0, this.entanglements = rp(0), this.identifierPrefix = n, this.onRecoverableError = s, this.mutableSourceEagerHydrationData = null } function Jx(t, e, r, n, s, a, A, o, l) { return t = new nS(t, e, r, o, l), e === 1 ? (e = 1, a === !0 && (e |= 8)) : e = 0, a = Li(3, null, null, e), t.current = a, a.stateNode = t, a.memoizedState = { element: n, isDehydrated: r, cache: null, transitions: null, pendingSuspenseBoundaries: null }, Ix(a), t } function sS(t, e, r) { var n = 3 < arguments.length && arguments[3] !== void 0 ? arguments[3] : null; return { $$typeof: uc, key: n == null ? null : "" + n, children: t, containerInfo: e, implementation: r } } function O5(t) { if (!t) return jo; t = t._reactInternals; e: { if (bl(t) !== t || t.tag !== 1) throw Error(wt(170)); var e = t; do { switch (e.tag) { case 3: e = e.stateNode.context; break e; case 1: if (qs(e.type)) { e = e.stateNode.__reactInternalMemoizedMergedChildContext; break e } }e = e.return } while (e !== null); throw Error(wt(171)) } if (t.tag === 1) { var r = t.type; if (qs(r)) return Ob(t, r, e) } return e } function P5(t, e, r, n, s, a, A, o, l) { return t = Jx(r, n, !0, t, s, a, A, o, l), t.context = O5(null), r = t.current, n = Qs(), s = bo(r), a = mA(n, s), a.callback = e ?? null, wo(r, a, s), t.current.lanes = s, kd(t, s, n), Ws(t, n), t } function v0(t, e, r, n) { var s = e.current, a = Qs(), A = bo(s); return r = O5(r), e.context === null ? e.context = r : e.pendingContext = r, e = mA(a, A), e.payload = { element: t }, n = n === void 0 ? null : n, n !== null && (e.callback = n), t = wo(s, e, A), t !== null && (ua(t, s, A, a), tf(t, s, A)), A } function Mf(t) { if (t = t.current, !t.child) return null; switch (t.child.tag) { case 5: return t.child.stateNode; default: return t.child.stateNode } } function Kv(t, e) { if (t = t.memoizedState, t !== null && t.dehydrated !== null) { var r = t.retryLane; t.retryLane = r !== 0 && r < e ? r : e } } function Yx(t, e) { Kv(t, e), (t = t.alternate) && Kv(t, e) } function iS() { return null } var D5 = typeof reportError == "function" ? reportError : function (t) { console.error(t) }; function Xx(t) { this._internalRoot = t } w0.prototype.render = Xx.prototype.render = function (t) { var e = this._internalRoot; if (e === null) throw Error(wt(409)); v0(t, e, null, null) }; w0.prototype.unmount = Xx.prototype.unmount = function () { var t = this._internalRoot; if (t !== null) { this._internalRoot = null; var e = t.containerInfo; xl(function () { v0(null, t, null, null) }), e[wA] = null } }; function w0(t) { this._internalRoot = t } w0.prototype.unstable_scheduleHydration = function (t) { if (t) { var e = gb(); t = { blockedOn: null, target: t, priority: e }; for (var r = 0; r < ao.length && e !== 0 && e < ao[r].priority; r++); ao.splice(r, 0, t), r === 0 && xb(t) } }; function Zx(t) { return !(!t || t.nodeType !== 1 && t.nodeType !== 9 && t.nodeType !== 11) } function y0(t) { return !(!t || t.nodeType !== 1 && t.nodeType !== 9 && t.nodeType !== 11 && (t.nodeType !== 8 || t.nodeValue !== " react-mount-point-unstable ")) } function Gv() { } function aS(t, e, r, n, s) { if (s) { if (typeof n == "function") { var a = n; n = function () { var c = Mf(A); a.call(c) } } var A = P5(e, n, t, 0, null, !1, !1, "", Gv); return t._reactRootContainer = A, t[wA] = A.current, cd(t.nodeType === 8 ? t.parentNode : t), xl(), A } for (; s = t.lastChild;)t.removeChild(s); if (typeof n == "function") { var o = n; n = function () { var c = Mf(l); o.call(c) } } var l = Jx(t, 0, !1, null, null, !1, !1, "", Gv); return t._reactRootContainer = l, t[wA] = l.current, cd(t.nodeType === 8 ? t.parentNode : t), xl(function () { v0(e, l, r, n) }), l } function b0(t, e, r, n, s) { var a = r._reactRootContainer; if (a) { var A = a; if (typeof s == "function") { var o = s; s = function () { var l = Mf(A); o.call(l) } } v0(e, A, t, s) } else A = aS(r, e, t, s, n); return Mf(A) } fb = function (t) { switch (t.tag) { case 3: var e = t.stateNode; if (e.current.memoizedState.isDehydrated) { var r = Eu(e.pendingLanes); r !== 0 && (xx(e, r | 1), Ws(e, Un()), !(Fr & 6) && (Kc = Un() + 500, Uo())) } break; case 13: xl(function () { var n = yA(t, 1); if (n !== null) { var s = Qs(); ua(n, t, 1, s) } }), Yx(t, 1) } }; vx = function (t) { if (t.tag === 13) { var e = yA(t, 134217728); if (e !== null) { var r = Qs(); ua(e, t, 134217728, r) } Yx(t, 134217728) } }; pb = function (t) { if (t.tag === 13) { var e = bo(t), r = yA(t, e); if (r !== null) { var n = Qs(); ua(r, t, e, n) } Yx(t, e) } }; gb = function () { return Dr }; mb = function (t, e) { var r = Dr; try { return Dr = t, e() } finally { Dr = r } }; Tg = function (t, e, r) { switch (e) { case "input": if (Eg(t, r), e = r.name, r.type === "radio" && e != null) { for (r = t; r.parentNode;)r = r.parentNode; for (r = r.querySelectorAll("input[name=" + JSON.stringify("" + e) + '][type="radio"]'), e = 0; e < r.length; e++) { var n = r[e]; if (n !== t && n.form === t.form) { var s = d0(n); if (!s) throw Error(wt(90)); q2(n), Eg(n, s) } } } break; case "textarea": J2(t, r); break; case "select": e = r.value, e != null && Sc(t, !!r.multiple, e, !1) } }; nb = Vx; sb = xl; var AS = { usingClientEntryPoint: !1, Events: [Id, gc, d0, tb, rb, Vx] }, mu = { findFiberByHostInstance: sl, bundleType: 0, version: "18.3.1", rendererPackageName: "react-dom" }, oS = { bundleType: mu.bundleType, version: mu.version, rendererPackageName: mu.rendererPackageName, rendererConfig: mu.rendererConfig, overrideHookState: null, overrideHookStateDeletePath: null, overrideHookStateRenamePath: null, overrideProps: null, overridePropsDeletePath: null, overridePropsRenamePath: null, setErrorHandler: null, setSuspenseHandler: null, scheduleUpdate: null, currentDispatcherRef: CA.ReactCurrentDispatcher, findHostInstanceByFiber: function (t) { return t = Ab(t), t === null ? null : t.stateNode }, findFiberByHostInstance: mu.findFiberByHostInstance || iS, findHostInstancesForRefresh: null, scheduleRefresh: null, scheduleRoot: null, setRefreshHandler: null, getCurrentFiber: null, reconcilerVersion: "18.3.1-next-f1338f8080-20240426" }; if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ < "u") { var hh = __REACT_DEVTOOLS_GLOBAL_HOOK__; if (!hh.isDisabled && hh.supportsFiber) try { o0 = hh.inject(oS), Ma = hh } catch { } } pi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = AS; pi.createPortal = function (t, e) { var r = 2 < arguments.length && arguments[2] !== void 0 ? arguments[2] : null; if (!Zx(e)) throw Error(wt(200)); return sS(t, e, null, r) }; pi.createRoot = function (t, e) { if (!Zx(t)) throw Error(wt(299)); var r = !1, n = "", s = D5; return e != null && (e.unstable_strictMode === !0 && (r = !0), e.identifierPrefix !== void 0 && (n = e.identifierPrefix), e.onRecoverableError !== void 0 && (s = e.onRecoverableError)), e = Jx(t, 1, !1, null, null, r, !1, n, s), t[wA] = e.current, cd(t.nodeType === 8 ? t.parentNode : t), new Xx(e) }; pi.findDOMNode = function (t) { if (t == null) return null; if (t.nodeType === 1) return t; var e = t._reactInternals; if (e === void 0) throw typeof t.render == "function" ? Error(wt(188)) : (t = Object.keys(t).join(","), Error(wt(268, t))); return t = Ab(e), t = t === null ? null : t.stateNode, t }; pi.flushSync = function (t) { return xl(t) }; pi.hydrate = function (t, e, r) { if (!y0(e)) throw Error(wt(200)); return b0(null, t, e, !0, r) }; pi.hydrateRoot = function (t, e, r) { if (!Zx(t)) throw Error(wt(405)); var n = r != null && r.hydratedSources || null, s = !1, a = "", A = D5; if (r != null && (r.unstable_strictMode === !0 && (s = !0), r.identifierPrefix !== void 0 && (a = r.identifierPrefix), r.onRecoverableError !== void 0 && (A = r.onRecoverableError)), e = P5(e, null, t, 1, r ?? null, s, !1, a, A), t[wA] = e.current, cd(t), n) for (t = 0; t < n.length; t++)r = n[t], s = r._getVersion, s = s(r._source), e.mutableSourceEagerHydrationData == null ? e.mutableSourceEagerHydrationData = [r, s] : e.mutableSourceEagerHydrationData.push(r, s); return new w0(e) }; pi.render = function (t, e, r) { if (!y0(e)) throw Error(wt(200)); return b0(null, t, e, !1, r) }; pi.unmountComponentAtNode = function (t) { if (!y0(t)) throw Error(wt(40)); return t._reactRootContainer ? (xl(function () { b0(null, null, t, !1, function () { t._reactRootContainer = null, t[wA] = null }) }), !0) : !1 }; pi.unstable_batchedUpdates = Vx; pi.unstable_renderSubtreeIntoContainer = function (t, e, r, n) { if (!y0(r)) throw Error(wt(200)); if (t == null || t._reactInternals === void 0) throw Error(wt(38)); return b0(t, e, r, !1, n) }; pi.version = "18.3.1-next-f1338f8080-20240426"; function R5() { if (!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ > "u" || typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE != "function")) try { __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(R5) } catch (t) { console.error(t) } } R5(), R2.exports = pi; var lS = R2.exports, Vv = lS; yg.createRoot = Vv.createRoot, yg.hydrateRoot = Vv.hydrateRoot; function B0(t, e) { var r = {}; for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && e.indexOf(n) < 0 && (r[n] = t[n]); if (t != null && typeof Object.getOwnPropertySymbols == "function") for (var s = 0, n = Object.getOwnPropertySymbols(t); s < n.length; s++)e.indexOf(n[s]) < 0 && Object.prototype.propertyIsEnumerable.call(t, n[s]) && (r[n[s]] = t[n[s]]); return r } function cS(t, e, r, n) { function s(a) { return a instanceof r ? a : new r(function (A) { A(a) }) } return new (r || (r = Promise))(function (a, A) { function o(d) { try { c(n.next(d)) } catch (p) { A(p) } } function l(d) { try { c(n.throw(d)) } catch (p) { A(p) } } function c(d) { d.done ? a(d.value) : s(d.value).then(o, l) } c((n = n.apply(t, e || [])).next()) }) } const uS = t => t ? (...e) => t(...e) : (...e) => fetch(...e); class e1 extends Error { constructor(e, r = "FunctionsError", n) { super(e), this.name = r, this.context = n } } class dS extends e1 { constructor(e) { super("Failed to send a request to the Edge Function", "FunctionsFetchError", e) } } class zv extends e1 { constructor(e) { super("Relay Error invoking the Edge Function", "FunctionsRelayError", e) } } class qv extends e1 { constructor(e) { super("Edge Function returned a non-2xx status code", "FunctionsHttpError", e) } } var fm; (function (t) { t.Any = "any", t.ApNortheast1 = "ap-northeast-1", t.ApNortheast2 = "ap-northeast-2", t.ApSouth1 = "ap-south-1", t.ApSoutheast1 = "ap-southeast-1", t.ApSoutheast2 = "ap-southeast-2", t.CaCentral1 = "ca-central-1", t.EuCentral1 = "eu-central-1", t.EuWest1 = "eu-west-1", t.EuWest2 = "eu-west-2", t.EuWest3 = "eu-west-3", t.SaEast1 = "sa-east-1", t.UsEast1 = "us-east-1", t.UsWest1 = "us-west-1", t.UsWest2 = "us-west-2" })(fm || (fm = {})); class hS { constructor(e, { headers: r = {}, customFetch: n, region: s = fm.Any } = {}) { this.url = e, this.headers = r, this.region = s, this.fetch = uS(n) } setAuth(e) { this.headers.Authorization = `Bearer ${e}` } invoke(e) { return cS(this, arguments, void 0, function* (r, n = {}) { var s; let a, A; try { const { headers: o, method: l, body: c, signal: d, timeout: p } = n; let g = {}, { region: h } = n; h || (h = this.region); const b = new URL(`${this.url}/${r}`); h && h !== "any" && (g["x-region"] = h, b.searchParams.set("forceFunctionRegion", h)); let w; c && (o && !Object.prototype.hasOwnProperty.call(o, "Content-Type") || !o) ? typeof Blob < "u" && c instanceof Blob || c instanceof ArrayBuffer ? (g["Content-Type"] = "application/octet-stream", w = c) : typeof c == "string" ? (g["Content-Type"] = "text/plain", w = c) : typeof FormData < "u" && c instanceof FormData ? w = c : (g["Content-Type"] = "application/json", w = JSON.stringify(c)) : w = c; let j = d; p && (A = new AbortController, a = setTimeout(() => A.abort(), p), d ? (j = A.signal, d.addEventListener("abort", () => A.abort())) : j = A.signal); const x = yield this.fetch(b.toString(), { method: l || "POST", headers: Object.assign(Object.assign(Object.assign({}, g), this.headers), o), body: w, signal: j }).catch(T => { throw new dS(T) }), y = x.headers.get("x-relay-error"); if (y && y === "true") throw new zv(x); if (!x.ok) throw new qv(x); let B = ((s = x.headers.get("Content-Type")) !== null && s !== void 0 ? s : "text/plain").split(";")[0].trim(), E; return B === "application/json" ? E = yield x.json() : B === "application/octet-stream" || B === "application/pdf" ? E = yield x.blob() : B === "text/event-stream" ? E = x : B === "multipart/form-data" ? E = yield x.formData() : E = yield x.text(), { data: E, error: null, response: x } } catch (o) { return { data: null, error: o, response: o instanceof qv || o instanceof zv ? o.context : void 0 } } finally { a && clearTimeout(a) } }) } } var fS = class extends Error { constructor(t) { super(t.message), this.name = "PostgrestError", this.details = t.details, this.hint = t.hint, this.code = t.code } }, pS = class {
  constructor(t) { var e, r; this.shouldThrowOnError = !1, this.method = t.method, this.url = t.url, this.headers = new Headers(t.headers), this.schema = t.schema, this.body = t.body, this.shouldThrowOnError = (e = t.shouldThrowOnError) !== null && e !== void 0 ? e : !1, this.signal = t.signal, this.isMaybeSingle = (r = t.isMaybeSingle) !== null && r !== void 0 ? r : !1, t.fetch ? this.fetch = t.fetch : this.fetch = fetch } throwOnError() { return this.shouldThrowOnError = !0, this } setHeader(t, e) { return this.headers = new Headers(this.headers), this.headers.set(t, e), this } then(t, e) {
    var r = this; this.schema === void 0 || (["GET", "HEAD"].includes(this.method) ? this.headers.set("Accept-Profile", this.schema) : this.headers.set("Content-Profile", this.schema)), this.method !== "GET" && this.method !== "HEAD" && this.headers.set("Content-Type", "application/json"); const n = this.fetch; let s = n(this.url.toString(), { method: this.method, headers: this.headers, body: JSON.stringify(this.body), signal: this.signal }).then(async a => { let A = null, o = null, l = null, c = a.status, d = a.statusText; if (a.ok) { var p, g; if (r.method !== "HEAD") { var h; const x = await a.text(); x === "" || (r.headers.get("Accept") === "text/csv" || r.headers.get("Accept") && (!((h = r.headers.get("Accept")) === null || h === void 0) && h.includes("application/vnd.pgrst.plan+text")) ? o = x : o = JSON.parse(x)) } const w = (p = r.headers.get("Prefer")) === null || p === void 0 ? void 0 : p.match(/count=(exact|planned|estimated)/), j = (g = a.headers.get("content-range")) === null || g === void 0 ? void 0 : g.split("/"); w && j && j.length > 1 && (l = parseInt(j[1])), r.isMaybeSingle && r.method === "GET" && Array.isArray(o) && (o.length > 1 ? (A = { code: "PGRST116", details: `Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`, hint: null, message: "JSON object requested, multiple (or no) rows returned" }, o = null, l = null, c = 406, d = "Not Acceptable") : o.length === 1 ? o = o[0] : o = null) } else { var b; const w = await a.text(); try { A = JSON.parse(w), Array.isArray(A) && a.status === 404 && (o = [], A = null, c = 200, d = "OK") } catch { a.status === 404 && w === "" ? (c = 204, d = "No Content") : A = { message: w } } if (A && r.isMaybeSingle && (!(A == null || (b = A.details) === null || b === void 0) && b.includes("0 rows")) && (A = null, c = 200, d = "OK"), A && r.shouldThrowOnError) throw new fS(A) } return { error: A, data: o, count: l, status: c, statusText: d } }); return this.shouldThrowOnError || (s = s.catch(a => {
      var A; let o = ""; const l = a == null ? void 0 : a.cause; if (l) {
        var c, d, p, g; const b = (c = l == null ? void 0 : l.message) !== null && c !== void 0 ? c : "", w = (d = l == null ? void 0 : l.code) !== null && d !== void 0 ? d : ""; o = `${(p = a == null ? void 0 : a.name) !== null && p !== void 0 ? p : "FetchError"}: ${a == null ? void 0 : a.message}`, o += `

Caused by: ${(g = l == null ? void 0 : l.name) !== null && g !== void 0 ? g : "Error"}: ${b}`, w && (o += ` (${w})`), l != null && l.stack && (o += `
${l.stack}`)
      } else { var h; o = (h = a == null ? void 0 : a.stack) !== null && h !== void 0 ? h : "" } return { error: { message: `${(A = a == null ? void 0 : a.name) !== null && A !== void 0 ? A : "FetchError"}: ${a == null ? void 0 : a.message}`, details: o, hint: "", code: "" }, data: null, count: null, status: 0, statusText: "" }
    })), s.then(t, e)
  } returns() { return this } overrideTypes() { return this }
}, gS = class extends pS { select(t) { let e = !1; const r = (t ?? "*").split("").map(n => /\s/.test(n) && !e ? "" : (n === '"' && (e = !e), n)).join(""); return this.url.searchParams.set("select", r), this.headers.append("Prefer", "return=representation"), this } order(t, { ascending: e = !0, nullsFirst: r, foreignTable: n, referencedTable: s = n } = {}) { const a = s ? `${s}.order` : "order", A = this.url.searchParams.get(a); return this.url.searchParams.set(a, `${A ? `${A},` : ""}${t}.${e ? "asc" : "desc"}${r === void 0 ? "" : r ? ".nullsfirst" : ".nullslast"}`), this } limit(t, { foreignTable: e, referencedTable: r = e } = {}) { const n = typeof r > "u" ? "limit" : `${r}.limit`; return this.url.searchParams.set(n, `${t}`), this } range(t, e, { foreignTable: r, referencedTable: n = r } = {}) { const s = typeof n > "u" ? "offset" : `${n}.offset`, a = typeof n > "u" ? "limit" : `${n}.limit`; return this.url.searchParams.set(s, `${t}`), this.url.searchParams.set(a, `${e - t + 1}`), this } abortSignal(t) { return this.signal = t, this } single() { return this.headers.set("Accept", "application/vnd.pgrst.object+json"), this } maybeSingle() { return this.method === "GET" ? this.headers.set("Accept", "application/json") : this.headers.set("Accept", "application/vnd.pgrst.object+json"), this.isMaybeSingle = !0, this } csv() { return this.headers.set("Accept", "text/csv"), this } geojson() { return this.headers.set("Accept", "application/geo+json"), this } explain({ analyze: t = !1, verbose: e = !1, settings: r = !1, buffers: n = !1, wal: s = !1, format: a = "text" } = {}) { var A; const o = [t ? "analyze" : null, e ? "verbose" : null, r ? "settings" : null, n ? "buffers" : null, s ? "wal" : null].filter(Boolean).join("|"), l = (A = this.headers.get("Accept")) !== null && A !== void 0 ? A : "application/json"; return this.headers.set("Accept", `application/vnd.pgrst.plan+${a}; for="${l}"; options=${o};`), a === "json" ? this : this } rollback() { return this.headers.append("Prefer", "tx=rollback"), this } returns() { return this } maxAffected(t) { return this.headers.append("Prefer", "handling=strict"), this.headers.append("Prefer", `max-affected=${t}`), this } }; const Wv = new RegExp("[,()]"); var sc = class extends gS { eq(t, e) { return this.url.searchParams.append(t, `eq.${e}`), this } neq(t, e) { return this.url.searchParams.append(t, `neq.${e}`), this } gt(t, e) { return this.url.searchParams.append(t, `gt.${e}`), this } gte(t, e) { return this.url.searchParams.append(t, `gte.${e}`), this } lt(t, e) { return this.url.searchParams.append(t, `lt.${e}`), this } lte(t, e) { return this.url.searchParams.append(t, `lte.${e}`), this } like(t, e) { return this.url.searchParams.append(t, `like.${e}`), this } likeAllOf(t, e) { return this.url.searchParams.append(t, `like(all).{${e.join(",")}}`), this } likeAnyOf(t, e) { return this.url.searchParams.append(t, `like(any).{${e.join(",")}}`), this } ilike(t, e) { return this.url.searchParams.append(t, `ilike.${e}`), this } ilikeAllOf(t, e) { return this.url.searchParams.append(t, `ilike(all).{${e.join(",")}}`), this } ilikeAnyOf(t, e) { return this.url.searchParams.append(t, `ilike(any).{${e.join(",")}}`), this } regexMatch(t, e) { return this.url.searchParams.append(t, `match.${e}`), this } regexIMatch(t, e) { return this.url.searchParams.append(t, `imatch.${e}`), this } is(t, e) { return this.url.searchParams.append(t, `is.${e}`), this } isDistinct(t, e) { return this.url.searchParams.append(t, `isdistinct.${e}`), this } in(t, e) { const r = Array.from(new Set(e)).map(n => typeof n == "string" && Wv.test(n) ? `"${n}"` : `${n}`).join(","); return this.url.searchParams.append(t, `in.(${r})`), this } notIn(t, e) { const r = Array.from(new Set(e)).map(n => typeof n == "string" && Wv.test(n) ? `"${n}"` : `${n}`).join(","); return this.url.searchParams.append(t, `not.in.(${r})`), this } contains(t, e) { return typeof e == "string" ? this.url.searchParams.append(t, `cs.${e}`) : Array.isArray(e) ? this.url.searchParams.append(t, `cs.{${e.join(",")}}`) : this.url.searchParams.append(t, `cs.${JSON.stringify(e)}`), this } containedBy(t, e) { return typeof e == "string" ? this.url.searchParams.append(t, `cd.${e}`) : Array.isArray(e) ? this.url.searchParams.append(t, `cd.{${e.join(",")}}`) : this.url.searchParams.append(t, `cd.${JSON.stringify(e)}`), this } rangeGt(t, e) { return this.url.searchParams.append(t, `sr.${e}`), this } rangeGte(t, e) { return this.url.searchParams.append(t, `nxl.${e}`), this } rangeLt(t, e) { return this.url.searchParams.append(t, `sl.${e}`), this } rangeLte(t, e) { return this.url.searchParams.append(t, `nxr.${e}`), this } rangeAdjacent(t, e) { return this.url.searchParams.append(t, `adj.${e}`), this } overlaps(t, e) { return typeof e == "string" ? this.url.searchParams.append(t, `ov.${e}`) : this.url.searchParams.append(t, `ov.{${e.join(",")}}`), this } textSearch(t, e, { config: r, type: n } = {}) { let s = ""; n === "plain" ? s = "pl" : n === "phrase" ? s = "ph" : n === "websearch" && (s = "w"); const a = r === void 0 ? "" : `(${r})`; return this.url.searchParams.append(t, `${s}fts${a}.${e}`), this } match(t) { return Object.entries(t).forEach(([e, r]) => { this.url.searchParams.append(e, `eq.${r}`) }), this } not(t, e, r) { return this.url.searchParams.append(t, `not.${e}.${r}`), this } or(t, { foreignTable: e, referencedTable: r = e } = {}) { const n = r ? `${r}.or` : "or"; return this.url.searchParams.append(n, `(${t})`), this } filter(t, e, r) { return this.url.searchParams.append(t, `${e}.${r}`), this } }, mS = class { constructor(t, { headers: e = {}, schema: r, fetch: n }) { this.url = t, this.headers = new Headers(e), this.schema = r, this.fetch = n } select(t, e) { const { head: r = !1, count: n } = e ?? {}, s = r ? "HEAD" : "GET"; let a = !1; const A = (t ?? "*").split("").map(o => /\s/.test(o) && !a ? "" : (o === '"' && (a = !a), o)).join(""); return this.url.searchParams.set("select", A), n && this.headers.append("Prefer", `count=${n}`), new sc({ method: s, url: this.url, headers: this.headers, schema: this.schema, fetch: this.fetch }) } insert(t, { count: e, defaultToNull: r = !0 } = {}) { var n; const s = "POST"; if (e && this.headers.append("Prefer", `count=${e}`), r || this.headers.append("Prefer", "missing=default"), Array.isArray(t)) { const a = t.reduce((A, o) => A.concat(Object.keys(o)), []); if (a.length > 0) { const A = [...new Set(a)].map(o => `"${o}"`); this.url.searchParams.set("columns", A.join(",")) } } return new sc({ method: s, url: this.url, headers: this.headers, schema: this.schema, body: t, fetch: (n = this.fetch) !== null && n !== void 0 ? n : fetch }) } upsert(t, { onConflict: e, ignoreDuplicates: r = !1, count: n, defaultToNull: s = !0 } = {}) { var a; const A = "POST"; if (this.headers.append("Prefer", `resolution=${r ? "ignore" : "merge"}-duplicates`), e !== void 0 && this.url.searchParams.set("on_conflict", e), n && this.headers.append("Prefer", `count=${n}`), s || this.headers.append("Prefer", "missing=default"), Array.isArray(t)) { const o = t.reduce((l, c) => l.concat(Object.keys(c)), []); if (o.length > 0) { const l = [...new Set(o)].map(c => `"${c}"`); this.url.searchParams.set("columns", l.join(",")) } } return new sc({ method: A, url: this.url, headers: this.headers, schema: this.schema, body: t, fetch: (a = this.fetch) !== null && a !== void 0 ? a : fetch }) } update(t, { count: e } = {}) { var r; const n = "PATCH"; return e && this.headers.append("Prefer", `count=${e}`), new sc({ method: n, url: this.url, headers: this.headers, schema: this.schema, body: t, fetch: (r = this.fetch) !== null && r !== void 0 ? r : fetch }) } delete({ count: t } = {}) { var e; const r = "DELETE"; return t && this.headers.append("Prefer", `count=${t}`), new sc({ method: r, url: this.url, headers: this.headers, schema: this.schema, fetch: (e = this.fetch) !== null && e !== void 0 ? e : fetch }) } }, xS = class H5 { constructor(e, { headers: r = {}, schema: n, fetch: s } = {}) { this.url = e, this.headers = new Headers(r), this.schemaName = n, this.fetch = s } from(e) { if (!e || typeof e != "string" || e.trim() === "") throw new Error("Invalid relation name: relation must be a non-empty string."); return new mS(new URL(`${this.url}/${e}`), { headers: new Headers(this.headers), schema: this.schemaName, fetch: this.fetch }) } schema(e) { return new H5(this.url, { headers: this.headers, schema: e, fetch: this.fetch }) } rpc(e, r = {}, { head: n = !1, get: s = !1, count: a } = {}) { var A; let o; const l = new URL(`${this.url}/rpc/${e}`); let c; n || s ? (o = n ? "HEAD" : "GET", Object.entries(r).filter(([p, g]) => g !== void 0).map(([p, g]) => [p, Array.isArray(g) ? `{${g.join(",")}}` : `${g}`]).forEach(([p, g]) => { l.searchParams.append(p, g) })) : (o = "POST", c = r); const d = new Headers(this.headers); return a && d.set("Prefer", `count=${a}`), new sc({ method: o, url: l, headers: d, schema: this.schemaName, body: c, fetch: (A = this.fetch) !== null && A !== void 0 ? A : fetch }) } }; class vS {
  constructor() { } static detectEnvironment() {
    var e; if (typeof WebSocket < "u") return { type: "native", constructor: WebSocket }; if (typeof globalThis < "u" && typeof globalThis.WebSocket < "u") return { type: "native", constructor: globalThis.WebSocket }; if (typeof global < "u" && typeof global.WebSocket < "u") return { type: "native", constructor: global.WebSocket }; if (typeof globalThis < "u" && typeof globalThis.WebSocketPair < "u" && typeof globalThis.WebSocket > "u") return { type: "cloudflare", error: "Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.", workaround: "Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime." }; if (typeof globalThis < "u" && globalThis.EdgeRuntime || typeof navigator < "u" && (!((e = navigator.userAgent) === null || e === void 0) && e.includes("Vercel-Edge"))) return { type: "unsupported", error: "Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.", workaround: "Use serverless functions or a different deployment target for WebSocket functionality." }; if (typeof process < "u") {
      const r = process.versions; if (r && r.node) {
        const n = r.node, s = parseInt(n.replace(/^v/, "").split(".")[0]); return s >= 22 ? typeof globalThis.WebSocket < "u" ? { type: "native", constructor: globalThis.WebSocket } : { type: "unsupported", error: `Node.js ${s} detected but native WebSocket not found.`, workaround: "Provide a WebSocket implementation via the transport option." } : {
          type: "unsupported", error: `Node.js ${s} detected without native WebSocket support.`, workaround: `For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}
      }
    } return { type: "unsupported", error: "Unknown JavaScript runtime without WebSocket support.", workaround: "Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation." }
  } static getWebSocketConstructor() {
    const e = this.detectEnvironment(); if (e.constructor) return e.constructor; let r = e.error || "WebSocket not supported in this environment."; throw e.workaround && (r += `

Suggested solution: ${e.workaround}`), new Error(r)
  } static createWebSocket(e, r) { const n = this.getWebSocketConstructor(); return new n(e, r) } static isWebSocketSupported() { try { const e = this.detectEnvironment(); return e.type === "native" || e.type === "ws" } catch { return !1 } }
} const wS = "2.89.0", yS = `realtime-js/${wS}`, M5 = "1.0.0", bS = "2.0.0", Jv = M5, pm = 1e4, BS = 1e3, CS = 100; var so; (function (t) { t[t.connecting = 0] = "connecting", t[t.open = 1] = "open", t[t.closing = 2] = "closing", t[t.closed = 3] = "closed" })(so || (so = {})); var Vn; (function (t) { t.closed = "closed", t.errored = "errored", t.joined = "joined", t.joining = "joining", t.leaving = "leaving" })(Vn || (Vn = {})); var oa; (function (t) { t.close = "phx_close", t.error = "phx_error", t.join = "phx_join", t.reply = "phx_reply", t.leave = "phx_leave", t.access_token = "access_token" })(oa || (oa = {})); var gm; (function (t) { t.websocket = "websocket" })(gm || (gm = {})); var el; (function (t) { t.Connecting = "connecting", t.Open = "open", t.Closing = "closing", t.Closed = "closed" })(el || (el = {})); class NS { constructor(e) { this.HEADER_LENGTH = 1, this.USER_BROADCAST_PUSH_META_LENGTH = 6, this.KINDS = { userBroadcastPush: 3, userBroadcast: 4 }, this.BINARY_ENCODING = 0, this.JSON_ENCODING = 1, this.BROADCAST_EVENT = "broadcast", this.allowedMetadataKeys = [], this.allowedMetadataKeys = e ?? [] } encode(e, r) { if (e.event === this.BROADCAST_EVENT && !(e.payload instanceof ArrayBuffer) && typeof e.payload.event == "string") return r(this._binaryEncodeUserBroadcastPush(e)); let n = [e.join_ref, e.ref, e.topic, e.event, e.payload]; return r(JSON.stringify(n)) } _binaryEncodeUserBroadcastPush(e) { var r; return this._isArrayBuffer((r = e.payload) === null || r === void 0 ? void 0 : r.payload) ? this._encodeBinaryUserBroadcastPush(e) : this._encodeJsonUserBroadcastPush(e) } _encodeBinaryUserBroadcastPush(e) { var r, n; const s = (n = (r = e.payload) === null || r === void 0 ? void 0 : r.payload) !== null && n !== void 0 ? n : new ArrayBuffer(0); return this._encodeUserBroadcastPush(e, this.BINARY_ENCODING, s) } _encodeJsonUserBroadcastPush(e) { var r, n; const s = (n = (r = e.payload) === null || r === void 0 ? void 0 : r.payload) !== null && n !== void 0 ? n : {}, A = new TextEncoder().encode(JSON.stringify(s)).buffer; return this._encodeUserBroadcastPush(e, this.JSON_ENCODING, A) } _encodeUserBroadcastPush(e, r, n) { var s, a; const A = e.topic, o = (s = e.ref) !== null && s !== void 0 ? s : "", l = (a = e.join_ref) !== null && a !== void 0 ? a : "", c = e.payload.event, d = this.allowedMetadataKeys ? this._pick(e.payload, this.allowedMetadataKeys) : {}, p = Object.keys(d).length === 0 ? "" : JSON.stringify(d); if (l.length > 255) throw new Error(`joinRef length ${l.length} exceeds maximum of 255`); if (o.length > 255) throw new Error(`ref length ${o.length} exceeds maximum of 255`); if (A.length > 255) throw new Error(`topic length ${A.length} exceeds maximum of 255`); if (c.length > 255) throw new Error(`userEvent length ${c.length} exceeds maximum of 255`); if (p.length > 255) throw new Error(`metadata length ${p.length} exceeds maximum of 255`); const g = this.USER_BROADCAST_PUSH_META_LENGTH + l.length + o.length + A.length + c.length + p.length, h = new ArrayBuffer(this.HEADER_LENGTH + g); let b = new DataView(h), w = 0; b.setUint8(w++, this.KINDS.userBroadcastPush), b.setUint8(w++, l.length), b.setUint8(w++, o.length), b.setUint8(w++, A.length), b.setUint8(w++, c.length), b.setUint8(w++, p.length), b.setUint8(w++, r), Array.from(l, x => b.setUint8(w++, x.charCodeAt(0))), Array.from(o, x => b.setUint8(w++, x.charCodeAt(0))), Array.from(A, x => b.setUint8(w++, x.charCodeAt(0))), Array.from(c, x => b.setUint8(w++, x.charCodeAt(0))), Array.from(p, x => b.setUint8(w++, x.charCodeAt(0))); var j = new Uint8Array(h.byteLength + n.byteLength); return j.set(new Uint8Array(h), 0), j.set(new Uint8Array(n), h.byteLength), j.buffer } decode(e, r) { if (this._isArrayBuffer(e)) { let n = this._binaryDecode(e); return r(n) } if (typeof e == "string") { const n = JSON.parse(e), [s, a, A, o, l] = n; return r({ join_ref: s, ref: a, topic: A, event: o, payload: l }) } return r({}) } _binaryDecode(e) { const r = new DataView(e), n = r.getUint8(0), s = new TextDecoder; switch (n) { case this.KINDS.userBroadcast: return this._decodeUserBroadcast(e, r, s) } } _decodeUserBroadcast(e, r, n) { const s = r.getUint8(1), a = r.getUint8(2), A = r.getUint8(3), o = r.getUint8(4); let l = this.HEADER_LENGTH + 4; const c = n.decode(e.slice(l, l + s)); l = l + s; const d = n.decode(e.slice(l, l + a)); l = l + a; const p = n.decode(e.slice(l, l + A)); l = l + A; const g = e.slice(l, e.byteLength), h = o === this.JSON_ENCODING ? JSON.parse(n.decode(g)) : g, b = { type: this.BROADCAST_EVENT, event: d, payload: h }; return A > 0 && (b.meta = JSON.parse(p)), { join_ref: null, ref: null, topic: c, event: this.BROADCAST_EVENT, payload: b } } _isArrayBuffer(e) { var r; return e instanceof ArrayBuffer || ((r = e == null ? void 0 : e.constructor) === null || r === void 0 ? void 0 : r.name) === "ArrayBuffer" } _pick(e, r) { return !e || typeof e != "object" ? {} : Object.fromEntries(Object.entries(e).filter(([n]) => r.includes(n))) } } class $5 { constructor(e, r) { this.callback = e, this.timerCalc = r, this.timer = void 0, this.tries = 0, this.callback = e, this.timerCalc = r } reset() { this.tries = 0, clearTimeout(this.timer), this.timer = void 0 } scheduleTimeout() { clearTimeout(this.timer), this.timer = setTimeout(() => { this.tries = this.tries + 1, this.callback() }, this.timerCalc(this.tries + 1)) } } var Jr; (function (t) { t.abstime = "abstime", t.bool = "bool", t.date = "date", t.daterange = "daterange", t.float4 = "float4", t.float8 = "float8", t.int2 = "int2", t.int4 = "int4", t.int4range = "int4range", t.int8 = "int8", t.int8range = "int8range", t.json = "json", t.jsonb = "jsonb", t.money = "money", t.numeric = "numeric", t.oid = "oid", t.reltime = "reltime", t.text = "text", t.time = "time", t.timestamp = "timestamp", t.timestamptz = "timestamptz", t.timetz = "timetz", t.tsrange = "tsrange", t.tstzrange = "tstzrange" })(Jr || (Jr = {})); const Yv = (t, e, r = {}) => { var n; const s = (n = r.skipTypes) !== null && n !== void 0 ? n : []; return e ? Object.keys(e).reduce((a, A) => (a[A] = SS(A, t, e, s), a), {}) : {} }, SS = (t, e, r, n) => { const s = e.find(o => o.name === t), a = s == null ? void 0 : s.type, A = r[t]; return a && !n.includes(a) ? K5(a, A) : mm(A) }, K5 = (t, e) => { if (t.charAt(0) === "_") { const r = t.slice(1, t.length); return _S(e, r) } switch (t) { case Jr.bool: return jS(e); case Jr.float4: case Jr.float8: case Jr.int2: case Jr.int4: case Jr.int8: case Jr.numeric: case Jr.oid: return ES(e); case Jr.json: case Jr.jsonb: return FS(e); case Jr.timestamp: return kS(e); case Jr.abstime: case Jr.date: case Jr.daterange: case Jr.int4range: case Jr.int8range: case Jr.money: case Jr.reltime: case Jr.text: case Jr.time: case Jr.timestamptz: case Jr.timetz: case Jr.tsrange: case Jr.tstzrange: return mm(e); default: return mm(e) } }, mm = t => t, jS = t => { switch (t) { case "t": return !0; case "f": return !1; default: return t } }, ES = t => { if (typeof t == "string") { const e = parseFloat(t); if (!Number.isNaN(e)) return e } return t }, FS = t => { if (typeof t == "string") try { return JSON.parse(t) } catch { return t } return t }, _S = (t, e) => { if (typeof t != "string") return t; const r = t.length - 1, n = t[r]; if (t[0] === "{" && n === "}") { let a; const A = t.slice(1, r); try { a = JSON.parse("[" + A + "]") } catch { a = A ? A.split(",") : [] } return a.map(o => K5(e, o)) } return t }, kS = t => typeof t == "string" ? t.replace(" ", "T") : t, G5 = t => { const e = new URL(t); return e.protocol = e.protocol.replace(/^ws/i, "http"), e.pathname = e.pathname.replace(/\/+$/, "").replace(/\/socket\/websocket$/i, "").replace(/\/socket$/i, "").replace(/\/websocket$/i, ""), e.pathname === "" || e.pathname === "/" ? e.pathname = "/api/broadcast" : e.pathname = e.pathname + "/api/broadcast", e.href }; class Bp { constructor(e, r, n = {}, s = pm) { this.channel = e, this.event = r, this.payload = n, this.timeout = s, this.sent = !1, this.timeoutTimer = void 0, this.ref = "", this.receivedResp = null, this.recHooks = [], this.refEvent = null } resend(e) { this.timeout = e, this._cancelRefEvent(), this.ref = "", this.refEvent = null, this.receivedResp = null, this.sent = !1, this.send() } send() { this._hasReceived("timeout") || (this.startTimeout(), this.sent = !0, this.channel.socket.push({ topic: this.channel.topic, event: this.event, payload: this.payload, ref: this.ref, join_ref: this.channel._joinRef() })) } updatePayload(e) { this.payload = Object.assign(Object.assign({}, this.payload), e) } receive(e, r) { var n; return this._hasReceived(e) && r((n = this.receivedResp) === null || n === void 0 ? void 0 : n.response), this.recHooks.push({ status: e, callback: r }), this } startTimeout() { if (this.timeoutTimer) return; this.ref = this.channel.socket._makeRef(), this.refEvent = this.channel._replyEventName(this.ref); const e = r => { this._cancelRefEvent(), this._cancelTimeout(), this.receivedResp = r, this._matchReceive(r) }; this.channel._on(this.refEvent, {}, e), this.timeoutTimer = setTimeout(() => { this.trigger("timeout", {}) }, this.timeout) } trigger(e, r) { this.refEvent && this.channel._trigger(this.refEvent, { status: e, response: r }) } destroy() { this._cancelRefEvent(), this._cancelTimeout() } _cancelRefEvent() { this.refEvent && this.channel._off(this.refEvent, {}) } _cancelTimeout() { clearTimeout(this.timeoutTimer), this.timeoutTimer = void 0 } _matchReceive({ status: e, response: r }) { this.recHooks.filter(n => n.status === e).forEach(n => n.callback(r)) } _hasReceived(e) { return this.receivedResp && this.receivedResp.status === e } } var Xv; (function (t) { t.SYNC = "sync", t.JOIN = "join", t.LEAVE = "leave" })(Xv || (Xv = {})); class zu { constructor(e, r) { this.channel = e, this.state = {}, this.pendingDiffs = [], this.joinRef = null, this.enabled = !1, this.caller = { onJoin: () => { }, onLeave: () => { }, onSync: () => { } }; const n = (r == null ? void 0 : r.events) || { state: "presence_state", diff: "presence_diff" }; this.channel._on(n.state, {}, s => { const { onJoin: a, onLeave: A, onSync: o } = this.caller; this.joinRef = this.channel._joinRef(), this.state = zu.syncState(this.state, s, a, A), this.pendingDiffs.forEach(l => { this.state = zu.syncDiff(this.state, l, a, A) }), this.pendingDiffs = [], o() }), this.channel._on(n.diff, {}, s => { const { onJoin: a, onLeave: A, onSync: o } = this.caller; this.inPendingSyncState() ? this.pendingDiffs.push(s) : (this.state = zu.syncDiff(this.state, s, a, A), o()) }), this.onJoin((s, a, A) => { this.channel._trigger("presence", { event: "join", key: s, currentPresences: a, newPresences: A }) }), this.onLeave((s, a, A) => { this.channel._trigger("presence", { event: "leave", key: s, currentPresences: a, leftPresences: A }) }), this.onSync(() => { this.channel._trigger("presence", { event: "sync" }) }) } static syncState(e, r, n, s) { const a = this.cloneDeep(e), A = this.transformState(r), o = {}, l = {}; return this.map(a, (c, d) => { A[c] || (l[c] = d) }), this.map(A, (c, d) => { const p = a[c]; if (p) { const g = d.map(j => j.presence_ref), h = p.map(j => j.presence_ref), b = d.filter(j => h.indexOf(j.presence_ref) < 0), w = p.filter(j => g.indexOf(j.presence_ref) < 0); b.length > 0 && (o[c] = b), w.length > 0 && (l[c] = w) } else o[c] = d }), this.syncDiff(a, { joins: o, leaves: l }, n, s) } static syncDiff(e, r, n, s) { const { joins: a, leaves: A } = { joins: this.transformState(r.joins), leaves: this.transformState(r.leaves) }; return n || (n = () => { }), s || (s = () => { }), this.map(a, (o, l) => { var c; const d = (c = e[o]) !== null && c !== void 0 ? c : []; if (e[o] = this.cloneDeep(l), d.length > 0) { const p = e[o].map(h => h.presence_ref), g = d.filter(h => p.indexOf(h.presence_ref) < 0); e[o].unshift(...g) } n(o, d, l) }), this.map(A, (o, l) => { let c = e[o]; if (!c) return; const d = l.map(p => p.presence_ref); c = c.filter(p => d.indexOf(p.presence_ref) < 0), e[o] = c, s(o, c, l), c.length === 0 && delete e[o] }), e } static map(e, r) { return Object.getOwnPropertyNames(e).map(n => r(n, e[n])) } static transformState(e) { return e = this.cloneDeep(e), Object.getOwnPropertyNames(e).reduce((r, n) => { const s = e[n]; return "metas" in s ? r[n] = s.metas.map(a => (a.presence_ref = a.phx_ref, delete a.phx_ref, delete a.phx_ref_prev, a)) : r[n] = s, r }, {}) } static cloneDeep(e) { return JSON.parse(JSON.stringify(e)) } onJoin(e) { this.caller.onJoin = e } onLeave(e) { this.caller.onLeave = e } onSync(e) { this.caller.onSync = e } inPendingSyncState() { return !this.joinRef || this.joinRef !== this.channel._joinRef() } } var Zv; (function (t) { t.ALL = "*", t.INSERT = "INSERT", t.UPDATE = "UPDATE", t.DELETE = "DELETE" })(Zv || (Zv = {})); var qu; (function (t) { t.BROADCAST = "broadcast", t.PRESENCE = "presence", t.POSTGRES_CHANGES = "postgres_changes", t.SYSTEM = "system" })(qu || (qu = {})); var dA; (function (t) { t.SUBSCRIBED = "SUBSCRIBED", t.TIMED_OUT = "TIMED_OUT", t.CLOSED = "CLOSED", t.CHANNEL_ERROR = "CHANNEL_ERROR" })(dA || (dA = {})); class Bc { constructor(e, r = { config: {} }, n) { var s, a; if (this.topic = e, this.params = r, this.socket = n, this.bindings = {}, this.state = Vn.closed, this.joinedOnce = !1, this.pushBuffer = [], this.subTopic = e.replace(/^realtime:/i, ""), this.params.config = Object.assign({ broadcast: { ack: !1, self: !1 }, presence: { key: "", enabled: !1 }, private: !1 }, r.config), this.timeout = this.socket.timeout, this.joinPush = new Bp(this, oa.join, this.params, this.timeout), this.rejoinTimer = new $5(() => this._rejoinUntilConnected(), this.socket.reconnectAfterMs), this.joinPush.receive("ok", () => { this.state = Vn.joined, this.rejoinTimer.reset(), this.pushBuffer.forEach(A => A.send()), this.pushBuffer = [] }), this._onClose(() => { this.rejoinTimer.reset(), this.socket.log("channel", `close ${this.topic} ${this._joinRef()}`), this.state = Vn.closed, this.socket._remove(this) }), this._onError(A => { this._isLeaving() || this._isClosed() || (this.socket.log("channel", `error ${this.topic}`, A), this.state = Vn.errored, this.rejoinTimer.scheduleTimeout()) }), this.joinPush.receive("timeout", () => { this._isJoining() && (this.socket.log("channel", `timeout ${this.topic}`, this.joinPush.timeout), this.state = Vn.errored, this.rejoinTimer.scheduleTimeout()) }), this.joinPush.receive("error", A => { this._isLeaving() || this._isClosed() || (this.socket.log("channel", `error ${this.topic}`, A), this.state = Vn.errored, this.rejoinTimer.scheduleTimeout()) }), this._on(oa.reply, {}, (A, o) => { this._trigger(this._replyEventName(o), A) }), this.presence = new zu(this), this.broadcastEndpointURL = G5(this.socket.endPoint), this.private = this.params.config.private || !1, !this.private && (!((a = (s = this.params.config) === null || s === void 0 ? void 0 : s.broadcast) === null || a === void 0) && a.replay)) throw `tried to use replay on public channel '${this.topic}'. It must be a private channel.` } subscribe(e, r = this.timeout) { var n, s, a; if (this.socket.isConnected() || this.socket.connect(), this.state == Vn.closed) { const { config: { broadcast: A, presence: o, private: l } } = this.params, c = (s = (n = this.bindings.postgres_changes) === null || n === void 0 ? void 0 : n.map(h => h.filter)) !== null && s !== void 0 ? s : [], d = !!this.bindings[qu.PRESENCE] && this.bindings[qu.PRESENCE].length > 0 || ((a = this.params.config.presence) === null || a === void 0 ? void 0 : a.enabled) === !0, p = {}, g = { broadcast: A, presence: Object.assign(Object.assign({}, o), { enabled: d }), postgres_changes: c, private: l }; this.socket.accessTokenValue && (p.access_token = this.socket.accessTokenValue), this._onError(h => e == null ? void 0 : e(dA.CHANNEL_ERROR, h)), this._onClose(() => e == null ? void 0 : e(dA.CLOSED)), this.updateJoinPayload(Object.assign({ config: g }, p)), this.joinedOnce = !0, this._rejoin(r), this.joinPush.receive("ok", async ({ postgres_changes: h }) => { var b; if (this.socket._isManualToken() || this.socket.setAuth(), h === void 0) { e == null || e(dA.SUBSCRIBED); return } else { const w = this.bindings.postgres_changes, j = (b = w == null ? void 0 : w.length) !== null && b !== void 0 ? b : 0, x = []; for (let y = 0; y < j; y++) { const B = w[y], { filter: { event: E, schema: T, table: U, filter: M } } = B, G = h && h[y]; if (G && G.event === E && Bc.isFilterValueEqual(G.schema, T) && Bc.isFilterValueEqual(G.table, U) && Bc.isFilterValueEqual(G.filter, M)) x.push(Object.assign(Object.assign({}, B), { id: G.id })); else { this.unsubscribe(), this.state = Vn.errored, e == null || e(dA.CHANNEL_ERROR, new Error("mismatch between server and client bindings for postgres changes")); return } } this.bindings.postgres_changes = x, e && e(dA.SUBSCRIBED); return } }).receive("error", h => { this.state = Vn.errored, e == null || e(dA.CHANNEL_ERROR, new Error(JSON.stringify(Object.values(h).join(", ") || "error"))) }).receive("timeout", () => { e == null || e(dA.TIMED_OUT) }) } return this } presenceState() { return this.presence.state } async track(e, r = {}) { return await this.send({ type: "presence", event: "track", payload: e }, r.timeout || this.timeout) } async untrack(e = {}) { return await this.send({ type: "presence", event: "untrack" }, e) } on(e, r, n) { return this.state === Vn.joined && e === qu.PRESENCE && (this.socket.log("channel", `resubscribe to ${this.topic} due to change in presence callbacks on joined channel`), this.unsubscribe().then(async () => await this.subscribe())), this._on(e, r, n) } async httpSend(e, r, n = {}) { var s; if (r == null) return Promise.reject("Payload is required for httpSend()"); const a = { apikey: this.socket.apiKey ? this.socket.apiKey : "", "Content-Type": "application/json" }; this.socket.accessTokenValue && (a.Authorization = `Bearer ${this.socket.accessTokenValue}`); const A = { method: "POST", headers: a, body: JSON.stringify({ messages: [{ topic: this.subTopic, event: e, payload: r, private: this.private }] }) }, o = await this._fetchWithTimeout(this.broadcastEndpointURL, A, (s = n.timeout) !== null && s !== void 0 ? s : this.timeout); if (o.status === 202) return { success: !0 }; let l = o.statusText; try { const c = await o.json(); l = c.error || c.message || l } catch { } return Promise.reject(new Error(l)) } async send(e, r = {}) { var n, s; if (!this._canPush() && e.type === "broadcast") { console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery."); const { event: a, payload: A } = e, o = { apikey: this.socket.apiKey ? this.socket.apiKey : "", "Content-Type": "application/json" }; this.socket.accessTokenValue && (o.Authorization = `Bearer ${this.socket.accessTokenValue}`); const l = { method: "POST", headers: o, body: JSON.stringify({ messages: [{ topic: this.subTopic, event: a, payload: A, private: this.private }] }) }; try { const c = await this._fetchWithTimeout(this.broadcastEndpointURL, l, (n = r.timeout) !== null && n !== void 0 ? n : this.timeout); return await ((s = c.body) === null || s === void 0 ? void 0 : s.cancel()), c.ok ? "ok" : "error" } catch (c) { return c.name === "AbortError" ? "timed out" : "error" } } else return new Promise(a => { var A, o, l; const c = this._push(e.type, e, r.timeout || this.timeout); e.type === "broadcast" && !(!((l = (o = (A = this.params) === null || A === void 0 ? void 0 : A.config) === null || o === void 0 ? void 0 : o.broadcast) === null || l === void 0) && l.ack) && a("ok"), c.receive("ok", () => a("ok")), c.receive("error", () => a("error")), c.receive("timeout", () => a("timed out")) }) } updateJoinPayload(e) { this.joinPush.updatePayload(e) } unsubscribe(e = this.timeout) { this.state = Vn.leaving; const r = () => { this.socket.log("channel", `leave ${this.topic}`), this._trigger(oa.close, "leave", this._joinRef()) }; this.joinPush.destroy(); let n = null; return new Promise(s => { n = new Bp(this, oa.leave, {}, e), n.receive("ok", () => { r(), s("ok") }).receive("timeout", () => { r(), s("timed out") }).receive("error", () => { s("error") }), n.send(), this._canPush() || n.trigger("ok", {}) }).finally(() => { n == null || n.destroy() }) } teardown() { this.pushBuffer.forEach(e => e.destroy()), this.pushBuffer = [], this.rejoinTimer.reset(), this.joinPush.destroy(), this.state = Vn.closed, this.bindings = {} } async _fetchWithTimeout(e, r, n) { const s = new AbortController, a = setTimeout(() => s.abort(), n), A = await this.socket.fetch(e, Object.assign(Object.assign({}, r), { signal: s.signal })); return clearTimeout(a), A } _push(e, r, n = this.timeout) { if (!this.joinedOnce) throw `tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`; let s = new Bp(this, e, r, n); return this._canPush() ? s.send() : this._addToPushBuffer(s), s } _addToPushBuffer(e) { if (e.startTimeout(), this.pushBuffer.push(e), this.pushBuffer.length > CS) { const r = this.pushBuffer.shift(); r && (r.destroy(), this.socket.log("channel", `discarded push due to buffer overflow: ${r.event}`, r.payload)) } } _onMessage(e, r, n) { return r } _isMember(e) { return this.topic === e } _joinRef() { return this.joinPush.ref } _trigger(e, r, n) { var s, a; const A = e.toLocaleLowerCase(), { close: o, error: l, leave: c, join: d } = oa; if (n && [o, l, c, d].indexOf(A) >= 0 && n !== this._joinRef()) return; let g = this._onMessage(A, r, n); if (r && !g) throw "channel onMessage callbacks must return the payload, modified or unmodified";["insert", "update", "delete"].includes(A) ? (s = this.bindings.postgres_changes) === null || s === void 0 || s.filter(h => { var b, w, j; return ((b = h.filter) === null || b === void 0 ? void 0 : b.event) === "*" || ((j = (w = h.filter) === null || w === void 0 ? void 0 : w.event) === null || j === void 0 ? void 0 : j.toLocaleLowerCase()) === A }).map(h => h.callback(g, n)) : (a = this.bindings[A]) === null || a === void 0 || a.filter(h => { var b, w, j, x, y, B; if (["broadcast", "presence", "postgres_changes"].includes(A)) if ("id" in h) { const E = h.id, T = (b = h.filter) === null || b === void 0 ? void 0 : b.event; return E && ((w = r.ids) === null || w === void 0 ? void 0 : w.includes(E)) && (T === "*" || (T == null ? void 0 : T.toLocaleLowerCase()) === ((j = r.data) === null || j === void 0 ? void 0 : j.type.toLocaleLowerCase())) } else { const E = (y = (x = h == null ? void 0 : h.filter) === null || x === void 0 ? void 0 : x.event) === null || y === void 0 ? void 0 : y.toLocaleLowerCase(); return E === "*" || E === ((B = r == null ? void 0 : r.event) === null || B === void 0 ? void 0 : B.toLocaleLowerCase()) } else return h.type.toLocaleLowerCase() === A }).map(h => { if (typeof g == "object" && "ids" in g) { const b = g.data, { schema: w, table: j, commit_timestamp: x, type: y, errors: B } = b; g = Object.assign(Object.assign({}, { schema: w, table: j, commit_timestamp: x, eventType: y, new: {}, old: {}, errors: B }), this._getPayloadRecords(b)) } h.callback(g, n) }) } _isClosed() { return this.state === Vn.closed } _isJoined() { return this.state === Vn.joined } _isJoining() { return this.state === Vn.joining } _isLeaving() { return this.state === Vn.leaving } _replyEventName(e) { return `chan_reply_${e}` } _on(e, r, n) { const s = e.toLocaleLowerCase(), a = { type: s, filter: r, callback: n }; return this.bindings[s] ? this.bindings[s].push(a) : this.bindings[s] = [a], this } _off(e, r) { const n = e.toLocaleLowerCase(); return this.bindings[n] && (this.bindings[n] = this.bindings[n].filter(s => { var a; return !(((a = s.type) === null || a === void 0 ? void 0 : a.toLocaleLowerCase()) === n && Bc.isEqual(s.filter, r)) })), this } static isEqual(e, r) { if (Object.keys(e).length !== Object.keys(r).length) return !1; for (const n in e) if (e[n] !== r[n]) return !1; return !0 } static isFilterValueEqual(e, r) { return (e ?? void 0) === (r ?? void 0) } _rejoinUntilConnected() { this.rejoinTimer.scheduleTimeout(), this.socket.isConnected() && this._rejoin() } _onClose(e) { this._on(oa.close, {}, e) } _onError(e) { this._on(oa.error, {}, r => e(r)) } _canPush() { return this.socket.isConnected() && this._isJoined() } _rejoin(e = this.timeout) { this._isLeaving() || (this.socket._leaveOpenTopic(this.topic), this.state = Vn.joining, this.joinPush.resend(e)) } _getPayloadRecords(e) { const r = { new: {}, old: {} }; return (e.type === "INSERT" || e.type === "UPDATE") && (r.new = Yv(e.columns, e.record)), (e.type === "UPDATE" || e.type === "DELETE") && (r.old = Yv(e.columns, e.old_record)), r } } const Cp = () => { }, fh = { HEARTBEAT_INTERVAL: 25e3, RECONNECT_DELAY: 10, HEARTBEAT_TIMEOUT_FALLBACK: 100 }, US = [1e3, 2e3, 5e3, 1e4], IS = 1e4, QS = `
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`; class TS {
  constructor(e, r) { var n; if (this.accessTokenValue = null, this.apiKey = null, this._manuallySetToken = !1, this.channels = new Array, this.endPoint = "", this.httpEndpoint = "", this.headers = {}, this.params = {}, this.timeout = pm, this.transport = null, this.heartbeatIntervalMs = fh.HEARTBEAT_INTERVAL, this.heartbeatTimer = void 0, this.pendingHeartbeatRef = null, this.heartbeatCallback = Cp, this.ref = 0, this.reconnectTimer = null, this.vsn = Jv, this.logger = Cp, this.conn = null, this.sendBuffer = [], this.serializer = new NS, this.stateChangeCallbacks = { open: [], close: [], error: [], message: [] }, this.accessToken = null, this._connectionState = "disconnected", this._wasManualDisconnect = !1, this._authPromise = null, this._resolveFetch = s => s ? (...a) => s(...a) : (...a) => fetch(...a), !(!((n = r == null ? void 0 : r.params) === null || n === void 0) && n.apikey)) throw new Error("API key is required to connect to Realtime"); this.apiKey = r.params.apikey, this.endPoint = `${e}/${gm.websocket}`, this.httpEndpoint = G5(e), this._initializeOptions(r), this._setupReconnectionTimer(), this.fetch = this._resolveFetch(r == null ? void 0 : r.fetch) } connect() {
    if (!(this.isConnecting() || this.isDisconnecting() || this.conn !== null && this.isConnected())) {
      if (this._setConnectionState("connecting"), this.accessToken && !this._authPromise && this._setAuthSafely("connect"), this.transport) this.conn = new this.transport(this.endpointURL()); else try { this.conn = vS.createWebSocket(this.endpointURL()) } catch (e) {
        this._setConnectionState("disconnected"); const r = e.message; throw r.includes("Node.js") ? new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`) : new Error(`WebSocket not available: ${r}`)
      } this._setupConnectionHandlers()
    }
  } endpointURL() { return this._appendParams(this.endPoint, Object.assign({}, this.params, { vsn: this.vsn })) } disconnect(e, r) { if (!this.isDisconnecting()) if (this._setConnectionState("disconnecting", !0), this.conn) { const n = setTimeout(() => { this._setConnectionState("disconnected") }, 100); this.conn.onclose = () => { clearTimeout(n), this._setConnectionState("disconnected") }, typeof this.conn.close == "function" && (e ? this.conn.close(e, r ?? "") : this.conn.close()), this._teardownConnection() } else this._setConnectionState("disconnected") } getChannels() { return this.channels } async removeChannel(e) { const r = await e.unsubscribe(); return this.channels.length === 0 && this.disconnect(), r } async removeAllChannels() { const e = await Promise.all(this.channels.map(r => r.unsubscribe())); return this.channels = [], this.disconnect(), e } log(e, r, n) { this.logger(e, r, n) } connectionState() { switch (this.conn && this.conn.readyState) { case so.connecting: return el.Connecting; case so.open: return el.Open; case so.closing: return el.Closing; default: return el.Closed } } isConnected() { return this.connectionState() === el.Open } isConnecting() { return this._connectionState === "connecting" } isDisconnecting() { return this._connectionState === "disconnecting" } channel(e, r = { config: {} }) { const n = `realtime:${e}`, s = this.getChannels().find(a => a.topic === n); if (s) return s; { const a = new Bc(`realtime:${e}`, r, this); return this.channels.push(a), a } } push(e) { const { topic: r, event: n, payload: s, ref: a } = e, A = () => { this.encode(e, o => { var l; (l = this.conn) === null || l === void 0 || l.send(o) }) }; this.log("push", `${r} ${n} (${a})`, s), this.isConnected() ? A() : this.sendBuffer.push(A) } async setAuth(e = null) { this._authPromise = this._performAuth(e); try { await this._authPromise } finally { this._authPromise = null } } _isManualToken() { return this._manuallySetToken } async sendHeartbeat() { var e; if (!this.isConnected()) { try { this.heartbeatCallback("disconnected") } catch (r) { this.log("error", "error in heartbeat callback", r) } return } if (this.pendingHeartbeatRef) { this.pendingHeartbeatRef = null, this.log("transport", "heartbeat timeout. Attempting to re-establish connection"); try { this.heartbeatCallback("timeout") } catch (r) { this.log("error", "error in heartbeat callback", r) } this._wasManualDisconnect = !1, (e = this.conn) === null || e === void 0 || e.close(BS, "heartbeat timeout"), setTimeout(() => { var r; this.isConnected() || (r = this.reconnectTimer) === null || r === void 0 || r.scheduleTimeout() }, fh.HEARTBEAT_TIMEOUT_FALLBACK); return } this.pendingHeartbeatRef = this._makeRef(), this.push({ topic: "phoenix", event: "heartbeat", payload: {}, ref: this.pendingHeartbeatRef }); try { this.heartbeatCallback("sent") } catch (r) { this.log("error", "error in heartbeat callback", r) } this._setAuthSafely("heartbeat") } onHeartbeat(e) { this.heartbeatCallback = e } flushSendBuffer() { this.isConnected() && this.sendBuffer.length > 0 && (this.sendBuffer.forEach(e => e()), this.sendBuffer = []) } _makeRef() { let e = this.ref + 1; return e === this.ref ? this.ref = 0 : this.ref = e, this.ref.toString() } _leaveOpenTopic(e) { let r = this.channels.find(n => n.topic === e && (n._isJoined() || n._isJoining())); r && (this.log("transport", `leaving duplicate topic "${e}"`), r.unsubscribe()) } _remove(e) { this.channels = this.channels.filter(r => r.topic !== e.topic) } _onConnMessage(e) { this.decode(e.data, r => { if (r.topic === "phoenix" && r.event === "phx_reply") try { this.heartbeatCallback(r.payload.status === "ok" ? "ok" : "error") } catch (c) { this.log("error", "error in heartbeat callback", c) } r.ref && r.ref === this.pendingHeartbeatRef && (this.pendingHeartbeatRef = null); const { topic: n, event: s, payload: a, ref: A } = r, o = A ? `(${A})` : "", l = a.status || ""; this.log("receive", `${l} ${n} ${s} ${o}`.trim(), a), this.channels.filter(c => c._isMember(n)).forEach(c => c._trigger(s, a, A)), this._triggerStateCallbacks("message", r) }) } _clearTimer(e) { var r; e === "heartbeat" && this.heartbeatTimer ? (clearInterval(this.heartbeatTimer), this.heartbeatTimer = void 0) : e === "reconnect" && ((r = this.reconnectTimer) === null || r === void 0 || r.reset()) } _clearAllTimers() { this._clearTimer("heartbeat"), this._clearTimer("reconnect") } _setupConnectionHandlers() { this.conn && ("binaryType" in this.conn && (this.conn.binaryType = "arraybuffer"), this.conn.onopen = () => this._onConnOpen(), this.conn.onerror = e => this._onConnError(e), this.conn.onmessage = e => this._onConnMessage(e), this.conn.onclose = e => this._onConnClose(e), this.conn.readyState === so.open && this._onConnOpen()) } _teardownConnection() { if (this.conn) { if (this.conn.readyState === so.open || this.conn.readyState === so.connecting) try { this.conn.close() } catch (e) { this.log("error", "Error closing connection", e) } this.conn.onopen = null, this.conn.onerror = null, this.conn.onmessage = null, this.conn.onclose = null, this.conn = null } this._clearAllTimers(), this._terminateWorker(), this.channels.forEach(e => e.teardown()) } _onConnOpen() { this._setConnectionState("connected"), this.log("transport", `connected to ${this.endpointURL()}`), (this._authPromise || (this.accessToken && !this.accessTokenValue ? this.setAuth() : Promise.resolve())).then(() => { this.flushSendBuffer() }).catch(r => { this.log("error", "error waiting for auth on connect", r), this.flushSendBuffer() }), this._clearTimer("reconnect"), this.worker ? this.workerRef || this._startWorkerHeartbeat() : this._startHeartbeat(), this._triggerStateCallbacks("open") } _startHeartbeat() { this.heartbeatTimer && clearInterval(this.heartbeatTimer), this.heartbeatTimer = setInterval(() => this.sendHeartbeat(), this.heartbeatIntervalMs) } _startWorkerHeartbeat() { this.workerUrl ? this.log("worker", `starting worker for from ${this.workerUrl}`) : this.log("worker", "starting default worker"); const e = this._workerObjectUrl(this.workerUrl); this.workerRef = new Worker(e), this.workerRef.onerror = r => { this.log("worker", "worker error", r.message), this._terminateWorker() }, this.workerRef.onmessage = r => { r.data.event === "keepAlive" && this.sendHeartbeat() }, this.workerRef.postMessage({ event: "start", interval: this.heartbeatIntervalMs }) } _terminateWorker() { this.workerRef && (this.log("worker", "terminating worker"), this.workerRef.terminate(), this.workerRef = void 0) } _onConnClose(e) { var r; this._setConnectionState("disconnected"), this.log("transport", "close", e), this._triggerChanError(), this._clearTimer("heartbeat"), this._wasManualDisconnect || (r = this.reconnectTimer) === null || r === void 0 || r.scheduleTimeout(), this._triggerStateCallbacks("close", e) } _onConnError(e) { this._setConnectionState("disconnected"), this.log("transport", `${e}`), this._triggerChanError(), this._triggerStateCallbacks("error", e) } _triggerChanError() { this.channels.forEach(e => e._trigger(oa.error)) } _appendParams(e, r) { if (Object.keys(r).length === 0) return e; const n = e.match(/\?/) ? "&" : "?", s = new URLSearchParams(r); return `${e}${n}${s}` } _workerObjectUrl(e) { let r; if (e) r = e; else { const n = new Blob([QS], { type: "application/javascript" }); r = URL.createObjectURL(n) } return r } _setConnectionState(e, r = !1) { this._connectionState = e, e === "connecting" ? this._wasManualDisconnect = !1 : e === "disconnecting" && (this._wasManualDisconnect = r) } async _performAuth(e = null) { let r, n = !1; if (e) r = e, n = !0; else if (this.accessToken) try { r = await this.accessToken() } catch (s) { this.log("error", "Error fetching access token from callback", s), r = this.accessTokenValue } else r = this.accessTokenValue; n ? this._manuallySetToken = !0 : this.accessToken && (this._manuallySetToken = !1), this.accessTokenValue != r && (this.accessTokenValue = r, this.channels.forEach(s => { const a = { access_token: r, version: yS }; r && s.updateJoinPayload(a), s.joinedOnce && s._isJoined() && s._push(oa.access_token, { access_token: r }) })) } async _waitForAuthIfNeeded() { this._authPromise && await this._authPromise } _setAuthSafely(e = "general") { this._isManualToken() || this.setAuth().catch(r => { this.log("error", `Error setting auth in ${e}`, r) }) } _triggerStateCallbacks(e, r) { try { this.stateChangeCallbacks[e].forEach(n => { try { n(r) } catch (s) { this.log("error", `error in ${e} callback`, s) } }) } catch (n) { this.log("error", `error triggering ${e} callbacks`, n) } } _setupReconnectionTimer() { this.reconnectTimer = new $5(async () => { setTimeout(async () => { await this._waitForAuthIfNeeded(), this.isConnected() || this.connect() }, fh.RECONNECT_DELAY) }, this.reconnectAfterMs) } _initializeOptions(e) { var r, n, s, a, A, o, l, c, d, p, g, h; switch (this.transport = (r = e == null ? void 0 : e.transport) !== null && r !== void 0 ? r : null, this.timeout = (n = e == null ? void 0 : e.timeout) !== null && n !== void 0 ? n : pm, this.heartbeatIntervalMs = (s = e == null ? void 0 : e.heartbeatIntervalMs) !== null && s !== void 0 ? s : fh.HEARTBEAT_INTERVAL, this.worker = (a = e == null ? void 0 : e.worker) !== null && a !== void 0 ? a : !1, this.accessToken = (A = e == null ? void 0 : e.accessToken) !== null && A !== void 0 ? A : null, this.heartbeatCallback = (o = e == null ? void 0 : e.heartbeatCallback) !== null && o !== void 0 ? o : Cp, this.vsn = (l = e == null ? void 0 : e.vsn) !== null && l !== void 0 ? l : Jv, e != null && e.params && (this.params = e.params), e != null && e.logger && (this.logger = e.logger), (e != null && e.logLevel || e != null && e.log_level) && (this.logLevel = e.logLevel || e.log_level, this.params = Object.assign(Object.assign({}, this.params), { log_level: this.logLevel })), this.reconnectAfterMs = (c = e == null ? void 0 : e.reconnectAfterMs) !== null && c !== void 0 ? c : b => US[b - 1] || IS, this.vsn) { case M5: this.encode = (d = e == null ? void 0 : e.encode) !== null && d !== void 0 ? d : (b, w) => w(JSON.stringify(b)), this.decode = (p = e == null ? void 0 : e.decode) !== null && p !== void 0 ? p : (b, w) => w(JSON.parse(b)); break; case bS: this.encode = (g = e == null ? void 0 : e.encode) !== null && g !== void 0 ? g : this.serializer.encode.bind(this.serializer), this.decode = (h = e == null ? void 0 : e.decode) !== null && h !== void 0 ? h : this.serializer.decode.bind(this.serializer); break; default: throw new Error(`Unsupported serializer version: ${this.vsn}`) }if (this.worker) { if (typeof window < "u" && !window.Worker) throw new Error("Web Worker is not supported"); this.workerUrl = e == null ? void 0 : e.workerUrl } }
} var vd = class extends Error { constructor(t, e) { var r; super(t), this.name = "IcebergError", this.status = e.status, this.icebergType = e.icebergType, this.icebergCode = e.icebergCode, this.details = e.details, this.isCommitStateUnknown = e.icebergType === "CommitStateUnknownException" || [500, 502, 504].includes(e.status) && ((r = e.icebergType) == null ? void 0 : r.includes("CommitState")) === !0 } isNotFound() { return this.status === 404 } isConflict() { return this.status === 409 } isAuthenticationTimeout() { return this.status === 419 } }; function LS(t, e, r) { const n = new URL(e, t); if (r) for (const [s, a] of Object.entries(r)) a !== void 0 && n.searchParams.set(s, a); return n.toString() } async function OS(t) { return !t || t.type === "none" ? {} : t.type === "bearer" ? { Authorization: `Bearer ${t.token}` } : t.type === "header" ? { [t.name]: t.value } : t.type === "custom" ? await t.getHeaders() : {} } function PS(t) { const e = t.fetchImpl ?? globalThis.fetch; return { async request({ method: r, path: n, query: s, body: a, headers: A }) { const o = LS(t.baseUrl, n, s), l = await OS(t.auth), c = await e(o, { method: r, headers: { ...a ? { "Content-Type": "application/json" } : {}, ...l, ...A }, body: a ? JSON.stringify(a) : void 0 }), d = await c.text(), p = (c.headers.get("content-type") || "").includes("application/json"), g = p && d ? JSON.parse(d) : d; if (!c.ok) { const h = p ? g : void 0, b = h == null ? void 0 : h.error; throw new vd((b == null ? void 0 : b.message) ?? `Request failed with status ${c.status}`, { status: c.status, icebergType: b == null ? void 0 : b.type, icebergCode: b == null ? void 0 : b.code, details: h }) } return { status: c.status, headers: c.headers, data: g } } } } function ph(t) { return t.join("") } var DS = class { constructor(t, e = "") { this.client = t, this.prefix = e } async listNamespaces(t) { const e = t ? { parent: ph(t.namespace) } : void 0; return (await this.client.request({ method: "GET", path: `${this.prefix}/namespaces`, query: e })).data.namespaces.map(n => ({ namespace: n })) } async createNamespace(t, e) { const r = { namespace: t.namespace, properties: e == null ? void 0 : e.properties }; return (await this.client.request({ method: "POST", path: `${this.prefix}/namespaces`, body: r })).data } async dropNamespace(t) { await this.client.request({ method: "DELETE", path: `${this.prefix}/namespaces/${ph(t.namespace)}` }) } async loadNamespaceMetadata(t) { return { properties: (await this.client.request({ method: "GET", path: `${this.prefix}/namespaces/${ph(t.namespace)}` })).data.properties } } async namespaceExists(t) { try { return await this.client.request({ method: "HEAD", path: `${this.prefix}/namespaces/${ph(t.namespace)}` }), !0 } catch (e) { if (e instanceof vd && e.status === 404) return !1; throw e } } async createNamespaceIfNotExists(t, e) { try { return await this.createNamespace(t, e) } catch (r) { if (r instanceof vd && r.status === 409) return; throw r } } }; function $l(t) { return t.join("") } var RS = class { constructor(t, e = "", r) { this.client = t, this.prefix = e, this.accessDelegation = r } async listTables(t) { return (await this.client.request({ method: "GET", path: `${this.prefix}/namespaces/${$l(t.namespace)}/tables` })).data.identifiers } async createTable(t, e) { const r = {}; return this.accessDelegation && (r["X-Iceberg-Access-Delegation"] = this.accessDelegation), (await this.client.request({ method: "POST", path: `${this.prefix}/namespaces/${$l(t.namespace)}/tables`, body: e, headers: r })).data.metadata } async updateTable(t, e) { const r = await this.client.request({ method: "POST", path: `${this.prefix}/namespaces/${$l(t.namespace)}/tables/${t.name}`, body: e }); return { "metadata-location": r.data["metadata-location"], metadata: r.data.metadata } } async dropTable(t, e) { await this.client.request({ method: "DELETE", path: `${this.prefix}/namespaces/${$l(t.namespace)}/tables/${t.name}`, query: { purgeRequested: String((e == null ? void 0 : e.purge) ?? !1) } }) } async loadTable(t) { const e = {}; return this.accessDelegation && (e["X-Iceberg-Access-Delegation"] = this.accessDelegation), (await this.client.request({ method: "GET", path: `${this.prefix}/namespaces/${$l(t.namespace)}/tables/${t.name}`, headers: e })).data.metadata } async tableExists(t) { const e = {}; this.accessDelegation && (e["X-Iceberg-Access-Delegation"] = this.accessDelegation); try { return await this.client.request({ method: "HEAD", path: `${this.prefix}/namespaces/${$l(t.namespace)}/tables/${t.name}`, headers: e }), !0 } catch (r) { if (r instanceof vd && r.status === 404) return !1; throw r } } async createTableIfNotExists(t, e) { try { return await this.createTable(t, e) } catch (r) { if (r instanceof vd && r.status === 409) return await this.loadTable({ namespace: t.namespace, name: e.name }); throw r } } }, HS = class { constructor(t) { var n; let e = "v1"; t.catalogName && (e += `/${t.catalogName}`); const r = t.baseUrl.endsWith("/") ? t.baseUrl : `${t.baseUrl}/`; this.client = PS({ baseUrl: r, auth: t.auth, fetchImpl: t.fetch }), this.accessDelegation = (n = t.accessDelegation) == null ? void 0 : n.join(","), this.namespaceOps = new DS(this.client, e), this.tableOps = new RS(this.client, e, this.accessDelegation) } async listNamespaces(t) { return this.namespaceOps.listNamespaces(t) } async createNamespace(t, e) { return this.namespaceOps.createNamespace(t, e) } async dropNamespace(t) { await this.namespaceOps.dropNamespace(t) } async loadNamespaceMetadata(t) { return this.namespaceOps.loadNamespaceMetadata(t) } async listTables(t) { return this.tableOps.listTables(t) } async createTable(t, e) { return this.tableOps.createTable(t, e) } async updateTable(t, e) { return this.tableOps.updateTable(t, e) } async dropTable(t, e) { await this.tableOps.dropTable(t, e) } async loadTable(t) { return this.tableOps.loadTable(t) } async namespaceExists(t) { return this.namespaceOps.namespaceExists(t) } async tableExists(t) { return this.tableOps.tableExists(t) } async createNamespaceIfNotExists(t, e) { return this.namespaceOps.createNamespaceIfNotExists(t, e) } async createTableIfNotExists(t, e) { return this.tableOps.createTableIfNotExists(t, e) } }, C0 = class extends Error { constructor(t) { super(t), this.__isStorageError = !0, this.name = "StorageError" } }; function pn(t) { return typeof t == "object" && t !== null && "__isStorageError" in t } var MS = class extends C0 { constructor(t, e, r) { super(t), this.name = "StorageApiError", this.status = e, this.statusCode = r } toJSON() { return { name: this.name, message: this.message, status: this.status, statusCode: this.statusCode } } }, xm = class extends C0 { constructor(t, e) { super(t), this.name = "StorageUnknownError", this.originalError = e } }; const t1 = t => t ? (...e) => t(...e) : (...e) => fetch(...e), $S = () => Response, vm = t => { if (Array.isArray(t)) return t.map(r => vm(r)); if (typeof t == "function" || t !== Object(t)) return t; const e = {}; return Object.entries(t).forEach(([r, n]) => { const s = r.replace(/([-_][a-z])/gi, a => a.toUpperCase().replace(/[-_]/g, "")); e[s] = vm(n) }), e }, KS = t => { if (typeof t != "object" || t === null) return !1; const e = Object.getPrototypeOf(t); return (e === null || e === Object.prototype || Object.getPrototypeOf(e) === null) && !(Symbol.toStringTag in t) && !(Symbol.iterator in t) }, GS = t => !t || typeof t != "string" || t.length === 0 || t.length > 100 || t.trim() !== t || t.includes("/") || t.includes("\\") ? !1 : /^[\w!.\*'() &$@=;:+,?-]+$/.test(t); function wd(t) { "@babel/helpers - typeof"; return wd = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, wd(t) } function VS(t, e) { if (wd(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (wd(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (e === "string" ? String : Number)(t) } function zS(t) { var e = VS(t, "string"); return wd(e) == "symbol" ? e : e + "" } function qS(t, e, r) { return (e = zS(e)) in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function ew(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function sr(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? ew(Object(r), !0).forEach(function (n) { qS(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : ew(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } const Np = t => { var e; return t.msg || t.message || t.error_description || (typeof t.error == "string" ? t.error : (e = t.error) === null || e === void 0 ? void 0 : e.message) || JSON.stringify(t) }, WS = async (t, e, r) => { t instanceof await $S() && !(r != null && r.noResolveJson) ? t.json().then(n => { const s = t.status || 500, a = (n == null ? void 0 : n.statusCode) || s + ""; e(new MS(Np(n), s, a)) }).catch(n => { e(new xm(Np(n), n)) }) : e(new xm(Np(t), t)) }, JS = (t, e, r, n) => { const s = { method: t, headers: (e == null ? void 0 : e.headers) || {} }; return t === "GET" || !n ? s : (KS(n) ? (s.headers = sr({ "Content-Type": "application/json" }, e == null ? void 0 : e.headers), s.body = JSON.stringify(n)) : s.body = n, e != null && e.duplex && (s.duplex = e.duplex), sr(sr({}, s), r)) }; async function Td(t, e, r, n, s, a) { return new Promise((A, o) => { t(r, JS(e, n, s, a)).then(l => { if (!l.ok) throw l; return n != null && n.noResolveJson ? l : l.json() }).then(l => A(l)).catch(l => WS(l, o, n)) }) } async function yd(t, e, r, n) { return Td(t, "GET", e, r, n) } async function aa(t, e, r, n, s) { return Td(t, "POST", e, n, s, r) } async function wm(t, e, r, n, s) { return Td(t, "PUT", e, n, s, r) } async function YS(t, e, r, n) { return Td(t, "HEAD", e, sr(sr({}, r), {}, { noResolveJson: !0 }), n) } async function r1(t, e, r, n, s) { return Td(t, "DELETE", e, n, s, r) } var XS = class { constructor(t, e) { this.downloadFn = t, this.shouldThrowOnError = e } then(t, e) { return this.execute().then(t, e) } async execute() { var t = this; try { return { data: (await t.downloadFn()).body, error: null } } catch (e) { if (t.shouldThrowOnError) throw e; if (pn(e)) return { data: null, error: e }; throw e } } }; let V5; V5 = Symbol.toStringTag; var ZS = class { constructor(t, e) { this.downloadFn = t, this.shouldThrowOnError = e, this[V5] = "BlobDownloadBuilder", this.promise = null } asStream() { return new XS(this.downloadFn, this.shouldThrowOnError) } then(t, e) { return this.getPromise().then(t, e) } catch(t) { return this.getPromise().catch(t) } finally(t) { return this.getPromise().finally(t) } getPromise() { return this.promise || (this.promise = this.execute()), this.promise } async execute() { var t = this; try { return { data: await (await t.downloadFn()).blob(), error: null } } catch (e) { if (t.shouldThrowOnError) throw e; if (pn(e)) return { data: null, error: e }; throw e } } }; const ej = { limit: 100, offset: 0, sortBy: { column: "name", order: "asc" } }, tw = { cacheControl: "3600", contentType: "text/plain;charset=UTF-8", upsert: !1 }; var tj = class { constructor(t, e = {}, r, n) { this.shouldThrowOnError = !1, this.url = t, this.headers = e, this.bucketId = r, this.fetch = t1(n) } throwOnError() { return this.shouldThrowOnError = !0, this } async uploadOrUpdate(t, e, r, n) { var s = this; try { let a; const A = sr(sr({}, tw), n); let o = sr(sr({}, s.headers), t === "POST" && { "x-upsert": String(A.upsert) }); const l = A.metadata; typeof Blob < "u" && r instanceof Blob ? (a = new FormData, a.append("cacheControl", A.cacheControl), l && a.append("metadata", s.encodeMetadata(l)), a.append("", r)) : typeof FormData < "u" && r instanceof FormData ? (a = r, a.has("cacheControl") || a.append("cacheControl", A.cacheControl), l && !a.has("metadata") && a.append("metadata", s.encodeMetadata(l))) : (a = r, o["cache-control"] = `max-age=${A.cacheControl}`, o["content-type"] = A.contentType, l && (o["x-metadata"] = s.toBase64(s.encodeMetadata(l))), (typeof ReadableStream < "u" && a instanceof ReadableStream || a && typeof a == "object" && "pipe" in a && typeof a.pipe == "function") && !A.duplex && (A.duplex = "half")), n != null && n.headers && (o = sr(sr({}, o), n.headers)); const c = s._removeEmptyFolders(e), d = s._getFinalPath(c), p = await (t == "PUT" ? wm : aa)(s.fetch, `${s.url}/object/${d}`, a, sr({ headers: o }, A != null && A.duplex ? { duplex: A.duplex } : {})); return { data: { path: c, id: p.Id, fullPath: p.Key }, error: null } } catch (a) { if (s.shouldThrowOnError) throw a; if (pn(a)) return { data: null, error: a }; throw a } } async upload(t, e, r) { return this.uploadOrUpdate("POST", t, e, r) } async uploadToSignedUrl(t, e, r, n) { var s = this; const a = s._removeEmptyFolders(t), A = s._getFinalPath(a), o = new URL(s.url + `/object/upload/sign/${A}`); o.searchParams.set("token", e); try { let l; const c = sr({ upsert: tw.upsert }, n), d = sr(sr({}, s.headers), { "x-upsert": String(c.upsert) }); return typeof Blob < "u" && r instanceof Blob ? (l = new FormData, l.append("cacheControl", c.cacheControl), l.append("", r)) : typeof FormData < "u" && r instanceof FormData ? (l = r, l.append("cacheControl", c.cacheControl)) : (l = r, d["cache-control"] = `max-age=${c.cacheControl}`, d["content-type"] = c.contentType), { data: { path: a, fullPath: (await wm(s.fetch, o.toString(), l, { headers: d })).Key }, error: null } } catch (l) { if (s.shouldThrowOnError) throw l; if (pn(l)) return { data: null, error: l }; throw l } } async createSignedUploadUrl(t, e) { var r = this; try { let n = r._getFinalPath(t); const s = sr({}, r.headers); e != null && e.upsert && (s["x-upsert"] = "true"); const a = await aa(r.fetch, `${r.url}/object/upload/sign/${n}`, {}, { headers: s }), A = new URL(r.url + a.url), o = A.searchParams.get("token"); if (!o) throw new C0("No token returned by API"); return { data: { signedUrl: A.toString(), path: t, token: o }, error: null } } catch (n) { if (r.shouldThrowOnError) throw n; if (pn(n)) return { data: null, error: n }; throw n } } async update(t, e, r) { return this.uploadOrUpdate("PUT", t, e, r) } async move(t, e, r) { var n = this; try { return { data: await aa(n.fetch, `${n.url}/object/move`, { bucketId: n.bucketId, sourceKey: t, destinationKey: e, destinationBucket: r == null ? void 0 : r.destinationBucket }, { headers: n.headers }), error: null } } catch (s) { if (n.shouldThrowOnError) throw s; if (pn(s)) return { data: null, error: s }; throw s } } async copy(t, e, r) { var n = this; try { return { data: { path: (await aa(n.fetch, `${n.url}/object/copy`, { bucketId: n.bucketId, sourceKey: t, destinationKey: e, destinationBucket: r == null ? void 0 : r.destinationBucket }, { headers: n.headers })).Key }, error: null } } catch (s) { if (n.shouldThrowOnError) throw s; if (pn(s)) return { data: null, error: s }; throw s } } async createSignedUrl(t, e, r) { var n = this; try { let s = n._getFinalPath(t), a = await aa(n.fetch, `${n.url}/object/sign/${s}`, sr({ expiresIn: e }, r != null && r.transform ? { transform: r.transform } : {}), { headers: n.headers }); const A = r != null && r.download ? `&download=${r.download === !0 ? "" : r.download}` : ""; return a = { signedUrl: encodeURI(`${n.url}${a.signedURL}${A}`) }, { data: a, error: null } } catch (s) { if (n.shouldThrowOnError) throw s; if (pn(s)) return { data: null, error: s }; throw s } } async createSignedUrls(t, e, r) { var n = this; try { const s = await aa(n.fetch, `${n.url}/object/sign/${n.bucketId}`, { expiresIn: e, paths: t }, { headers: n.headers }), a = r != null && r.download ? `&download=${r.download === !0 ? "" : r.download}` : ""; return { data: s.map(A => sr(sr({}, A), {}, { signedUrl: A.signedURL ? encodeURI(`${n.url}${A.signedURL}${a}`) : null })), error: null } } catch (s) { if (n.shouldThrowOnError) throw s; if (pn(s)) return { data: null, error: s }; throw s } } download(t, e) { const r = typeof (e == null ? void 0 : e.transform) < "u" ? "render/image/authenticated" : "object", n = this.transformOptsToQueryString((e == null ? void 0 : e.transform) || {}), s = n ? `?${n}` : "", a = this._getFinalPath(t), A = () => yd(this.fetch, `${this.url}/${r}/${a}${s}`, { headers: this.headers, noResolveJson: !0 }); return new ZS(A, this.shouldThrowOnError) } async info(t) { var e = this; const r = e._getFinalPath(t); try { return { data: vm(await yd(e.fetch, `${e.url}/object/info/${r}`, { headers: e.headers })), error: null } } catch (n) { if (e.shouldThrowOnError) throw n; if (pn(n)) return { data: null, error: n }; throw n } } async exists(t) { var e = this; const r = e._getFinalPath(t); try { return await YS(e.fetch, `${e.url}/object/${r}`, { headers: e.headers }), { data: !0, error: null } } catch (n) { if (e.shouldThrowOnError) throw n; if (pn(n) && n instanceof xm) { const s = n.originalError; if ([400, 404].includes(s == null ? void 0 : s.status)) return { data: !1, error: n } } throw n } } getPublicUrl(t, e) { const r = this._getFinalPath(t), n = [], s = e != null && e.download ? `download=${e.download === !0 ? "" : e.download}` : ""; s !== "" && n.push(s); const a = typeof (e == null ? void 0 : e.transform) < "u" ? "render/image" : "object", A = this.transformOptsToQueryString((e == null ? void 0 : e.transform) || {}); A !== "" && n.push(A); let o = n.join("&"); return o !== "" && (o = `?${o}`), { data: { publicUrl: encodeURI(`${this.url}/${a}/public/${r}${o}`) } } } async remove(t) { var e = this; try { return { data: await r1(e.fetch, `${e.url}/object/${e.bucketId}`, { prefixes: t }, { headers: e.headers }), error: null } } catch (r) { if (e.shouldThrowOnError) throw r; if (pn(r)) return { data: null, error: r }; throw r } } async list(t, e, r) { var n = this; try { const s = sr(sr(sr({}, ej), e), {}, { prefix: t || "" }); return { data: await aa(n.fetch, `${n.url}/object/list/${n.bucketId}`, s, { headers: n.headers }, r), error: null } } catch (s) { if (n.shouldThrowOnError) throw s; if (pn(s)) return { data: null, error: s }; throw s } } async listV2(t, e) { var r = this; try { const n = sr({}, t); return { data: await aa(r.fetch, `${r.url}/object/list-v2/${r.bucketId}`, n, { headers: r.headers }, e), error: null } } catch (n) { if (r.shouldThrowOnError) throw n; if (pn(n)) return { data: null, error: n }; throw n } } encodeMetadata(t) { return JSON.stringify(t) } toBase64(t) { return typeof Buffer < "u" ? Buffer.from(t).toString("base64") : btoa(t) } _getFinalPath(t) { return `${this.bucketId}/${t.replace(/^\/+/, "")}` } _removeEmptyFolders(t) { return t.replace(/^\/|\/$/g, "").replace(/\/+/g, "/") } transformOptsToQueryString(t) { const e = []; return t.width && e.push(`width=${t.width}`), t.height && e.push(`height=${t.height}`), t.resize && e.push(`resize=${t.resize}`), t.format && e.push(`format=${t.format}`), t.quality && e.push(`quality=${t.quality}`), e.join("&") } }; const z5 = "2.89.0", q5 = { "X-Client-Info": `storage-js/${z5}` }; var rj = class { constructor(t, e = {}, r, n) { this.shouldThrowOnError = !1; const s = new URL(t); n != null && n.useNewHostname && /supabase\.(co|in|red)$/.test(s.hostname) && !s.hostname.includes("storage.supabase.") && (s.hostname = s.hostname.replace("supabase.", "storage.supabase.")), this.url = s.href.replace(/\/$/, ""), this.headers = sr(sr({}, q5), e), this.fetch = t1(r) } throwOnError() { return this.shouldThrowOnError = !0, this } async listBuckets(t) { var e = this; try { const r = e.listBucketOptionsToQueryString(t); return { data: await yd(e.fetch, `${e.url}/bucket${r}`, { headers: e.headers }), error: null } } catch (r) { if (e.shouldThrowOnError) throw r; if (pn(r)) return { data: null, error: r }; throw r } } async getBucket(t) { var e = this; try { return { data: await yd(e.fetch, `${e.url}/bucket/${t}`, { headers: e.headers }), error: null } } catch (r) { if (e.shouldThrowOnError) throw r; if (pn(r)) return { data: null, error: r }; throw r } } async createBucket(t, e = { public: !1 }) { var r = this; try { return { data: await aa(r.fetch, `${r.url}/bucket`, { id: t, name: t, type: e.type, public: e.public, file_size_limit: e.fileSizeLimit, allowed_mime_types: e.allowedMimeTypes }, { headers: r.headers }), error: null } } catch (n) { if (r.shouldThrowOnError) throw n; if (pn(n)) return { data: null, error: n }; throw n } } async updateBucket(t, e) { var r = this; try { return { data: await wm(r.fetch, `${r.url}/bucket/${t}`, { id: t, name: t, public: e.public, file_size_limit: e.fileSizeLimit, allowed_mime_types: e.allowedMimeTypes }, { headers: r.headers }), error: null } } catch (n) { if (r.shouldThrowOnError) throw n; if (pn(n)) return { data: null, error: n }; throw n } } async emptyBucket(t) { var e = this; try { return { data: await aa(e.fetch, `${e.url}/bucket/${t}/empty`, {}, { headers: e.headers }), error: null } } catch (r) { if (e.shouldThrowOnError) throw r; if (pn(r)) return { data: null, error: r }; throw r } } async deleteBucket(t) { var e = this; try { return { data: await r1(e.fetch, `${e.url}/bucket/${t}`, {}, { headers: e.headers }), error: null } } catch (r) { if (e.shouldThrowOnError) throw r; if (pn(r)) return { data: null, error: r }; throw r } } listBucketOptionsToQueryString(t) { const e = {}; return t && ("limit" in t && (e.limit = String(t.limit)), "offset" in t && (e.offset = String(t.offset)), t.search && (e.search = t.search), t.sortColumn && (e.sortColumn = t.sortColumn), t.sortOrder && (e.sortOrder = t.sortOrder)), Object.keys(e).length > 0 ? "?" + new URLSearchParams(e).toString() : "" } }, nj = class { constructor(t, e = {}, r) { this.shouldThrowOnError = !1, this.url = t.replace(/\/$/, ""), this.headers = sr(sr({}, q5), e), this.fetch = t1(r) } throwOnError() { return this.shouldThrowOnError = !0, this } async createBucket(t) { var e = this; try { return { data: await aa(e.fetch, `${e.url}/bucket`, { name: t }, { headers: e.headers }), error: null } } catch (r) { if (e.shouldThrowOnError) throw r; if (pn(r)) return { data: null, error: r }; throw r } } async listBuckets(t) { var e = this; try { const r = new URLSearchParams; (t == null ? void 0 : t.limit) !== void 0 && r.set("limit", t.limit.toString()), (t == null ? void 0 : t.offset) !== void 0 && r.set("offset", t.offset.toString()), t != null && t.sortColumn && r.set("sortColumn", t.sortColumn), t != null && t.sortOrder && r.set("sortOrder", t.sortOrder), t != null && t.search && r.set("search", t.search); const n = r.toString(), s = n ? `${e.url}/bucket?${n}` : `${e.url}/bucket`; return { data: await yd(e.fetch, s, { headers: e.headers }), error: null } } catch (r) { if (e.shouldThrowOnError) throw r; if (pn(r)) return { data: null, error: r }; throw r } } async deleteBucket(t) { var e = this; try { return { data: await r1(e.fetch, `${e.url}/bucket/${t}`, {}, { headers: e.headers }), error: null } } catch (r) { if (e.shouldThrowOnError) throw r; if (pn(r)) return { data: null, error: r }; throw r } } from(t) { var e = this; if (!GS(t)) throw new C0("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters."); const r = new HS({ baseUrl: this.url, catalogName: t, auth: { type: "custom", getHeaders: async () => e.headers }, fetch: this.fetch }), n = this.shouldThrowOnError; return new Proxy(r, { get(s, a) { const A = s[a]; return typeof A != "function" ? A : async (...o) => { try { return { data: await A.apply(s, o), error: null } } catch (l) { if (n) throw l; return { data: null, error: l } } } } }) } }; const n1 = { "X-Client-Info": `storage-js/${z5}`, "Content-Type": "application/json" }; var W5 = class extends Error { constructor(t) { super(t), this.__isStorageVectorsError = !0, this.name = "StorageVectorsError" } }; function li(t) { return typeof t == "object" && t !== null && "__isStorageVectorsError" in t } var Sp = class extends W5 { constructor(t, e, r) { super(t), this.name = "StorageVectorsApiError", this.status = e, this.statusCode = r } toJSON() { return { name: this.name, message: this.message, status: this.status, statusCode: this.statusCode } } }, sj = class extends W5 { constructor(t, e) { super(t), this.name = "StorageVectorsUnknownError", this.originalError = e } }; const s1 = t => t ? (...e) => t(...e) : (...e) => fetch(...e), ij = t => { if (typeof t != "object" || t === null) return !1; const e = Object.getPrototypeOf(t); return (e === null || e === Object.prototype || Object.getPrototypeOf(e) === null) && !(Symbol.toStringTag in t) && !(Symbol.iterator in t) }, rw = t => t.msg || t.message || t.error_description || t.error || JSON.stringify(t), aj = async (t, e, r) => { if (t && typeof t == "object" && "status" in t && "ok" in t && typeof t.status == "number" && !(r != null && r.noResolveJson)) { const n = t.status || 500, s = t; if (typeof s.json == "function") s.json().then(a => { const A = (a == null ? void 0 : a.statusCode) || (a == null ? void 0 : a.code) || n + ""; e(new Sp(rw(a), n, A)) }).catch(() => { const a = n + ""; e(new Sp(s.statusText || `HTTP ${n} error`, n, a)) }); else { const a = n + ""; e(new Sp(s.statusText || `HTTP ${n} error`, n, a)) } } else e(new sj(rw(t), t)) }, Aj = (t, e, r, n) => { const s = { method: t, headers: (e == null ? void 0 : e.headers) || {} }; return n ? (ij(n) ? (s.headers = sr({ "Content-Type": "application/json" }, e == null ? void 0 : e.headers), s.body = JSON.stringify(n)) : s.body = n, sr(sr({}, s), r)) : s }; async function oj(t, e, r, n, s, a) { return new Promise((A, o) => { t(r, Aj(e, n, s, a)).then(l => { if (!l.ok) throw l; if (n != null && n.noResolveJson) return l; const c = l.headers.get("content-type"); return !c || !c.includes("application/json") ? {} : l.json() }).then(l => A(l)).catch(l => aj(l, o, n)) }) } async function ci(t, e, r, n, s) { return oj(t, "POST", e, n, s, r) } var lj = class { constructor(t, e = {}, r) { this.shouldThrowOnError = !1, this.url = t.replace(/\/$/, ""), this.headers = sr(sr({}, n1), e), this.fetch = s1(r) } throwOnError() { return this.shouldThrowOnError = !0, this } async createIndex(t) { var e = this; try { return { data: await ci(e.fetch, `${e.url}/CreateIndex`, t, { headers: e.headers }) || {}, error: null } } catch (r) { if (e.shouldThrowOnError) throw r; if (li(r)) return { data: null, error: r }; throw r } } async getIndex(t, e) { var r = this; try { return { data: await ci(r.fetch, `${r.url}/GetIndex`, { vectorBucketName: t, indexName: e }, { headers: r.headers }), error: null } } catch (n) { if (r.shouldThrowOnError) throw n; if (li(n)) return { data: null, error: n }; throw n } } async listIndexes(t) { var e = this; try { return { data: await ci(e.fetch, `${e.url}/ListIndexes`, t, { headers: e.headers }), error: null } } catch (r) { if (e.shouldThrowOnError) throw r; if (li(r)) return { data: null, error: r }; throw r } } async deleteIndex(t, e) { var r = this; try { return { data: await ci(r.fetch, `${r.url}/DeleteIndex`, { vectorBucketName: t, indexName: e }, { headers: r.headers }) || {}, error: null } } catch (n) { if (r.shouldThrowOnError) throw n; if (li(n)) return { data: null, error: n }; throw n } } }, cj = class { constructor(t, e = {}, r) { this.shouldThrowOnError = !1, this.url = t.replace(/\/$/, ""), this.headers = sr(sr({}, n1), e), this.fetch = s1(r) } throwOnError() { return this.shouldThrowOnError = !0, this } async putVectors(t) { var e = this; try { if (t.vectors.length < 1 || t.vectors.length > 500) throw new Error("Vector batch size must be between 1 and 500 items"); return { data: await ci(e.fetch, `${e.url}/PutVectors`, t, { headers: e.headers }) || {}, error: null } } catch (r) { if (e.shouldThrowOnError) throw r; if (li(r)) return { data: null, error: r }; throw r } } async getVectors(t) { var e = this; try { return { data: await ci(e.fetch, `${e.url}/GetVectors`, t, { headers: e.headers }), error: null } } catch (r) { if (e.shouldThrowOnError) throw r; if (li(r)) return { data: null, error: r }; throw r } } async listVectors(t) { var e = this; try { if (t.segmentCount !== void 0) { if (t.segmentCount < 1 || t.segmentCount > 16) throw new Error("segmentCount must be between 1 and 16"); if (t.segmentIndex !== void 0 && (t.segmentIndex < 0 || t.segmentIndex >= t.segmentCount)) throw new Error(`segmentIndex must be between 0 and ${t.segmentCount - 1}`) } return { data: await ci(e.fetch, `${e.url}/ListVectors`, t, { headers: e.headers }), error: null } } catch (r) { if (e.shouldThrowOnError) throw r; if (li(r)) return { data: null, error: r }; throw r } } async queryVectors(t) { var e = this; try { return { data: await ci(e.fetch, `${e.url}/QueryVectors`, t, { headers: e.headers }), error: null } } catch (r) { if (e.shouldThrowOnError) throw r; if (li(r)) return { data: null, error: r }; throw r } } async deleteVectors(t) { var e = this; try { if (t.keys.length < 1 || t.keys.length > 500) throw new Error("Keys batch size must be between 1 and 500 items"); return { data: await ci(e.fetch, `${e.url}/DeleteVectors`, t, { headers: e.headers }) || {}, error: null } } catch (r) { if (e.shouldThrowOnError) throw r; if (li(r)) return { data: null, error: r }; throw r } } }, uj = class { constructor(t, e = {}, r) { this.shouldThrowOnError = !1, this.url = t.replace(/\/$/, ""), this.headers = sr(sr({}, n1), e), this.fetch = s1(r) } throwOnError() { return this.shouldThrowOnError = !0, this } async createBucket(t) { var e = this; try { return { data: await ci(e.fetch, `${e.url}/CreateVectorBucket`, { vectorBucketName: t }, { headers: e.headers }) || {}, error: null } } catch (r) { if (e.shouldThrowOnError) throw r; if (li(r)) return { data: null, error: r }; throw r } } async getBucket(t) { var e = this; try { return { data: await ci(e.fetch, `${e.url}/GetVectorBucket`, { vectorBucketName: t }, { headers: e.headers }), error: null } } catch (r) { if (e.shouldThrowOnError) throw r; if (li(r)) return { data: null, error: r }; throw r } } async listBuckets(t = {}) { var e = this; try { return { data: await ci(e.fetch, `${e.url}/ListVectorBuckets`, t, { headers: e.headers }), error: null } } catch (r) { if (e.shouldThrowOnError) throw r; if (li(r)) return { data: null, error: r }; throw r } } async deleteBucket(t) { var e = this; try { return { data: await ci(e.fetch, `${e.url}/DeleteVectorBucket`, { vectorBucketName: t }, { headers: e.headers }) || {}, error: null } } catch (r) { if (e.shouldThrowOnError) throw r; if (li(r)) return { data: null, error: r }; throw r } } }, dj = class extends uj { constructor(t, e = {}) { super(t, e.headers || {}, e.fetch) } from(t) { return new hj(this.url, this.headers, t, this.fetch) } async createBucket(t) { var e = () => super.createBucket, r = this; return e().call(r, t) } async getBucket(t) { var e = () => super.getBucket, r = this; return e().call(r, t) } async listBuckets(t = {}) { var e = () => super.listBuckets, r = this; return e().call(r, t) } async deleteBucket(t) { var e = () => super.deleteBucket, r = this; return e().call(r, t) } }, hj = class extends lj { constructor(t, e, r, n) { super(t, e, n), this.vectorBucketName = r } async createIndex(t) { var e = () => super.createIndex, r = this; return e().call(r, sr(sr({}, t), {}, { vectorBucketName: r.vectorBucketName })) } async listIndexes(t = {}) { var e = () => super.listIndexes, r = this; return e().call(r, sr(sr({}, t), {}, { vectorBucketName: r.vectorBucketName })) } async getIndex(t) { var e = () => super.getIndex, r = this; return e().call(r, r.vectorBucketName, t) } async deleteIndex(t) { var e = () => super.deleteIndex, r = this; return e().call(r, r.vectorBucketName, t) } index(t) { return new fj(this.url, this.headers, this.vectorBucketName, t, this.fetch) } }, fj = class extends cj { constructor(t, e, r, n, s) { super(t, e, s), this.vectorBucketName = r, this.indexName = n } async putVectors(t) { var e = () => super.putVectors, r = this; return e().call(r, sr(sr({}, t), {}, { vectorBucketName: r.vectorBucketName, indexName: r.indexName })) } async getVectors(t) { var e = () => super.getVectors, r = this; return e().call(r, sr(sr({}, t), {}, { vectorBucketName: r.vectorBucketName, indexName: r.indexName })) } async listVectors(t = {}) { var e = () => super.listVectors, r = this; return e().call(r, sr(sr({}, t), {}, { vectorBucketName: r.vectorBucketName, indexName: r.indexName })) } async queryVectors(t) { var e = () => super.queryVectors, r = this; return e().call(r, sr(sr({}, t), {}, { vectorBucketName: r.vectorBucketName, indexName: r.indexName })) } async deleteVectors(t) { var e = () => super.deleteVectors, r = this; return e().call(r, sr(sr({}, t), {}, { vectorBucketName: r.vectorBucketName, indexName: r.indexName })) } }, pj = class extends rj { constructor(t, e = {}, r, n) { super(t, e, r, n) } from(t) { return new tj(this.url, this.headers, t, this.fetch) } get vectors() { return new dj(this.url + "/vector", { headers: this.headers, fetch: this.fetch }) } get analytics() { return new nj(this.url + "/iceberg", this.headers, this.fetch) } }; const J5 = "2.89.0", ic = 30 * 1e3, ym = 3, jp = ym * ic, gj = "http://localhost:9999", mj = "supabase.auth.token", xj = { "X-Client-Info": `gotrue-js/${J5}` }, bm = "X-Supabase-Api-Version", Y5 = { "2024-01-01": { timestamp: Date.parse("2024-01-01T00:00:00.0Z"), name: "2024-01-01" } }, vj = /^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i, wj = 10 * 60 * 1e3; class bd extends Error { constructor(e, r, n) { super(e), this.__isAuthError = !0, this.name = "AuthError", this.status = r, this.code = n } } function Zt(t) { return typeof t == "object" && t !== null && "__isAuthError" in t } class yj extends bd { constructor(e, r, n) { super(e, r, n), this.name = "AuthApiError", this.status = r, this.code = n } } function bj(t) { return Zt(t) && t.name === "AuthApiError" } class tl extends bd { constructor(e, r) { super(e), this.name = "AuthUnknownError", this.originalError = r } } class NA extends bd { constructor(e, r, n, s) { super(e, n, s), this.name = r, this.status = n } } class ai extends NA { constructor() { super("Auth session missing!", "AuthSessionMissingError", 400, void 0) } } function Bj(t) { return Zt(t) && t.name === "AuthSessionMissingError" } class Kl extends NA { constructor() { super("Auth session or user missing", "AuthInvalidTokenResponseError", 500, void 0) } } class gh extends NA { constructor(e) { super(e, "AuthInvalidCredentialsError", 400, void 0) } } class mh extends NA { constructor(e, r = null) { super(e, "AuthImplicitGrantRedirectError", 500, void 0), this.details = null, this.details = r } toJSON() { return { name: this.name, message: this.message, status: this.status, details: this.details } } } function Cj(t) { return Zt(t) && t.name === "AuthImplicitGrantRedirectError" } class nw extends NA { constructor(e, r = null) { super(e, "AuthPKCEGrantCodeExchangeError", 500, void 0), this.details = null, this.details = r } toJSON() { return { name: this.name, message: this.message, status: this.status, details: this.details } } } class Nj extends NA { constructor() { super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.", "AuthPKCECodeVerifierMissingError", 400, "pkce_code_verifier_not_found") } } class Bm extends NA { constructor(e, r) { super(e, "AuthRetryableFetchError", r, void 0) } } function Ep(t) { return Zt(t) && t.name === "AuthRetryableFetchError" } class sw extends NA { constructor(e, r, n) { super(e, "AuthWeakPasswordError", r, "weak_password"), this.reasons = n } } class Cm extends NA { constructor(e) { super(e, "AuthInvalidJwtError", 400, "invalid_jwt") } } const $f = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""), iw = ` 	
\r=`.split(""), Sj = (() => { const t = new Array(128); for (let e = 0; e < t.length; e += 1)t[e] = -1; for (let e = 0; e < iw.length; e += 1)t[iw[e].charCodeAt(0)] = -2; for (let e = 0; e < $f.length; e += 1)t[$f[e].charCodeAt(0)] = e; return t })(); function aw(t, e, r) { if (t !== null) for (e.queue = e.queue << 8 | t, e.queuedBits += 8; e.queuedBits >= 6;) { const n = e.queue >> e.queuedBits - 6 & 63; r($f[n]), e.queuedBits -= 6 } else if (e.queuedBits > 0) for (e.queue = e.queue << 6 - e.queuedBits, e.queuedBits = 6; e.queuedBits >= 6;) { const n = e.queue >> e.queuedBits - 6 & 63; r($f[n]), e.queuedBits -= 6 } } function X5(t, e, r) { const n = Sj[t]; if (n > -1) for (e.queue = e.queue << 6 | n, e.queuedBits += 6; e.queuedBits >= 8;)r(e.queue >> e.queuedBits - 8 & 255), e.queuedBits -= 8; else { if (n === -2) return; throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`) } } function Aw(t) { const e = [], r = A => { e.push(String.fromCodePoint(A)) }, n = { utf8seq: 0, codepoint: 0 }, s = { queue: 0, queuedBits: 0 }, a = A => { Fj(A, n, r) }; for (let A = 0; A < t.length; A += 1)X5(t.charCodeAt(A), s, a); return e.join("") } function jj(t, e) { if (t <= 127) { e(t); return } else if (t <= 2047) { e(192 | t >> 6), e(128 | t & 63); return } else if (t <= 65535) { e(224 | t >> 12), e(128 | t >> 6 & 63), e(128 | t & 63); return } else if (t <= 1114111) { e(240 | t >> 18), e(128 | t >> 12 & 63), e(128 | t >> 6 & 63), e(128 | t & 63); return } throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`) } function Ej(t, e) { for (let r = 0; r < t.length; r += 1) { let n = t.charCodeAt(r); if (n > 55295 && n <= 56319) { const s = (n - 55296) * 1024 & 65535; n = (t.charCodeAt(r + 1) - 56320 & 65535 | s) + 65536, r += 1 } jj(n, e) } } function Fj(t, e, r) { if (e.utf8seq === 0) { if (t <= 127) { r(t); return } for (let n = 1; n < 6; n += 1)if (!(t >> 7 - n & 1)) { e.utf8seq = n; break } if (e.utf8seq === 2) e.codepoint = t & 31; else if (e.utf8seq === 3) e.codepoint = t & 15; else if (e.utf8seq === 4) e.codepoint = t & 7; else throw new Error("Invalid UTF-8 sequence"); e.utf8seq -= 1 } else if (e.utf8seq > 0) { if (t <= 127) throw new Error("Invalid UTF-8 sequence"); e.codepoint = e.codepoint << 6 | t & 63, e.utf8seq -= 1, e.utf8seq === 0 && r(e.codepoint) } } function Uc(t) { const e = [], r = { queue: 0, queuedBits: 0 }, n = s => { e.push(s) }; for (let s = 0; s < t.length; s += 1)X5(t.charCodeAt(s), r, n); return new Uint8Array(e) } function _j(t) { const e = []; return Ej(t, r => e.push(r)), new Uint8Array(e) } function Al(t) { const e = [], r = { queue: 0, queuedBits: 0 }, n = s => { e.push(s) }; return t.forEach(s => aw(s, r, n)), aw(null, r, n), e.join("") } function kj(t) { return Math.round(Date.now() / 1e3) + t } function Uj() { return Symbol("auth-callback") } const As = () => typeof window < "u" && typeof document < "u", zo = { tested: !1, writable: !1 }, Z5 = () => { if (!As()) return !1; try { if (typeof globalThis.localStorage != "object") return !1 } catch { return !1 } if (zo.tested) return zo.writable; const t = `lswt-${Math.random()}${Math.random()}`; try { globalThis.localStorage.setItem(t, t), globalThis.localStorage.removeItem(t), zo.tested = !0, zo.writable = !0 } catch { zo.tested = !0, zo.writable = !1 } return zo.writable }; function Ij(t) { const e = {}, r = new URL(t); if (r.hash && r.hash[0] === "#") try { new URLSearchParams(r.hash.substring(1)).forEach((s, a) => { e[a] = s }) } catch { } return r.searchParams.forEach((n, s) => { e[s] = n }), e } const eB = t => t ? (...e) => t(...e) : (...e) => fetch(...e), Qj = t => typeof t == "object" && t !== null && "status" in t && "ok" in t && "json" in t && typeof t.json == "function", ac = async (t, e, r) => { await t.setItem(e, JSON.stringify(r)) }, qo = async (t, e) => { const r = await t.getItem(e); if (!r) return null; try { return JSON.parse(r) } catch { return r } }, is = async (t, e) => { await t.removeItem(e) }; class N0 { constructor() { this.promise = new N0.promiseConstructor((e, r) => { this.resolve = e, this.reject = r }) } } N0.promiseConstructor = Promise; function Fp(t) { const e = t.split("."); if (e.length !== 3) throw new Cm("Invalid JWT structure"); for (let n = 0; n < e.length; n++)if (!vj.test(e[n])) throw new Cm("JWT not in base64url format"); return { header: JSON.parse(Aw(e[0])), payload: JSON.parse(Aw(e[1])), signature: Uc(e[2]), raw: { header: e[0], payload: e[1] } } } async function Tj(t) { return await new Promise(e => { setTimeout(() => e(null), t) }) } function Lj(t, e) { return new Promise((n, s) => { (async () => { for (let a = 0; a < 1 / 0; a++)try { const A = await t(a); if (!e(a, null, A)) { n(A); return } } catch (A) { if (!e(a, A)) { s(A); return } } })() }) } function Oj(t) { return ("0" + t.toString(16)).substr(-2) } function Pj() { const e = new Uint32Array(56); if (typeof crypto > "u") { const r = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~", n = r.length; let s = ""; for (let a = 0; a < 56; a++)s += r.charAt(Math.floor(Math.random() * n)); return s } return crypto.getRandomValues(e), Array.from(e, Oj).join("") } async function Dj(t) { const r = new TextEncoder().encode(t), n = await crypto.subtle.digest("SHA-256", r), s = new Uint8Array(n); return Array.from(s).map(a => String.fromCharCode(a)).join("") } async function Rj(t) { if (!(typeof crypto < "u" && typeof crypto.subtle < "u" && typeof TextEncoder < "u")) return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."), t; const r = await Dj(t); return btoa(r).replace(/\+/g, "-").replace(/\//g, "_").replace(/=+$/, "") } async function Gl(t, e, r = !1) { const n = Pj(); let s = n; r && (s += "/PASSWORD_RECOVERY"), await ac(t, `${e}-code-verifier`, s); const a = await Rj(n); return [a, n === a ? "plain" : "s256"] } const Hj = /^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i; function Mj(t) { const e = t.headers.get(bm); if (!e || !e.match(Hj)) return null; try { return new Date(`${e}T00:00:00.0Z`) } catch { return null } } function $j(t) { if (!t) throw new Error("Missing exp claim"); const e = Math.floor(Date.now() / 1e3); if (t <= e) throw new Error("JWT has expired") } function Kj(t) { switch (t) { case "RS256": return { name: "RSASSA-PKCS1-v1_5", hash: { name: "SHA-256" } }; case "ES256": return { name: "ECDSA", namedCurve: "P-256", hash: { name: "SHA-256" } }; default: throw new Error("Invalid alg claim") } } const Gj = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/; function Vl(t) { if (!Gj.test(t)) throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not") } function _p() { const t = {}; return new Proxy(t, { get: (e, r) => { if (r === "__isUserNotAvailableProxy") return !0; if (typeof r == "symbol") { const n = r.toString(); if (n === "Symbol(Symbol.toPrimitive)" || n === "Symbol(Symbol.toStringTag)" || n === "Symbol(util.inspect.custom)") return } throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`) }, set: (e, r) => { throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`) }, deleteProperty: (e, r) => { throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`) } }) } function Vj(t, e) { return new Proxy(t, { get: (r, n, s) => { if (n === "__isInsecureUserWarningProxy") return !0; if (typeof n == "symbol") { const a = n.toString(); if (a === "Symbol(Symbol.toPrimitive)" || a === "Symbol(Symbol.toStringTag)" || a === "Symbol(util.inspect.custom)" || a === "Symbol(nodejs.util.inspect.custom)") return Reflect.get(r, n, s) } return !e.value && typeof n == "string" && (console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."), e.value = !0), Reflect.get(r, n, s) } }) } function ow(t) { return JSON.parse(JSON.stringify(t)) } const Xo = t => t.msg || t.message || t.error_description || t.error || JSON.stringify(t), zj = [502, 503, 504]; async function lw(t) { var e; if (!Qj(t)) throw new Bm(Xo(t), 0); if (zj.includes(t.status)) throw new Bm(Xo(t), t.status); let r; try { r = await t.json() } catch (a) { throw new tl(Xo(a), a) } let n; const s = Mj(t); if (s && s.getTime() >= Y5["2024-01-01"].timestamp && typeof r == "object" && r && typeof r.code == "string" ? n = r.code : typeof r == "object" && r && typeof r.error_code == "string" && (n = r.error_code), n) { if (n === "weak_password") throw new sw(Xo(r), t.status, ((e = r.weak_password) === null || e === void 0 ? void 0 : e.reasons) || []); if (n === "session_not_found") throw new ai } else if (typeof r == "object" && r && typeof r.weak_password == "object" && r.weak_password && Array.isArray(r.weak_password.reasons) && r.weak_password.reasons.length && r.weak_password.reasons.reduce((a, A) => a && typeof A == "string", !0)) throw new sw(Xo(r), t.status, r.weak_password.reasons); throw new yj(Xo(r), t.status || 500, n) } const qj = (t, e, r, n) => { const s = { method: t, headers: (e == null ? void 0 : e.headers) || {} }; return t === "GET" ? s : (s.headers = Object.assign({ "Content-Type": "application/json;charset=UTF-8" }, e == null ? void 0 : e.headers), s.body = JSON.stringify(n), Object.assign(Object.assign({}, s), r)) }; async function nr(t, e, r, n) { var s; const a = Object.assign({}, n == null ? void 0 : n.headers); a[bm] || (a[bm] = Y5["2024-01-01"].name), n != null && n.jwt && (a.Authorization = `Bearer ${n.jwt}`); const A = (s = n == null ? void 0 : n.query) !== null && s !== void 0 ? s : {}; n != null && n.redirectTo && (A.redirect_to = n.redirectTo); const o = Object.keys(A).length ? "?" + new URLSearchParams(A).toString() : "", l = await Wj(t, e, r + o, { headers: a, noResolveJson: n == null ? void 0 : n.noResolveJson }, {}, n == null ? void 0 : n.body); return n != null && n.xform ? n == null ? void 0 : n.xform(l) : { data: Object.assign({}, l), error: null } } async function Wj(t, e, r, n, s, a) { const A = qj(e, n, s, a); let o; try { o = await t(r, Object.assign({}, A)) } catch (l) { throw console.error(l), new Bm(Xo(l), 0) } if (o.ok || await lw(o), n != null && n.noResolveJson) return o; try { return await o.json() } catch (l) { await lw(l) } } function na(t) { var e; let r = null; Xj(t) && (r = Object.assign({}, t), t.expires_at || (r.expires_at = kj(t.expires_in))); const n = (e = t.user) !== null && e !== void 0 ? e : t; return { data: { session: r, user: n }, error: null } } function cw(t) { const e = na(t); return !e.error && t.weak_password && typeof t.weak_password == "object" && Array.isArray(t.weak_password.reasons) && t.weak_password.reasons.length && t.weak_password.message && typeof t.weak_password.message == "string" && t.weak_password.reasons.reduce((r, n) => r && typeof n == "string", !0) && (e.data.weak_password = t.weak_password), e } function oo(t) { var e; return { data: { user: (e = t.user) !== null && e !== void 0 ? e : t }, error: null } } function Jj(t) { return { data: t, error: null } } function Yj(t) { const { action_link: e, email_otp: r, hashed_token: n, redirect_to: s, verification_type: a } = t, A = B0(t, ["action_link", "email_otp", "hashed_token", "redirect_to", "verification_type"]), o = { action_link: e, email_otp: r, hashed_token: n, redirect_to: s, verification_type: a }, l = Object.assign({}, A); return { data: { properties: o, user: l }, error: null } } function uw(t) { return t } function Xj(t) { return t.access_token && t.refresh_token && t.expires_in } const kp = ["global", "local", "others"]; class Zj { constructor({ url: e = "", headers: r = {}, fetch: n }) { this.url = e, this.headers = r, this.fetch = eB(n), this.mfa = { listFactors: this._listFactors.bind(this), deleteFactor: this._deleteFactor.bind(this) }, this.oauth = { listClients: this._listOAuthClients.bind(this), createClient: this._createOAuthClient.bind(this), getClient: this._getOAuthClient.bind(this), updateClient: this._updateOAuthClient.bind(this), deleteClient: this._deleteOAuthClient.bind(this), regenerateClientSecret: this._regenerateOAuthClientSecret.bind(this) } } async signOut(e, r = kp[0]) { if (kp.indexOf(r) < 0) throw new Error(`@supabase/auth-js: Parameter scope must be one of ${kp.join(", ")}`); try { return await nr(this.fetch, "POST", `${this.url}/logout?scope=${r}`, { headers: this.headers, jwt: e, noResolveJson: !0 }), { data: null, error: null } } catch (n) { if (Zt(n)) return { data: null, error: n }; throw n } } async inviteUserByEmail(e, r = {}) { try { return await nr(this.fetch, "POST", `${this.url}/invite`, { body: { email: e, data: r.data }, headers: this.headers, redirectTo: r.redirectTo, xform: oo }) } catch (n) { if (Zt(n)) return { data: { user: null }, error: n }; throw n } } async generateLink(e) { try { const { options: r } = e, n = B0(e, ["options"]), s = Object.assign(Object.assign({}, n), r); return "newEmail" in n && (s.new_email = n == null ? void 0 : n.newEmail, delete s.newEmail), await nr(this.fetch, "POST", `${this.url}/admin/generate_link`, { body: s, headers: this.headers, xform: Yj, redirectTo: r == null ? void 0 : r.redirectTo }) } catch (r) { if (Zt(r)) return { data: { properties: null, user: null }, error: r }; throw r } } async createUser(e) { try { return await nr(this.fetch, "POST", `${this.url}/admin/users`, { body: e, headers: this.headers, xform: oo }) } catch (r) { if (Zt(r)) return { data: { user: null }, error: r }; throw r } } async listUsers(e) { var r, n, s, a, A, o, l; try { const c = { nextPage: null, lastPage: 0, total: 0 }, d = await nr(this.fetch, "GET", `${this.url}/admin/users`, { headers: this.headers, noResolveJson: !0, query: { page: (n = (r = e == null ? void 0 : e.page) === null || r === void 0 ? void 0 : r.toString()) !== null && n !== void 0 ? n : "", per_page: (a = (s = e == null ? void 0 : e.perPage) === null || s === void 0 ? void 0 : s.toString()) !== null && a !== void 0 ? a : "" }, xform: uw }); if (d.error) throw d.error; const p = await d.json(), g = (A = d.headers.get("x-total-count")) !== null && A !== void 0 ? A : 0, h = (l = (o = d.headers.get("link")) === null || o === void 0 ? void 0 : o.split(",")) !== null && l !== void 0 ? l : []; return h.length > 0 && (h.forEach(b => { const w = parseInt(b.split(";")[0].split("=")[1].substring(0, 1)), j = JSON.parse(b.split(";")[1].split("=")[1]); c[`${j}Page`] = w }), c.total = parseInt(g)), { data: Object.assign(Object.assign({}, p), c), error: null } } catch (c) { if (Zt(c)) return { data: { users: [] }, error: c }; throw c } } async getUserById(e) { Vl(e); try { return await nr(this.fetch, "GET", `${this.url}/admin/users/${e}`, { headers: this.headers, xform: oo }) } catch (r) { if (Zt(r)) return { data: { user: null }, error: r }; throw r } } async updateUserById(e, r) { Vl(e); try { return await nr(this.fetch, "PUT", `${this.url}/admin/users/${e}`, { body: r, headers: this.headers, xform: oo }) } catch (n) { if (Zt(n)) return { data: { user: null }, error: n }; throw n } } async deleteUser(e, r = !1) { Vl(e); try { return await nr(this.fetch, "DELETE", `${this.url}/admin/users/${e}`, { headers: this.headers, body: { should_soft_delete: r }, xform: oo }) } catch (n) { if (Zt(n)) return { data: { user: null }, error: n }; throw n } } async _listFactors(e) { Vl(e.userId); try { const { data: r, error: n } = await nr(this.fetch, "GET", `${this.url}/admin/users/${e.userId}/factors`, { headers: this.headers, xform: s => ({ data: { factors: s }, error: null }) }); return { data: r, error: n } } catch (r) { if (Zt(r)) return { data: null, error: r }; throw r } } async _deleteFactor(e) { Vl(e.userId), Vl(e.id); try { return { data: await nr(this.fetch, "DELETE", `${this.url}/admin/users/${e.userId}/factors/${e.id}`, { headers: this.headers }), error: null } } catch (r) { if (Zt(r)) return { data: null, error: r }; throw r } } async _listOAuthClients(e) { var r, n, s, a, A, o, l; try { const c = { nextPage: null, lastPage: 0, total: 0 }, d = await nr(this.fetch, "GET", `${this.url}/admin/oauth/clients`, { headers: this.headers, noResolveJson: !0, query: { page: (n = (r = e == null ? void 0 : e.page) === null || r === void 0 ? void 0 : r.toString()) !== null && n !== void 0 ? n : "", per_page: (a = (s = e == null ? void 0 : e.perPage) === null || s === void 0 ? void 0 : s.toString()) !== null && a !== void 0 ? a : "" }, xform: uw }); if (d.error) throw d.error; const p = await d.json(), g = (A = d.headers.get("x-total-count")) !== null && A !== void 0 ? A : 0, h = (l = (o = d.headers.get("link")) === null || o === void 0 ? void 0 : o.split(",")) !== null && l !== void 0 ? l : []; return h.length > 0 && (h.forEach(b => { const w = parseInt(b.split(";")[0].split("=")[1].substring(0, 1)), j = JSON.parse(b.split(";")[1].split("=")[1]); c[`${j}Page`] = w }), c.total = parseInt(g)), { data: Object.assign(Object.assign({}, p), c), error: null } } catch (c) { if (Zt(c)) return { data: { clients: [] }, error: c }; throw c } } async _createOAuthClient(e) { try { return await nr(this.fetch, "POST", `${this.url}/admin/oauth/clients`, { body: e, headers: this.headers, xform: r => ({ data: r, error: null }) }) } catch (r) { if (Zt(r)) return { data: null, error: r }; throw r } } async _getOAuthClient(e) { try { return await nr(this.fetch, "GET", `${this.url}/admin/oauth/clients/${e}`, { headers: this.headers, xform: r => ({ data: r, error: null }) }) } catch (r) { if (Zt(r)) return { data: null, error: r }; throw r } } async _updateOAuthClient(e, r) { try { return await nr(this.fetch, "PUT", `${this.url}/admin/oauth/clients/${e}`, { body: r, headers: this.headers, xform: n => ({ data: n, error: null }) }) } catch (n) { if (Zt(n)) return { data: null, error: n }; throw n } } async _deleteOAuthClient(e) { try { return await nr(this.fetch, "DELETE", `${this.url}/admin/oauth/clients/${e}`, { headers: this.headers, noResolveJson: !0 }), { data: null, error: null } } catch (r) { if (Zt(r)) return { data: null, error: r }; throw r } } async _regenerateOAuthClientSecret(e) { try { return await nr(this.fetch, "POST", `${this.url}/admin/oauth/clients/${e}/regenerate_secret`, { headers: this.headers, xform: r => ({ data: r, error: null }) }) } catch (r) { if (Zt(r)) return { data: null, error: r }; throw r } } } function dw(t = {}) { return { getItem: e => t[e] || null, setItem: (e, r) => { t[e] = r }, removeItem: e => { delete t[e] } } } const zl = { debug: !!(globalThis && Z5() && globalThis.localStorage && globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug") === "true") }; class tB extends Error { constructor(e) { super(e), this.isAcquireTimeout = !0 } } class eE extends tB { } async function tE(t, e, r) { zl.debug && console.log("@supabase/gotrue-js: navigatorLock: acquire lock", t, e); const n = new globalThis.AbortController; return e > 0 && setTimeout(() => { n.abort(), zl.debug && console.log("@supabase/gotrue-js: navigatorLock acquire timed out", t) }, e), await Promise.resolve().then(() => globalThis.navigator.locks.request(t, e === 0 ? { mode: "exclusive", ifAvailable: !0 } : { mode: "exclusive", signal: n.signal }, async s => { if (s) { zl.debug && console.log("@supabase/gotrue-js: navigatorLock: acquired", t, s.name); try { return await r() } finally { zl.debug && console.log("@supabase/gotrue-js: navigatorLock: released", t, s.name) } } else { if (e === 0) throw zl.debug && console.log("@supabase/gotrue-js: navigatorLock: not immediately available", t), new eE(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`); if (zl.debug) try { const a = await globalThis.navigator.locks.query(); console.log("@supabase/gotrue-js: Navigator LockManager state", JSON.stringify(a, null, "  ")) } catch (a) { console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state", a) } return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"), await r() } })) } function rE() { if (typeof globalThis != "object") try { Object.defineProperty(Object.prototype, "__magic__", { get: function () { return this }, configurable: !0 }), __magic__.globalThis = __magic__, delete Object.prototype.__magic__ } catch { typeof self < "u" && (self.globalThis = self) } } function rB(t) { if (!/^0x[a-fA-F0-9]{40}$/.test(t)) throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`); return t.toLowerCase() } function nE(t) { return parseInt(t, 16) } function sE(t) { const e = new TextEncoder().encode(t); return "0x" + Array.from(e, n => n.toString(16).padStart(2, "0")).join("") } function iE(t) {
  var e; const { chainId: r, domain: n, expirationTime: s, issuedAt: a = new Date, nonce: A, notBefore: o, requestId: l, resources: c, scheme: d, uri: p, version: g } = t; {
    if (!Number.isInteger(r)) throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`); if (!n) throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.'); if (A && A.length < 8) throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${A}`); if (!p) throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.'); if (g !== "1") throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`); if (!((e = t.statement) === null || e === void 0) && e.includes(`
`)) throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)
  } const h = rB(t.address), b = d ? `${d}://${n}` : n, w = t.statement ? `${t.statement}
`: "", j = `${b} wants you to sign in with your Ethereum account:
${h}

${w}`; let x = `URI: ${p}
Version: ${g}
Chain ID: ${r}${A ? `
Nonce: ${A}` : ""}
Issued At: ${a.toISOString()}`; if (s && (x += `
Expiration Time: ${s.toISOString()}`), o && (x += `
Not Before: ${o.toISOString()}`), l && (x += `
Request ID: ${l}`), c) {
    let y = `
Resources:`; for (const B of c) {
      if (!B || typeof B != "string") throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${B}`); y += `
- ${B}`
    } x += y
  } return `${j}
${x}`
} class Dn extends Error { constructor({ message: e, code: r, cause: n, name: s }) { var a; super(e, { cause: n }), this.__isWebAuthnError = !0, this.name = (a = s ?? (n instanceof Error ? n.name : void 0)) !== null && a !== void 0 ? a : "Unknown Error", this.code = r } } class Kf extends Dn { constructor(e, r) { super({ code: "ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY", cause: r, message: e }), this.name = "WebAuthnUnknownError", this.originalError = r } } function aE({ error: t, options: e }) { var r, n, s; const { publicKey: a } = e; if (!a) throw Error("options was missing required publicKey property"); if (t.name === "AbortError") { if (e.signal instanceof AbortSignal) return new Dn({ message: "Registration ceremony was sent an abort signal", code: "ERROR_CEREMONY_ABORTED", cause: t }) } else if (t.name === "ConstraintError") { if (((r = a.authenticatorSelection) === null || r === void 0 ? void 0 : r.requireResidentKey) === !0) return new Dn({ message: "Discoverable credentials were required but no available authenticator supported it", code: "ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT", cause: t }); if (e.mediation === "conditional" && ((n = a.authenticatorSelection) === null || n === void 0 ? void 0 : n.userVerification) === "required") return new Dn({ message: "User verification was required during automatic registration but it could not be performed", code: "ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE", cause: t }); if (((s = a.authenticatorSelection) === null || s === void 0 ? void 0 : s.userVerification) === "required") return new Dn({ message: "User verification was required but no available authenticator supported it", code: "ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT", cause: t }) } else { if (t.name === "InvalidStateError") return new Dn({ message: "The authenticator was previously registered", code: "ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED", cause: t }); if (t.name === "NotAllowedError") return new Dn({ message: t.message, code: "ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY", cause: t }); if (t.name === "NotSupportedError") return a.pubKeyCredParams.filter(o => o.type === "public-key").length === 0 ? new Dn({ message: 'No entry in pubKeyCredParams was of type "public-key"', code: "ERROR_MALFORMED_PUBKEYCREDPARAMS", cause: t }) : new Dn({ message: "No available authenticator supported any of the specified pubKeyCredParams algorithms", code: "ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG", cause: t }); if (t.name === "SecurityError") { const A = window.location.hostname; if (nB(A)) { if (a.rp.id !== A) return new Dn({ message: `The RP ID "${a.rp.id}" is invalid for this domain`, code: "ERROR_INVALID_RP_ID", cause: t }) } else return new Dn({ message: `${window.location.hostname} is an invalid domain`, code: "ERROR_INVALID_DOMAIN", cause: t }) } else if (t.name === "TypeError") { if (a.user.id.byteLength < 1 || a.user.id.byteLength > 64) return new Dn({ message: "User ID was not between 1 and 64 characters", code: "ERROR_INVALID_USER_ID_LENGTH", cause: t }) } else if (t.name === "UnknownError") return new Dn({ message: "The authenticator was unable to process the specified options, or could not create a new credential", code: "ERROR_AUTHENTICATOR_GENERAL_ERROR", cause: t }) } return new Dn({ message: "a Non-Webauthn related error has occurred", code: "ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY", cause: t }) } function AE({ error: t, options: e }) { const { publicKey: r } = e; if (!r) throw Error("options was missing required publicKey property"); if (t.name === "AbortError") { if (e.signal instanceof AbortSignal) return new Dn({ message: "Authentication ceremony was sent an abort signal", code: "ERROR_CEREMONY_ABORTED", cause: t }) } else { if (t.name === "NotAllowedError") return new Dn({ message: t.message, code: "ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY", cause: t }); if (t.name === "SecurityError") { const n = window.location.hostname; if (nB(n)) { if (r.rpId !== n) return new Dn({ message: `The RP ID "${r.rpId}" is invalid for this domain`, code: "ERROR_INVALID_RP_ID", cause: t }) } else return new Dn({ message: `${window.location.hostname} is an invalid domain`, code: "ERROR_INVALID_DOMAIN", cause: t }) } else if (t.name === "UnknownError") return new Dn({ message: "The authenticator was unable to process the specified options, or could not create a new assertion signature", code: "ERROR_AUTHENTICATOR_GENERAL_ERROR", cause: t }) } return new Dn({ message: "a Non-Webauthn related error has occurred", code: "ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY", cause: t }) } class oE { createNewAbortSignal() { if (this.controller) { const r = new Error("Cancelling existing WebAuthn API call for new one"); r.name = "AbortError", this.controller.abort(r) } const e = new AbortController; return this.controller = e, e.signal } cancelCeremony() { if (this.controller) { const e = new Error("Manually cancelling existing WebAuthn API call"); e.name = "AbortError", this.controller.abort(e), this.controller = void 0 } } } const lE = new oE; function cE(t) { if (!t) throw new Error("Credential creation options are required"); if (typeof PublicKeyCredential < "u" && "parseCreationOptionsFromJSON" in PublicKeyCredential && typeof PublicKeyCredential.parseCreationOptionsFromJSON == "function") return PublicKeyCredential.parseCreationOptionsFromJSON(t); const { challenge: e, user: r, excludeCredentials: n } = t, s = B0(t, ["challenge", "user", "excludeCredentials"]), a = Uc(e).buffer, A = Object.assign(Object.assign({}, r), { id: Uc(r.id).buffer }), o = Object.assign(Object.assign({}, s), { challenge: a, user: A }); if (n && n.length > 0) { o.excludeCredentials = new Array(n.length); for (let l = 0; l < n.length; l++) { const c = n[l]; o.excludeCredentials[l] = Object.assign(Object.assign({}, c), { id: Uc(c.id).buffer, type: c.type || "public-key", transports: c.transports }) } } return o } function uE(t) { if (!t) throw new Error("Credential request options are required"); if (typeof PublicKeyCredential < "u" && "parseRequestOptionsFromJSON" in PublicKeyCredential && typeof PublicKeyCredential.parseRequestOptionsFromJSON == "function") return PublicKeyCredential.parseRequestOptionsFromJSON(t); const { challenge: e, allowCredentials: r } = t, n = B0(t, ["challenge", "allowCredentials"]), s = Uc(e).buffer, a = Object.assign(Object.assign({}, n), { challenge: s }); if (r && r.length > 0) { a.allowCredentials = new Array(r.length); for (let A = 0; A < r.length; A++) { const o = r[A]; a.allowCredentials[A] = Object.assign(Object.assign({}, o), { id: Uc(o.id).buffer, type: o.type || "public-key", transports: o.transports }) } } return a } function dE(t) { var e; if ("toJSON" in t && typeof t.toJSON == "function") return t.toJSON(); const r = t; return { id: t.id, rawId: t.id, response: { attestationObject: Al(new Uint8Array(t.response.attestationObject)), clientDataJSON: Al(new Uint8Array(t.response.clientDataJSON)) }, type: "public-key", clientExtensionResults: t.getClientExtensionResults(), authenticatorAttachment: (e = r.authenticatorAttachment) !== null && e !== void 0 ? e : void 0 } } function hE(t) { var e; if ("toJSON" in t && typeof t.toJSON == "function") return t.toJSON(); const r = t, n = t.getClientExtensionResults(), s = t.response; return { id: t.id, rawId: t.id, response: { authenticatorData: Al(new Uint8Array(s.authenticatorData)), clientDataJSON: Al(new Uint8Array(s.clientDataJSON)), signature: Al(new Uint8Array(s.signature)), userHandle: s.userHandle ? Al(new Uint8Array(s.userHandle)) : void 0 }, type: "public-key", clientExtensionResults: n, authenticatorAttachment: (e = r.authenticatorAttachment) !== null && e !== void 0 ? e : void 0 } } function nB(t) { return t === "localhost" || /^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t) } function hw() { var t, e; return !!(As() && "PublicKeyCredential" in window && window.PublicKeyCredential && "credentials" in navigator && typeof ((t = navigator == null ? void 0 : navigator.credentials) === null || t === void 0 ? void 0 : t.create) == "function" && typeof ((e = navigator == null ? void 0 : navigator.credentials) === null || e === void 0 ? void 0 : e.get) == "function") } async function fE(t) { try { const e = await navigator.credentials.create(t); return e ? e instanceof PublicKeyCredential ? { data: e, error: null } : { data: null, error: new Kf("Browser returned unexpected credential type", e) } : { data: null, error: new Kf("Empty credential response", e) } } catch (e) { return { data: null, error: aE({ error: e, options: t }) } } } async function pE(t) { try { const e = await navigator.credentials.get(t); return e ? e instanceof PublicKeyCredential ? { data: e, error: null } : { data: null, error: new Kf("Browser returned unexpected credential type", e) } : { data: null, error: new Kf("Empty credential response", e) } } catch (e) { return { data: null, error: AE({ error: e, options: t }) } } } const gE = { hints: ["security-key"], authenticatorSelection: { authenticatorAttachment: "cross-platform", requireResidentKey: !1, userVerification: "preferred", residentKey: "discouraged" }, attestation: "direct" }, mE = { userVerification: "preferred", hints: ["security-key"], attestation: "direct" }; function Gf(...t) { const e = s => s !== null && typeof s == "object" && !Array.isArray(s), r = s => s instanceof ArrayBuffer || ArrayBuffer.isView(s), n = {}; for (const s of t) if (s) for (const a in s) { const A = s[a]; if (A !== void 0) if (Array.isArray(A)) n[a] = A; else if (r(A)) n[a] = A; else if (e(A)) { const o = n[a]; e(o) ? n[a] = Gf(o, A) : n[a] = Gf(A) } else n[a] = A } return n } function xE(t, e) { return Gf(gE, t, e || {}) } function vE(t, e) { return Gf(mE, t, e || {}) } class wE { constructor(e) { this.client = e, this.enroll = this._enroll.bind(this), this.challenge = this._challenge.bind(this), this.verify = this._verify.bind(this), this.authenticate = this._authenticate.bind(this), this.register = this._register.bind(this) } async _enroll(e) { return this.client.mfa.enroll(Object.assign(Object.assign({}, e), { factorType: "webauthn" })) } async _challenge({ factorId: e, webauthn: r, friendlyName: n, signal: s }, a) { try { const { data: A, error: o } = await this.client.mfa.challenge({ factorId: e, webauthn: r }); if (!A) return { data: null, error: o }; const l = s ?? lE.createNewAbortSignal(); if (A.webauthn.type === "create") { const { user: c } = A.webauthn.credential_options.publicKey; c.name || (c.name = `${c.id}:${n}`), c.displayName || (c.displayName = c.name) } switch (A.webauthn.type) { case "create": { const c = xE(A.webauthn.credential_options.publicKey, a == null ? void 0 : a.create), { data: d, error: p } = await fE({ publicKey: c, signal: l }); return d ? { data: { factorId: e, challengeId: A.id, webauthn: { type: A.webauthn.type, credential_response: d } }, error: null } : { data: null, error: p } } case "request": { const c = vE(A.webauthn.credential_options.publicKey, a == null ? void 0 : a.request), { data: d, error: p } = await pE(Object.assign(Object.assign({}, A.webauthn.credential_options), { publicKey: c, signal: l })); return d ? { data: { factorId: e, challengeId: A.id, webauthn: { type: A.webauthn.type, credential_response: d } }, error: null } : { data: null, error: p } } } } catch (A) { return Zt(A) ? { data: null, error: A } : { data: null, error: new tl("Unexpected error in challenge", A) } } } async _verify({ challengeId: e, factorId: r, webauthn: n }) { return this.client.mfa.verify({ factorId: r, challengeId: e, webauthn: n }) } async _authenticate({ factorId: e, webauthn: { rpId: r = typeof window < "u" ? window.location.hostname : void 0, rpOrigins: n = typeof window < "u" ? [window.location.origin] : void 0, signal: s } = {} }, a) { if (!r) return { data: null, error: new bd("rpId is required for WebAuthn authentication") }; try { if (!hw()) return { data: null, error: new tl("Browser does not support WebAuthn", null) }; const { data: A, error: o } = await this.challenge({ factorId: e, webauthn: { rpId: r, rpOrigins: n }, signal: s }, { request: a }); if (!A) return { data: null, error: o }; const { webauthn: l } = A; return this._verify({ factorId: e, challengeId: A.challengeId, webauthn: { type: l.type, rpId: r, rpOrigins: n, credential_response: l.credential_response } }) } catch (A) { return Zt(A) ? { data: null, error: A } : { data: null, error: new tl("Unexpected error in authenticate", A) } } } async _register({ friendlyName: e, webauthn: { rpId: r = typeof window < "u" ? window.location.hostname : void 0, rpOrigins: n = typeof window < "u" ? [window.location.origin] : void 0, signal: s } = {} }, a) { if (!r) return { data: null, error: new bd("rpId is required for WebAuthn registration") }; try { if (!hw()) return { data: null, error: new tl("Browser does not support WebAuthn", null) }; const { data: A, error: o } = await this._enroll({ friendlyName: e }); if (!A) return await this.client.mfa.listFactors().then(d => { var p; return (p = d.data) === null || p === void 0 ? void 0 : p.all.find(g => g.factor_type === "webauthn" && g.friendly_name === e && g.status !== "unverified") }).then(d => d ? this.client.mfa.unenroll({ factorId: d == null ? void 0 : d.id }) : void 0), { data: null, error: o }; const { data: l, error: c } = await this._challenge({ factorId: A.id, friendlyName: A.friendly_name, webauthn: { rpId: r, rpOrigins: n }, signal: s }, { create: a }); return l ? this._verify({ factorId: A.id, challengeId: l.challengeId, webauthn: { rpId: r, rpOrigins: n, type: l.webauthn.type, credential_response: l.webauthn.credential_response } }) : { data: null, error: c } } catch (A) { return Zt(A) ? { data: null, error: A } : { data: null, error: new tl("Unexpected error in register", A) } } } } rE(); const yE = { url: gj, storageKey: mj, autoRefreshToken: !0, persistSession: !0, detectSessionInUrl: !0, headers: xj, flowType: "implicit", debug: !1, hasCustomAuthorizationHeader: !1, throwOnError: !1 }; async function fw(t, e, r) { return await r() } const ql = {}; class Bd {
  get jwks() { var e, r; return (r = (e = ql[this.storageKey]) === null || e === void 0 ? void 0 : e.jwks) !== null && r !== void 0 ? r : { keys: [] } } set jwks(e) { ql[this.storageKey] = Object.assign(Object.assign({}, ql[this.storageKey]), { jwks: e }) } get jwks_cached_at() { var e, r; return (r = (e = ql[this.storageKey]) === null || e === void 0 ? void 0 : e.cachedAt) !== null && r !== void 0 ? r : Number.MIN_SAFE_INTEGER } set jwks_cached_at(e) { ql[this.storageKey] = Object.assign(Object.assign({}, ql[this.storageKey]), { cachedAt: e }) } constructor(e) { var r, n, s; this.userStorage = null, this.memoryStorage = null, this.stateChangeEmitters = new Map, this.autoRefreshTicker = null, this.visibilityChangedCallback = null, this.refreshingDeferred = null, this.initializePromise = null, this.detectSessionInUrl = !0, this.hasCustomAuthorizationHeader = !1, this.suppressGetSessionWarning = !1, this.lockAcquired = !1, this.pendingInLock = [], this.broadcastChannel = null, this.logger = console.log; const a = Object.assign(Object.assign({}, yE), e); if (this.storageKey = a.storageKey, this.instanceID = (r = Bd.nextInstanceID[this.storageKey]) !== null && r !== void 0 ? r : 0, Bd.nextInstanceID[this.storageKey] = this.instanceID + 1, this.logDebugMessages = !!a.debug, typeof a.debug == "function" && (this.logger = a.debug), this.instanceID > 0 && As()) { const A = `${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`; console.warn(A), this.logDebugMessages && console.trace(A) } if (this.persistSession = a.persistSession, this.autoRefreshToken = a.autoRefreshToken, this.admin = new Zj({ url: a.url, headers: a.headers, fetch: a.fetch }), this.url = a.url, this.headers = a.headers, this.fetch = eB(a.fetch), this.lock = a.lock || fw, this.detectSessionInUrl = a.detectSessionInUrl, this.flowType = a.flowType, this.hasCustomAuthorizationHeader = a.hasCustomAuthorizationHeader, this.throwOnError = a.throwOnError, a.lock ? this.lock = a.lock : this.persistSession && As() && (!((n = globalThis == null ? void 0 : globalThis.navigator) === null || n === void 0) && n.locks) ? this.lock = tE : this.lock = fw, this.jwks || (this.jwks = { keys: [] }, this.jwks_cached_at = Number.MIN_SAFE_INTEGER), this.mfa = { verify: this._verify.bind(this), enroll: this._enroll.bind(this), unenroll: this._unenroll.bind(this), challenge: this._challenge.bind(this), listFactors: this._listFactors.bind(this), challengeAndVerify: this._challengeAndVerify.bind(this), getAuthenticatorAssuranceLevel: this._getAuthenticatorAssuranceLevel.bind(this), webauthn: new wE(this) }, this.oauth = { getAuthorizationDetails: this._getAuthorizationDetails.bind(this), approveAuthorization: this._approveAuthorization.bind(this), denyAuthorization: this._denyAuthorization.bind(this), listGrants: this._listOAuthGrants.bind(this), revokeGrant: this._revokeOAuthGrant.bind(this) }, this.persistSession ? (a.storage ? this.storage = a.storage : Z5() ? this.storage = globalThis.localStorage : (this.memoryStorage = {}, this.storage = dw(this.memoryStorage)), a.userStorage && (this.userStorage = a.userStorage)) : (this.memoryStorage = {}, this.storage = dw(this.memoryStorage)), As() && globalThis.BroadcastChannel && this.persistSession && this.storageKey) { try { this.broadcastChannel = new globalThis.BroadcastChannel(this.storageKey) } catch (A) { console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available", A) } (s = this.broadcastChannel) === null || s === void 0 || s.addEventListener("message", async A => { this._debug("received broadcast notification from other tab or client", A), await this._notifyAllSubscribers(A.data.event, A.data.session, !1) }) } this.initialize() } isThrowOnErrorEnabled() { return this.throwOnError } _returnResult(e) { if (this.throwOnError && e && e.error) throw e.error; return e } _logPrefix() { return `GoTrueClient@${this.storageKey}:${this.instanceID} (${J5}) ${new Date().toISOString()}` } _debug(...e) { return this.logDebugMessages && this.logger(this._logPrefix(), ...e), this } async initialize() { return this.initializePromise ? await this.initializePromise : (this.initializePromise = (async () => await this._acquireLock(-1, async () => await this._initialize()))(), await this.initializePromise) } async _initialize() { var e; try { let r = {}, n = "none"; if (As() && (r = Ij(window.location.href), this._isImplicitGrantCallback(r) ? n = "implicit" : await this._isPKCECallback(r) && (n = "pkce")), As() && this.detectSessionInUrl && n !== "none") { const { data: s, error: a } = await this._getSessionFromURL(r, n); if (a) { if (this._debug("#_initialize()", "error detecting session from URL", a), Cj(a)) { const l = (e = a.details) === null || e === void 0 ? void 0 : e.code; if (l === "identity_already_exists" || l === "identity_not_found" || l === "single_identity_not_deletable") return { error: a } } return await this._removeSession(), { error: a } } const { session: A, redirectType: o } = s; return this._debug("#_initialize()", "detected session in URL", A, "redirect type", o), await this._saveSession(A), setTimeout(async () => { o === "recovery" ? await this._notifyAllSubscribers("PASSWORD_RECOVERY", A) : await this._notifyAllSubscribers("SIGNED_IN", A) }, 0), { error: null } } return await this._recoverAndRefresh(), { error: null } } catch (r) { return Zt(r) ? this._returnResult({ error: r }) : this._returnResult({ error: new tl("Unexpected error during initialization", r) }) } finally { await this._handleVisibilityChange(), this._debug("#_initialize()", "end") } } async signInAnonymously(e) { var r, n, s; try { const a = await nr(this.fetch, "POST", `${this.url}/signup`, { headers: this.headers, body: { data: (n = (r = e == null ? void 0 : e.options) === null || r === void 0 ? void 0 : r.data) !== null && n !== void 0 ? n : {}, gotrue_meta_security: { captcha_token: (s = e == null ? void 0 : e.options) === null || s === void 0 ? void 0 : s.captchaToken } }, xform: na }), { data: A, error: o } = a; if (o || !A) return this._returnResult({ data: { user: null, session: null }, error: o }); const l = A.session, c = A.user; return A.session && (await this._saveSession(A.session), await this._notifyAllSubscribers("SIGNED_IN", l)), this._returnResult({ data: { user: c, session: l }, error: null }) } catch (a) { if (Zt(a)) return this._returnResult({ data: { user: null, session: null }, error: a }); throw a } } async signUp(e) { var r, n, s; try { let a; if ("email" in e) { const { email: d, password: p, options: g } = e; let h = null, b = null; this.flowType === "pkce" && ([h, b] = await Gl(this.storage, this.storageKey)), a = await nr(this.fetch, "POST", `${this.url}/signup`, { headers: this.headers, redirectTo: g == null ? void 0 : g.emailRedirectTo, body: { email: d, password: p, data: (r = g == null ? void 0 : g.data) !== null && r !== void 0 ? r : {}, gotrue_meta_security: { captcha_token: g == null ? void 0 : g.captchaToken }, code_challenge: h, code_challenge_method: b }, xform: na }) } else if ("phone" in e) { const { phone: d, password: p, options: g } = e; a = await nr(this.fetch, "POST", `${this.url}/signup`, { headers: this.headers, body: { phone: d, password: p, data: (n = g == null ? void 0 : g.data) !== null && n !== void 0 ? n : {}, channel: (s = g == null ? void 0 : g.channel) !== null && s !== void 0 ? s : "sms", gotrue_meta_security: { captcha_token: g == null ? void 0 : g.captchaToken } }, xform: na }) } else throw new gh("You must provide either an email or phone number and a password"); const { data: A, error: o } = a; if (o || !A) return await is(this.storage, `${this.storageKey}-code-verifier`), this._returnResult({ data: { user: null, session: null }, error: o }); const l = A.session, c = A.user; return A.session && (await this._saveSession(A.session), await this._notifyAllSubscribers("SIGNED_IN", l)), this._returnResult({ data: { user: c, session: l }, error: null }) } catch (a) { if (await is(this.storage, `${this.storageKey}-code-verifier`), Zt(a)) return this._returnResult({ data: { user: null, session: null }, error: a }); throw a } } async signInWithPassword(e) { try { let r; if ("email" in e) { const { email: a, password: A, options: o } = e; r = await nr(this.fetch, "POST", `${this.url}/token?grant_type=password`, { headers: this.headers, body: { email: a, password: A, gotrue_meta_security: { captcha_token: o == null ? void 0 : o.captchaToken } }, xform: cw }) } else if ("phone" in e) { const { phone: a, password: A, options: o } = e; r = await nr(this.fetch, "POST", `${this.url}/token?grant_type=password`, { headers: this.headers, body: { phone: a, password: A, gotrue_meta_security: { captcha_token: o == null ? void 0 : o.captchaToken } }, xform: cw }) } else throw new gh("You must provide either an email or phone number and a password"); const { data: n, error: s } = r; if (s) return this._returnResult({ data: { user: null, session: null }, error: s }); if (!n || !n.session || !n.user) { const a = new Kl; return this._returnResult({ data: { user: null, session: null }, error: a }) } return n.session && (await this._saveSession(n.session), await this._notifyAllSubscribers("SIGNED_IN", n.session)), this._returnResult({ data: Object.assign({ user: n.user, session: n.session }, n.weak_password ? { weakPassword: n.weak_password } : null), error: s }) } catch (r) { if (Zt(r)) return this._returnResult({ data: { user: null, session: null }, error: r }); throw r } } async signInWithOAuth(e) { var r, n, s, a; return await this._handleProviderSignIn(e.provider, { redirectTo: (r = e.options) === null || r === void 0 ? void 0 : r.redirectTo, scopes: (n = e.options) === null || n === void 0 ? void 0 : n.scopes, queryParams: (s = e.options) === null || s === void 0 ? void 0 : s.queryParams, skipBrowserRedirect: (a = e.options) === null || a === void 0 ? void 0 : a.skipBrowserRedirect }) } async exchangeCodeForSession(e) { return await this.initializePromise, this._acquireLock(-1, async () => this._exchangeCodeForSession(e)) } async signInWithWeb3(e) { const { chain: r } = e; switch (r) { case "ethereum": return await this.signInWithEthereum(e); case "solana": return await this.signInWithSolana(e); default: throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`) } } async signInWithEthereum(e) { var r, n, s, a, A, o, l, c, d, p, g; let h, b; if ("message" in e) h = e.message, b = e.signature; else { const { chain: w, wallet: j, statement: x, options: y } = e; let B; if (As()) if (typeof j == "object") B = j; else { const N = window; if ("ethereum" in N && typeof N.ethereum == "object" && "request" in N.ethereum && typeof N.ethereum.request == "function") B = N.ethereum; else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.") } else { if (typeof j != "object" || !(y != null && y.url)) throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments."); B = j } const E = new URL((r = y == null ? void 0 : y.url) !== null && r !== void 0 ? r : window.location.href), T = await B.request({ method: "eth_requestAccounts" }).then(N => N).catch(() => { throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid") }); if (!T || T.length === 0) throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected."); const U = rB(T[0]); let M = (n = y == null ? void 0 : y.signInWithEthereum) === null || n === void 0 ? void 0 : n.chainId; if (!M) { const N = await B.request({ method: "eth_chainId" }); M = nE(N) } const G = { domain: E.host, address: U, statement: x, uri: E.href, version: "1", chainId: M, nonce: (s = y == null ? void 0 : y.signInWithEthereum) === null || s === void 0 ? void 0 : s.nonce, issuedAt: (A = (a = y == null ? void 0 : y.signInWithEthereum) === null || a === void 0 ? void 0 : a.issuedAt) !== null && A !== void 0 ? A : new Date, expirationTime: (o = y == null ? void 0 : y.signInWithEthereum) === null || o === void 0 ? void 0 : o.expirationTime, notBefore: (l = y == null ? void 0 : y.signInWithEthereum) === null || l === void 0 ? void 0 : l.notBefore, requestId: (c = y == null ? void 0 : y.signInWithEthereum) === null || c === void 0 ? void 0 : c.requestId, resources: (d = y == null ? void 0 : y.signInWithEthereum) === null || d === void 0 ? void 0 : d.resources }; h = iE(G), b = await B.request({ method: "personal_sign", params: [sE(h), U] }) } try { const { data: w, error: j } = await nr(this.fetch, "POST", `${this.url}/token?grant_type=web3`, { headers: this.headers, body: Object.assign({ chain: "ethereum", message: h, signature: b }, !((p = e.options) === null || p === void 0) && p.captchaToken ? { gotrue_meta_security: { captcha_token: (g = e.options) === null || g === void 0 ? void 0 : g.captchaToken } } : null), xform: na }); if (j) throw j; if (!w || !w.session || !w.user) { const x = new Kl; return this._returnResult({ data: { user: null, session: null }, error: x }) } return w.session && (await this._saveSession(w.session), await this._notifyAllSubscribers("SIGNED_IN", w.session)), this._returnResult({ data: Object.assign({}, w), error: j }) } catch (w) { if (Zt(w)) return this._returnResult({ data: { user: null, session: null }, error: w }); throw w } } async signInWithSolana(e) {
    var r, n, s, a, A, o, l, c, d, p, g, h; let b, w; if ("message" in e) b = e.message, w = e.signature; else {
      const { chain: j, wallet: x, statement: y, options: B } = e; let E; if (As()) if (typeof x == "object") E = x; else { const U = window; if ("solana" in U && typeof U.solana == "object" && ("signIn" in U.solana && typeof U.solana.signIn == "function" || "signMessage" in U.solana && typeof U.solana.signMessage == "function")) E = U.solana; else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.") } else { if (typeof x != "object" || !(B != null && B.url)) throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments."); E = x } const T = new URL((r = B == null ? void 0 : B.url) !== null && r !== void 0 ? r : window.location.href); if ("signIn" in E && E.signIn) { const U = await E.signIn(Object.assign(Object.assign(Object.assign({ issuedAt: new Date().toISOString() }, B == null ? void 0 : B.signInWithSolana), { version: "1", domain: T.host, uri: T.href }), y ? { statement: y } : null)); let M; if (Array.isArray(U) && U[0] && typeof U[0] == "object") M = U[0]; else if (U && typeof U == "object" && "signedMessage" in U && "signature" in U) M = U; else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value"); if ("signedMessage" in M && "signature" in M && (typeof M.signedMessage == "string" || M.signedMessage instanceof Uint8Array) && M.signature instanceof Uint8Array) b = typeof M.signedMessage == "string" ? M.signedMessage : new TextDecoder().decode(M.signedMessage), w = M.signature; else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields") } else {
        if (!("signMessage" in E) || typeof E.signMessage != "function" || !("publicKey" in E) || typeof E != "object" || !E.publicKey || !("toBase58" in E.publicKey) || typeof E.publicKey.toBase58 != "function") throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API"); b = [`${T.host} wants you to sign in with your Solana account:`, E.publicKey.toBase58(), ...y ? ["", y, ""] : [""], "Version: 1", `URI: ${T.href}`, `Issued At: ${(s = (n = B == null ? void 0 : B.signInWithSolana) === null || n === void 0 ? void 0 : n.issuedAt) !== null && s !== void 0 ? s : new Date().toISOString()}`, ...!((a = B == null ? void 0 : B.signInWithSolana) === null || a === void 0) && a.notBefore ? [`Not Before: ${B.signInWithSolana.notBefore}`] : [], ...!((A = B == null ? void 0 : B.signInWithSolana) === null || A === void 0) && A.expirationTime ? [`Expiration Time: ${B.signInWithSolana.expirationTime}`] : [], ...!((o = B == null ? void 0 : B.signInWithSolana) === null || o === void 0) && o.chainId ? [`Chain ID: ${B.signInWithSolana.chainId}`] : [], ...!((l = B == null ? void 0 : B.signInWithSolana) === null || l === void 0) && l.nonce ? [`Nonce: ${B.signInWithSolana.nonce}`] : [], ...!((c = B == null ? void 0 : B.signInWithSolana) === null || c === void 0) && c.requestId ? [`Request ID: ${B.signInWithSolana.requestId}`] : [], ...!((p = (d = B == null ? void 0 : B.signInWithSolana) === null || d === void 0 ? void 0 : d.resources) === null || p === void 0) && p.length ? ["Resources", ...B.signInWithSolana.resources.map(M => `- ${M}`)] : []].join(`
`); const U = await E.signMessage(new TextEncoder().encode(b), "utf8"); if (!U || !(U instanceof Uint8Array)) throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value"); w = U
      }
    } try { const { data: j, error: x } = await nr(this.fetch, "POST", `${this.url}/token?grant_type=web3`, { headers: this.headers, body: Object.assign({ chain: "solana", message: b, signature: Al(w) }, !((g = e.options) === null || g === void 0) && g.captchaToken ? { gotrue_meta_security: { captcha_token: (h = e.options) === null || h === void 0 ? void 0 : h.captchaToken } } : null), xform: na }); if (x) throw x; if (!j || !j.session || !j.user) { const y = new Kl; return this._returnResult({ data: { user: null, session: null }, error: y }) } return j.session && (await this._saveSession(j.session), await this._notifyAllSubscribers("SIGNED_IN", j.session)), this._returnResult({ data: Object.assign({}, j), error: x }) } catch (j) { if (Zt(j)) return this._returnResult({ data: { user: null, session: null }, error: j }); throw j }
  } async _exchangeCodeForSession(e) { const r = await qo(this.storage, `${this.storageKey}-code-verifier`), [n, s] = (r ?? "").split("/"); try { if (!n && this.flowType === "pkce") throw new Nj; const { data: a, error: A } = await nr(this.fetch, "POST", `${this.url}/token?grant_type=pkce`, { headers: this.headers, body: { auth_code: e, code_verifier: n }, xform: na }); if (await is(this.storage, `${this.storageKey}-code-verifier`), A) throw A; if (!a || !a.session || !a.user) { const o = new Kl; return this._returnResult({ data: { user: null, session: null, redirectType: null }, error: o }) } return a.session && (await this._saveSession(a.session), await this._notifyAllSubscribers("SIGNED_IN", a.session)), this._returnResult({ data: Object.assign(Object.assign({}, a), { redirectType: s ?? null }), error: A }) } catch (a) { if (await is(this.storage, `${this.storageKey}-code-verifier`), Zt(a)) return this._returnResult({ data: { user: null, session: null, redirectType: null }, error: a }); throw a } } async signInWithIdToken(e) { try { const { options: r, provider: n, token: s, access_token: a, nonce: A } = e, o = await nr(this.fetch, "POST", `${this.url}/token?grant_type=id_token`, { headers: this.headers, body: { provider: n, id_token: s, access_token: a, nonce: A, gotrue_meta_security: { captcha_token: r == null ? void 0 : r.captchaToken } }, xform: na }), { data: l, error: c } = o; if (c) return this._returnResult({ data: { user: null, session: null }, error: c }); if (!l || !l.session || !l.user) { const d = new Kl; return this._returnResult({ data: { user: null, session: null }, error: d }) } return l.session && (await this._saveSession(l.session), await this._notifyAllSubscribers("SIGNED_IN", l.session)), this._returnResult({ data: l, error: c }) } catch (r) { if (Zt(r)) return this._returnResult({ data: { user: null, session: null }, error: r }); throw r } } async signInWithOtp(e) { var r, n, s, a, A; try { if ("email" in e) { const { email: o, options: l } = e; let c = null, d = null; this.flowType === "pkce" && ([c, d] = await Gl(this.storage, this.storageKey)); const { error: p } = await nr(this.fetch, "POST", `${this.url}/otp`, { headers: this.headers, body: { email: o, data: (r = l == null ? void 0 : l.data) !== null && r !== void 0 ? r : {}, create_user: (n = l == null ? void 0 : l.shouldCreateUser) !== null && n !== void 0 ? n : !0, gotrue_meta_security: { captcha_token: l == null ? void 0 : l.captchaToken }, code_challenge: c, code_challenge_method: d }, redirectTo: l == null ? void 0 : l.emailRedirectTo }); return this._returnResult({ data: { user: null, session: null }, error: p }) } if ("phone" in e) { const { phone: o, options: l } = e, { data: c, error: d } = await nr(this.fetch, "POST", `${this.url}/otp`, { headers: this.headers, body: { phone: o, data: (s = l == null ? void 0 : l.data) !== null && s !== void 0 ? s : {}, create_user: (a = l == null ? void 0 : l.shouldCreateUser) !== null && a !== void 0 ? a : !0, gotrue_meta_security: { captcha_token: l == null ? void 0 : l.captchaToken }, channel: (A = l == null ? void 0 : l.channel) !== null && A !== void 0 ? A : "sms" } }); return this._returnResult({ data: { user: null, session: null, messageId: c == null ? void 0 : c.message_id }, error: d }) } throw new gh("You must provide either an email or phone number.") } catch (o) { if (await is(this.storage, `${this.storageKey}-code-verifier`), Zt(o)) return this._returnResult({ data: { user: null, session: null }, error: o }); throw o } } async verifyOtp(e) { var r, n; try { let s, a; "options" in e && (s = (r = e.options) === null || r === void 0 ? void 0 : r.redirectTo, a = (n = e.options) === null || n === void 0 ? void 0 : n.captchaToken); const { data: A, error: o } = await nr(this.fetch, "POST", `${this.url}/verify`, { headers: this.headers, body: Object.assign(Object.assign({}, e), { gotrue_meta_security: { captcha_token: a } }), redirectTo: s, xform: na }); if (o) throw o; if (!A) throw new Error("An error occurred on token verification."); const l = A.session, c = A.user; return l != null && l.access_token && (await this._saveSession(l), await this._notifyAllSubscribers(e.type == "recovery" ? "PASSWORD_RECOVERY" : "SIGNED_IN", l)), this._returnResult({ data: { user: c, session: l }, error: null }) } catch (s) { if (Zt(s)) return this._returnResult({ data: { user: null, session: null }, error: s }); throw s } } async signInWithSSO(e) { var r, n, s, a, A; try { let o = null, l = null; this.flowType === "pkce" && ([o, l] = await Gl(this.storage, this.storageKey)); const c = await nr(this.fetch, "POST", `${this.url}/sso`, { body: Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, "providerId" in e ? { provider_id: e.providerId } : null), "domain" in e ? { domain: e.domain } : null), { redirect_to: (n = (r = e.options) === null || r === void 0 ? void 0 : r.redirectTo) !== null && n !== void 0 ? n : void 0 }), !((s = e == null ? void 0 : e.options) === null || s === void 0) && s.captchaToken ? { gotrue_meta_security: { captcha_token: e.options.captchaToken } } : null), { skip_http_redirect: !0, code_challenge: o, code_challenge_method: l }), headers: this.headers, xform: Jj }); return !((a = c.data) === null || a === void 0) && a.url && As() && !(!((A = e.options) === null || A === void 0) && A.skipBrowserRedirect) && window.location.assign(c.data.url), this._returnResult(c) } catch (o) { if (await is(this.storage, `${this.storageKey}-code-verifier`), Zt(o)) return this._returnResult({ data: null, error: o }); throw o } } async reauthenticate() { return await this.initializePromise, await this._acquireLock(-1, async () => await this._reauthenticate()) } async _reauthenticate() { try { return await this._useSession(async e => { const { data: { session: r }, error: n } = e; if (n) throw n; if (!r) throw new ai; const { error: s } = await nr(this.fetch, "GET", `${this.url}/reauthenticate`, { headers: this.headers, jwt: r.access_token }); return this._returnResult({ data: { user: null, session: null }, error: s }) }) } catch (e) { if (Zt(e)) return this._returnResult({ data: { user: null, session: null }, error: e }); throw e } } async resend(e) { try { const r = `${this.url}/resend`; if ("email" in e) { const { email: n, type: s, options: a } = e, { error: A } = await nr(this.fetch, "POST", r, { headers: this.headers, body: { email: n, type: s, gotrue_meta_security: { captcha_token: a == null ? void 0 : a.captchaToken } }, redirectTo: a == null ? void 0 : a.emailRedirectTo }); return this._returnResult({ data: { user: null, session: null }, error: A }) } else if ("phone" in e) { const { phone: n, type: s, options: a } = e, { data: A, error: o } = await nr(this.fetch, "POST", r, { headers: this.headers, body: { phone: n, type: s, gotrue_meta_security: { captcha_token: a == null ? void 0 : a.captchaToken } } }); return this._returnResult({ data: { user: null, session: null, messageId: A == null ? void 0 : A.message_id }, error: o }) } throw new gh("You must provide either an email or phone number and a type") } catch (r) { if (Zt(r)) return this._returnResult({ data: { user: null, session: null }, error: r }); throw r } } async getSession() { return await this.initializePromise, await this._acquireLock(-1, async () => this._useSession(async r => r)) } async _acquireLock(e, r) { this._debug("#_acquireLock", "begin", e); try { if (this.lockAcquired) { const n = this.pendingInLock.length ? this.pendingInLock[this.pendingInLock.length - 1] : Promise.resolve(), s = (async () => (await n, await r()))(); return this.pendingInLock.push((async () => { try { await s } catch { } })()), s } return await this.lock(`lock:${this.storageKey}`, e, async () => { this._debug("#_acquireLock", "lock acquired for storage key", this.storageKey); try { this.lockAcquired = !0; const n = r(); for (this.pendingInLock.push((async () => { try { await n } catch { } })()), await n; this.pendingInLock.length;) { const s = [...this.pendingInLock]; await Promise.all(s), this.pendingInLock.splice(0, s.length) } return await n } finally { this._debug("#_acquireLock", "lock released for storage key", this.storageKey), this.lockAcquired = !1 } }) } finally { this._debug("#_acquireLock", "end") } } async _useSession(e) { this._debug("#_useSession", "begin"); try { const r = await this.__loadSession(); return await e(r) } finally { this._debug("#_useSession", "end") } } async __loadSession() { this._debug("#__loadSession()", "begin"), this.lockAcquired || this._debug("#__loadSession()", "used outside of an acquired lock!", new Error().stack); try { let e = null; const r = await qo(this.storage, this.storageKey); if (this._debug("#getSession()", "session from storage", r), r !== null && (this._isValidSession(r) ? e = r : (this._debug("#getSession()", "session from storage is not valid"), await this._removeSession())), !e) return { data: { session: null }, error: null }; const n = e.expires_at ? e.expires_at * 1e3 - Date.now() < jp : !1; if (this._debug("#__loadSession()", `session has${n ? "" : " not"} expired`, "expires_at", e.expires_at), !n) { if (this.userStorage) { const A = await qo(this.userStorage, this.storageKey + "-user"); A != null && A.user ? e.user = A.user : e.user = _p() } if (this.storage.isServer && e.user && !e.user.__isUserNotAvailableProxy) { const A = { value: this.suppressGetSessionWarning }; e.user = Vj(e.user, A), A.value && (this.suppressGetSessionWarning = !0) } return { data: { session: e }, error: null } } const { data: s, error: a } = await this._callRefreshToken(e.refresh_token); return a ? this._returnResult({ data: { session: null }, error: a }) : this._returnResult({ data: { session: s }, error: null }) } finally { this._debug("#__loadSession()", "end") } } async getUser(e) { if (e) return await this._getUser(e); await this.initializePromise; const r = await this._acquireLock(-1, async () => await this._getUser()); return r.data.user && (this.suppressGetSessionWarning = !0), r } async _getUser(e) { try { return e ? await nr(this.fetch, "GET", `${this.url}/user`, { headers: this.headers, jwt: e, xform: oo }) : await this._useSession(async r => { var n, s, a; const { data: A, error: o } = r; if (o) throw o; return !(!((n = A.session) === null || n === void 0) && n.access_token) && !this.hasCustomAuthorizationHeader ? { data: { user: null }, error: new ai } : await nr(this.fetch, "GET", `${this.url}/user`, { headers: this.headers, jwt: (a = (s = A.session) === null || s === void 0 ? void 0 : s.access_token) !== null && a !== void 0 ? a : void 0, xform: oo }) }) } catch (r) { if (Zt(r)) return Bj(r) && (await this._removeSession(), await is(this.storage, `${this.storageKey}-code-verifier`)), this._returnResult({ data: { user: null }, error: r }); throw r } } async updateUser(e, r = {}) { return await this.initializePromise, await this._acquireLock(-1, async () => await this._updateUser(e, r)) } async _updateUser(e, r = {}) { try { return await this._useSession(async n => { const { data: s, error: a } = n; if (a) throw a; if (!s.session) throw new ai; const A = s.session; let o = null, l = null; this.flowType === "pkce" && e.email != null && ([o, l] = await Gl(this.storage, this.storageKey)); const { data: c, error: d } = await nr(this.fetch, "PUT", `${this.url}/user`, { headers: this.headers, redirectTo: r == null ? void 0 : r.emailRedirectTo, body: Object.assign(Object.assign({}, e), { code_challenge: o, code_challenge_method: l }), jwt: A.access_token, xform: oo }); if (d) throw d; return A.user = c.user, await this._saveSession(A), await this._notifyAllSubscribers("USER_UPDATED", A), this._returnResult({ data: { user: A.user }, error: null }) }) } catch (n) { if (await is(this.storage, `${this.storageKey}-code-verifier`), Zt(n)) return this._returnResult({ data: { user: null }, error: n }); throw n } } async setSession(e) { return await this.initializePromise, await this._acquireLock(-1, async () => await this._setSession(e)) } async _setSession(e) { try { if (!e.access_token || !e.refresh_token) throw new ai; const r = Date.now() / 1e3; let n = r, s = !0, a = null; const { payload: A } = Fp(e.access_token); if (A.exp && (n = A.exp, s = n <= r), s) { const { data: o, error: l } = await this._callRefreshToken(e.refresh_token); if (l) return this._returnResult({ data: { user: null, session: null }, error: l }); if (!o) return { data: { user: null, session: null }, error: null }; a = o } else { const { data: o, error: l } = await this._getUser(e.access_token); if (l) throw l; a = { access_token: e.access_token, refresh_token: e.refresh_token, user: o.user, token_type: "bearer", expires_in: n - r, expires_at: n }, await this._saveSession(a), await this._notifyAllSubscribers("SIGNED_IN", a) } return this._returnResult({ data: { user: a.user, session: a }, error: null }) } catch (r) { if (Zt(r)) return this._returnResult({ data: { session: null, user: null }, error: r }); throw r } } async refreshSession(e) { return await this.initializePromise, await this._acquireLock(-1, async () => await this._refreshSession(e)) } async _refreshSession(e) { try { return await this._useSession(async r => { var n; if (!e) { const { data: A, error: o } = r; if (o) throw o; e = (n = A.session) !== null && n !== void 0 ? n : void 0 } if (!(e != null && e.refresh_token)) throw new ai; const { data: s, error: a } = await this._callRefreshToken(e.refresh_token); return a ? this._returnResult({ data: { user: null, session: null }, error: a }) : s ? this._returnResult({ data: { user: s.user, session: s }, error: null }) : this._returnResult({ data: { user: null, session: null }, error: null }) }) } catch (r) { if (Zt(r)) return this._returnResult({ data: { user: null, session: null }, error: r }); throw r } } async _getSessionFromURL(e, r) { try { if (!As()) throw new mh("No browser detected."); if (e.error || e.error_description || e.error_code) throw new mh(e.error_description || "Error in URL with unspecified error_description", { error: e.error || "unspecified_error", code: e.error_code || "unspecified_code" }); switch (r) { case "implicit": if (this.flowType === "pkce") throw new nw("Not a valid PKCE flow url."); break; case "pkce": if (this.flowType === "implicit") throw new mh("Not a valid implicit grant flow url."); break; default: }if (r === "pkce") { if (this._debug("#_initialize()", "begin", "is PKCE flow", !0), !e.code) throw new nw("No code detected."); const { data: y, error: B } = await this._exchangeCodeForSession(e.code); if (B) throw B; const E = new URL(window.location.href); return E.searchParams.delete("code"), window.history.replaceState(window.history.state, "", E.toString()), { data: { session: y.session, redirectType: null }, error: null } } const { provider_token: n, provider_refresh_token: s, access_token: a, refresh_token: A, expires_in: o, expires_at: l, token_type: c } = e; if (!a || !o || !A || !c) throw new mh("No session defined in URL"); const d = Math.round(Date.now() / 1e3), p = parseInt(o); let g = d + p; l && (g = parseInt(l)); const h = g - d; h * 1e3 <= ic && console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${p}s`); const b = g - p; d - b >= 120 ? console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale", b, g, d) : d - b < 0 && console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew", b, g, d); const { data: w, error: j } = await this._getUser(a); if (j) throw j; const x = { provider_token: n, provider_refresh_token: s, access_token: a, expires_in: p, expires_at: g, refresh_token: A, token_type: c, user: w.user }; return window.location.hash = "", this._debug("#_getSessionFromURL()", "clearing window.location.hash"), this._returnResult({ data: { session: x, redirectType: e.type }, error: null }) } catch (n) { if (Zt(n)) return this._returnResult({ data: { session: null, redirectType: null }, error: n }); throw n } } _isImplicitGrantCallback(e) { return typeof this.detectSessionInUrl == "function" ? this.detectSessionInUrl(new URL(window.location.href), e) : !!(e.access_token || e.error_description) } async _isPKCECallback(e) { const r = await qo(this.storage, `${this.storageKey}-code-verifier`); return !!(e.code && r) } async signOut(e = { scope: "global" }) { return await this.initializePromise, await this._acquireLock(-1, async () => await this._signOut(e)) } async _signOut({ scope: e } = { scope: "global" }) { return await this._useSession(async r => { var n; const { data: s, error: a } = r; if (a) return this._returnResult({ error: a }); const A = (n = s.session) === null || n === void 0 ? void 0 : n.access_token; if (A) { const { error: o } = await this.admin.signOut(A, e); if (o && !(bj(o) && (o.status === 404 || o.status === 401 || o.status === 403))) return this._returnResult({ error: o }) } return e !== "others" && (await this._removeSession(), await is(this.storage, `${this.storageKey}-code-verifier`)), this._returnResult({ error: null }) }) } onAuthStateChange(e) { const r = Uj(), n = { id: r, callback: e, unsubscribe: () => { this._debug("#unsubscribe()", "state change callback with id removed", r), this.stateChangeEmitters.delete(r) } }; return this._debug("#onAuthStateChange()", "registered callback with id", r), this.stateChangeEmitters.set(r, n), (async () => (await this.initializePromise, await this._acquireLock(-1, async () => { this._emitInitialSession(r) })))(), { data: { subscription: n } } } async _emitInitialSession(e) { return await this._useSession(async r => { var n, s; try { const { data: { session: a }, error: A } = r; if (A) throw A; await ((n = this.stateChangeEmitters.get(e)) === null || n === void 0 ? void 0 : n.callback("INITIAL_SESSION", a)), this._debug("INITIAL_SESSION", "callback id", e, "session", a) } catch (a) { await ((s = this.stateChangeEmitters.get(e)) === null || s === void 0 ? void 0 : s.callback("INITIAL_SESSION", null)), this._debug("INITIAL_SESSION", "callback id", e, "error", a), console.error(a) } }) } async resetPasswordForEmail(e, r = {}) { let n = null, s = null; this.flowType === "pkce" && ([n, s] = await Gl(this.storage, this.storageKey, !0)); try { return await nr(this.fetch, "POST", `${this.url}/recover`, { body: { email: e, code_challenge: n, code_challenge_method: s, gotrue_meta_security: { captcha_token: r.captchaToken } }, headers: this.headers, redirectTo: r.redirectTo }) } catch (a) { if (await is(this.storage, `${this.storageKey}-code-verifier`), Zt(a)) return this._returnResult({ data: null, error: a }); throw a } } async getUserIdentities() { var e; try { const { data: r, error: n } = await this.getUser(); if (n) throw n; return this._returnResult({ data: { identities: (e = r.user.identities) !== null && e !== void 0 ? e : [] }, error: null }) } catch (r) { if (Zt(r)) return this._returnResult({ data: null, error: r }); throw r } } async linkIdentity(e) { return "token" in e ? this.linkIdentityIdToken(e) : this.linkIdentityOAuth(e) } async linkIdentityOAuth(e) { var r; try { const { data: n, error: s } = await this._useSession(async a => { var A, o, l, c, d; const { data: p, error: g } = a; if (g) throw g; const h = await this._getUrlForProvider(`${this.url}/user/identities/authorize`, e.provider, { redirectTo: (A = e.options) === null || A === void 0 ? void 0 : A.redirectTo, scopes: (o = e.options) === null || o === void 0 ? void 0 : o.scopes, queryParams: (l = e.options) === null || l === void 0 ? void 0 : l.queryParams, skipBrowserRedirect: !0 }); return await nr(this.fetch, "GET", h, { headers: this.headers, jwt: (d = (c = p.session) === null || c === void 0 ? void 0 : c.access_token) !== null && d !== void 0 ? d : void 0 }) }); if (s) throw s; return As() && !(!((r = e.options) === null || r === void 0) && r.skipBrowserRedirect) && window.location.assign(n == null ? void 0 : n.url), this._returnResult({ data: { provider: e.provider, url: n == null ? void 0 : n.url }, error: null }) } catch (n) { if (Zt(n)) return this._returnResult({ data: { provider: e.provider, url: null }, error: n }); throw n } } async linkIdentityIdToken(e) { return await this._useSession(async r => { var n; try { const { error: s, data: { session: a } } = r; if (s) throw s; const { options: A, provider: o, token: l, access_token: c, nonce: d } = e, p = await nr(this.fetch, "POST", `${this.url}/token?grant_type=id_token`, { headers: this.headers, jwt: (n = a == null ? void 0 : a.access_token) !== null && n !== void 0 ? n : void 0, body: { provider: o, id_token: l, access_token: c, nonce: d, link_identity: !0, gotrue_meta_security: { captcha_token: A == null ? void 0 : A.captchaToken } }, xform: na }), { data: g, error: h } = p; return h ? this._returnResult({ data: { user: null, session: null }, error: h }) : !g || !g.session || !g.user ? this._returnResult({ data: { user: null, session: null }, error: new Kl }) : (g.session && (await this._saveSession(g.session), await this._notifyAllSubscribers("USER_UPDATED", g.session)), this._returnResult({ data: g, error: h })) } catch (s) { if (await is(this.storage, `${this.storageKey}-code-verifier`), Zt(s)) return this._returnResult({ data: { user: null, session: null }, error: s }); throw s } }) } async unlinkIdentity(e) { try { return await this._useSession(async r => { var n, s; const { data: a, error: A } = r; if (A) throw A; return await nr(this.fetch, "DELETE", `${this.url}/user/identities/${e.identity_id}`, { headers: this.headers, jwt: (s = (n = a.session) === null || n === void 0 ? void 0 : n.access_token) !== null && s !== void 0 ? s : void 0 }) }) } catch (r) { if (Zt(r)) return this._returnResult({ data: null, error: r }); throw r } } async _refreshAccessToken(e) { const r = `#_refreshAccessToken(${e.substring(0, 5)}...)`; this._debug(r, "begin"); try { const n = Date.now(); return await Lj(async s => (s > 0 && await Tj(200 * Math.pow(2, s - 1)), this._debug(r, "refreshing attempt", s), await nr(this.fetch, "POST", `${this.url}/token?grant_type=refresh_token`, { body: { refresh_token: e }, headers: this.headers, xform: na })), (s, a) => { const A = 200 * Math.pow(2, s); return a && Ep(a) && Date.now() + A - n < ic }) } catch (n) { if (this._debug(r, "error", n), Zt(n)) return this._returnResult({ data: { session: null, user: null }, error: n }); throw n } finally { this._debug(r, "end") } } _isValidSession(e) { return typeof e == "object" && e !== null && "access_token" in e && "refresh_token" in e && "expires_at" in e } async _handleProviderSignIn(e, r) { const n = await this._getUrlForProvider(`${this.url}/authorize`, e, { redirectTo: r.redirectTo, scopes: r.scopes, queryParams: r.queryParams }); return this._debug("#_handleProviderSignIn()", "provider", e, "options", r, "url", n), As() && !r.skipBrowserRedirect && window.location.assign(n), { data: { provider: e, url: n }, error: null } } async _recoverAndRefresh() { var e, r; const n = "#_recoverAndRefresh()"; this._debug(n, "begin"); try { const s = await qo(this.storage, this.storageKey); if (s && this.userStorage) { let A = await qo(this.userStorage, this.storageKey + "-user"); !this.storage.isServer && Object.is(this.storage, this.userStorage) && !A && (A = { user: s.user }, await ac(this.userStorage, this.storageKey + "-user", A)), s.user = (e = A == null ? void 0 : A.user) !== null && e !== void 0 ? e : _p() } else if (s && !s.user && !s.user) { const A = await qo(this.storage, this.storageKey + "-user"); A && (A != null && A.user) ? (s.user = A.user, await is(this.storage, this.storageKey + "-user"), await ac(this.storage, this.storageKey, s)) : s.user = _p() } if (this._debug(n, "session from storage", s), !this._isValidSession(s)) { this._debug(n, "session is not valid"), s !== null && await this._removeSession(); return } const a = ((r = s.expires_at) !== null && r !== void 0 ? r : 1 / 0) * 1e3 - Date.now() < jp; if (this._debug(n, `session has${a ? "" : " not"} expired with margin of ${jp}s`), a) { if (this.autoRefreshToken && s.refresh_token) { const { error: A } = await this._callRefreshToken(s.refresh_token); A && (console.error(A), Ep(A) || (this._debug(n, "refresh failed with a non-retryable error, removing the session", A), await this._removeSession())) } } else if (s.user && s.user.__isUserNotAvailableProxy === !0) try { const { data: A, error: o } = await this._getUser(s.access_token); !o && (A != null && A.user) ? (s.user = A.user, await this._saveSession(s), await this._notifyAllSubscribers("SIGNED_IN", s)) : this._debug(n, "could not get user data, skipping SIGNED_IN notification") } catch (A) { console.error("Error getting user data:", A), this._debug(n, "error getting user data, skipping SIGNED_IN notification", A) } else await this._notifyAllSubscribers("SIGNED_IN", s) } catch (s) { this._debug(n, "error", s), console.error(s); return } finally { this._debug(n, "end") } } async _callRefreshToken(e) { var r, n; if (!e) throw new ai; if (this.refreshingDeferred) return this.refreshingDeferred.promise; const s = `#_callRefreshToken(${e.substring(0, 5)}...)`; this._debug(s, "begin"); try { this.refreshingDeferred = new N0; const { data: a, error: A } = await this._refreshAccessToken(e); if (A) throw A; if (!a.session) throw new ai; await this._saveSession(a.session), await this._notifyAllSubscribers("TOKEN_REFRESHED", a.session); const o = { data: a.session, error: null }; return this.refreshingDeferred.resolve(o), o } catch (a) { if (this._debug(s, "error", a), Zt(a)) { const A = { data: null, error: a }; return Ep(a) || await this._removeSession(), (r = this.refreshingDeferred) === null || r === void 0 || r.resolve(A), A } throw (n = this.refreshingDeferred) === null || n === void 0 || n.reject(a), a } finally { this.refreshingDeferred = null, this._debug(s, "end") } } async _notifyAllSubscribers(e, r, n = !0) { const s = `#_notifyAllSubscribers(${e})`; this._debug(s, "begin", r, `broadcast = ${n}`); try { this.broadcastChannel && n && this.broadcastChannel.postMessage({ event: e, session: r }); const a = [], A = Array.from(this.stateChangeEmitters.values()).map(async o => { try { await o.callback(e, r) } catch (l) { a.push(l) } }); if (await Promise.all(A), a.length > 0) { for (let o = 0; o < a.length; o += 1)console.error(a[o]); throw a[0] } } finally { this._debug(s, "end") } } async _saveSession(e) { this._debug("#_saveSession()", e), this.suppressGetSessionWarning = !0, await is(this.storage, `${this.storageKey}-code-verifier`); const r = Object.assign({}, e), n = r.user && r.user.__isUserNotAvailableProxy === !0; if (this.userStorage) { !n && r.user && await ac(this.userStorage, this.storageKey + "-user", { user: r.user }); const s = Object.assign({}, r); delete s.user; const a = ow(s); await ac(this.storage, this.storageKey, a) } else { const s = ow(r); await ac(this.storage, this.storageKey, s) } } async _removeSession() { this._debug("#_removeSession()"), this.suppressGetSessionWarning = !1, await is(this.storage, this.storageKey), await is(this.storage, this.storageKey + "-code-verifier"), await is(this.storage, this.storageKey + "-user"), this.userStorage && await is(this.userStorage, this.storageKey + "-user"), await this._notifyAllSubscribers("SIGNED_OUT", null) } _removeVisibilityChangedCallback() { this._debug("#_removeVisibilityChangedCallback()"); const e = this.visibilityChangedCallback; this.visibilityChangedCallback = null; try { e && As() && (window != null && window.removeEventListener) && window.removeEventListener("visibilitychange", e) } catch (r) { console.error("removing visibilitychange callback failed", r) } } async _startAutoRefresh() { await this._stopAutoRefresh(), this._debug("#_startAutoRefresh()"); const e = setInterval(() => this._autoRefreshTokenTick(), ic); this.autoRefreshTicker = e, e && typeof e == "object" && typeof e.unref == "function" ? e.unref() : typeof Deno < "u" && typeof Deno.unrefTimer == "function" && Deno.unrefTimer(e), setTimeout(async () => { await this.initializePromise, await this._autoRefreshTokenTick() }, 0) } async _stopAutoRefresh() { this._debug("#_stopAutoRefresh()"); const e = this.autoRefreshTicker; this.autoRefreshTicker = null, e && clearInterval(e) } async startAutoRefresh() { this._removeVisibilityChangedCallback(), await this._startAutoRefresh() } async stopAutoRefresh() { this._removeVisibilityChangedCallback(), await this._stopAutoRefresh() } async _autoRefreshTokenTick() { this._debug("#_autoRefreshTokenTick()", "begin"); try { await this._acquireLock(0, async () => { try { const e = Date.now(); try { return await this._useSession(async r => { const { data: { session: n } } = r; if (!n || !n.refresh_token || !n.expires_at) { this._debug("#_autoRefreshTokenTick()", "no session"); return } const s = Math.floor((n.expires_at * 1e3 - e) / ic); this._debug("#_autoRefreshTokenTick()", `access token expires in ${s} ticks, a tick lasts ${ic}ms, refresh threshold is ${ym} ticks`), s <= ym && await this._callRefreshToken(n.refresh_token) }) } catch (r) { console.error("Auto refresh tick failed with error. This is likely a transient error.", r) } } finally { this._debug("#_autoRefreshTokenTick()", "end") } }) } catch (e) { if (e.isAcquireTimeout || e instanceof tB) this._debug("auto refresh token tick lock not available"); else throw e } } async _handleVisibilityChange() { if (this._debug("#_handleVisibilityChange()"), !As() || !(window != null && window.addEventListener)) return this.autoRefreshToken && this.startAutoRefresh(), !1; try { this.visibilityChangedCallback = async () => await this._onVisibilityChanged(!1), window == null || window.addEventListener("visibilitychange", this.visibilityChangedCallback), await this._onVisibilityChanged(!0) } catch (e) { console.error("_handleVisibilityChange", e) } } async _onVisibilityChanged(e) { const r = `#_onVisibilityChanged(${e})`; this._debug(r, "visibilityState", document.visibilityState), document.visibilityState === "visible" ? (this.autoRefreshToken && this._startAutoRefresh(), e || (await this.initializePromise, await this._acquireLock(-1, async () => { if (document.visibilityState !== "visible") { this._debug(r, "acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting"); return } await this._recoverAndRefresh() }))) : document.visibilityState === "hidden" && this.autoRefreshToken && this._stopAutoRefresh() } async _getUrlForProvider(e, r, n) { const s = [`provider=${encodeURIComponent(r)}`]; if (n != null && n.redirectTo && s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`), n != null && n.scopes && s.push(`scopes=${encodeURIComponent(n.scopes)}`), this.flowType === "pkce") { const [a, A] = await Gl(this.storage, this.storageKey), o = new URLSearchParams({ code_challenge: `${encodeURIComponent(a)}`, code_challenge_method: `${encodeURIComponent(A)}` }); s.push(o.toString()) } if (n != null && n.queryParams) { const a = new URLSearchParams(n.queryParams); s.push(a.toString()) } return n != null && n.skipBrowserRedirect && s.push(`skip_http_redirect=${n.skipBrowserRedirect}`), `${e}?${s.join("&")}` } async _unenroll(e) { try { return await this._useSession(async r => { var n; const { data: s, error: a } = r; return a ? this._returnResult({ data: null, error: a }) : await nr(this.fetch, "DELETE", `${this.url}/factors/${e.factorId}`, { headers: this.headers, jwt: (n = s == null ? void 0 : s.session) === null || n === void 0 ? void 0 : n.access_token }) }) } catch (r) { if (Zt(r)) return this._returnResult({ data: null, error: r }); throw r } } async _enroll(e) { try { return await this._useSession(async r => { var n, s; const { data: a, error: A } = r; if (A) return this._returnResult({ data: null, error: A }); const o = Object.assign({ friendly_name: e.friendlyName, factor_type: e.factorType }, e.factorType === "phone" ? { phone: e.phone } : e.factorType === "totp" ? { issuer: e.issuer } : {}), { data: l, error: c } = await nr(this.fetch, "POST", `${this.url}/factors`, { body: o, headers: this.headers, jwt: (n = a == null ? void 0 : a.session) === null || n === void 0 ? void 0 : n.access_token }); return c ? this._returnResult({ data: null, error: c }) : (e.factorType === "totp" && l.type === "totp" && (!((s = l == null ? void 0 : l.totp) === null || s === void 0) && s.qr_code) && (l.totp.qr_code = `data:image/svg+xml;utf-8,${l.totp.qr_code}`), this._returnResult({ data: l, error: null })) }) } catch (r) { if (Zt(r)) return this._returnResult({ data: null, error: r }); throw r } } async _verify(e) { return this._acquireLock(-1, async () => { try { return await this._useSession(async r => { var n; const { data: s, error: a } = r; if (a) return this._returnResult({ data: null, error: a }); const A = Object.assign({ challenge_id: e.challengeId }, "webauthn" in e ? { webauthn: Object.assign(Object.assign({}, e.webauthn), { credential_response: e.webauthn.type === "create" ? dE(e.webauthn.credential_response) : hE(e.webauthn.credential_response) }) } : { code: e.code }), { data: o, error: l } = await nr(this.fetch, "POST", `${this.url}/factors/${e.factorId}/verify`, { body: A, headers: this.headers, jwt: (n = s == null ? void 0 : s.session) === null || n === void 0 ? void 0 : n.access_token }); return l ? this._returnResult({ data: null, error: l }) : (await this._saveSession(Object.assign({ expires_at: Math.round(Date.now() / 1e3) + o.expires_in }, o)), await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED", o), this._returnResult({ data: o, error: l })) }) } catch (r) { if (Zt(r)) return this._returnResult({ data: null, error: r }); throw r } }) } async _challenge(e) { return this._acquireLock(-1, async () => { try { return await this._useSession(async r => { var n; const { data: s, error: a } = r; if (a) return this._returnResult({ data: null, error: a }); const A = await nr(this.fetch, "POST", `${this.url}/factors/${e.factorId}/challenge`, { body: e, headers: this.headers, jwt: (n = s == null ? void 0 : s.session) === null || n === void 0 ? void 0 : n.access_token }); if (A.error) return A; const { data: o } = A; if (o.type !== "webauthn") return { data: o, error: null }; switch (o.webauthn.type) { case "create": return { data: Object.assign(Object.assign({}, o), { webauthn: Object.assign(Object.assign({}, o.webauthn), { credential_options: Object.assign(Object.assign({}, o.webauthn.credential_options), { publicKey: cE(o.webauthn.credential_options.publicKey) }) }) }), error: null }; case "request": return { data: Object.assign(Object.assign({}, o), { webauthn: Object.assign(Object.assign({}, o.webauthn), { credential_options: Object.assign(Object.assign({}, o.webauthn.credential_options), { publicKey: uE(o.webauthn.credential_options.publicKey) }) }) }), error: null } } }) } catch (r) { if (Zt(r)) return this._returnResult({ data: null, error: r }); throw r } }) } async _challengeAndVerify(e) { const { data: r, error: n } = await this._challenge({ factorId: e.factorId }); return n ? this._returnResult({ data: null, error: n }) : await this._verify({ factorId: e.factorId, challengeId: r.id, code: e.code }) } async _listFactors() { var e; const { data: { user: r }, error: n } = await this.getUser(); if (n) return { data: null, error: n }; const s = { all: [], phone: [], totp: [], webauthn: [] }; for (const a of (e = r == null ? void 0 : r.factors) !== null && e !== void 0 ? e : []) s.all.push(a), a.status === "verified" && s[a.factor_type].push(a); return { data: s, error: null } } async _getAuthenticatorAssuranceLevel() { var e, r; const { data: { session: n }, error: s } = await this.getSession(); if (s) return this._returnResult({ data: null, error: s }); if (!n) return { data: { currentLevel: null, nextLevel: null, currentAuthenticationMethods: [] }, error: null }; const { payload: a } = Fp(n.access_token); let A = null; a.aal && (A = a.aal); let o = A; ((r = (e = n.user.factors) === null || e === void 0 ? void 0 : e.filter(d => d.status === "verified")) !== null && r !== void 0 ? r : []).length > 0 && (o = "aal2"); const c = a.amr || []; return { data: { currentLevel: A, nextLevel: o, currentAuthenticationMethods: c }, error: null } } async _getAuthorizationDetails(e) { try { return await this._useSession(async r => { const { data: { session: n }, error: s } = r; return s ? this._returnResult({ data: null, error: s }) : n ? await nr(this.fetch, "GET", `${this.url}/oauth/authorizations/${e}`, { headers: this.headers, jwt: n.access_token, xform: a => ({ data: a, error: null }) }) : this._returnResult({ data: null, error: new ai }) }) } catch (r) { if (Zt(r)) return this._returnResult({ data: null, error: r }); throw r } } async _approveAuthorization(e, r) { try { return await this._useSession(async n => { const { data: { session: s }, error: a } = n; if (a) return this._returnResult({ data: null, error: a }); if (!s) return this._returnResult({ data: null, error: new ai }); const A = await nr(this.fetch, "POST", `${this.url}/oauth/authorizations/${e}/consent`, { headers: this.headers, jwt: s.access_token, body: { action: "approve" }, xform: o => ({ data: o, error: null }) }); return A.data && A.data.redirect_url && As() && !(r != null && r.skipBrowserRedirect) && window.location.assign(A.data.redirect_url), A }) } catch (n) { if (Zt(n)) return this._returnResult({ data: null, error: n }); throw n } } async _denyAuthorization(e, r) { try { return await this._useSession(async n => { const { data: { session: s }, error: a } = n; if (a) return this._returnResult({ data: null, error: a }); if (!s) return this._returnResult({ data: null, error: new ai }); const A = await nr(this.fetch, "POST", `${this.url}/oauth/authorizations/${e}/consent`, { headers: this.headers, jwt: s.access_token, body: { action: "deny" }, xform: o => ({ data: o, error: null }) }); return A.data && A.data.redirect_url && As() && !(r != null && r.skipBrowserRedirect) && window.location.assign(A.data.redirect_url), A }) } catch (n) { if (Zt(n)) return this._returnResult({ data: null, error: n }); throw n } } async _listOAuthGrants() { try { return await this._useSession(async e => { const { data: { session: r }, error: n } = e; return n ? this._returnResult({ data: null, error: n }) : r ? await nr(this.fetch, "GET", `${this.url}/user/oauth/grants`, { headers: this.headers, jwt: r.access_token, xform: s => ({ data: s, error: null }) }) : this._returnResult({ data: null, error: new ai }) }) } catch (e) { if (Zt(e)) return this._returnResult({ data: null, error: e }); throw e } } async _revokeOAuthGrant(e) { try { return await this._useSession(async r => { const { data: { session: n }, error: s } = r; return s ? this._returnResult({ data: null, error: s }) : n ? (await nr(this.fetch, "DELETE", `${this.url}/user/oauth/grants`, { headers: this.headers, jwt: n.access_token, query: { client_id: e.clientId }, noResolveJson: !0 }), { data: {}, error: null }) : this._returnResult({ data: null, error: new ai }) }) } catch (r) { if (Zt(r)) return this._returnResult({ data: null, error: r }); throw r } } async fetchJwk(e, r = { keys: [] }) { let n = r.keys.find(o => o.kid === e); if (n) return n; const s = Date.now(); if (n = this.jwks.keys.find(o => o.kid === e), n && this.jwks_cached_at + wj > s) return n; const { data: a, error: A } = await nr(this.fetch, "GET", `${this.url}/.well-known/jwks.json`, { headers: this.headers }); if (A) throw A; return !a.keys || a.keys.length === 0 || (this.jwks = a, this.jwks_cached_at = s, n = a.keys.find(o => o.kid === e), !n) ? null : n } async getClaims(e, r = {}) { try { let n = e; if (!n) { const { data: h, error: b } = await this.getSession(); if (b || !h.session) return this._returnResult({ data: null, error: b }); n = h.session.access_token } const { header: s, payload: a, signature: A, raw: { header: o, payload: l } } = Fp(n); r != null && r.allowExpired || $j(a.exp); const c = !s.alg || s.alg.startsWith("HS") || !s.kid || !("crypto" in globalThis && "subtle" in globalThis.crypto) ? null : await this.fetchJwk(s.kid, r != null && r.keys ? { keys: r.keys } : r == null ? void 0 : r.jwks); if (!c) { const { error: h } = await this.getUser(n); if (h) throw h; return { data: { claims: a, header: s, signature: A }, error: null } } const d = Kj(s.alg), p = await crypto.subtle.importKey("jwk", c, d, !0, ["verify"]); if (!await crypto.subtle.verify(d, p, A, _j(`${o}.${l}`))) throw new Cm("Invalid JWT signature"); return { data: { claims: a, header: s, signature: A }, error: null } } catch (n) { if (Zt(n)) return this._returnResult({ data: null, error: n }); throw n } }
} Bd.nextInstanceID = {}; const bE = Bd, BE = "2.89.0"; let _u = ""; typeof Deno < "u" ? _u = "deno" : typeof document < "u" ? _u = "web" : typeof navigator < "u" && navigator.product === "ReactNative" ? _u = "react-native" : _u = "node"; const CE = { "X-Client-Info": `supabase-js-${_u}/${BE}` }, NE = { headers: CE }, SE = { schema: "public" }, jE = { autoRefreshToken: !0, persistSession: !0, detectSessionInUrl: !0, flowType: "implicit" }, EE = {}; function Cd(t) { "@babel/helpers - typeof"; return Cd = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, Cd(t) } function FE(t, e) { if (Cd(t) != "object" || !t) return t; var r = t[Symbol.toPrimitive]; if (r !== void 0) { var n = r.call(t, e); if (Cd(n) != "object") return n; throw new TypeError("@@toPrimitive must return a primitive value.") } return (e === "string" ? String : Number)(t) } function _E(t) { var e = FE(t, "string"); return Cd(e) == "symbol" ? e : e + "" } function kE(t, e, r) { return (e = _E(e)) in t ? Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = r, t } function pw(t, e) { var r = Object.keys(t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(t); e && (n = n.filter(function (s) { return Object.getOwnPropertyDescriptor(t, s).enumerable })), r.push.apply(r, n) } return r } function Cn(t) { for (var e = 1; e < arguments.length; e++) { var r = arguments[e] != null ? arguments[e] : {}; e % 2 ? pw(Object(r), !0).forEach(function (n) { kE(t, n, r[n]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(r)) : pw(Object(r)).forEach(function (n) { Object.defineProperty(t, n, Object.getOwnPropertyDescriptor(r, n)) }) } return t } const UE = t => t ? (...e) => t(...e) : (...e) => fetch(...e), IE = () => Headers, QE = (t, e, r) => { const n = UE(r), s = IE(); return async (a, A) => { var o; const l = (o = await e()) !== null && o !== void 0 ? o : t; let c = new s(A == null ? void 0 : A.headers); return c.has("apikey") || c.set("apikey", t), c.has("Authorization") || c.set("Authorization", `Bearer ${l}`), n(a, Cn(Cn({}, A), {}, { headers: c })) } }; function TE(t) { return t.endsWith("/") ? t : t + "/" } function LE(t, e) { var r, n; const { db: s, auth: a, realtime: A, global: o } = t, { db: l, auth: c, realtime: d, global: p } = e, g = { db: Cn(Cn({}, l), s), auth: Cn(Cn({}, c), a), realtime: Cn(Cn({}, d), A), storage: {}, global: Cn(Cn(Cn({}, p), o), {}, { headers: Cn(Cn({}, (r = p == null ? void 0 : p.headers) !== null && r !== void 0 ? r : {}), (n = o == null ? void 0 : o.headers) !== null && n !== void 0 ? n : {}) }), accessToken: async () => "" }; return t.accessToken ? g.accessToken = t.accessToken : delete g.accessToken, g } function OE(t) { const e = t == null ? void 0 : t.trim(); if (!e) throw new Error("supabaseUrl is required."); if (!e.match(/^https?:\/\//i)) throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL."); try { return new URL(TE(e)) } catch { throw Error("Invalid supabaseUrl: Provided URL is malformed.") } } var PE = class extends bE { constructor(t) { super(t) } }, DE = class { constructor(t, e, r) { var n, s; this.supabaseUrl = t, this.supabaseKey = e; const a = OE(t); if (!e) throw new Error("supabaseKey is required."); this.realtimeUrl = new URL("realtime/v1", a), this.realtimeUrl.protocol = this.realtimeUrl.protocol.replace("http", "ws"), this.authUrl = new URL("auth/v1", a), this.storageUrl = new URL("storage/v1", a), this.functionsUrl = new URL("functions/v1", a); const A = `sb-${a.hostname.split(".")[0]}-auth-token`, o = { db: SE, realtime: EE, auth: Cn(Cn({}, jE), {}, { storageKey: A }), global: NE }, l = LE(r ?? {}, o); if (this.storageKey = (n = l.auth.storageKey) !== null && n !== void 0 ? n : "", this.headers = (s = l.global.headers) !== null && s !== void 0 ? s : {}, l.accessToken) this.accessToken = l.accessToken, this.auth = new Proxy({}, { get: (d, p) => { throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`) } }); else { var c; this.auth = this._initSupabaseAuthClient((c = l.auth) !== null && c !== void 0 ? c : {}, this.headers, l.global.fetch) } this.fetch = QE(e, this._getAccessToken.bind(this), l.global.fetch), this.realtime = this._initRealtimeClient(Cn({ headers: this.headers, accessToken: this._getAccessToken.bind(this) }, l.realtime)), this.accessToken && this.accessToken().then(d => this.realtime.setAuth(d)).catch(d => console.warn("Failed to set initial Realtime auth token:", d)), this.rest = new xS(new URL("rest/v1", a).href, { headers: this.headers, schema: l.db.schema, fetch: this.fetch }), this.storage = new pj(this.storageUrl.href, this.headers, this.fetch, r == null ? void 0 : r.storage), l.accessToken || this._listenForAuthEvents() } get functions() { return new hS(this.functionsUrl.href, { headers: this.headers, customFetch: this.fetch }) } from(t) { return this.rest.from(t) } schema(t) { return this.rest.schema(t) } rpc(t, e = {}, r = { head: !1, get: !1, count: void 0 }) { return this.rest.rpc(t, e, r) } channel(t, e = { config: {} }) { return this.realtime.channel(t, e) } getChannels() { return this.realtime.getChannels() } removeChannel(t) { return this.realtime.removeChannel(t) } removeAllChannels() { return this.realtime.removeAllChannels() } async _getAccessToken() { var t = this, e, r; if (t.accessToken) return await t.accessToken(); const { data: n } = await t.auth.getSession(); return (e = (r = n.session) === null || r === void 0 ? void 0 : r.access_token) !== null && e !== void 0 ? e : t.supabaseKey } _initSupabaseAuthClient({ autoRefreshToken: t, persistSession: e, detectSessionInUrl: r, storage: n, userStorage: s, storageKey: a, flowType: A, lock: o, debug: l, throwOnError: c }, d, p) { const g = { Authorization: `Bearer ${this.supabaseKey}`, apikey: `${this.supabaseKey}` }; return new PE({ url: this.authUrl.href, headers: Cn(Cn({}, g), d), storageKey: a, autoRefreshToken: t, persistSession: e, detectSessionInUrl: r, storage: n, userStorage: s, flowType: A, lock: o, debug: l, throwOnError: c, fetch: p, hasCustomAuthorizationHeader: Object.keys(this.headers).some(h => h.toLowerCase() === "authorization") }) } _initRealtimeClient(t) { return new TS(this.realtimeUrl.href, Cn(Cn({}, t), {}, { params: Cn(Cn({}, { apikey: this.supabaseKey }), t == null ? void 0 : t.params) })) } _listenForAuthEvents() { return this.auth.onAuthStateChange((t, e) => { this._handleTokenChanged(t, "CLIENT", e == null ? void 0 : e.access_token) }) } _handleTokenChanged(t, e, r) { (t === "TOKEN_REFRESHED" || t === "SIGNED_IN") && this.changedAccessToken !== r ? (this.changedAccessToken = r, this.realtime.setAuth(r)) : t === "SIGNED_OUT" && (this.realtime.setAuth(), e == "STORAGE" && this.auth.signOut(), this.changedAccessToken = void 0) } }; const RE = (t, e, r) => new DE(t, e, r); function HE() { if (typeof window < "u" || typeof process > "u") return !1; const t = process.version; if (t == null) return !1; const e = t.match(/^v(\d+)\./); return e ? parseInt(e[1], 10) <= 18 : !1 } HE() && console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217"); const ME = "https://gwgldtaezvzjiwwwsyoi.supabase.co", $E = "sb_publishable_r1PELSYxd1MzpMK6uOvwUg_wnLzHtTT", as = !0, tr = RE(ME, $E, { auth: { autoRefreshToken: !0, persistSession: !0, detectSessionInUrl: !0 } }), xu = { signUp: async (t, e) => { if (!tr) throw new Error("Supabase is not configured"); const { data: r, error: n } = await tr.auth.signUp({ email: t, password: e }); if (n) throw n; return r }, signIn: async (t, e) => { if (!tr) throw new Error("Supabase is not configured"); const { data: r, error: n } = await tr.auth.signInWithPassword({ email: t, password: e }); if (n) throw n; return r }, signOut: async () => { if (!tr) throw new Error("Supabase is not configured"); const { error: t } = await tr.auth.signOut(); if (t) throw t }, getUser: async () => { if (!tr) return null; const { data: { user: t } } = await tr.auth.getUser(); return t }, getSession: async () => { if (!tr) return null; const { data: { session: t } } = await tr.auth.getSession(); return t }, onAuthStateChange: t => tr ? tr.auth.onAuthStateChange(t) : { data: { subscription: { unsubscribe: () => { } } } } }, sB = z.createContext(null); function KE({ children: t }) { const [e, r] = z.useState(null), [n, s] = z.useState(!0); z.useEffect(() => { (async () => { try { const p = await xu.getSession(); r((p == null ? void 0 : p.user) ?? null) } catch (p) { console.error("Auth init error:", p) } finally { s(!1) } })(); const { data: { subscription: d } } = xu.onAuthStateChange((p, g) => { r((g == null ? void 0 : g.user) ?? null) }); return () => d.unsubscribe() }, []); const l = { user: e, loading: n, signIn: async (c, d) => { try { return { data: await xu.signIn(c, d), error: null } } catch (p) { return { data: null, error: p } } }, signUp: async (c, d) => { try { return { data: await xu.signUp(c, d), error: null } } catch (p) { return { data: null, error: p } } }, signOut: async () => { try { return await xu.signOut(), { error: null } } catch (c) { return { error: c } } }, isSupabaseConfigured: as }; return i.jsx(sB.Provider, { value: l, children: t }) } function Ld() { const t = z.useContext(sB); if (!t) throw new Error("useAuth must be used within an AuthProvider"); return t } const dt = { get: (t, e) => { try { const r = window.localStorage.getItem(`lifedash_${t}`); return r ? JSON.parse(r) : e } catch { return e } }, set: (t, e) => { try { window.localStorage.setItem(`lifedash_${t}`, JSON.stringify(e)) } catch (r) { console.error("Storage error:", r) } }, remove: t => { window.localStorage.removeItem(`lifedash_${t}`) } }, ki = { getAll: async t => { if (!t) return dt.get("tasks", []); const { data: e, error: r } = await tr.from("tasks").select("*").eq("user_id", t).order("date", { ascending: !0 }); return r ? (console.error("Error fetching tasks:", r), dt.get("tasks", [])) : e.map(n => ({ id: n.id, title: n.title, date: n.date, time: n.time, endTime: n.end_time, allDay: n.all_day || !1, tag: n.tag, progress: n.progress, color: n.color, colorId: n.color_id || "blue", linkedType: n.linked_type || "", linkedId: n.linked_id || "" })) }, create: async (t, e) => { if (!t) { const s = dt.get("tasks", []), a = { ...e, id: Date.now() }; return dt.set("tasks", [...s, a]), a } const { data: r, error: n } = await tr.from("tasks").insert({ user_id: t, title: e.title, date: e.date, time: e.time || null, end_time: e.endTime || null, all_day: e.allDay || !1, tag: e.tag, progress: e.progress || 0, color: e.color, color_id: e.colorId || "blue", linked_type: e.linkedType || null, linked_id: e.linkedId || null }).select().single(); if (n) throw console.error("Error creating task:", n), n; return { id: r.id, title: r.title, date: r.date, time: r.time, endTime: r.end_time, allDay: r.all_day || !1, tag: r.tag, progress: r.progress, color: r.color, colorId: r.color_id || "blue", linkedType: r.linked_type || "", linkedId: r.linked_id || "" } }, update: async (t, e, r) => { if (!t) { const A = dt.get("tasks", []).map(o => o.id === e ? { ...o, ...r } : o); return dt.set("tasks", A), r } const { data: n, error: s } = await tr.from("tasks").update({ title: r.title, date: r.date, time: r.time, end_time: r.endTime, all_day: r.allDay || !1, tag: r.tag, progress: r.progress, color: r.color, color_id: r.colorId, linked_type: r.linkedType || null, linked_id: r.linkedId || null }).eq("id", e).eq("user_id", t).select().single(); if (s) throw console.error("Error updating task:", s), s; return n }, delete: async (t, e) => { if (!t) { const n = dt.get("tasks", []); dt.set("tasks", n.filter(s => s.id !== e)); return } const { error: r } = await tr.from("tasks").delete().eq("id", e).eq("user_id", t); if (r) throw console.error("Error deleting task:", r), r }, deleteAll: async t => { if (!t) { dt.set("tasks", []); return } const { error: e } = await tr.from("tasks").delete().eq("user_id", t); if (e) throw console.error("Error deleting all tasks:", e), e }, bulkCreate: async (t, e) => { if (!t || !e.length) return []; const r = e.map(a => ({ user_id: t, title: a.title, date: a.date, time: a.time || null, end_time: a.endTime || a.end_time || null, all_day: a.allDay || a.all_day || !1, tag: a.tag, progress: a.progress || 0, color: a.color, color_id: a.colorId || a.color_id || "blue", linked_type: a.linkedType || a.linked_type || null, linked_id: a.linkedId || a.linked_id || null })), { data: n, error: s } = await tr.from("tasks").insert(r).select(); if (s) throw console.error("Error bulk creating tasks:", s), s; return n.map(a => ({ id: a.id, title: a.title, date: a.date, time: a.time, endTime: a.end_time, allDay: a.all_day || !1, tag: a.tag, progress: a.progress, color: a.color, colorId: a.color_id || "blue", linkedType: a.linked_type || "", linkedId: a.linked_id || "" })) } }, _a = { getAll: async t => { if (!t) return dt.get("events", []); const { data: e, error: r } = await tr.from("events").select("*").eq("user_id", t).order("date", { ascending: !0 }); return r ? (console.error("Error fetching events:", r), dt.get("events", [])) : e.map(n => ({ id: n.id, title: n.title, date: n.date, time: n.time, endTime: n.end_time, allDay: n.all_day || !1, type: n.type, color: n.color, colorId: n.color_id || "emerald" })) }, create: async (t, e) => { if (!t) { const s = dt.get("events", []), a = { ...e, id: Date.now() }; return dt.set("events", [...s, a]), a } const { data: r, error: n } = await tr.from("events").insert({ user_id: t, title: e.title, date: e.date, time: e.time || null, end_time: e.endTime || null, all_day: e.allDay || !1, type: e.type, color: e.color, color_id: e.colorId || "emerald" }).select().single(); if (n) throw console.error("Error creating event:", n), n; return { id: r.id, title: r.title, date: r.date, time: r.time, endTime: r.end_time, allDay: r.all_day || !1, type: r.type, color: r.color, colorId: r.color_id || "emerald" } }, update: async (t, e, r) => { if (!t) { const A = dt.get("events", []).map(o => o.id === e ? { ...o, ...r } : o); return dt.set("events", A), r } const { data: n, error: s } = await tr.from("events").update({ title: r.title, date: r.date, time: r.time, end_time: r.endTime, all_day: r.allDay || !1, type: r.type, color: r.color, color_id: r.colorId }).eq("id", e).eq("user_id", t).select().single(); if (s) throw console.error("Error updating event:", s), s; return n }, delete: async (t, e) => { if (!t) { const n = dt.get("events", []); dt.set("events", n.filter(s => s.id !== e)); return } const { error: r } = await tr.from("events").delete().eq("id", e).eq("user_id", t); if (r) throw console.error("Error deleting event:", r), r }, deleteAll: async t => { if (!t) { dt.set("events", []); return } const { error: e } = await tr.from("events").delete().eq("user_id", t); if (e) throw console.error("Error deleting all events:", e), e }, bulkCreate: async (t, e) => { if (!t || !e.length) return []; const r = e.map(a => ({ user_id: t, title: a.title, date: a.date, time: a.time || null, end_time: a.endTime || a.end_time || null, all_day: a.allDay || a.all_day || !1, type: a.type, color: a.color, color_id: a.colorId || a.color_id || "emerald" })), { data: n, error: s } = await tr.from("events").insert(r).select(); if (s) throw console.error("Error bulk creating events:", s), s; return n.map(a => ({ id: a.id, title: a.title, date: a.date, time: a.time, endTime: a.end_time, allDay: a.all_day || !1, type: a.type, color: a.color, colorId: a.color_id || "emerald" })) } }, ka = { getAll: async t => { if (!t) return dt.get("goals", []); const { data: e, error: r } = await tr.from("goals").select("*").eq("user_id", t).order("date", { ascending: !0 }); return r ? (console.error("Error fetching goals:", r), dt.get("goals", [])) : e.map(n => ({ id: n.id, title: n.title, date: n.date, time: n.time, endTime: n.end_time, allDay: n.all_day || !1, progress: n.progress, color: n.color, colorId: n.color_id || "purple" })) }, create: async (t, e) => { if (!t) { const s = dt.get("goals", []), a = { ...e, id: Date.now() }; return dt.set("goals", [...s, a]), a } const { data: r, error: n } = await tr.from("goals").insert({ user_id: t, title: e.title, date: e.date, time: e.time || null, end_time: e.endTime || null, all_day: e.allDay || !1, progress: e.progress || 0, color: e.color, color_id: e.colorId || "purple" }).select().single(); if (n) throw console.error("Error creating goal:", n), n; return { id: r.id, title: r.title, date: r.date, time: r.time, endTime: r.end_time, allDay: r.all_day || !1, progress: r.progress, color: r.color, colorId: r.color_id || "purple" } }, update: async (t, e, r) => { if (!t) { const A = dt.get("goals", []).map(o => o.id === e ? { ...o, ...r } : o); return dt.set("goals", A), r } const { data: n, error: s } = await tr.from("goals").update({ title: r.title, date: r.date, time: r.time, end_time: r.endTime, all_day: r.allDay || !1, progress: r.progress, color: r.color, color_id: r.colorId }).eq("id", e).eq("user_id", t).select().single(); if (s) throw console.error("Error updating goal:", s), s; return n }, delete: async (t, e) => { if (!t) { const n = dt.get("goals", []); dt.set("goals", n.filter(s => s.id !== e)); return } const { error: r } = await tr.from("goals").delete().eq("id", e).eq("user_id", t); if (r) throw console.error("Error deleting goal:", r), r }, deleteAll: async t => { if (!t) { dt.set("goals", []); return } const { error: e } = await tr.from("goals").delete().eq("user_id", t); if (e) throw console.error("Error deleting all goals:", e), e }, bulkCreate: async (t, e) => { if (!t || !e.length) return []; const r = e.map(a => ({ user_id: t, title: a.title, date: a.date, time: a.time || null, end_time: a.endTime || a.end_time || null, all_day: a.allDay || a.all_day || !1, progress: a.progress || 0, color: a.color, color_id: a.colorId || a.color_id || "purple" })), { data: n, error: s } = await tr.from("goals").insert(r).select(); if (s) throw console.error("Error bulk creating goals:", s), s; return n.map(a => ({ id: a.id, title: a.title, date: a.date, time: a.time, endTime: a.end_time, allDay: a.all_day || !1, progress: a.progress, color: a.color, colorId: a.color_id || "purple" })) } }, Ua = { getAll: async t => { if (!t) return dt.get("transactions", []); const { data: e, error: r } = await tr.from("transactions").select("*").eq("user_id", t).order("date", { ascending: !1 }); return r ? (console.error("Error fetching transactions:", r), dt.get("transactions", [])) : e.map(n => ({ id: n.id, title: n.title, amount: parseFloat(n.amount), type: n.type, category: n.category, date: n.date, originalDate: n.original_date || n.date, paymentTiming: n.payment_timing || "immediate", linkedType: n.linked_type || "", linkedId: n.linked_id || "" })) }, create: async (t, e) => { if (!t) { const s = dt.get("transactions", []), a = { ...e, id: Date.now() }; return dt.set("transactions", [...s, a]), a } const { data: r, error: n } = await tr.from("transactions").insert({ user_id: t, title: e.title, amount: e.amount, type: e.type, category: e.category, date: e.date, original_date: e.originalDate || e.date, payment_timing: e.paymentTiming || "immediate", linked_type: e.linkedType || null, linked_id: e.linkedId || null }).select().single(); if (n) throw console.error("Error creating transaction:", n), n; return { id: r.id, title: r.title, amount: parseFloat(r.amount), type: r.type, category: r.category, date: r.date, originalDate: r.original_date || r.date, paymentTiming: r.payment_timing || "immediate", linkedType: r.linked_type || "", linkedId: r.linked_id || "" } }, update: async (t, e, r) => { if (!t) { const A = dt.get("transactions", []).map(o => o.id === e ? { ...o, ...r } : o); return dt.set("transactions", A), r } const { data: n, error: s } = await tr.from("transactions").update({ title: r.title, amount: r.amount, type: r.type, category: r.category, date: r.date, original_date: r.originalDate, payment_timing: r.paymentTiming, linked_type: r.linkedType || null, linked_id: r.linkedId || null }).eq("id", e).eq("user_id", t).select().single(); if (s) throw console.error("Error updating transaction:", s), s; return n }, delete: async (t, e) => { if (!t) { const n = dt.get("transactions", []); dt.set("transactions", n.filter(s => s.id !== e)); return } const { error: r } = await tr.from("transactions").delete().eq("id", e).eq("user_id", t); if (r) throw console.error("Error deleting transaction:", r), r }, deleteAll: async t => { if (!t) { dt.set("transactions", []); return } const { error: e } = await tr.from("transactions").delete().eq("user_id", t); if (e) throw console.error("Error deleting all transactions:", e), e }, bulkCreate: async (t, e) => { if (!t || !e.length) return []; const r = e.map(a => ({ user_id: t, title: a.title, amount: a.amount, type: a.type, category: a.category, date: a.date, original_date: a.originalDate || a.date, payment_timing: a.paymentTiming || "immediate", linked_type: a.linkedType || a.linked_type || null, linked_id: a.linkedId || a.linked_id || null })), { data: n, error: s } = await tr.from("transactions").insert(r).select(); if (s) throw console.error("Error bulk creating transactions:", s), s; return n.map(a => ({ id: a.id, title: a.title, amount: parseFloat(a.amount), type: a.type, category: a.category, date: a.date, originalDate: a.original_date || a.date, paymentTiming: a.payment_timing || "immediate", linkedType: a.linked_type || "", linkedId: a.linked_id || "" })) } }, Ia = { getAll: async t => { if (!t) return dt.get("scripts", []); try { const { data: e, error: r } = await tr.from("scripts").select("*").eq("user_id", t).order("created_at", { ascending: !1 }); return r ? (console.error("Error fetching scripts:", r), dt.get("scripts", [])) : e.map(n => ({ id: n.id, title: n.title, content: n.content, category: n.category, variables: n.variables || [], isFavorite: n.is_favorite || !1, useCount: n.use_count || 0, createdAt: n.created_at, updatedAt: n.updated_at })) } catch { return dt.get("scripts", []) } }, create: async (t, e) => { const r = new Date().toISOString(); if (!t) { const n = dt.get("scripts", []), s = { ...e, id: Date.now(), createdAt: r, updatedAt: r, useCount: 0 }; return dt.set("scripts", [...n, s]), s } try { const { data: n, error: s } = await tr.from("scripts").insert({ user_id: t, title: e.title, content: e.content, category: e.category, variables: e.variables || [], is_favorite: e.isFavorite || !1, use_count: 0 }).select().single(); if (s) { const a = dt.get("scripts", []), A = { ...e, id: Date.now(), createdAt: r, updatedAt: r, useCount: 0 }; return dt.set("scripts", [...a, A]), A } return { id: n.id, title: n.title, content: n.content, category: n.category, variables: n.variables || [], isFavorite: n.is_favorite || !1, useCount: n.use_count || 0, createdAt: n.created_at, updatedAt: n.updated_at } } catch { const n = dt.get("scripts", []), s = { ...e, id: Date.now(), createdAt: r, updatedAt: r, useCount: 0 }; return dt.set("scripts", [...n, s]), s } }, update: async (t, e, r) => { const n = new Date().toISOString(); if (!t) { const a = dt.get("scripts", []).map(A => A.id === e ? { ...A, ...r, updatedAt: n } : A); return dt.set("scripts", a), r } try { const { data: s, error: a } = await tr.from("scripts").update({ title: r.title, content: r.content, category: r.category, variables: r.variables, is_favorite: r.isFavorite, use_count: r.useCount, updated_at: n }).eq("id", e).eq("user_id", t).select().single(); if (a) { const o = dt.get("scripts", []).map(l => l.id === e ? { ...l, ...r, updatedAt: n } : l); return dt.set("scripts", o), r } return s } catch { const a = dt.get("scripts", []).map(A => A.id === e ? { ...A, ...r, updatedAt: n } : A); return dt.set("scripts", a), r } }, delete: async (t, e) => { if (!t) { const r = dt.get("scripts", []); dt.set("scripts", r.filter(n => n.id !== e)); return } try { const { error: r } = await tr.from("scripts").delete().eq("id", e).eq("user_id", t); if (r) { const n = dt.get("scripts", []); dt.set("scripts", n.filter(s => s.id !== e)) } } catch { const r = dt.get("scripts", []); dt.set("scripts", r.filter(n => n.id !== e)) } }, deleteAll: async t => { if (!t) { dt.set("scripts", []); return } try { const { error: e } = await tr.from("scripts").delete().eq("user_id", t); e && console.error("Error deleting all scripts:", e) } catch (e) { console.error("Error deleting all scripts:", e) } }, bulkCreate: async (t, e) => { if (!t || !e.length) return []; try { const r = e.map(a => ({ user_id: t, title: a.title, content: a.content, category: a.category, variables: a.variables || [], is_favorite: a.isFavorite || a.is_favorite || !1, use_count: a.useCount || a.use_count || 0 })), { data: n, error: s } = await tr.from("scripts").insert(r).select(); return s ? (console.error("Error bulk creating scripts:", s), []) : n.map(a => ({ id: a.id, title: a.title, content: a.content, category: a.category, variables: a.variables || [], isFavorite: a.is_favorite || !1, useCount: a.use_count || 0, createdAt: a.created_at, updatedAt: a.updated_at })) } catch (r) { return console.error("Error bulk creating scripts:", r), [] } } }, Qa = { getAll: async t => { if (!t) return dt.get("shoppingItems", []); try { const { data: e, error: r } = await tr.from("shopping_items").select("*").eq("user_id", t).order("created_at", { ascending: !1 }); return r ? (console.error("Error fetching shopping items:", r), dt.get("shoppingItems", [])) : e.map(n => ({ id: n.id, title: n.title, store: n.store, estimatedPrice: parseFloat(n.estimated_price) || 0, timing: n.timing, purchased: n.purchased || !1, linkedType: n.linked_type || "", linkedId: n.linked_id || "", createdAt: n.created_at })) } catch { return dt.get("shoppingItems", []) } }, create: async (t, e) => { if (!t) { const r = dt.get("shoppingItems", []), n = { ...e, id: Date.now(), createdAt: new Date().toISOString() }; return dt.set("shoppingItems", [...r, n]), n } try { const { data: r, error: n } = await tr.from("shopping_items").insert({ user_id: t, title: e.title, store: e.store, estimated_price: e.estimatedPrice || 0, timing: e.timing, purchased: e.purchased || !1, linked_type: e.linkedType || null, linked_id: e.linkedId || null }).select().single(); if (n) { console.error("Error creating shopping item:", n); const s = dt.get("shoppingItems", []), a = { ...e, id: Date.now(), createdAt: new Date().toISOString() }; return dt.set("shoppingItems", [...s, a]), a } return { id: r.id, title: r.title, store: r.store, estimatedPrice: parseFloat(r.estimated_price) || 0, timing: r.timing, purchased: r.purchased || !1, linkedType: r.linked_type || "", linkedId: r.linked_id || "", createdAt: r.created_at } } catch { const r = dt.get("shoppingItems", []), n = { ...e, id: Date.now(), createdAt: new Date().toISOString() }; return dt.set("shoppingItems", [...r, n]), n } }, update: async (t, e, r) => { if (!t) { const s = dt.get("shoppingItems", []).map(a => a.id === e ? { ...a, ...r } : a); return dt.set("shoppingItems", s), r } try { const { data: n, error: s } = await tr.from("shopping_items").update({ title: r.title, store: r.store, estimated_price: r.estimatedPrice, timing: r.timing, purchased: r.purchased, linked_type: r.linkedType || null, linked_id: r.linkedId || null }).eq("id", e).eq("user_id", t).select().single(); if (s) { const A = dt.get("shoppingItems", []).map(o => o.id === e ? { ...o, ...r } : o); return dt.set("shoppingItems", A), r } return n } catch { const s = dt.get("shoppingItems", []).map(a => a.id === e ? { ...a, ...r } : a); return dt.set("shoppingItems", s), r } }, delete: async (t, e) => { if (!t) { const r = dt.get("shoppingItems", []); dt.set("shoppingItems", r.filter(n => n.id !== e)); return } try { const { error: r } = await tr.from("shopping_items").delete().eq("id", e).eq("user_id", t); if (r) { const n = dt.get("shoppingItems", []); dt.set("shoppingItems", n.filter(s => s.id !== e)) } } catch { const r = dt.get("shoppingItems", []); dt.set("shoppingItems", r.filter(n => n.id !== e)) } }, deleteAll: async t => { if (!t) { dt.set("shoppingItems", []); return } try { const { error: e } = await tr.from("shopping_items").delete().eq("user_id", t); e && console.error("Error deleting all shopping items:", e) } catch (e) { console.error("Error deleting all shopping items:", e) } }, bulkCreate: async (t, e) => { if (!t || !e.length) return []; try { const r = e.map(a => ({ user_id: t, title: a.title, store: a.store, estimated_price: a.estimatedPrice || a.estimated_price || 0, timing: a.timing, purchased: a.purchased || !1, linked_type: a.linkedType || a.linked_type || null, linked_id: a.linkedId || a.linked_id || null })), { data: n, error: s } = await tr.from("shopping_items").insert(r).select(); return s ? (console.error("Error bulk creating shopping items:", s), []) : n.map(a => ({ id: a.id, title: a.title, store: a.store, estimatedPrice: parseFloat(a.estimated_price) || 0, timing: a.timing, purchased: a.purchased || !1, linkedType: a.linked_type || "", linkedId: a.linked_id || "", createdAt: a.created_at })) } catch (r) { return console.error("Error bulk creating shopping items:", r), [] } } }, Ta = { getAll: async t => { if (!t) return dt.get("diary", []); try { const { data: e, error: r } = await tr.from("diary").select("*").eq("user_id", t).order("date", { ascending: !1 }); return r ? (console.error("Error fetching diary:", r), dt.get("diary", [])) : e.map(n => ({ id: n.id, date: n.date, content: n.content, isFavorite: n.is_favorite || !1, createdAt: n.created_at, updatedAt: n.updated_at })) } catch { return dt.get("diary", []) } }, create: async (t, e) => { const r = new Date().toISOString(); if (!t) { const n = dt.get("diary", []), s = { ...e, id: Date.now(), createdAt: r, updatedAt: r }; return dt.set("diary", [...n, s]), s } try { const { data: n, error: s } = await tr.from("diary").insert({ user_id: t, date: e.date, content: e.content, is_favorite: e.isFavorite || !1 }).select().single(); if (s) { console.error("Error creating diary entry:", s); const a = dt.get("diary", []), A = { ...e, id: Date.now(), createdAt: r, updatedAt: r }; return dt.set("diary", [...a, A]), A } return { id: n.id, date: n.date, content: n.content, isFavorite: n.is_favorite || !1, createdAt: n.created_at, updatedAt: n.updated_at } } catch { const n = dt.get("diary", []), s = { ...e, id: Date.now(), createdAt: r, updatedAt: r }; return dt.set("diary", [...n, s]), s } }, update: async (t, e, r) => { const n = new Date().toISOString(); if (!t) { const a = dt.get("diary", []).map(A => A.id === e ? { ...A, ...r, updatedAt: n } : A); return dt.set("diary", a), r } try { const { data: s, error: a } = await tr.from("diary").update({ content: r.content, is_favorite: r.isFavorite, updated_at: n }).eq("id", e).eq("user_id", t).select().single(); if (a) { console.error("Error updating diary entry:", a); const o = dt.get("diary", []).map(l => l.id === e ? { ...l, ...r, updatedAt: n } : l); return dt.set("diary", o), r } return s } catch { const a = dt.get("diary", []).map(A => A.id === e ? { ...A, ...r, updatedAt: n } : A); return dt.set("diary", a), r } }, delete: async (t, e) => { if (!t) { const r = dt.get("diary", []); dt.set("diary", r.filter(n => n.id !== e)); return } try { const { error: r } = await tr.from("diary").delete().eq("id", e).eq("user_id", t); if (r) { const n = dt.get("diary", []); dt.set("diary", n.filter(s => s.id !== e)) } } catch { const r = dt.get("diary", []); dt.set("diary", r.filter(n => n.id !== e)) } }, deleteAll: async t => { if (!t) { dt.set("diary", []); return } try { const { error: e } = await tr.from("diary").delete().eq("user_id", t); e && console.error("Error deleting all diary entries:", e) } catch (e) { console.error("Error deleting all diary entries:", e) } }, bulkCreate: async (t, e) => { if (!t || !e.length) return []; try { const r = e.map(a => ({ user_id: t, date: a.date, content: a.content, is_favorite: a.isFavorite || a.is_favorite || !1 })), { data: n, error: s } = await tr.from("diary").insert(r).select(); return s ? (console.error("Error bulk creating diary entries:", s), []) : n.map(a => ({ id: a.id, date: a.date, content: a.content, isFavorite: a.is_favorite || !1, createdAt: a.created_at, updatedAt: a.updated_at })) } catch (r) { return console.error("Error bulk creating diary entries:", r), [] } } }, vu = { get: async t => { const e = { username: "User", theme: "dark", notifications: { tasks: !0, goals: !0, finance: !0 } }; if (!t) return dt.get("settings", e); const { data: r, error: n } = await tr.from("user_settings").select("*").eq("user_id", t).single(); return n ? n.code === "PGRST116" ? e : (console.error("Error fetching settings:", n), dt.get("settings", e)) : { username: r.username, theme: r.theme, notifications: r.notifications } }, update: async (t, e) => { if (!t) return dt.set("settings", e), e; const { data: r, error: n } = await tr.from("user_settings").upsert({ user_id: t, username: e.username, theme: e.theme, notifications: e.notifications }, { onConflict: "user_id" }).select().single(); if (n) throw console.error("Error updating settings:", n), n; return e } }, ta = { tasks: [{ id: 1, title: "", date: "2026-01-10", tag: "", progress: 0, color: "bg-cyan-900/50 text-cyan-400" }, { id: 2, title: "KBT", date: "2026-01-09", tag: "", progress: 0, color: "bg-blue-900/50 text-blue-400" }, { id: 3, title: "KBT", date: "2026-01-08", tag: "", progress: 0, color: "bg-blue-900/50 text-blue-400" }, { id: 4, title: "KBT", date: "2026-01-07", tag: "", progress: 0, color: "bg-blue-900/50 text-blue-400" }, { id: 5, title: "Stripchat", date: "2026-01-06", tag: "", progress: 100, color: "bg-cyan-900/50 text-cyan-400" }, { id: 6, title: "KBT", date: "2026-01-06", tag: "", progress: 0, color: "bg-blue-900/50 text-blue-400" }], goals: [{ id: 1, title: "", date: "2026-01-31", progress: 30 }, { id: 2, title: "", date: "2026-02-28", progress: 10 }], events: [], transactions: [{ id: 1, title: "", amount: 25e4, type: "income", category: "", date: "2026-01-05" }, { id: 2, title: "", amount: 8e4, type: "expense", category: "", date: "2026-01-05" }, { id: 3, title: "", amount: 5e3, type: "expense", category: "", date: "2026-01-06" }, { id: 4, title: "", amount: 3e4, type: "income", category: "", date: "2026-01-04" }], settings: { username: "User", theme: "dark", notifications: { tasks: !0, goals: !0, finance: !0 } } }, It = dt; function GE() { const { user: t, loading: e } = Ld(), r = t == null ? void 0 : t.id, [n, s] = z.useState([]), [a, A] = z.useState([]), [o, l] = z.useState([]), [c, d] = z.useState([]), [p, g] = z.useState([]), [h, b] = z.useState([]), [w, j] = z.useState([]), [x, y] = z.useState(ta.settings), [B, E] = z.useState(!0), [T, U] = z.useState(null); z.useEffect(() => { if (e) return; (async () => { E(!0), U(null); try { if (!as || !r || r === "local-user") s(It.get("tasks", ta.tasks)), A(It.get("events", ta.events)), l(It.get("goals", ta.goals)), d(It.get("transactions", ta.transactions)), g(It.get("shoppingItems", [])), b(It.get("scripts", [])), j(It.get("diary", [])), y(It.get("settings", ta.settings)); else { console.log("Loading data from Supabase for user:", r); const [ne, Se, W, $e, Ke, ze, We, ot] = await Promise.all([ki.getAll(r), _a.getAll(r), ka.getAll(r), Ua.getAll(r), Qa.getAll(r), Ia.getAll(r), Ta.getAll(r), vu.get(r)]); console.log("Supabase data loaded:", { tasks: ne.length, events: Se.length, goals: W.length, transactions: $e.length }), s(ne), A(Se), l(W), d($e), g(Ke), b(ze), j(We), y(ot) } } catch (ne) { console.error("Error loading data:", ne), U(ne.message), s(It.get("tasks", ta.tasks)), A(It.get("events", ta.events)), l(It.get("goals", ta.goals)), d(It.get("transactions", ta.transactions)), g(It.get("shoppingItems", [])), b(It.get("scripts", [])), j(It.get("diary", [])), y(It.get("settings", ta.settings)) } finally { E(!1) } })() }, [r, e]); const M = z.useCallback(async X => { try { const ne = await ki.create(r, X); return s(Se => [...Se, ne]), ne } catch (ne) { throw U(ne.message), ne } }, [r]), G = z.useCallback(async (X, ne) => { try { if (await ki.update(r, X, ne), s(Se => Se.map(W => W.id === X ? { ...W, ...ne } : W)), !as || r === "local-user") { const Se = n.map(W => W.id === X ? { ...W, ...ne } : W); It.set("tasks", Se) } } catch (Se) { throw U(Se.message), Se } }, [r, n]), N = z.useCallback(async X => { try { await ki.delete(r, X), s(ne => ne.filter(Se => Se.id !== X)), (!as || r === "local-user") && It.set("tasks", n.filter(ne => ne.id !== X)) } catch (ne) { throw U(ne.message), ne } }, [r, n]), H = z.useCallback(async X => { try { const ne = await _a.create(r, X); return A(Se => [...Se, ne]), ne } catch (ne) { throw U(ne.message), ne } }, [r]), k = z.useCallback(async (X, ne) => { try { if (await _a.update(r, X, ne), A(Se => Se.map(W => W.id === X ? { ...W, ...ne } : W)), !as || r === "local-user") { const Se = a.map(W => W.id === X ? { ...W, ...ne } : W); It.set("events", Se) } } catch (Se) { throw U(Se.message), Se } }, [r, a]), _ = z.useCallback(async X => { try { await _a.delete(r, X), A(ne => ne.filter(Se => Se.id !== X)), (!as || r === "local-user") && It.set("events", a.filter(ne => ne.id !== X)) } catch (ne) { throw U(ne.message), ne } }, [r, a]), V = z.useCallback(async X => { try { const ne = await ka.create(r, X); return l(Se => [...Se, ne]), ne } catch (ne) { throw U(ne.message), ne } }, [r]), P = z.useCallback(async (X, ne) => { try { if (await ka.update(r, X, ne), l(Se => Se.map(W => W.id === X ? { ...W, ...ne } : W)), !as || r === "local-user") { const Se = o.map(W => W.id === X ? { ...W, ...ne } : W); It.set("goals", Se) } } catch (Se) { throw U(Se.message), Se } }, [r, o]), te = z.useCallback(async X => { try { await ka.delete(r, X), l(ne => ne.filter(Se => Se.id !== X)), (!as || r === "local-user") && It.set("goals", o.filter(ne => ne.id !== X)) } catch (ne) { throw U(ne.message), ne } }, [r, o]), ce = z.useCallback(async X => { try { const ne = await Ua.create(r, X); return d(Se => [...Se, ne]), ne } catch (ne) { throw U(ne.message), ne } }, [r]), he = z.useCallback(async (X, ne) => { try { if (await Ua.update(r, X, ne), d(Se => Se.map(W => W.id === X ? { ...W, ...ne } : W)), !as || r === "local-user") { const Se = c.map(W => W.id === X ? { ...W, ...ne } : W); It.set("transactions", Se) } } catch (Se) { throw U(Se.message), Se } }, [r, c]), ie = z.useCallback(async X => { try { await Ua.delete(r, X), d(ne => ne.filter(Se => Se.id !== X)), (!as || r === "local-user") && It.set("transactions", c.filter(ne => ne.id !== X)) } catch (ne) { throw U(ne.message), ne } }, [r, c]), ue = z.useCallback(async X => { try { const ne = await Qa.create(r, X); return g(Se => [...Se, ne]), ne } catch (ne) { throw U(ne.message), ne } }, [r]), pe = z.useCallback(async (X, ne) => { try { if (await Qa.update(r, X, ne), g(Se => Se.map(W => W.id === X ? { ...W, ...ne } : W)), !as || r === "local-user") { const Se = p.map(W => W.id === X ? { ...W, ...ne } : W); It.set("shoppingItems", Se) } } catch (Se) { throw U(Se.message), Se } }, [r, p]), ve = z.useCallback(async X => { try { await Qa.delete(r, X), g(ne => ne.filter(Se => Se.id !== X)), (!as || r === "local-user") && It.set("shoppingItems", p.filter(ne => ne.id !== X)) } catch (ne) { throw U(ne.message), ne } }, [r, p]), I = z.useCallback(async X => { try { const ne = await Ia.create(r, X); return b(Se => [...Se, ne]), ne } catch (ne) { throw U(ne.message), ne } }, [r]), R = z.useCallback(async (X, ne) => { try { if (await Ia.update(r, X, ne), b(Se => Se.map(W => W.id === X ? { ...W, ...ne } : W)), !as || r === "local-user") { const Se = h.map(W => W.id === X ? { ...W, ...ne } : W); It.set("scripts", Se) } } catch (Se) { throw U(Se.message), Se } }, [r, h]), re = z.useCallback(async X => { try { await Ia.delete(r, X), b(ne => ne.filter(Se => Se.id !== X)), (!as || r === "local-user") && It.set("scripts", h.filter(ne => ne.id !== X)) } catch (ne) { throw U(ne.message), ne } }, [r, h]), Y = z.useCallback(async X => { try { const ne = await Ta.create(r, X); return j(Se => [...Se, ne]), ne } catch (ne) { throw U(ne.message), ne } }, [r]), le = z.useCallback(async (X, ne) => { try { if (await Ta.update(r, X, ne), j(Se => Se.map(W => W.id === X ? { ...W, ...ne } : W)), !as || r === "local-user") { const Se = w.map(W => W.id === X ? { ...W, ...ne } : W); It.set("diary", Se) } } catch (Se) { throw U(Se.message), Se } }, [r, w]), ge = z.useCallback(async X => { try { await Ta.delete(r, X), j(ne => ne.filter(Se => Se.id !== X)), (!as || r === "local-user") && It.set("diary", w.filter(ne => ne.id !== X)) } catch (ne) { throw U(ne.message), ne } }, [r, w]), ke = z.useCallback(async X => { try { await vu.update(r, X), y(X), (!as || r === "local-user") && It.set("settings", X) } catch (ne) { throw U(ne.message), ne } }, [r]), Fe = z.useCallback(() => ({ tasks: n, goals: o, events: a, transactions: c, shoppingItems: p, scripts: h, diaryEntries: w, settings: x, exportDate: new Date().toISOString() }), [n, o, a, c, p, h, w, x]), Le = z.useCallback(() => { const X = Fe(); It.set("auto_backup", X); const ne = It.get("backup_history", []), W = [{ timestamp: new Date().toISOString(), data: X }, ...ne].slice(0, 5); return It.set("backup_history", W), console.log(`Auto backup completed at ${new Date().toLocaleTimeString()}`), X }, [Fe]); z.useEffect(() => { if (B) return; const X = setTimeout(() => { Le() }, 5e3), ne = setInterval(() => { Le() }, 30 * 60 * 1e3); return () => { clearTimeout(X), clearInterval(ne) } }, [B, Le]); const nt = z.useCallback(() => It.get("auto_backup", null), []), ct = z.useCallback(() => It.get("backup_history", []), []), de = z.useCallback(async X => { var ne, Se, W, $e, Ke; if (!X) return !1; if (r && r !== "local-user") try { console.log("Restoring backup to Supabase..."), await Promise.all([ki.deleteAll(r), _a.deleteAll(r), ka.deleteAll(r), Ua.deleteAll(r), Qa.deleteAll(r), Ia.deleteAll(r), Ta.deleteAll(r)]); const [ze, We, ot] = await Promise.all([(ne = X.tasks) != null && ne.length ? ki.bulkCreate(r, X.tasks) : Promise.resolve([]), (Se = X.events) != null && Se.length ? _a.bulkCreate(r, X.events) : Promise.resolve([]), (W = X.goals) != null && W.length ? ka.bulkCreate(r, X.goals) : Promise.resolve([])]), be = { task: {}, event: {}, goal: {} }; X.tasks && ze.length === X.tasks.length && X.tasks.forEach((Te, pt) => { be.task[Te.id] = ze[pt].id }), X.events && We.length === X.events.length && X.events.forEach((Te, pt) => { be.event[Te.id] = We[pt].id }), X.goals && ot.length === X.goals.length && X.goals.forEach((Te, pt) => { be.goal[Te.id] = ot[pt].id }); const Ne = []; for (let Te = 0; Te < ze.length; Te++) { const pt = X.tasks[Te], At = ze[Te], bt = pt.linkedType || pt.linked_type || "", ht = pt.linkedId || pt.linked_id || ""; if (bt && ht) { const xt = be[bt]; if (xt && xt[ht]) { const Ct = xt[ht]; Ne.push(ki.update(r, At.id, { linkedType: bt, linkedId: Ct })), ze[Te] = { ...At, linkedType: bt, linkedId: Ct } } } } Ne.length > 0 && await Promise.all(Ne); const ee = (X.transactions || []).map(Te => { var ht; const pt = Te.linkedType || Te.linked_type || "", At = Te.linkedId || Te.linked_id || ""; let bt = At; return pt && At && ((ht = be[pt]) != null && ht[At]) && (bt = be[pt][At]), { ...Te, linkedType: pt, linkedId: bt } }), ye = (X.shoppingItems || []).map(Te => { var ht; const pt = Te.linkedType || Te.linked_type || "", At = Te.linkedId || Te.linked_id || ""; let bt = At; return pt && At && ((ht = be[pt]) != null && ht[At]) && (bt = be[pt][At]), { ...Te, linkedType: pt, linkedId: bt } }), [Ee, Ye, Xe, Be] = await Promise.all([ee.length ? Ua.bulkCreate(r, ee) : Promise.resolve([]), ye.length ? Qa.bulkCreate(r, ye) : Promise.resolve([]), ($e = X.scripts) != null && $e.length ? Ia.bulkCreate(r, X.scripts) : Promise.resolve([]), (Ke = X.diary || X.diaryEntries) != null && Ke.length ? Ta.bulkCreate(r, X.diary || X.diaryEntries) : Promise.resolve([])]); return X.settings && await vu.update(r, X.settings), s(ze), A(We), l(ot), d(Ee), g(Ye), b(Xe), j(Be), X.settings && y(X.settings), It.set("tasks", ze), It.set("events", We), It.set("goals", ot), It.set("transactions", Ee), It.set("shoppingItems", Ye), It.set("scripts", Xe), It.set("diary", Be), X.settings && It.set("settings", X.settings), console.log("Restore from backup completed!"), !0 } catch (ze) { return console.error("Restore error:", ze), !1 } else { if (X.tasks && (s(X.tasks), It.set("tasks", X.tasks)), X.goals && (l(X.goals), It.set("goals", X.goals)), X.events && (A(X.events), It.set("events", X.events)), X.transactions && (d(X.transactions), It.set("transactions", X.transactions)), X.shoppingItems && (g(X.shoppingItems), It.set("shoppingItems", X.shoppingItems)), X.scripts && (b(X.scripts), It.set("scripts", X.scripts)), X.diaryEntries || X.diary) { const ze = X.diaryEntries || X.diary; j(ze), It.set("diary", ze) } return X.settings && (y(X.settings), It.set("settings", X.settings)), !0 } }, [r]), Ze = z.useCallback(() => { const X = Fe(), ne = new Blob([JSON.stringify(X, null, 2)], { type: "application/json" }), Se = URL.createObjectURL(ne), W = document.createElement("a"); W.href = Se, W.download = `life-dashboard-backup-${new Date().toISOString().split("T")[0]}.json`, W.click(), URL.revokeObjectURL(Se) }, [Fe]), F = z.useCallback(async X => { var ne, Se, W, $e, Ke; if (r && r !== "local-user") { console.log("Importing data to Supabase..."), console.log("Step 1: Deleting existing data from Supabase..."); try { await Promise.all([ki.deleteAll(r), _a.deleteAll(r), ka.deleteAll(r), Ua.deleteAll(r), Qa.deleteAll(r), Ia.deleteAll(r), Ta.deleteAll(r)]), console.log("Step 2: Inserting tasks, events, goals first..."); const [ze, We, ot] = await Promise.all([(ne = X.tasks) != null && ne.length ? ki.bulkCreate(r, X.tasks) : Promise.resolve([]), (Se = X.events) != null && Se.length ? _a.bulkCreate(r, X.events) : Promise.resolve([]), (W = X.goals) != null && W.length ? ka.bulkCreate(r, X.goals) : Promise.resolve([])]), be = { task: {}, event: {}, goal: {} }; X.tasks && ze.length === X.tasks.length && X.tasks.forEach((Te, pt) => { const At = Te.id, bt = ze[pt].id; be.task[At] = bt, console.log(`Task ID mapping: ${At} -> ${bt}`) }), X.events && We.length === X.events.length && X.events.forEach((Te, pt) => { const At = Te.id, bt = We[pt].id; be.event[At] = bt, console.log(`Event ID mapping: ${At} -> ${bt}`) }), X.goals && ot.length === X.goals.length && X.goals.forEach((Te, pt) => { const At = Te.id, bt = ot[pt].id; be.goal[At] = bt, console.log(`Goal ID mapping: ${At} -> ${bt}`) }), console.log("ID Mappings created:", be), console.log("Step 2.5: Updating task linked references..."); const Ne = []; for (let Te = 0; Te < ze.length; Te++) { const pt = X.tasks[Te], At = ze[Te], bt = pt.linkedType || pt.linked_type || "", ht = pt.linkedId || pt.linked_id || ""; if (bt && ht) { const xt = be[bt]; if (xt && xt[ht]) { const Ct = xt[ht]; console.log(`Task "${At.title}": ${bt} ID ${ht} -> ${Ct}`), Ne.push(ki.update(r, At.id, { linkedType: bt, linkedId: Ct })), ze[Te] = { ...At, linkedType: bt, linkedId: Ct } } } } Ne.length > 0 && (await Promise.all(Ne), console.log(`Updated ${Ne.length} task linked references`)); const ee = (X.transactions || []).map(Te => { const pt = Te.linkedType || Te.linked_type || "", At = Te.linkedId || Te.linked_id || ""; let bt = At; if (pt && At) { const ht = be[pt]; ht && ht[At] && (bt = ht[At], console.log(`Transaction "${Te.title}": ${pt} ID ${At} -> ${bt}`)) } return { ...Te, linkedType: pt, linkedId: bt } }), ye = (X.shoppingItems || []).map(Te => { const pt = Te.linkedType || Te.linked_type || "", At = Te.linkedId || Te.linked_id || ""; let bt = At; if (pt && At) { const ht = be[pt]; ht && ht[At] && (bt = ht[At]) } return { ...Te, linkedType: pt, linkedId: bt } }); console.log("Step 3: Inserting transactions, shopping items, scripts, diary..."); const [Ee, Ye, Xe, Be] = await Promise.all([ee.length ? Ua.bulkCreate(r, ee) : Promise.resolve([]), ye.length ? Qa.bulkCreate(r, ye) : Promise.resolve([]), ($e = X.scripts) != null && $e.length ? Ia.bulkCreate(r, X.scripts) : Promise.resolve([]), (Ke = X.diary || X.diaryEntries) != null && Ke.length ? Ta.bulkCreate(r, X.diary || X.diaryEntries) : Promise.resolve([])]); X.settings && await vu.update(r, X.settings), console.log("Step 4: Updating local state with Supabase data..."), console.log("Inserted counts:", { tasks: ze.length, events: We.length, goals: ot.length, transactions: Ee.length, shoppingItems: Ye.length, scripts: Xe.length, diary: Be.length }), s(ze), A(We), l(ot), d(Ee), g(Ye), b(Xe), j(Be), X.settings && y(X.settings), It.set("tasks", ze), It.set("events", We), It.set("goals", ot), It.set("transactions", Ee), It.set("shoppingItems", Ye), It.set("scripts", Xe), It.set("diary", Be), X.settings && It.set("settings", X.settings), console.log("Import to Supabase completed successfully!") } catch (ze) { throw console.error("Import error:", ze), ze } } else if (X.tasks && (s(X.tasks), It.set("tasks", X.tasks)), X.goals && (l(X.goals), It.set("goals", X.goals)), X.events && (A(X.events), It.set("events", X.events)), X.transactions && (d(X.transactions), It.set("transactions", X.transactions)), X.shoppingItems && (g(X.shoppingItems), It.set("shoppingItems", X.shoppingItems)), X.scripts && (b(X.scripts), It.set("scripts", X.scripts)), X.settings && (y(X.settings), It.set("settings", X.settings)), X.diary || X.diaryEntries) { const ze = X.diary || X.diaryEntries; j(ze), It.set("diary", ze) } }, [r]), se = z.useCallback(() => { localStorage.clear(), window.location.reload() }, []), qe = z.useCallback(async () => { if (!r || r === "local-user") throw new Error(""); const X = { tasks: { success: 0, failed: 0 }, events: { success: 0, failed: 0 }, goals: { success: 0, failed: 0 }, transactions: { success: 0, failed: 0 }, shoppingItems: { success: 0, failed: 0 }, scripts: { success: 0, failed: 0 }, diary: { success: 0, failed: 0 } }; console.log("Deleting existing data from Supabase..."), await Promise.all([ki.deleteAll(r), _a.deleteAll(r), ka.deleteAll(r), Ua.deleteAll(r), Qa.deleteAll(r), Ia.deleteAll(r), Ta.deleteAll(r)]), console.log("Existing data deleted. Bulk inserting new data..."); try { const [ne, Se, W, $e, Ke, ze, We] = await Promise.all([n.length ? ki.bulkCreate(r, n) : Promise.resolve([]), a.length ? _a.bulkCreate(r, a) : Promise.resolve([]), o.length ? ka.bulkCreate(r, o) : Promise.resolve([]), c.length ? Ua.bulkCreate(r, c) : Promise.resolve([]), p.length ? Qa.bulkCreate(r, p) : Promise.resolve([]), h.length ? Ia.bulkCreate(r, h) : Promise.resolve([]), w.length ? Ta.bulkCreate(r, w) : Promise.resolve([])]); X.tasks.success = ne.length, X.events.success = Se.length, X.goals.success = W.length, X.transactions.success = $e.length, X.shoppingItems.success = Ke.length, X.scripts.success = ze.length, X.diary.success = We.length, s(ne), A(Se), l(W), d($e), g(Ke), b(ze), j(We), It.set("tasks", ne), It.set("events", Se), It.set("goals", W), It.set("transactions", $e), It.set("shoppingItems", Ke), It.set("scripts", ze), It.set("diary", We), await vu.update(r, x), console.log("Sync completed:", X) } catch (ne) { throw console.error("Sync error:", ne), ne } return X }, [r, n, a, o, c, p, h, w, x]); return { tasks: n, events: a, goals: o, transactions: c, shoppingItems: p, scripts: h, settings: x, loading: B, error: T, addTask: M, updateTask: G, deleteTask: N, setTasks: s, addEvent: H, updateEvent: k, deleteEvent: _, setEvents: A, addGoal: V, updateGoal: P, deleteGoal: te, setGoals: l, addTransaction: ce, updateTransaction: he, deleteTransaction: ie, setTransactions: d, addShoppingItem: ue, updateShoppingItem: pe, deleteShoppingItem: ve, setShoppingItems: g, addScript: I, updateScript: R, deleteScript: re, setScripts: b, diaryEntries: w, addDiaryEntry: Y, updateDiaryEntry: le, deleteDiaryEntry: ge, setDiaryEntries: j, updateSettings: ke, setSettings: y, exportData: Ze, importData: F, clearAllData: se, syncToSupabase: qe, autoBackup: Le, getLastAutoBackup: nt, getBackupHistory: ct, restoreFromBackup: de } } function Bt({ name: t, size: e = 24, className: r = "" }) { const n = { calendar: i.jsx("path", { d: "M8 2v4M16 2v4M3 10h18M5 4h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2Z" }), roadmap: i.jsx("path", { d: "M3 3v18h18 M18 17V9 M13 17V5 M8 17v-3" }), network: i.jsxs(i.Fragment, { children: [i.jsx("rect", { x: "16", y: "16", width: "6", height: "6", rx: "1" }), i.jsx("rect", { x: "2", y: "16", width: "6", height: "6", rx: "1" }), i.jsx("rect", { x: "9", y: "2", width: "6", height: "6", rx: "1" }), i.jsx("path", { d: "M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3" }), i.jsx("path", { d: "M12 12V8" })] }), tasks: i.jsxs(i.Fragment, { children: [i.jsx("rect", { x: "3", y: "5", width: "6", height: "6", rx: "1" }), i.jsx("path", { d: "m3 17 2 2 4-4" }), i.jsx("path", { d: "M13 6h8" }), i.jsx("path", { d: "M13 12h8" }), i.jsx("path", { d: "M13 18h8" })] }), analytics: i.jsxs(i.Fragment, { children: [i.jsx("rect", { width: "7", height: "9", x: "3", y: "3", rx: "1" }), i.jsx("rect", { width: "7", height: "5", x: "14", y: "3", rx: "1" }), i.jsx("rect", { width: "7", height: "9", x: "14", y: "12", rx: "1" }), i.jsx("rect", { width: "7", height: "5", x: "3", y: "16", rx: "1" })] }), ai: i.jsxs(i.Fragment, { children: [i.jsx("circle", { cx: "12", cy: "12", r: "10" }), i.jsx("path", { d: "M8 14s1.5 2 4 2 4-2 4-2" }), i.jsx("line", { x1: "9", y1: "9", x2: "9.01", y2: "9" }), i.jsx("line", { x1: "15", y1: "9", x2: "15.01", y2: "9" })] }), finance: i.jsxs(i.Fragment, { children: [i.jsx("rect", { width: "20", height: "12", x: "2", y: "6", rx: "2" }), i.jsx("circle", { cx: "12", cy: "12", r: "2" }), i.jsx("path", { d: "M6 12h.01M18 12h.01" })] }), system: i.jsxs(i.Fragment, { children: [i.jsx("path", { d: "M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.09a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z" }), i.jsx("circle", { cx: "12", cy: "12", r: "3" })] }), plus: i.jsxs(i.Fragment, { children: [i.jsx("path", { d: "M5 12h14" }), i.jsx("path", { d: "M12 5v14" })] }), cloud: i.jsx("path", { d: "M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z" }), search: i.jsxs(i.Fragment, { children: [i.jsx("circle", { cx: "11", cy: "11", r: "8" }), i.jsx("path", { d: "m21 21-4.3-4.3" })] }), send: i.jsxs(i.Fragment, { children: [i.jsx("path", { d: "m22 2-7 20-4-9-9-4Z" }), i.jsx("path", { d: "M22 2 11 13" })] }), box: i.jsxs(i.Fragment, { children: [i.jsx("path", { d: "M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z" }), i.jsx("path", { d: "m3.3 7 8.7 5 8.7-5" }), i.jsx("path", { d: "M12 22v-9" })] }), trash: i.jsxs(i.Fragment, { children: [i.jsx("path", { d: "M3 6h18" }), i.jsx("path", { d: "M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6" }), i.jsx("path", { d: "M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2" })] }), edit: i.jsxs(i.Fragment, { children: [i.jsx("path", { d: "M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z" }), i.jsx("path", { d: "m15 5 4 4" })] }), check: i.jsx("path", { d: "M20 6 9 17l-5-5" }), x: i.jsxs(i.Fragment, { children: [i.jsx("path", { d: "M18 6 6 18" }), i.jsx("path", { d: "m6 6 12 12" })] }), chevronLeft: i.jsx("path", { d: "m15 18-6-6 6-6" }), chevronRight: i.jsx("path", { d: "m9 18 6-6-6-6" }), trendingUp: i.jsxs(i.Fragment, { children: [i.jsx("polyline", { points: "22 7 13.5 15.5 8.5 10.5 2 17" }), i.jsx("polyline", { points: "16 7 22 7 22 13" })] }), trendingDown: i.jsxs(i.Fragment, { children: [i.jsx("polyline", { points: "22 17 13.5 8.5 8.5 13.5 2 7" }), i.jsx("polyline", { points: "16 17 22 17 22 11" })] }), wallet: i.jsxs(i.Fragment, { children: [i.jsx("path", { d: "M21 12V7H5a2 2 0 0 1 0-4h14v4" }), i.jsx("path", { d: "M3 5v14a2 2 0 0 0 2 2h16v-5" }), i.jsx("path", { d: "M18 12a2 2 0 0 0 0 4h4v-4Z" })] }), piggyBank: i.jsxs(i.Fragment, { children: [i.jsx("path", { d: "M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2h0V5z" }), i.jsx("path", { d: "M2 9v1c0 1.1.9 2 2 2h1" }), i.jsx("path", { d: "M16 11h0" })] }), creditCard: i.jsxs(i.Fragment, { children: [i.jsx("rect", { width: "20", height: "14", x: "2", y: "5", rx: "2" }), i.jsx("line", { x1: "2", x2: "22", y1: "10", y2: "10" })] }), moon: i.jsx("path", { d: "M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z" }), sun: i.jsxs(i.Fragment, { children: [i.jsx("circle", { cx: "12", cy: "12", r: "4" }), i.jsx("path", { d: "M12 2v2" }), i.jsx("path", { d: "M12 20v2" }), i.jsx("path", { d: "m4.93 4.93 1.41 1.41" }), i.jsx("path", { d: "m17.66 17.66 1.41 1.41" }), i.jsx("path", { d: "M2 12h2" }), i.jsx("path", { d: "M20 12h2" }), i.jsx("path", { d: "m6.34 17.66-1.41 1.41" }), i.jsx("path", { d: "m19.07 4.93-1.41 1.41" })] }), bell: i.jsxs(i.Fragment, { children: [i.jsx("path", { d: "M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9" }), i.jsx("path", { d: "M10.3 21a1.94 1.94 0 0 0 3.4 0" })] }), user: i.jsxs(i.Fragment, { children: [i.jsx("circle", { cx: "12", cy: "8", r: "5" }), i.jsx("path", { d: "M20 21a8 8 0 1 0-16 0" })] }), target: i.jsxs(i.Fragment, { children: [i.jsx("circle", { cx: "12", cy: "12", r: "10" }), i.jsx("circle", { cx: "12", cy: "12", r: "6" }), i.jsx("circle", { cx: "12", cy: "12", r: "2" })] }), flag: i.jsxs(i.Fragment, { children: [i.jsx("path", { d: "M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z" }), i.jsx("line", { x1: "4", x2: "4", y1: "22", y2: "15" })] }), clock: i.jsxs(i.Fragment, { children: [i.jsx("circle", { cx: "12", cy: "12", r: "10" }), i.jsx("polyline", { points: "12 6 12 12 16 14" })] }), star: i.jsx("polygon", { points: "12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" }), link: i.jsxs(i.Fragment, { children: [i.jsx("path", { d: "M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71" }), i.jsx("path", { d: "M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71" })] }), download: i.jsxs(i.Fragment, { children: [i.jsx("path", { d: "M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" }), i.jsx("polyline", { points: "7 10 12 15 17 10" }), i.jsx("line", { x1: "12", x2: "12", y1: "15", y2: "3" })] }), upload: i.jsxs(i.Fragment, { children: [i.jsx("path", { d: "M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" }), i.jsx("polyline", { points: "17 8 12 3 7 8" }), i.jsx("line", { x1: "12", x2: "12", y1: "3", y2: "15" })] }), logout: i.jsxs(i.Fragment, { children: [i.jsx("path", { d: "M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" }), i.jsx("polyline", { points: "16 17 21 12 16 7" }), i.jsx("line", { x1: "21", x2: "9", y1: "12", y2: "12" })] }), login: i.jsxs(i.Fragment, { children: [i.jsx("path", { d: "M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4" }), i.jsx("polyline", { points: "10 17 15 12 10 7" }), i.jsx("line", { x1: "15", x2: "3", y1: "12", y2: "12" })] }), tracking: i.jsxs(i.Fragment, { children: [i.jsx("rect", { x: "2", y: "3", width: "20", height: "14", rx: "2" }), i.jsx("path", { d: "M8 21h8" }), i.jsx("path", { d: "M12 17v4" }), i.jsx("path", { d: "M7 8h2" }), i.jsx("path", { d: "M7 12h4" }), i.jsx("circle", { cx: "16", cy: "10", r: "2" })] }), menu: i.jsxs(i.Fragment, { children: [i.jsx("line", { x1: "4", x2: "20", y1: "6", y2: "6" }), i.jsx("line", { x1: "4", x2: "20", y1: "12", y2: "12" }), i.jsx("line", { x1: "4", x2: "20", y1: "18", y2: "18" })] }), gripVertical: i.jsxs(i.Fragment, { children: [i.jsx("circle", { cx: "9", cy: "5", r: "1" }), i.jsx("circle", { cx: "9", cy: "12", r: "1" }), i.jsx("circle", { cx: "9", cy: "19", r: "1" }), i.jsx("circle", { cx: "15", cy: "5", r: "1" }), i.jsx("circle", { cx: "15", cy: "12", r: "1" }), i.jsx("circle", { cx: "15", cy: "19", r: "1" })] }), shopping: i.jsxs(i.Fragment, { children: [i.jsx("circle", { cx: "8", cy: "21", r: "1" }), i.jsx("circle", { cx: "19", cy: "21", r: "1" }), i.jsx("path", { d: "M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12" })] }), scripts: i.jsxs(i.Fragment, { children: [i.jsx("path", { d: "M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z" }), i.jsx("polyline", { points: "14 2 14 8 20 8" }), i.jsx("path", { d: "m10 13-2 2 2 2" }), i.jsx("path", { d: "m14 17 2-2-2-2" })] }), diary: i.jsxs(i.Fragment, { children: [i.jsx("path", { d: "M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20" }), i.jsx("path", { d: "M8 7h6" }), i.jsx("path", { d: "M8 11h8" })] }), morning: i.jsxs(i.Fragment, { children: [i.jsx("circle", { cx: "12", cy: "12", r: "4" }), i.jsx("path", { d: "M12 2v2" }), i.jsx("path", { d: "M12 20v2" }), i.jsx("path", { d: "m4.93 4.93 1.41 1.41" }), i.jsx("path", { d: "m17.66 17.66 1.41 1.41" }), i.jsx("path", { d: "M2 12h2" }), i.jsx("path", { d: "M20 12h2" }), i.jsx("path", { d: "m6.34 17.66-1.41 1.41" }), i.jsx("path", { d: "m19.07 4.93-1.41 1.41" }), i.jsx("path", { d: "M9 16h6" })] }), copy: i.jsxs(i.Fragment, { children: [i.jsx("rect", { width: "14", height: "14", x: "8", y: "8", rx: "2", ry: "2" }), i.jsx("path", { d: "M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2" })] }), starFilled: i.jsx("polygon", { fill: "currentColor", points: "12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" }), twin: i.jsxs(i.Fragment, { children: [i.jsx("circle", { cx: "12", cy: "8", r: "4" }), i.jsx("path", { d: "M12 12v2" }), i.jsx("path", { d: "M8 20h8" }), i.jsx("path", { d: "M10 20v-4a2 2 0 0 1 4 0v4" }), i.jsx("circle", { cx: "6", cy: "6", r: "2", strokeDasharray: "2 2" }), i.jsx("circle", { cx: "18", cy: "6", r: "2", strokeDasharray: "2 2" }), i.jsx("path", { d: "M6 8v2a2 2 0 0 0 2 2", strokeDasharray: "2 2" }), i.jsx("path", { d: "M18 8v2a2 2 0 0 1-2 2", strokeDasharray: "2 2" })] }), brain: i.jsxs(i.Fragment, { children: [i.jsx("path", { d: "M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z" }), i.jsx("path", { d: "M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z" }), i.jsx("path", { d: "M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4" }), i.jsx("path", { d: "M12 18v4" })] }), save: i.jsxs(i.Fragment, { children: [i.jsx("path", { d: "M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z" }), i.jsx("polyline", { points: "17 21 17 13 7 13 7 21" }), i.jsx("polyline", { points: "7 3 7 8 15 8" })] }), refreshCw: i.jsxs(i.Fragment, { children: [i.jsx("path", { d: "M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8" }), i.jsx("path", { d: "M21 3v5h-5" }), i.jsx("path", { d: "M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16" }), i.jsx("path", { d: "M3 21v-5h5" })] }), mtg: i.jsxs(i.Fragment, { children: [i.jsx("path", { d: "M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" }), i.jsx("circle", { cx: "9", cy: "7", r: "4" }), i.jsx("path", { d: "M23 21v-2a4 4 0 0 0-3-3.87" }), i.jsx("path", { d: "M16 3.13a4 4 0 0 1 0 7.75" })] }), trade: i.jsxs(i.Fragment, { children: [i.jsx("path", { d: "M3 3v18h18" }), i.jsx("path", { d: "m19 9-5 5-4-4-3 3" }), i.jsx("circle", { cx: "19", cy: "9", r: "2" }), i.jsx("circle", { cx: "14", cy: "14", r: "2" }), i.jsx("circle", { cx: "10", cy: "10", r: "2" }), i.jsx("circle", { cx: "7", cy: "13", r: "2" })] }) }; return i.jsx("svg", { xmlns: "http://www.w3.org/2000/svg", width: e, height: e, viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2", strokeLinecap: "round", strokeLinejoin: "round", className: r, children: n[t] || i.jsx("circle", { cx: "12", cy: "12", r: "10" }) }) } function VE() { const { signIn: t, signUp: e, isSupabaseConfigured: r } = Ld(), [n, s] = z.useState("login"); z.useEffect(() => { document.documentElement.setAttribute("data-theme", "dark") }, []); const [a, A] = z.useState(""), [o, l] = z.useState(""), [c, d] = z.useState(!1), [p, g] = z.useState(null), [h, b] = z.useState(null), w = async j => { j.preventDefault(), d(!0), g(null), b(null); try { if (n === "login") { const { error: x } = await t(a, o); if (x) throw x } else { const { error: x, data: y } = await e(a, o); if (x) throw x; b("") } } catch (x) { g(x.message) } finally { d(!1) } }; return r ? i.jsx("div", { className: "min-h-screen flex items-center justify-center p-4", style: { backgroundColor: "#0a0a0a" }, children: i.jsxs("div", { className: "rounded-2xl p-8 w-full max-w-md", style: { backgroundColor: "#141414", border: "1px solid #27272a" }, children: [i.jsx("div", { className: "w-16 h-16 bg-blue-600 rounded-2xl mx-auto mb-6 flex items-center justify-center", children: i.jsx(Bt, { name: "box", size: 32, className: "text-white" }) }), i.jsx("h1", { className: "text-2xl font-bold text-center mb-2", style: { color: "#fafafa" }, children: "Life Dashboard" }), i.jsx("p", { className: "text-center mb-8", style: { color: "#a1a1aa" }, children: n === "login" ? "" : "" }), i.jsxs("form", { onSubmit: w, className: "space-y-4", children: [i.jsxs("div", { children: [i.jsx("label", { className: "text-sm mb-1 block", style: { color: "#a1a1aa" }, children: "" }), i.jsx("input", { type: "email", value: a, onChange: j => A(j.target.value), className: "w-full rounded-lg px-4 py-3 outline-none focus:border-blue-500 transition-colors", style: { backgroundColor: "#1a1a1a", border: "1px solid #3f3f46", color: "#fafafa" }, placeholder: "email@example.com", required: !0 })] }), i.jsxs("div", { children: [i.jsx("label", { className: "text-sm mb-1 block", style: { color: "#a1a1aa" }, children: "" }), i.jsx("input", { type: "password", value: o, onChange: j => l(j.target.value), className: "w-full rounded-lg px-4 py-3 outline-none focus:border-blue-500 transition-colors", style: { backgroundColor: "#1a1a1a", border: "1px solid #3f3f46", color: "#fafafa" }, placeholder: "", required: !0, minLength: 6 })] }), p && i.jsx("div", { className: "bg-red-900/30 border border-red-700 rounded-lg p-3 text-sm text-red-300", children: p }), h && i.jsx("div", { className: "bg-emerald-900/30 border border-emerald-700 rounded-lg p-3 text-sm text-emerald-300", children: h }), i.jsx("button", { type: "submit", disabled: c, className: "w-full py-3 bg-blue-600 hover:bg-blue-500 disabled:bg-blue-600/50 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2", children: c ? i.jsx("span", { className: "animate-pulse", children: "..." }) : i.jsxs(i.Fragment, { children: [i.jsx(Bt, { name: n === "login" ? "login" : "user", size: 20 }), n === "login" ? "" : ""] }) })] }), i.jsx("div", { className: "mt-6 text-center", children: i.jsx("button", { onClick: () => { s(n === "login" ? "signup" : "login"), g(null), b(null) }, className: "text-blue-400 hover:text-blue-300 text-sm transition-colors", children: n === "login" ? "" : "" }) })] }) }) : i.jsx("div", { className: "min-h-screen flex items-center justify-center p-4", style: { backgroundColor: "#0a0a0a" }, children: i.jsxs("div", { className: "rounded-2xl p-8 w-full max-w-md text-center", style: { backgroundColor: "#141414", border: "1px solid #27272a" }, children: [i.jsx("div", { className: "w-16 h-16 bg-blue-600 rounded-2xl mx-auto mb-6 flex items-center justify-center", children: i.jsx(Bt, { name: "box", size: 32, className: "text-white" }) }), i.jsx("h1", { className: "text-2xl font-bold mb-2", style: { color: "#fafafa" }, children: "Life Dashboard" }), i.jsxs("p", { className: "mb-6", style: { color: "#a1a1aa" }, children: ["Supabase", i.jsx("br", {}), ""] }), i.jsxs("div", { className: "rounded-lg p-4 text-sm", style: { backgroundColor: "rgba(234, 179, 8, 0.1)", border: "1px solid #ca8a04", color: "#fde047" }, children: [i.jsx("p", { className: "font-bold mb-2", children: "" }), i.jsx("p", { children: "localStorage" })] })] }) }) } function zE({ activeTab: t, setActiveTab: e }) { const [r, n] = z.useState(!1), s = [{ id: "ai", label: "AI ", icon: "ai" }, { id: "shopping", label: "Shopping", icon: "shopping" }, { id: "tasks", label: "Tasks", icon: "tasks" }, { id: "finance", label: "Finance", icon: "finance" }, { id: "trade", label: "Trade", icon: "trade" }, { id: "twin", label: "Digital Twin", icon: "twin" }, { id: "calendar", label: "Schedule", icon: "calendar" }, { id: "roadmap", label: "Roadmap", icon: "roadmap" }, { id: "scripts", label: "Scripts", icon: "scripts" }, { id: "morning", label: "Morning Note", icon: "morning" }, { id: "diary", label: "Diary", icon: "diary" }, { id: "tracking", label: "Tracking", icon: "tracking" }, { id: "analytics", label: "Analytics", icon: "analytics" }, { id: "system", label: "Settings", icon: "system" }], a = [{ id: "ai", label: "", icon: "user", primary: !0 }, { id: "shopping", label: "", icon: "shopping" }, { id: "tasks", label: "", icon: "tasks" }, { id: "finance", label: "", icon: "finance" }, { id: "twin", label: "", icon: "twin" }], A = [{ id: "calendar", label: "", icon: "calendar" }, { id: "trade", label: "", icon: "trade" }, { id: "morning", label: "", icon: "morning" }, { id: "diary", label: "", icon: "diary" }, { id: "roadmap", label: "", icon: "roadmap" }, { id: "scripts", label: "", icon: "scripts" }, { id: "tracking", label: "", icon: "tracking" }, { id: "analytics", label: "", icon: "analytics" }, { id: "system", label: "", icon: "system" }]; return i.jsxs(i.Fragment, { children: [i.jsxs("div", { className: "hidden md:flex w-[72px] min-h-screen flex-col items-center py-5 fixed left-0 top-0 z-50 transition-theme", style: { backgroundColor: "var(--sidebar-bg)", borderRight: "1px solid var(--border-primary)" }, children: [i.jsx("div", { className: "w-10 h-10 rounded-xl flex items-center justify-center mb-6", style: { backgroundColor: "var(--accent-secondary)" }, children: i.jsx(Bt, { name: "box", className: "text-white", size: 20 }) }), i.jsx("nav", { className: "flex-1 flex flex-col items-center gap-1 w-full px-3", children: s.map(o => i.jsxs("button", { onClick: () => e(o.id), className: "w-full p-2.5 rounded-lg transition-all duration-200 group relative flex items-center justify-center", style: { backgroundColor: t === o.id ? "var(--sidebar-hover)" : "transparent", color: t === o.id ? "var(--accent-secondary)" : "var(--sidebar-text)" }, onMouseEnter: l => { t !== o.id && (l.currentTarget.style.backgroundColor = "var(--sidebar-hover)", l.currentTarget.style.color = "var(--text-primary)") }, onMouseLeave: l => { t !== o.id && (l.currentTarget.style.backgroundColor = "transparent", l.currentTarget.style.color = "var(--sidebar-text)") }, children: [i.jsx(Bt, { name: o.id, size: 20 }), t === o.id && i.jsx("span", { className: "absolute left-0 top-1/2 -translate-y-1/2 w-0.5 h-5 rounded-r", style: { backgroundColor: "var(--accent-secondary)" } }), i.jsx("span", { className: "absolute left-full ml-3 px-2.5 py-1.5 rounded-md text-xs font-medium opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity whitespace-nowrap z-50", style: { backgroundColor: "var(--bg-card)", color: "var(--text-primary)", border: "1px solid var(--border-primary)" }, children: o.label })] }, o.id)) })] }), i.jsxs("div", { className: "md:hidden fixed bottom-0 left-0 right-0 z-50", style: { backgroundColor: "var(--bg-card)", borderTop: "2px solid var(--border-primary)", paddingBottom: "env(safe-area-inset-bottom, 0px)" }, children: [r && i.jsxs(i.Fragment, { children: [i.jsx("div", { className: "fixed inset-0 bg-black/40 z-40", onClick: () => n(!1) }), i.jsxs("div", { className: "absolute bottom-full left-0 right-0 z-50 p-4 shadow-2xl rounded-t-2xl", style: { backgroundColor: "var(--bg-card)", borderTop: "2px solid var(--border-primary)" }, children: [i.jsxs("div", { className: "flex justify-between items-center mb-4", children: [i.jsx("span", { className: "font-bold text-lg", style: { color: "var(--text-primary)" }, children: "" }), i.jsx("button", { onClick: () => n(!1), className: "p-2 rounded-full", style: { backgroundColor: "var(--bg-tertiary)" }, children: i.jsx("svg", { className: "w-5 h-5", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: i.jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M6 18L18 6M6 6l12 12" }) }) })] }), i.jsx("div", { className: "grid grid-cols-4 gap-3", children: A.map(o => i.jsxs("button", { onClick: () => { e(o.id), n(!1) }, className: "flex flex-col items-center gap-2 p-3 rounded-xl transition-all", style: { backgroundColor: t === o.id ? "var(--accent-secondary)" : "var(--bg-tertiary)", color: t === o.id ? "white" : "var(--text-primary)" }, children: [i.jsx(Bt, { name: o.icon, size: 24 }), i.jsx("span", { className: "text-xs font-medium", children: o.label })] }, o.id)) })] })] }), i.jsxs("nav", { className: "flex items-center justify-around py-2", children: [a.map(o => i.jsxs("button", { onClick: () => { e(o.id), n(!1) }, className: "flex flex-col items-center justify-center transition-all", style: { minWidth: o.primary ? "56px" : "48px" }, children: [o.primary ? i.jsx("div", { className: `-mt-5 w-14 h-14 rounded-full flex items-center justify-center shadow-xl transition-transform ${t === o.id ? "scale-110" : ""}`, style: { background: t === o.id ? "linear-gradient(135deg, #06b6d4 0%, #0284c7 100%)" : "linear-gradient(135deg, #0ea5e9 0%, #0369a1 100%)", boxShadow: "0 4px 15px rgba(6, 182, 212, 0.4)" }, children: i.jsx(Bt, { name: "user", size: 28, className: "text-white" }) }) : i.jsx("div", { className: `w-10 h-10 rounded-xl flex items-center justify-center transition-all ${t === o.id ? "scale-105" : ""}`, style: { backgroundColor: t === o.id ? "var(--accent-secondary)" : "transparent", color: t === o.id ? "white" : "var(--text-secondary)" }, children: i.jsx(Bt, { name: o.icon, size: 22 }) }), o.label && i.jsx("span", { className: "text-[10px] font-semibold mt-1", style: { color: t === o.id ? o.primary ? "#0ea5e9" : "var(--accent-secondary)" : "var(--text-tertiary)" }, children: o.label })] }, o.id)), i.jsxs("button", { onClick: () => n(!r), className: "flex flex-col items-center justify-center", style: { minWidth: "48px" }, children: [i.jsx("div", { className: "w-10 h-10 rounded-xl flex items-center justify-center transition-all", style: { backgroundColor: r ? "var(--bg-tertiary)" : "transparent", color: r ? "var(--text-primary)" : "var(--text-secondary)" }, children: i.jsx("svg", { className: "w-6 h-6", fill: "none", stroke: "currentColor", viewBox: "0 0 24 24", children: i.jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 2, d: "M4 6h16M4 12h16M4 18h16" }) }) }), i.jsx("span", { className: "text-[10px] font-semibold mt-1", style: { color: "var(--text-tertiary)" }, children: "" })] })] })] })] }) } function qE({ title: t, tasks: e, goals: r, events: n, theme: s, setTheme: a }) { const { user: A, signOut: o, isSupabaseConfigured: l } = Ld(), c = e.filter(h => { const b = new Date().toISOString().split("T")[0]; return h.date === b }), d = c.filter(h => h.progress === 100).length, p = async () => { confirm("") && await o() }, g = () => { const h = s === "dark" ? "light" : "dark"; a(h), document.documentElement.setAttribute("data-theme", h), localStorage.setItem("theme", h) }; return i.jsxs("header", { className: "flex justify-between items-center mb-2 md:mb-6 pb-2 md:pb-4 transition-theme", style: { borderBottom: "1px solid var(--border-primary)" }, children: [i.jsx("div", { className: "flex items-center gap-2", children: i.jsx("h1", { className: "text-base md:text-xl font-semibold tracking-tight", style: { color: "var(--text-primary)" }, children: t }) }), i.jsxs("div", { className: "flex gap-1 md:gap-2 items-center", children: [i.jsxs("div", { className: "hidden md:flex items-center gap-2 px-3 py-1.5 rounded-lg transition-theme", style: { backgroundColor: "var(--bg-secondary)", border: "1px solid var(--border-primary)" }, children: [i.jsx("span", { className: "w-2 h-2 rounded-full", style: { backgroundColor: "var(--accent-secondary)" } }), i.jsxs("span", { className: "text-sm font-medium", style: { color: "var(--text-secondary)" }, children: [r.length, " Goals"] })] }), i.jsxs("div", { className: "hidden md:flex items-center gap-2 px-3 py-1.5 rounded-lg transition-theme", style: { backgroundColor: "var(--bg-secondary)", border: "1px solid var(--border-primary)" }, children: [i.jsx("span", { className: "w-2 h-2 rounded-full", style: { backgroundColor: "var(--accent-primary)" } }), i.jsxs("span", { className: "text-sm font-medium", style: { color: "var(--text-secondary)" }, children: [e.length, " Tasks"] })] }), i.jsx("div", { className: "flex items-center gap-1 md:gap-2 px-2 md:px-3 py-1 md:py-1.5 rounded-lg transition-theme", style: { backgroundColor: "var(--bg-secondary)", border: "1px solid var(--border-primary)" }, children: i.jsxs("span", { className: "text-xs md:text-sm font-medium", style: { color: "var(--text-secondary)" }, children: ["Today: ", d, "/", c.length] }) }), i.jsx("button", { onClick: g, className: "flex items-center justify-center w-7 h-7 md:w-9 md:h-9 rounded-lg transition-all", style: { backgroundColor: "var(--bg-secondary)", color: "var(--text-secondary)", border: "1px solid var(--border-primary)" }, onMouseEnter: h => { h.currentTarget.style.backgroundColor = "var(--bg-hover)", h.currentTarget.style.color = "var(--accent-secondary)" }, onMouseLeave: h => { h.currentTarget.style.backgroundColor = "var(--bg-secondary)", h.currentTarget.style.color = "var(--text-secondary)" }, title: s === "dark" ? "" : "", children: s === "dark" ? i.jsxs("svg", { width: "18", height: "18", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2", strokeLinecap: "round", strokeLinejoin: "round", children: [i.jsx("circle", { cx: "12", cy: "12", r: "5" }), i.jsx("line", { x1: "12", y1: "1", x2: "12", y2: "3" }), i.jsx("line", { x1: "12", y1: "21", x2: "12", y2: "23" }), i.jsx("line", { x1: "4.22", y1: "4.22", x2: "5.64", y2: "5.64" }), i.jsx("line", { x1: "18.36", y1: "18.36", x2: "19.78", y2: "19.78" }), i.jsx("line", { x1: "1", y1: "12", x2: "3", y2: "12" }), i.jsx("line", { x1: "21", y1: "12", x2: "23", y2: "12" }), i.jsx("line", { x1: "4.22", y1: "19.78", x2: "5.64", y2: "18.36" }), i.jsx("line", { x1: "18.36", y1: "5.64", x2: "19.78", y2: "4.22" })] }) : i.jsx("svg", { width: "18", height: "18", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: "2", strokeLinecap: "round", strokeLinejoin: "round", children: i.jsx("path", { d: "M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" }) }) }), l && A && A.id !== "local-user" && i.jsxs("button", { onClick: p, className: "hidden md:flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-all", style: { backgroundColor: "var(--bg-secondary)", color: "var(--text-secondary)", border: "1px solid var(--border-primary)" }, onMouseEnter: h => { h.currentTarget.style.backgroundColor = "var(--bg-hover)", h.currentTarget.style.color = "var(--accent-secondary)" }, onMouseLeave: h => { h.currentTarget.style.backgroundColor = "var(--bg-secondary)", h.currentTarget.style.color = "var(--text-secondary)" }, children: [i.jsx(Bt, { name: "logout", size: 16 }), ""] })] })] }) } const xh = [{ id: "calendar", name: "", icon: "calendar", items: [{ id: "event_reminder_1h", label: "1", default: !0 }, { id: "event_reminder_1d", label: "1", default: !0 }, { id: "event_reminder_1w", label: "1", default: !1 }, { id: "event_start", label: "", default: !0 }] }, { id: "tasks", name: "", icon: "tasks", items: [{ id: "task_due_1h", label: "1", default: !0 }, { id: "task_due_1d", label: "1", default: !0 }, { id: "task_due_overdue", label: "", default: !0 }, { id: "task_completed", label: "", default: !1 }] }, { id: "goals", name: "", icon: "target", items: [{ id: "goal_deadline_1w", label: "1", default: !0 }, { id: "goal_deadline_1d", label: "1", default: !0 }, { id: "goal_progress_50", label: "50%", default: !1 }, { id: "goal_completed", label: "", default: !0 }] }, { id: "finance", name: "", icon: "finance", items: [{ id: "finance_daily_summary", label: "", default: !1 }, { id: "finance_weekly_summary", label: "", default: !0 }, { id: "finance_monthly_summary", label: "", default: !0 }, { id: "finance_budget_alert", label: "", default: !0 }, { id: "finance_large_expense", label: "1", default: !0 }] }, { id: "shopping", name: "", icon: "shopping", items: [{ id: "shopping_reminder", label: "", default: !1 }, { id: "shopping_pending_items", label: "", default: !1 }] }, { id: "morning", name: "", icon: "morning", items: [{ id: "morning_reminder", label: "", default: !0, time: "06:00" }, { id: "morning_not_written", label: "", default: !1, time: "10:00" }] }, { id: "diary", name: "", icon: "diary", items: [{ id: "diary_reminder", label: "", default: !0, time: "21:00" }, { id: "diary_not_written", label: "", default: !1, time: "23:00" }] }, { id: "ai", name: "AI", icon: "ai", items: [{ id: "ai_daily_greeting", label: "", default: !1, time: "08:00" }, { id: "ai_daily_summary", label: "1", default: !0, time: "22:00" }, { id: "ai_weekly_insight", label: "", default: !0 }] }, { id: "twin", name: "", icon: "twin", items: [{ id: "twin_reflection_reminder", label: "", default: !1 }, { id: "twin_weekly_summary", label: "", default: !1 }] }, { id: "tracking", name: "", icon: "tracking", items: [{ id: "tracking_reminder", label: "", default: !1, time: "20:00" }, { id: "tracking_streak", label: "", default: !0 }] }, { id: "system", name: "", icon: "system", items: [{ id: "system_backup_reminder", label: "1", default: !1 }, { id: "system_update", label: "", default: !0 }] }]; function WE({ onClose: t }) { const [e, r] = z.useState({}), [n, s] = z.useState("default"), [a, A] = z.useState(["calendar", "tasks"]), [o, l] = z.useState(!0), [c, d] = z.useState({ enabled: !1, start: "22:00", end: "07:00" }); z.useEffect(() => { const E = localStorage.getItem("notification_settings"); if (E) { const T = JSON.parse(E); r(T.items || {}), l(T.globalEnabled !== !1), d(T.quietHours || { enabled: !1, start: "22:00", end: "07:00" }) } else { const T = {}; xh.forEach(U => { U.items.forEach(M => { T[M.id] = { enabled: M.default, time: M.time || null } }) }), r(T) } "Notification" in window && s(Notification.permission) }, []); const p = (E, T = o, U = c) => { const M = { items: E, globalEnabled: T, quietHours: U, updatedAt: new Date().toISOString() }; localStorage.setItem("notification_settings", JSON.stringify(M)) }, g = async () => { if ("Notification" in window) { const E = await Notification.requestPermission(); s(E), E === "granted" && new Notification("Life Dashboard", { body: "", icon: "/icon-192.png" }) } }, h = E => { var U; const T = { ...e, [E]: { ...e[E], enabled: !((U = e[E]) != null && U.enabled) } }; r(T), p(T) }, b = (E, T) => { const U = { ...e, [E]: { ...e[E], time: T } }; r(U), p(U) }, w = E => { A(T => T.includes(E) ? T.filter(U => U !== E) : [...T, E]) }, j = (E, T) => { const U = xh.find(G => G.id === E); if (!U) return; const M = { ...e }; U.items.forEach(G => { M[G.id] = { ...M[G.id], enabled: T } }), r(M), p(M) }, x = () => { const E = !o; l(E), p(e, E, c) }, y = E => { const T = { ...c, ...E }; d(T), p(e, o, T) }, B = E => { const T = xh.find(U => U.id === E); return T ? T.items.filter(U => { var M; return (M = e[U.id]) == null ? void 0 : M.enabled }).length : 0 }; return i.jsx("div", { className: "fixed inset-0 z-50 flex items-center justify-center p-4", style: { backgroundColor: "rgba(0,0,0,0.6)" }, children: i.jsxs("div", { className: "w-full max-w-2xl max-h-[90vh] overflow-hidden rounded-2xl shadow-2xl flex flex-col", style: { backgroundColor: "var(--bg-card)", border: "1px solid var(--border-primary)" }, children: [i.jsxs("div", { className: "flex items-center justify-between p-4 border-b", style: { borderColor: "var(--border-primary)" }, children: [i.jsxs("div", { className: "flex items-center gap-3", children: [i.jsx("div", { className: "w-10 h-10 rounded-xl flex items-center justify-center", style: { backgroundColor: "var(--accent-primary)" }, children: i.jsx(Bt, { name: "bell", size: 20, className: "text-white" }) }), i.jsxs("div", { children: [i.jsx("h2", { className: "text-lg font-bold", style: { color: "var(--text-primary)" }, children: "" }), i.jsx("p", { className: "text-xs", style: { color: "var(--text-tertiary)" }, children: "" })] })] }), i.jsx("button", { onClick: t, className: "p-2 rounded-lg transition-colors hover:bg-opacity-80", style: { backgroundColor: "var(--bg-tertiary)" }, children: i.jsx(Bt, { name: "x", size: 20, style: { color: "var(--text-secondary)" } }) })] }), i.jsxs("div", { className: "flex-1 overflow-y-auto p-4 space-y-4", children: [n !== "granted" && i.jsxs("div", { className: "p-4 rounded-xl flex items-center justify-between", style: { backgroundColor: "var(--bg-secondary)", border: "1px solid var(--border-primary)" }, children: [i.jsxs("div", { children: [i.jsx("p", { className: "font-medium", style: { color: "var(--text-primary)" }, children: "" }), i.jsx("p", { className: "text-sm", style: { color: "var(--text-tertiary)" }, children: "" })] }), i.jsx("button", { onClick: g, className: "px-4 py-2 rounded-lg font-medium text-white", style: { backgroundColor: "var(--accent-primary)" }, children: "" })] }), i.jsxs("div", { className: "p-4 rounded-xl", style: { backgroundColor: "var(--bg-secondary)", border: "1px solid var(--border-primary)" }, children: [i.jsxs("div", { className: "flex items-center justify-between mb-4", children: [i.jsxs("div", { children: [i.jsx("p", { className: "font-medium", style: { color: "var(--text-primary)" }, children: "" }), i.jsx("p", { className: "text-sm", style: { color: "var(--text-tertiary)" }, children: "/" })] }), i.jsx("button", { onClick: x, className: `w-14 h-8 rounded-full transition-colors relative ${o ? "bg-green-500" : "bg-gray-500"}`, children: i.jsx("span", { className: `absolute top-1 w-6 h-6 rounded-full bg-white shadow transition-transform ${o ? "right-1" : "left-1"}` }) })] }), i.jsxs("div", { className: "pt-4 border-t", style: { borderColor: "var(--border-primary)" }, children: [i.jsxs("div", { className: "flex items-center justify-between mb-3", children: [i.jsxs("div", { children: [i.jsx("p", { className: "font-medium", style: { color: "var(--text-primary)" }, children: "" }), i.jsx("p", { className: "text-sm", style: { color: "var(--text-tertiary)" }, children: "" })] }), i.jsx("button", { onClick: () => y({ enabled: !c.enabled }), className: `w-14 h-8 rounded-full transition-colors relative ${c.enabled ? "bg-purple-500" : "bg-gray-500"}`, children: i.jsx("span", { className: `absolute top-1 w-6 h-6 rounded-full bg-white shadow transition-transform ${c.enabled ? "right-1" : "left-1"}` }) })] }), c.enabled && i.jsxs("div", { className: "flex items-center gap-2 mt-2", children: [i.jsx("input", { type: "time", value: c.start, onChange: E => y({ start: E.target.value }), className: "px-3 py-2 rounded-lg text-sm", style: { backgroundColor: "var(--bg-tertiary)", color: "var(--text-primary)", border: "1px solid var(--border-primary)" } }), i.jsx("span", { style: { color: "var(--text-tertiary)" }, children: "" }), i.jsx("input", { type: "time", value: c.end, onChange: E => y({ end: E.target.value }), className: "px-3 py-2 rounded-lg text-sm", style: { backgroundColor: "var(--bg-tertiary)", color: "var(--text-primary)", border: "1px solid var(--border-primary)" } })] })] })] }), xh.map(E => { const T = a.includes(E.id), U = B(E.id), M = E.items.length; return i.jsxs("div", { className: "rounded-xl overflow-hidden", style: { backgroundColor: "var(--bg-secondary)", border: "1px solid var(--border-primary)" }, children: [i.jsxs("button", { onClick: () => w(E.id), className: "w-full p-4 flex items-center justify-between hover:bg-opacity-80 transition-colors", style: { backgroundColor: "var(--bg-secondary)" }, children: [i.jsxs("div", { className: "flex items-center gap-3", children: [i.jsx("div", { className: "w-8 h-8 rounded-lg flex items-center justify-center", style: { backgroundColor: "var(--bg-tertiary)" }, children: i.jsx(Bt, { name: E.icon, size: 18, style: { color: "var(--text-secondary)" } }) }), i.jsxs("div", { className: "text-left", children: [i.jsx("p", { className: "font-medium", style: { color: "var(--text-primary)" }, children: E.name }), i.jsxs("p", { className: "text-xs", style: { color: "var(--text-tertiary)" }, children: [U, "/", M, " "] })] })] }), i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsx("span", { className: `px-2 py-1 rounded-full text-xs font-medium ${U > 0 ? "bg-green-500/20 text-green-400" : "bg-gray-500/20 text-gray-400"}`, children: U > 0 ? "ON" : "OFF" }), i.jsx(Bt, { name: "chevronRight", size: 18, className: `transition-transform ${T ? "rotate-90" : ""}`, style: { color: "var(--text-tertiary)" } })] })] }), T && i.jsxs("div", { className: "border-t", style: { borderColor: "var(--border-primary)" }, children: [i.jsxs("div", { className: "p-3 flex gap-2 border-b", style: { borderColor: "var(--border-primary)", backgroundColor: "var(--bg-tertiary)" }, children: [i.jsx("button", { onClick: () => j(E.id, !0), className: "px-3 py-1 rounded-lg text-xs font-medium", style: { backgroundColor: "var(--bg-secondary)", color: "var(--text-secondary)", border: "1px solid var(--border-primary)" }, children: "ON" }), i.jsx("button", { onClick: () => j(E.id, !1), className: "px-3 py-1 rounded-lg text-xs font-medium", style: { backgroundColor: "var(--bg-secondary)", color: "var(--text-secondary)", border: "1px solid var(--border-primary)" }, children: "OFF" })] }), i.jsx("div", { className: "divide-y", style: { borderColor: "var(--border-primary)" }, children: E.items.map(G => { const N = e[G.id] || { enabled: G.default, time: G.time }; return i.jsxs("div", { className: "p-4 flex items-center justify-between", children: [i.jsxs("div", { className: "flex-1", children: [i.jsx("p", { className: "text-sm font-medium", style: { color: "var(--text-primary)" }, children: G.label }), G.time && N.enabled && i.jsxs("div", { className: "flex items-center gap-2 mt-2", children: [i.jsx("span", { className: "text-xs", style: { color: "var(--text-tertiary)" }, children: ":" }), i.jsx("input", { type: "time", value: N.time || G.time, onChange: H => b(G.id, H.target.value), className: "px-2 py-1 rounded text-xs", style: { backgroundColor: "var(--bg-tertiary)", color: "var(--text-primary)", border: "1px solid var(--border-primary)" } })] })] }), i.jsx("button", { onClick: () => h(G.id), className: `w-12 h-7 rounded-full transition-colors relative ${N.enabled ? "bg-green-500" : "bg-gray-500"}`, children: i.jsx("span", { className: `absolute top-0.5 w-6 h-6 rounded-full bg-white shadow transition-transform ${N.enabled ? "right-0.5" : "left-0.5"}` }) })] }, G.id) }) })] })] }, E.id) })] }), i.jsx("div", { className: "p-4 border-t flex justify-end gap-2", style: { borderColor: "var(--border-primary)" }, children: i.jsx("button", { onClick: t, className: "px-6 py-2 rounded-lg font-medium transition-colors", style: { backgroundColor: "var(--bg-tertiary)", color: "var(--text-primary)" }, children: "" }) })] }) }) }/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Nm = function (t, e) { return Nm = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (r, n) { r.__proto__ = n } || function (r, n) { for (var s in n) Object.prototype.hasOwnProperty.call(n, s) && (r[s] = n[s]) }, Nm(t, e) }; function fa(t, e) { if (typeof e != "function" && e !== null) throw new TypeError("Class extends value " + String(e) + " is not a constructor or null"); Nm(t, e); function r() { this.constructor = t } t.prototype = e === null ? Object.create(e) : (r.prototype = e.prototype, new r) } var Sm = function () { return Sm = Object.assign || function (e) { for (var r, n = 1, s = arguments.length; n < s; n++) { r = arguments[n]; for (var a in r) Object.prototype.hasOwnProperty.call(r, a) && (e[a] = r[a]) } return e }, Sm.apply(this, arguments) }; function Us(t, e, r, n) { function s(a) { return a instanceof r ? a : new r(function (A) { A(a) }) } return new (r || (r = Promise))(function (a, A) { function o(d) { try { c(n.next(d)) } catch (p) { A(p) } } function l(d) { try { c(n.throw(d)) } catch (p) { A(p) } } function c(d) { d.done ? a(d.value) : s(d.value).then(o, l) } c((n = n.apply(t, [])).next()) }) } function Cs(t, e) { var r = { label: 0, sent: function () { if (a[0] & 1) throw a[1]; return a[1] }, trys: [], ops: [] }, n, s, a, A; return A = { next: o(0), throw: o(1), return: o(2) }, typeof Symbol == "function" && (A[Symbol.iterator] = function () { return this }), A; function o(c) { return function (d) { return l([c, d]) } } function l(c) { if (n) throw new TypeError("Generator is already executing."); for (; r;)try { if (n = 1, s && (a = c[0] & 2 ? s.return : c[0] ? s.throw || ((a = s.return) && a.call(s), 0) : s.next) && !(a = a.call(s, c[1])).done) return a; switch (s = 0, a && (c = [c[0] & 2, a.value]), c[0]) { case 0: case 1: a = c; break; case 4: return r.label++, { value: c[1], done: !1 }; case 5: r.label++, s = c[1], c = [0]; continue; case 7: c = r.ops.pop(), r.trys.pop(); continue; default: if (a = r.trys, !(a = a.length > 0 && a[a.length - 1]) && (c[0] === 6 || c[0] === 2)) { r = 0; continue } if (c[0] === 3 && (!a || c[1] > a[0] && c[1] < a[3])) { r.label = c[1]; break } if (c[0] === 6 && r.label < a[1]) { r.label = a[1], a = c; break } if (a && r.label < a[2]) { r.label = a[2], r.ops.push(c); break } a[2] && r.ops.pop(), r.trys.pop(); continue }c = e.call(t, r) } catch (d) { c = [6, d], s = 0 } finally { n = a = 0 } if (c[0] & 5) throw c[1]; return { value: c[0] ? c[1] : void 0, done: !0 } } } function vh(t, e, r) { if (arguments.length === 2) for (var n = 0, s = e.length, a; n < s; n++)(a || !(n in e)) && (a || (a = Array.prototype.slice.call(e, 0, n)), a[n] = e[n]); return t.concat(a || e) } var BA = function () { function t(e, r, n, s) { this.left = e, this.top = r, this.width = n, this.height = s } return t.prototype.add = function (e, r, n, s) { return new t(this.left + e, this.top + r, this.width + n, this.height + s) }, t.fromClientRect = function (e, r) { return new t(r.left + e.windowBounds.left, r.top + e.windowBounds.top, r.width, r.height) }, t.fromDOMRectList = function (e, r) { var n = Array.from(r).find(function (s) { return s.width !== 0 }); return n ? new t(n.left + e.windowBounds.left, n.top + e.windowBounds.top, n.width, n.height) : t.EMPTY }, t.EMPTY = new t(0, 0, 0, 0), t }(), S0 = function (t, e) { return BA.fromClientRect(t, e.getBoundingClientRect()) }, JE = function (t) { var e = t.body, r = t.documentElement; if (!e || !r) throw new Error("Unable to get document size"); var n = Math.max(Math.max(e.scrollWidth, r.scrollWidth), Math.max(e.offsetWidth, r.offsetWidth), Math.max(e.clientWidth, r.clientWidth)), s = Math.max(Math.max(e.scrollHeight, r.scrollHeight), Math.max(e.offsetHeight, r.offsetHeight), Math.max(e.clientHeight, r.clientHeight)); return new BA(0, 0, n, s) }, j0 = function (t) { for (var e = [], r = 0, n = t.length; r < n;) { var s = t.charCodeAt(r++); if (s >= 55296 && s <= 56319 && r < n) { var a = t.charCodeAt(r++); (a & 64512) === 56320 ? e.push(((s & 1023) << 10) + (a & 1023) + 65536) : (e.push(s), r--) } else e.push(s) } return e }, _n = function () { for (var t = [], e = 0; e < arguments.length; e++)t[e] = arguments[e]; if (String.fromCodePoint) return String.fromCodePoint.apply(String, t); var r = t.length; if (!r) return ""; for (var n = [], s = -1, a = ""; ++s < r;) { var A = t[s]; A <= 65535 ? n.push(A) : (A -= 65536, n.push((A >> 10) + 55296, A % 1024 + 56320)), (s + 1 === r || n.length > 16384) && (a += String.fromCharCode.apply(String, n), n.length = 0) } return a }, gw = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", YE = typeof Uint8Array > "u" ? [] : new Uint8Array(256); for (var wh = 0; wh < gw.length; wh++)YE[gw.charCodeAt(wh)] = wh; var mw = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", ku = typeof Uint8Array > "u" ? [] : new Uint8Array(256); for (var yh = 0; yh < mw.length; yh++)ku[mw.charCodeAt(yh)] = yh; var XE = function (t) { var e = t.length * .75, r = t.length, n, s = 0, a, A, o, l; t[t.length - 1] === "=" && (e--, t[t.length - 2] === "=" && e--); var c = typeof ArrayBuffer < "u" && typeof Uint8Array < "u" && typeof Uint8Array.prototype.slice < "u" ? new ArrayBuffer(e) : new Array(e), d = Array.isArray(c) ? c : new Uint8Array(c); for (n = 0; n < r; n += 4)a = ku[t.charCodeAt(n)], A = ku[t.charCodeAt(n + 1)], o = ku[t.charCodeAt(n + 2)], l = ku[t.charCodeAt(n + 3)], d[s++] = a << 2 | A >> 4, d[s++] = (A & 15) << 4 | o >> 2, d[s++] = (o & 3) << 6 | l & 63; return c }, ZE = function (t) { for (var e = t.length, r = [], n = 0; n < e; n += 2)r.push(t[n + 1] << 8 | t[n]); return r }, eF = function (t) { for (var e = t.length, r = [], n = 0; n < e; n += 4)r.push(t[n + 3] << 24 | t[n + 2] << 16 | t[n + 1] << 8 | t[n]); return r }, ul = 5, i1 = 11, Up = 2, tF = i1 - ul, iB = 65536 >> ul, rF = 1 << ul, Ip = rF - 1, nF = 1024 >> ul, sF = iB + nF, iF = sF, aF = 32, AF = iF + aF, oF = 65536 >> i1, lF = 1 << tF, cF = lF - 1, xw = function (t, e, r) { return t.slice ? t.slice(e, r) : new Uint16Array(Array.prototype.slice.call(t, e, r)) }, uF = function (t, e, r) { return t.slice ? t.slice(e, r) : new Uint32Array(Array.prototype.slice.call(t, e, r)) }, dF = function (t, e) { var r = XE(t), n = Array.isArray(r) ? eF(r) : new Uint32Array(r), s = Array.isArray(r) ? ZE(r) : new Uint16Array(r), a = 24, A = xw(s, a / 2, n[4] / 2), o = n[5] === 2 ? xw(s, (a + n[4]) / 2) : uF(n, Math.ceil((a + n[4]) / 4)); return new hF(n[0], n[1], n[2], n[3], A, o) }, hF = function () { function t(e, r, n, s, a, A) { this.initialValue = e, this.errorValue = r, this.highStart = n, this.highValueIndex = s, this.index = a, this.data = A } return t.prototype.get = function (e) { var r; if (e >= 0) { if (e < 55296 || e > 56319 && e <= 65535) return r = this.index[e >> ul], r = (r << Up) + (e & Ip), this.data[r]; if (e <= 65535) return r = this.index[iB + (e - 55296 >> ul)], r = (r << Up) + (e & Ip), this.data[r]; if (e < this.highStart) return r = AF - oF + (e >> i1), r = this.index[r], r += e >> ul & cF, r = this.index[r], r = (r << Up) + (e & Ip), this.data[r]; if (e <= 1114111) return this.data[this.highValueIndex] } return this.errorValue }, t }(), vw = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", fF = typeof Uint8Array > "u" ? [] : new Uint8Array(256); for (var bh = 0; bh < vw.length; bh++)fF[vw.charCodeAt(bh)] = bh; var pF = "KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==", ww = 50, gF = 1, aB = 2, AB = 3, mF = 4, xF = 5, yw = 7, oB = 8, bw = 9, uo = 10, jm = 11, Bw = 12, Em = 13, vF = 14, Uu = 15, Fm = 16, Bh = 17, wu = 18, wF = 19, Cw = 20, _m = 21, yu = 22, Qp = 23, Wl = 24, Ai = 25, Iu = 26, Qu = 27, Jl = 28, yF = 29, rl = 30, bF = 31, Ch = 32, Nh = 33, km = 34, Um = 35, Im = 36, Nd = 37, Qm = 38, lf = 39, cf = 40, Tp = 41, lB = 42, BF = 43, CF = [9001, 65288], cB = "!", Cr = "", Sh = "", Tm = dF(pF), AA = [rl, Im], Lm = [gF, aB, AB, xF], uB = [uo, oB], Nw = [Qu, Iu], NF = Lm.concat(uB), Sw = [Qm, lf, cf, km, Um], SF = [Uu, Em], jF = function (t, e) { e === void 0 && (e = "strict"); var r = [], n = [], s = []; return t.forEach(function (a, A) { var o = Tm.get(a); if (o > ww ? (s.push(!0), o -= ww) : s.push(!1), ["normal", "auto", "loose"].indexOf(e) !== -1 && [8208, 8211, 12316, 12448].indexOf(a) !== -1) return n.push(A), r.push(Fm); if (o === mF || o === jm) { if (A === 0) return n.push(A), r.push(rl); var l = r[A - 1]; return NF.indexOf(l) === -1 ? (n.push(n[A - 1]), r.push(l)) : (n.push(A), r.push(rl)) } if (n.push(A), o === bF) return r.push(e === "strict" ? _m : Nd); if (o === lB || o === yF) return r.push(rl); if (o === BF) return a >= 131072 && a <= 196605 || a >= 196608 && a <= 262141 ? r.push(Nd) : r.push(rl); r.push(o) }), [n, r, s] }, Lp = function (t, e, r, n) { var s = n[r]; if (Array.isArray(t) ? t.indexOf(s) !== -1 : t === s) for (var a = r; a <= n.length;) { a++; var A = n[a]; if (A === e) return !0; if (A !== uo) break } if (s === uo) for (var a = r; a > 0;) { a--; var o = n[a]; if (Array.isArray(t) ? t.indexOf(o) !== -1 : t === o) for (var l = r; l <= n.length;) { l++; var A = n[l]; if (A === e) return !0; if (A !== uo) break } if (o !== uo) break } return !1 }, jw = function (t, e) { for (var r = t; r >= 0;) { var n = e[r]; if (n === uo) r--; else return n } return 0 }, EF = function (t, e, r, n, s) { if (r[n] === 0) return Cr; var a = n - 1; if (Array.isArray(s) && s[a] === !0) return Cr; var A = a - 1, o = a + 1, l = e[a], c = A >= 0 ? e[A] : 0, d = e[o]; if (l === aB && d === AB) return Cr; if (Lm.indexOf(l) !== -1) return cB; if (Lm.indexOf(d) !== -1 || uB.indexOf(d) !== -1) return Cr; if (jw(a, e) === oB) return Sh; if (Tm.get(t[a]) === jm || (l === Ch || l === Nh) && Tm.get(t[o]) === jm || l === yw || d === yw || l === bw || [uo, Em, Uu].indexOf(l) === -1 && d === bw || [Bh, wu, wF, Wl, Jl].indexOf(d) !== -1 || jw(a, e) === yu || Lp(Qp, yu, a, e) || Lp([Bh, wu], _m, a, e) || Lp(Bw, Bw, a, e)) return Cr; if (l === uo) return Sh; if (l === Qp || d === Qp) return Cr; if (d === Fm || l === Fm) return Sh; if ([Em, Uu, _m].indexOf(d) !== -1 || l === vF || c === Im && SF.indexOf(l) !== -1 || l === Jl && d === Im || d === Cw || AA.indexOf(d) !== -1 && l === Ai || AA.indexOf(l) !== -1 && d === Ai || l === Qu && [Nd, Ch, Nh].indexOf(d) !== -1 || [Nd, Ch, Nh].indexOf(l) !== -1 && d === Iu || AA.indexOf(l) !== -1 && Nw.indexOf(d) !== -1 || Nw.indexOf(l) !== -1 && AA.indexOf(d) !== -1 || [Qu, Iu].indexOf(l) !== -1 && (d === Ai || [yu, Uu].indexOf(d) !== -1 && e[o + 1] === Ai) || [yu, Uu].indexOf(l) !== -1 && d === Ai || l === Ai && [Ai, Jl, Wl].indexOf(d) !== -1) return Cr; if ([Ai, Jl, Wl, Bh, wu].indexOf(d) !== -1) for (var p = a; p >= 0;) { var g = e[p]; if (g === Ai) return Cr; if ([Jl, Wl].indexOf(g) !== -1) p--; else break } if ([Qu, Iu].indexOf(d) !== -1) for (var p = [Bh, wu].indexOf(l) !== -1 ? A : a; p >= 0;) { var g = e[p]; if (g === Ai) return Cr; if ([Jl, Wl].indexOf(g) !== -1) p--; else break } if (Qm === l && [Qm, lf, km, Um].indexOf(d) !== -1 || [lf, km].indexOf(l) !== -1 && [lf, cf].indexOf(d) !== -1 || [cf, Um].indexOf(l) !== -1 && d === cf || Sw.indexOf(l) !== -1 && [Cw, Iu].indexOf(d) !== -1 || Sw.indexOf(d) !== -1 && l === Qu || AA.indexOf(l) !== -1 && AA.indexOf(d) !== -1 || l === Wl && AA.indexOf(d) !== -1 || AA.concat(Ai).indexOf(l) !== -1 && d === yu && CF.indexOf(t[o]) === -1 || AA.concat(Ai).indexOf(d) !== -1 && l === wu) return Cr; if (l === Tp && d === Tp) { for (var h = r[a], b = 1; h > 0 && (h--, e[h] === Tp);)b++; if (b % 2 !== 0) return Cr } return l === Ch && d === Nh ? Cr : Sh }, FF = function (t, e) { e || (e = { lineBreak: "normal", wordBreak: "normal" }); var r = jF(t, e.lineBreak), n = r[0], s = r[1], a = r[2]; (e.wordBreak === "break-all" || e.wordBreak === "break-word") && (s = s.map(function (o) { return [Ai, rl, lB].indexOf(o) !== -1 ? Nd : o })); var A = e.wordBreak === "keep-all" ? a.map(function (o, l) { return o && t[l] >= 19968 && t[l] <= 40959 }) : void 0; return [n, s, A] }, _F = function () { function t(e, r, n, s) { this.codePoints = e, this.required = r === cB, this.start = n, this.end = s } return t.prototype.slice = function () { return _n.apply(void 0, this.codePoints.slice(this.start, this.end)) }, t }(), kF = function (t, e) { var r = j0(t), n = FF(r, e), s = n[0], a = n[1], A = n[2], o = r.length, l = 0, c = 0; return { next: function () { if (c >= o) return { done: !0, value: null }; for (var d = Cr; c < o && (d = EF(r, a, s, ++c, A)) === Cr;); if (d !== Cr || c === o) { var p = new _F(r, d, l, c); return l = c, { value: p, done: !1 } } return { done: !0, value: null } } } }, UF = 1, IF = 2, Od = 4, Ew = 8, Vf = 10, Fw = 47, Wu = 92, QF = 9, TF = 32, jh = 34, bu = 61, LF = 35, OF = 36, PF = 37, Eh = 39, Fh = 40, Bu = 41, DF = 95, Ks = 45, RF = 33, HF = 60, MF = 62, $F = 64, KF = 91, GF = 93, VF = 61, zF = 123, _h = 63, qF = 125, _w = 124, WF = 126, JF = 128, kw = 65533, Op = 42, ol = 43, YF = 44, XF = 58, ZF = 59, Sd = 46, e_ = 0, t_ = 8, r_ = 11, n_ = 14, s_ = 31, i_ = 127, La = -1, dB = 48, hB = 97, fB = 101, a_ = 102, A_ = 117, o_ = 122, pB = 65, gB = 69, mB = 70, l_ = 85, c_ = 90, Ns = function (t) { return t >= dB && t <= 57 }, u_ = function (t) { return t >= 55296 && t <= 57343 }, Yl = function (t) { return Ns(t) || t >= pB && t <= mB || t >= hB && t <= a_ }, d_ = function (t) { return t >= hB && t <= o_ }, h_ = function (t) { return t >= pB && t <= c_ }, f_ = function (t) { return d_(t) || h_(t) }, p_ = function (t) { return t >= JF }, kh = function (t) { return t === Vf || t === QF || t === TF }, zf = function (t) { return f_(t) || p_(t) || t === DF }, Uw = function (t) { return zf(t) || Ns(t) || t === Ks }, g_ = function (t) { return t >= e_ && t <= t_ || t === r_ || t >= n_ && t <= s_ || t === i_ }, io = function (t, e) { return t !== Wu ? !1 : e !== Vf }, Uh = function (t, e, r) { return t === Ks ? zf(e) || io(e, r) : zf(t) ? !0 : !!(t === Wu && io(t, e)) }, Pp = function (t, e, r) { return t === ol || t === Ks ? Ns(e) ? !0 : e === Sd && Ns(r) : Ns(t === Sd ? e : t) }, m_ = function (t) { var e = 0, r = 1; (t[e] === ol || t[e] === Ks) && (t[e] === Ks && (r = -1), e++); for (var n = []; Ns(t[e]);)n.push(t[e++]); var s = n.length ? parseInt(_n.apply(void 0, n), 10) : 0; t[e] === Sd && e++; for (var a = []; Ns(t[e]);)a.push(t[e++]); var A = a.length, o = A ? parseInt(_n.apply(void 0, a), 10) : 0; (t[e] === gB || t[e] === fB) && e++; var l = 1; (t[e] === ol || t[e] === Ks) && (t[e] === Ks && (l = -1), e++); for (var c = []; Ns(t[e]);)c.push(t[e++]); var d = c.length ? parseInt(_n.apply(void 0, c), 10) : 0; return r * (s + o * Math.pow(10, -A)) * Math.pow(10, l * d) }, x_ = { type: 2 }, v_ = { type: 3 }, w_ = { type: 4 }, y_ = { type: 13 }, b_ = { type: 8 }, B_ = { type: 21 }, C_ = { type: 9 }, N_ = { type: 10 }, S_ = { type: 11 }, j_ = { type: 12 }, E_ = { type: 14 }, Ih = { type: 23 }, F_ = { type: 1 }, __ = { type: 25 }, k_ = { type: 24 }, U_ = { type: 26 }, I_ = { type: 27 }, Q_ = { type: 28 }, T_ = { type: 29 }, L_ = { type: 31 }, Om = { type: 32 }, xB = function () { function t() { this._value = [] } return t.prototype.write = function (e) { this._value = this._value.concat(j0(e)) }, t.prototype.read = function () { for (var e = [], r = this.consumeToken(); r !== Om;)e.push(r), r = this.consumeToken(); return e }, t.prototype.consumeToken = function () { var e = this.consumeCodePoint(); switch (e) { case jh: return this.consumeStringToken(jh); case LF: var r = this.peekCodePoint(0), n = this.peekCodePoint(1), s = this.peekCodePoint(2); if (Uw(r) || io(n, s)) { var a = Uh(r, n, s) ? IF : UF, A = this.consumeName(); return { type: 5, value: A, flags: a } } break; case OF: if (this.peekCodePoint(0) === bu) return this.consumeCodePoint(), y_; break; case Eh: return this.consumeStringToken(Eh); case Fh: return x_; case Bu: return v_; case Op: if (this.peekCodePoint(0) === bu) return this.consumeCodePoint(), E_; break; case ol: if (Pp(e, this.peekCodePoint(0), this.peekCodePoint(1))) return this.reconsumeCodePoint(e), this.consumeNumericToken(); break; case YF: return w_; case Ks: var o = e, l = this.peekCodePoint(0), c = this.peekCodePoint(1); if (Pp(o, l, c)) return this.reconsumeCodePoint(e), this.consumeNumericToken(); if (Uh(o, l, c)) return this.reconsumeCodePoint(e), this.consumeIdentLikeToken(); if (l === Ks && c === MF) return this.consumeCodePoint(), this.consumeCodePoint(), k_; break; case Sd: if (Pp(e, this.peekCodePoint(0), this.peekCodePoint(1))) return this.reconsumeCodePoint(e), this.consumeNumericToken(); break; case Fw: if (this.peekCodePoint(0) === Op) for (this.consumeCodePoint(); ;) { var d = this.consumeCodePoint(); if (d === Op && (d = this.consumeCodePoint(), d === Fw)) return this.consumeToken(); if (d === La) return this.consumeToken() } break; case XF: return U_; case ZF: return I_; case HF: if (this.peekCodePoint(0) === RF && this.peekCodePoint(1) === Ks && this.peekCodePoint(2) === Ks) return this.consumeCodePoint(), this.consumeCodePoint(), __; break; case $F: var p = this.peekCodePoint(0), g = this.peekCodePoint(1), h = this.peekCodePoint(2); if (Uh(p, g, h)) { var A = this.consumeName(); return { type: 7, value: A } } break; case KF: return Q_; case Wu: if (io(e, this.peekCodePoint(0))) return this.reconsumeCodePoint(e), this.consumeIdentLikeToken(); break; case GF: return T_; case VF: if (this.peekCodePoint(0) === bu) return this.consumeCodePoint(), b_; break; case zF: return S_; case qF: return j_; case A_: case l_: var b = this.peekCodePoint(0), w = this.peekCodePoint(1); return b === ol && (Yl(w) || w === _h) && (this.consumeCodePoint(), this.consumeUnicodeRangeToken()), this.reconsumeCodePoint(e), this.consumeIdentLikeToken(); case _w: if (this.peekCodePoint(0) === bu) return this.consumeCodePoint(), C_; if (this.peekCodePoint(0) === _w) return this.consumeCodePoint(), B_; break; case WF: if (this.peekCodePoint(0) === bu) return this.consumeCodePoint(), N_; break; case La: return Om }return kh(e) ? (this.consumeWhiteSpace(), L_) : Ns(e) ? (this.reconsumeCodePoint(e), this.consumeNumericToken()) : zf(e) ? (this.reconsumeCodePoint(e), this.consumeIdentLikeToken()) : { type: 6, value: _n(e) } }, t.prototype.consumeCodePoint = function () { var e = this._value.shift(); return typeof e > "u" ? -1 : e }, t.prototype.reconsumeCodePoint = function (e) { this._value.unshift(e) }, t.prototype.peekCodePoint = function (e) { return e >= this._value.length ? -1 : this._value[e] }, t.prototype.consumeUnicodeRangeToken = function () { for (var e = [], r = this.consumeCodePoint(); Yl(r) && e.length < 6;)e.push(r), r = this.consumeCodePoint(); for (var n = !1; r === _h && e.length < 6;)e.push(r), r = this.consumeCodePoint(), n = !0; if (n) { var s = parseInt(_n.apply(void 0, e.map(function (l) { return l === _h ? dB : l })), 16), a = parseInt(_n.apply(void 0, e.map(function (l) { return l === _h ? mB : l })), 16); return { type: 30, start: s, end: a } } var A = parseInt(_n.apply(void 0, e), 16); if (this.peekCodePoint(0) === Ks && Yl(this.peekCodePoint(1))) { this.consumeCodePoint(), r = this.consumeCodePoint(); for (var o = []; Yl(r) && o.length < 6;)o.push(r), r = this.consumeCodePoint(); var a = parseInt(_n.apply(void 0, o), 16); return { type: 30, start: A, end: a } } else return { type: 30, start: A, end: A } }, t.prototype.consumeIdentLikeToken = function () { var e = this.consumeName(); return e.toLowerCase() === "url" && this.peekCodePoint(0) === Fh ? (this.consumeCodePoint(), this.consumeUrlToken()) : this.peekCodePoint(0) === Fh ? (this.consumeCodePoint(), { type: 19, value: e }) : { type: 20, value: e } }, t.prototype.consumeUrlToken = function () { var e = []; if (this.consumeWhiteSpace(), this.peekCodePoint(0) === La) return { type: 22, value: "" }; var r = this.peekCodePoint(0); if (r === Eh || r === jh) { var n = this.consumeStringToken(this.consumeCodePoint()); return n.type === 0 && (this.consumeWhiteSpace(), this.peekCodePoint(0) === La || this.peekCodePoint(0) === Bu) ? (this.consumeCodePoint(), { type: 22, value: n.value }) : (this.consumeBadUrlRemnants(), Ih) } for (; ;) { var s = this.consumeCodePoint(); if (s === La || s === Bu) return { type: 22, value: _n.apply(void 0, e) }; if (kh(s)) return this.consumeWhiteSpace(), this.peekCodePoint(0) === La || this.peekCodePoint(0) === Bu ? (this.consumeCodePoint(), { type: 22, value: _n.apply(void 0, e) }) : (this.consumeBadUrlRemnants(), Ih); if (s === jh || s === Eh || s === Fh || g_(s)) return this.consumeBadUrlRemnants(), Ih; if (s === Wu) if (io(s, this.peekCodePoint(0))) e.push(this.consumeEscapedCodePoint()); else return this.consumeBadUrlRemnants(), Ih; else e.push(s) } }, t.prototype.consumeWhiteSpace = function () { for (; kh(this.peekCodePoint(0));)this.consumeCodePoint() }, t.prototype.consumeBadUrlRemnants = function () { for (; ;) { var e = this.consumeCodePoint(); if (e === Bu || e === La) return; io(e, this.peekCodePoint(0)) && this.consumeEscapedCodePoint() } }, t.prototype.consumeStringSlice = function (e) { for (var r = 5e4, n = ""; e > 0;) { var s = Math.min(r, e); n += _n.apply(void 0, this._value.splice(0, s)), e -= s } return this._value.shift(), n }, t.prototype.consumeStringToken = function (e) { var r = "", n = 0; do { var s = this._value[n]; if (s === La || s === void 0 || s === e) return r += this.consumeStringSlice(n), { type: 0, value: r }; if (s === Vf) return this._value.splice(0, n), F_; if (s === Wu) { var a = this._value[n + 1]; a !== La && a !== void 0 && (a === Vf ? (r += this.consumeStringSlice(n), n = -1, this._value.shift()) : io(s, a) && (r += this.consumeStringSlice(n), r += _n(this.consumeEscapedCodePoint()), n = -1)) } n++ } while (!0) }, t.prototype.consumeNumber = function () { var e = [], r = Od, n = this.peekCodePoint(0); for ((n === ol || n === Ks) && e.push(this.consumeCodePoint()); Ns(this.peekCodePoint(0));)e.push(this.consumeCodePoint()); n = this.peekCodePoint(0); var s = this.peekCodePoint(1); if (n === Sd && Ns(s)) for (e.push(this.consumeCodePoint(), this.consumeCodePoint()), r = Ew; Ns(this.peekCodePoint(0));)e.push(this.consumeCodePoint()); n = this.peekCodePoint(0), s = this.peekCodePoint(1); var a = this.peekCodePoint(2); if ((n === gB || n === fB) && ((s === ol || s === Ks) && Ns(a) || Ns(s))) for (e.push(this.consumeCodePoint(), this.consumeCodePoint()), r = Ew; Ns(this.peekCodePoint(0));)e.push(this.consumeCodePoint()); return [m_(e), r] }, t.prototype.consumeNumericToken = function () { var e = this.consumeNumber(), r = e[0], n = e[1], s = this.peekCodePoint(0), a = this.peekCodePoint(1), A = this.peekCodePoint(2); if (Uh(s, a, A)) { var o = this.consumeName(); return { type: 15, number: r, flags: n, unit: o } } return s === PF ? (this.consumeCodePoint(), { type: 16, number: r, flags: n }) : { type: 17, number: r, flags: n } }, t.prototype.consumeEscapedCodePoint = function () { var e = this.consumeCodePoint(); if (Yl(e)) { for (var r = _n(e); Yl(this.peekCodePoint(0)) && r.length < 6;)r += _n(this.consumeCodePoint()); kh(this.peekCodePoint(0)) && this.consumeCodePoint(); var n = parseInt(r, 16); return n === 0 || u_(n) || n > 1114111 ? kw : n } return e === La ? kw : e }, t.prototype.consumeName = function () { for (var e = ""; ;) { var r = this.consumeCodePoint(); if (Uw(r)) e += _n(r); else if (io(r, this.peekCodePoint(0))) e += _n(this.consumeEscapedCodePoint()); else return this.reconsumeCodePoint(r), e } }, t }(), vB = function () { function t(e) { this._tokens = e } return t.create = function (e) { var r = new xB; return r.write(e), new t(r.read()) }, t.parseValue = function (e) { return t.create(e).parseComponentValue() }, t.parseValues = function (e) { return t.create(e).parseComponentValues() }, t.prototype.parseComponentValue = function () { for (var e = this.consumeToken(); e.type === 31;)e = this.consumeToken(); if (e.type === 32) throw new SyntaxError("Error parsing CSS component value, unexpected EOF"); this.reconsumeToken(e); var r = this.consumeComponentValue(); do e = this.consumeToken(); while (e.type === 31); if (e.type === 32) return r; throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one") }, t.prototype.parseComponentValues = function () { for (var e = []; ;) { var r = this.consumeComponentValue(); if (r.type === 32) return e; e.push(r), e.push() } }, t.prototype.consumeComponentValue = function () { var e = this.consumeToken(); switch (e.type) { case 11: case 28: case 2: return this.consumeSimpleBlock(e.type); case 19: return this.consumeFunction(e) }return e }, t.prototype.consumeSimpleBlock = function (e) { for (var r = { type: e, values: [] }, n = this.consumeToken(); ;) { if (n.type === 32 || P_(n, e)) return r; this.reconsumeToken(n), r.values.push(this.consumeComponentValue()), n = this.consumeToken() } }, t.prototype.consumeFunction = function (e) { for (var r = { name: e.value, values: [], type: 18 }; ;) { var n = this.consumeToken(); if (n.type === 32 || n.type === 3) return r; this.reconsumeToken(n), r.values.push(this.consumeComponentValue()) } }, t.prototype.consumeToken = function () { var e = this._tokens.shift(); return typeof e > "u" ? Om : e }, t.prototype.reconsumeToken = function (e) { this._tokens.unshift(e) }, t }(), Pd = function (t) { return t.type === 15 }, Yc = function (t) { return t.type === 17 }, Hr = function (t) { return t.type === 20 }, O_ = function (t) { return t.type === 0 }, Pm = function (t, e) { return Hr(t) && t.value === e }, wB = function (t) { return t.type !== 31 }, Gc = function (t) { return t.type !== 31 && t.type !== 4 }, Ka = function (t) { var e = [], r = []; return t.forEach(function (n) { if (n.type === 4) { if (r.length === 0) throw new Error("Error parsing function args, zero tokens for arg"); e.push(r), r = []; return } n.type !== 31 && r.push(n) }), r.length && e.push(r), e }, P_ = function (t, e) { return e === 11 && t.type === 12 || e === 28 && t.type === 29 ? !0 : e === 2 && t.type === 3 }, Eo = function (t) { return t.type === 17 || t.type === 15 }, Rn = function (t) { return t.type === 16 || Eo(t) }, yB = function (t) { return t.length > 1 ? [t[0], t[1]] : [t[0]] }, cs = { type: 17, number: 0, flags: Od }, a1 = { type: 16, number: 50, flags: Od }, ho = { type: 16, number: 100, flags: Od }, Tu = function (t, e, r) { var n = t[0], s = t[1]; return [Yr(n, e), Yr(typeof s < "u" ? s : n, r)] }, Yr = function (t, e) { if (t.type === 16) return t.number / 100 * e; if (Pd(t)) switch (t.unit) { case "rem": case "em": return 16 * t.number; case "px": default: return t.number }return t.number }, bB = "deg", BB = "grad", CB = "rad", NB = "turn", E0 = { name: "angle", parse: function (t, e) { if (e.type === 15) switch (e.unit) { case bB: return Math.PI * e.number / 180; case BB: return Math.PI / 200 * e.number; case CB: return e.number; case NB: return Math.PI * 2 * e.number }throw new Error("Unsupported angle type") } }, SB = function (t) { return t.type === 15 && (t.unit === bB || t.unit === BB || t.unit === CB || t.unit === NB) }, jB = function (t) { var e = t.filter(Hr).map(function (r) { return r.value }).join(" "); switch (e) { case "to bottom right": case "to right bottom": case "left top": case "top left": return [cs, cs]; case "to top": case "bottom": return Oi(0); case "to bottom left": case "to left bottom": case "right top": case "top right": return [cs, ho]; case "to right": case "left": return Oi(90); case "to top left": case "to left top": case "right bottom": case "bottom right": return [ho, ho]; case "to bottom": case "top": return Oi(180); case "to top right": case "to right top": case "left bottom": case "bottom left": return [ho, cs]; case "to left": case "right": return Oi(270) }return 0 }, Oi = function (t) { return Math.PI * t / 180 }, Co = { name: "color", parse: function (t, e) { if (e.type === 18) { var r = D_[e.name]; if (typeof r > "u") throw new Error('Attempting to parse an unsupported color function "' + e.name + '"'); return r(t, e.values) } if (e.type === 5) { if (e.value.length === 3) { var n = e.value.substring(0, 1), s = e.value.substring(1, 2), a = e.value.substring(2, 3); return fo(parseInt(n + n, 16), parseInt(s + s, 16), parseInt(a + a, 16), 1) } if (e.value.length === 4) { var n = e.value.substring(0, 1), s = e.value.substring(1, 2), a = e.value.substring(2, 3), A = e.value.substring(3, 4); return fo(parseInt(n + n, 16), parseInt(s + s, 16), parseInt(a + a, 16), parseInt(A + A, 16) / 255) } if (e.value.length === 6) { var n = e.value.substring(0, 2), s = e.value.substring(2, 4), a = e.value.substring(4, 6); return fo(parseInt(n, 16), parseInt(s, 16), parseInt(a, 16), 1) } if (e.value.length === 8) { var n = e.value.substring(0, 2), s = e.value.substring(2, 4), a = e.value.substring(4, 6), A = e.value.substring(6, 8); return fo(parseInt(n, 16), parseInt(s, 16), parseInt(a, 16), parseInt(A, 16) / 255) } } if (e.type === 20) { var o = xA[e.value.toUpperCase()]; if (typeof o < "u") return o } return xA.TRANSPARENT } }, No = function (t) { return (255 & t) === 0 }, Xn = function (t) { var e = 255 & t, r = 255 & t >> 8, n = 255 & t >> 16, s = 255 & t >> 24; return e < 255 ? "rgba(" + s + "," + n + "," + r + "," + e / 255 + ")" : "rgb(" + s + "," + n + "," + r + ")" }, fo = function (t, e, r, n) { return (t << 24 | e << 16 | r << 8 | Math.round(n * 255) << 0) >>> 0 }, Iw = function (t, e) { if (t.type === 17) return t.number; if (t.type === 16) { var r = e === 3 ? 1 : 255; return e === 3 ? t.number / 100 * r : Math.round(t.number / 100 * r) } return 0 }, Qw = function (t, e) { var r = e.filter(Gc); if (r.length === 3) { var n = r.map(Iw), s = n[0], a = n[1], A = n[2]; return fo(s, a, A, 1) } if (r.length === 4) { var o = r.map(Iw), s = o[0], a = o[1], A = o[2], l = o[3]; return fo(s, a, A, l) } return 0 }; function Dp(t, e, r) { return r < 0 && (r += 1), r >= 1 && (r -= 1), r < 1 / 6 ? (e - t) * r * 6 + t : r < 1 / 2 ? e : r < 2 / 3 ? (e - t) * 6 * (2 / 3 - r) + t : t } var Tw = function (t, e) { var r = e.filter(Gc), n = r[0], s = r[1], a = r[2], A = r[3], o = (n.type === 17 ? Oi(n.number) : E0.parse(t, n)) / (Math.PI * 2), l = Rn(s) ? s.number / 100 : 0, c = Rn(a) ? a.number / 100 : 0, d = typeof A < "u" && Rn(A) ? Yr(A, 1) : 1; if (l === 0) return fo(c * 255, c * 255, c * 255, 1); var p = c <= .5 ? c * (l + 1) : c + l - c * l, g = c * 2 - p, h = Dp(g, p, o + 1 / 3), b = Dp(g, p, o), w = Dp(g, p, o - 1 / 3); return fo(h * 255, b * 255, w * 255, d) }, D_ = { hsl: Tw, hsla: Tw, rgb: Qw, rgba: Qw }, Ju = function (t, e) { return Co.parse(t, vB.create(e).parseComponentValue()) }, xA = { ALICEBLUE: 4042850303, ANTIQUEWHITE: 4209760255, AQUA: 16777215, AQUAMARINE: 2147472639, AZURE: 4043309055, BEIGE: 4126530815, BISQUE: 4293182719, BLACK: 255, BLANCHEDALMOND: 4293643775, BLUE: 65535, BLUEVIOLET: 2318131967, BROWN: 2771004159, BURLYWOOD: 3736635391, CADETBLUE: 1604231423, CHARTREUSE: 2147418367, CHOCOLATE: 3530104575, CORAL: 4286533887, CORNFLOWERBLUE: 1687547391, CORNSILK: 4294499583, CRIMSON: 3692313855, CYAN: 16777215, DARKBLUE: 35839, DARKCYAN: 9145343, DARKGOLDENROD: 3095837695, DARKGRAY: 2846468607, DARKGREEN: 6553855, DARKGREY: 2846468607, DARKKHAKI: 3182914559, DARKMAGENTA: 2332068863, DARKOLIVEGREEN: 1433087999, DARKORANGE: 4287365375, DARKORCHID: 2570243327, DARKRED: 2332033279, DARKSALMON: 3918953215, DARKSEAGREEN: 2411499519, DARKSLATEBLUE: 1211993087, DARKSLATEGRAY: 793726975, DARKSLATEGREY: 793726975, DARKTURQUOISE: 13554175, DARKVIOLET: 2483082239, DEEPPINK: 4279538687, DEEPSKYBLUE: 12582911, DIMGRAY: 1768516095, DIMGREY: 1768516095, DODGERBLUE: 512819199, FIREBRICK: 2988581631, FLORALWHITE: 4294635775, FORESTGREEN: 579543807, FUCHSIA: 4278255615, GAINSBORO: 3705462015, GHOSTWHITE: 4177068031, GOLD: 4292280575, GOLDENROD: 3668254975, GRAY: 2155905279, GREEN: 8388863, GREENYELLOW: 2919182335, GREY: 2155905279, HONEYDEW: 4043305215, HOTPINK: 4285117695, INDIANRED: 3445382399, INDIGO: 1258324735, IVORY: 4294963455, KHAKI: 4041641215, LAVENDER: 3873897215, LAVENDERBLUSH: 4293981695, LAWNGREEN: 2096890111, LEMONCHIFFON: 4294626815, LIGHTBLUE: 2916673279, LIGHTCORAL: 4034953471, LIGHTCYAN: 3774873599, LIGHTGOLDENRODYELLOW: 4210742015, LIGHTGRAY: 3553874943, LIGHTGREEN: 2431553791, LIGHTGREY: 3553874943, LIGHTPINK: 4290167295, LIGHTSALMON: 4288707327, LIGHTSEAGREEN: 548580095, LIGHTSKYBLUE: 2278488831, LIGHTSLATEGRAY: 2005441023, LIGHTSLATEGREY: 2005441023, LIGHTSTEELBLUE: 2965692159, LIGHTYELLOW: 4294959359, LIME: 16711935, LIMEGREEN: 852308735, LINEN: 4210091775, MAGENTA: 4278255615, MAROON: 2147483903, MEDIUMAQUAMARINE: 1724754687, MEDIUMBLUE: 52735, MEDIUMORCHID: 3126187007, MEDIUMPURPLE: 2473647103, MEDIUMSEAGREEN: 1018393087, MEDIUMSLATEBLUE: 2070474495, MEDIUMSPRINGGREEN: 16423679, MEDIUMTURQUOISE: 1221709055, MEDIUMVIOLETRED: 3340076543, MIDNIGHTBLUE: 421097727, MINTCREAM: 4127193855, MISTYROSE: 4293190143, MOCCASIN: 4293178879, NAVAJOWHITE: 4292783615, NAVY: 33023, OLDLACE: 4260751103, OLIVE: 2155872511, OLIVEDRAB: 1804477439, ORANGE: 4289003775, ORANGERED: 4282712319, ORCHID: 3664828159, PALEGOLDENROD: 4008225535, PALEGREEN: 2566625535, PALETURQUOISE: 2951671551, PALEVIOLETRED: 3681588223, PAPAYAWHIP: 4293907967, PEACHPUFF: 4292524543, PERU: 3448061951, PINK: 4290825215, PLUM: 3718307327, POWDERBLUE: 2967529215, PURPLE: 2147516671, REBECCAPURPLE: 1714657791, RED: 4278190335, ROSYBROWN: 3163525119, ROYALBLUE: 1097458175, SADDLEBROWN: 2336560127, SALMON: 4202722047, SANDYBROWN: 4104413439, SEAGREEN: 780883967, SEASHELL: 4294307583, SIENNA: 2689740287, SILVER: 3233857791, SKYBLUE: 2278484991, SLATEBLUE: 1784335871, SLATEGRAY: 1887473919, SLATEGREY: 1887473919, SNOW: 4294638335, SPRINGGREEN: 16744447, STEELBLUE: 1182971135, TAN: 3535047935, TEAL: 8421631, THISTLE: 3636451583, TOMATO: 4284696575, TRANSPARENT: 0, TURQUOISE: 1088475391, VIOLET: 4001558271, WHEAT: 4125012991, WHITE: 4294967295, WHITESMOKE: 4126537215, YELLOW: 4294902015, YELLOWGREEN: 2597139199 }, R_ = { name: "background-clip", initialValue: "border-box", prefix: !1, type: 1, parse: function (t, e) { return e.map(function (r) { if (Hr(r)) switch (r.value) { case "padding-box": return 1; case "content-box": return 2 }return 0 }) } }, H_ = { name: "background-color", initialValue: "transparent", prefix: !1, type: 3, format: "color" }, F0 = function (t, e) { var r = Co.parse(t, e[0]), n = e[1]; return n && Rn(n) ? { color: r, stop: n } : { color: r, stop: null } }, Lw = function (t, e) { var r = t[0], n = t[t.length - 1]; r.stop === null && (r.stop = cs), n.stop === null && (n.stop = ho); for (var s = [], a = 0, A = 0; A < t.length; A++) { var o = t[A].stop; if (o !== null) { var l = Yr(o, e); l > a ? s.push(l) : s.push(a), a = l } else s.push(null) } for (var c = null, A = 0; A < s.length; A++) { var d = s[A]; if (d === null) c === null && (c = A); else if (c !== null) { for (var p = A - c, g = s[c - 1], h = (d - g) / (p + 1), b = 1; b <= p; b++)s[c + b - 1] = h * b; c = null } } return t.map(function (w, j) { var x = w.color; return { color: x, stop: Math.max(Math.min(1, s[j] / e), 0) } }) }, M_ = function (t, e, r) { var n = e / 2, s = r / 2, a = Yr(t[0], e) - n, A = s - Yr(t[1], r); return (Math.atan2(A, a) + Math.PI * 2) % (Math.PI * 2) }, $_ = function (t, e, r) { var n = typeof t == "number" ? t : M_(t, e, r), s = Math.abs(e * Math.sin(n)) + Math.abs(r * Math.cos(n)), a = e / 2, A = r / 2, o = s / 2, l = Math.sin(n - Math.PI / 2) * o, c = Math.cos(n - Math.PI / 2) * o; return [s, a - c, a + c, A - l, A + l] }, sa = function (t, e) { return Math.sqrt(t * t + e * e) }, Ow = function (t, e, r, n, s) { var a = [[0, 0], [0, e], [t, 0], [t, e]]; return a.reduce(function (A, o) { var l = o[0], c = o[1], d = sa(r - l, n - c); return (s ? d < A.optimumDistance : d > A.optimumDistance) ? { optimumCorner: o, optimumDistance: d } : A }, { optimumDistance: s ? 1 / 0 : -1 / 0, optimumCorner: null }).optimumCorner }, K_ = function (t, e, r, n, s) { var a = 0, A = 0; switch (t.size) { case 0: t.shape === 0 ? a = A = Math.min(Math.abs(e), Math.abs(e - n), Math.abs(r), Math.abs(r - s)) : t.shape === 1 && (a = Math.min(Math.abs(e), Math.abs(e - n)), A = Math.min(Math.abs(r), Math.abs(r - s))); break; case 2: if (t.shape === 0) a = A = Math.min(sa(e, r), sa(e, r - s), sa(e - n, r), sa(e - n, r - s)); else if (t.shape === 1) { var o = Math.min(Math.abs(r), Math.abs(r - s)) / Math.min(Math.abs(e), Math.abs(e - n)), l = Ow(n, s, e, r, !0), c = l[0], d = l[1]; a = sa(c - e, (d - r) / o), A = o * a } break; case 1: t.shape === 0 ? a = A = Math.max(Math.abs(e), Math.abs(e - n), Math.abs(r), Math.abs(r - s)) : t.shape === 1 && (a = Math.max(Math.abs(e), Math.abs(e - n)), A = Math.max(Math.abs(r), Math.abs(r - s))); break; case 3: if (t.shape === 0) a = A = Math.max(sa(e, r), sa(e, r - s), sa(e - n, r), sa(e - n, r - s)); else if (t.shape === 1) { var o = Math.max(Math.abs(r), Math.abs(r - s)) / Math.max(Math.abs(e), Math.abs(e - n)), p = Ow(n, s, e, r, !1), c = p[0], d = p[1]; a = sa(c - e, (d - r) / o), A = o * a } break }return Array.isArray(t.size) && (a = Yr(t.size[0], n), A = t.size.length === 2 ? Yr(t.size[1], s) : a), [a, A] }, G_ = function (t, e) { var r = Oi(180), n = []; return Ka(e).forEach(function (s, a) { if (a === 0) { var A = s[0]; if (A.type === 20 && A.value === "to") { r = jB(s); return } else if (SB(A)) { r = E0.parse(t, A); return } } var o = F0(t, s); n.push(o) }), { angle: r, stops: n, type: 1 } }, Qh = function (t, e) { var r = Oi(180), n = []; return Ka(e).forEach(function (s, a) { if (a === 0) { var A = s[0]; if (A.type === 20 && ["top", "left", "right", "bottom"].indexOf(A.value) !== -1) { r = jB(s); return } else if (SB(A)) { r = (E0.parse(t, A) + Oi(270)) % Oi(360); return } } var o = F0(t, s); n.push(o) }), { angle: r, stops: n, type: 1 } }, V_ = function (t, e) { var r = Oi(180), n = [], s = 1, a = 0, A = 3, o = []; return Ka(e).forEach(function (l, c) { var d = l[0]; if (c === 0) { if (Hr(d) && d.value === "linear") { s = 1; return } else if (Hr(d) && d.value === "radial") { s = 2; return } } if (d.type === 18) { if (d.name === "from") { var p = Co.parse(t, d.values[0]); n.push({ stop: cs, color: p }) } else if (d.name === "to") { var p = Co.parse(t, d.values[0]); n.push({ stop: ho, color: p }) } else if (d.name === "color-stop") { var g = d.values.filter(Gc); if (g.length === 2) { var p = Co.parse(t, g[1]), h = g[0]; Yc(h) && n.push({ stop: { type: 16, number: h.number * 100, flags: h.flags }, color: p }) } } } }), s === 1 ? { angle: (r + Oi(180)) % Oi(360), stops: n, type: s } : { size: A, shape: a, stops: n, position: o, type: s } }, EB = "closest-side", FB = "farthest-side", _B = "closest-corner", kB = "farthest-corner", UB = "circle", IB = "ellipse", QB = "cover", TB = "contain", z_ = function (t, e) { var r = 0, n = 3, s = [], a = []; return Ka(e).forEach(function (A, o) { var l = !0; if (o === 0) { var c = !1; l = A.reduce(function (p, g) { if (c) if (Hr(g)) switch (g.value) { case "center": return a.push(a1), p; case "top": case "left": return a.push(cs), p; case "right": case "bottom": return a.push(ho), p } else (Rn(g) || Eo(g)) && a.push(g); else if (Hr(g)) switch (g.value) { case UB: return r = 0, !1; case IB: return r = 1, !1; case "at": return c = !0, !1; case EB: return n = 0, !1; case QB: case FB: return n = 1, !1; case TB: case _B: return n = 2, !1; case kB: return n = 3, !1 } else if (Eo(g) || Rn(g)) return Array.isArray(n) || (n = []), n.push(g), !1; return p }, l) } if (l) { var d = F0(t, A); s.push(d) } }), { size: n, shape: r, stops: s, position: a, type: 2 } }, Th = function (t, e) { var r = 0, n = 3, s = [], a = []; return Ka(e).forEach(function (A, o) { var l = !0; if (o === 0 ? l = A.reduce(function (d, p) { if (Hr(p)) switch (p.value) { case "center": return a.push(a1), !1; case "top": case "left": return a.push(cs), !1; case "right": case "bottom": return a.push(ho), !1 } else if (Rn(p) || Eo(p)) return a.push(p), !1; return d }, l) : o === 1 && (l = A.reduce(function (d, p) { if (Hr(p)) switch (p.value) { case UB: return r = 0, !1; case IB: return r = 1, !1; case TB: case EB: return n = 0, !1; case FB: return n = 1, !1; case _B: return n = 2, !1; case QB: case kB: return n = 3, !1 } else if (Eo(p) || Rn(p)) return Array.isArray(n) || (n = []), n.push(p), !1; return d }, l)), l) { var c = F0(t, A); s.push(c) } }), { size: n, shape: r, stops: s, position: a, type: 2 } }, q_ = function (t) { return t.type === 1 }, W_ = function (t) { return t.type === 2 }, A1 = { name: "image", parse: function (t, e) { if (e.type === 22) { var r = { url: e.value, type: 0 }; return t.cache.addImage(e.value), r } if (e.type === 18) { var n = LB[e.name]; if (typeof n > "u") throw new Error('Attempting to parse an unsupported image function "' + e.name + '"'); return n(t, e.values) } throw new Error("Unsupported image type " + e.type) } }; function J_(t) { return !(t.type === 20 && t.value === "none") && (t.type !== 18 || !!LB[t.name]) } var LB = { "linear-gradient": G_, "-moz-linear-gradient": Qh, "-ms-linear-gradient": Qh, "-o-linear-gradient": Qh, "-webkit-linear-gradient": Qh, "radial-gradient": z_, "-moz-radial-gradient": Th, "-ms-radial-gradient": Th, "-o-radial-gradient": Th, "-webkit-radial-gradient": Th, "-webkit-gradient": V_ }, Y_ = { name: "background-image", initialValue: "none", type: 1, prefix: !1, parse: function (t, e) { if (e.length === 0) return []; var r = e[0]; return r.type === 20 && r.value === "none" ? [] : e.filter(function (n) { return Gc(n) && J_(n) }).map(function (n) { return A1.parse(t, n) }) } }, X_ = { name: "background-origin", initialValue: "border-box", prefix: !1, type: 1, parse: function (t, e) { return e.map(function (r) { if (Hr(r)) switch (r.value) { case "padding-box": return 1; case "content-box": return 2 }return 0 }) } }, Z_ = { name: "background-position", initialValue: "0% 0%", type: 1, prefix: !1, parse: function (t, e) { return Ka(e).map(function (r) { return r.filter(Rn) }).map(yB) } }, ek = { name: "background-repeat", initialValue: "repeat", prefix: !1, type: 1, parse: function (t, e) { return Ka(e).map(function (r) { return r.filter(Hr).map(function (n) { return n.value }).join(" ") }).map(tk) } }, tk = function (t) { switch (t) { case "no-repeat": return 1; case "repeat-x": case "repeat no-repeat": return 2; case "repeat-y": case "no-repeat repeat": return 3; case "repeat": default: return 0 } }, Ic; (function (t) { t.AUTO = "auto", t.CONTAIN = "contain", t.COVER = "cover" })(Ic || (Ic = {})); var rk = { name: "background-size", initialValue: "0", prefix: !1, type: 1, parse: function (t, e) { return Ka(e).map(function (r) { return r.filter(nk) }) } }, nk = function (t) { return Hr(t) || Rn(t) }, _0 = function (t) { return { name: "border-" + t + "-color", initialValue: "transparent", prefix: !1, type: 3, format: "color" } }, sk = _0("top"), ik = _0("right"), ak = _0("bottom"), Ak = _0("left"), k0 = function (t) { return { name: "border-radius-" + t, initialValue: "0 0", prefix: !1, type: 1, parse: function (e, r) { return yB(r.filter(Rn)) } } }, ok = k0("top-left"), lk = k0("top-right"), ck = k0("bottom-right"), uk = k0("bottom-left"), U0 = function (t) { return { name: "border-" + t + "-style", initialValue: "solid", prefix: !1, type: 2, parse: function (e, r) { switch (r) { case "none": return 0; case "dashed": return 2; case "dotted": return 3; case "double": return 4 }return 1 } } }, dk = U0("top"), hk = U0("right"), fk = U0("bottom"), pk = U0("left"), I0 = function (t) { return { name: "border-" + t + "-width", initialValue: "0", type: 0, prefix: !1, parse: function (e, r) { return Pd(r) ? r.number : 0 } } }, gk = I0("top"), mk = I0("right"), xk = I0("bottom"), vk = I0("left"), wk = { name: "color", initialValue: "transparent", prefix: !1, type: 3, format: "color" }, yk = { name: "direction", initialValue: "ltr", prefix: !1, type: 2, parse: function (t, e) { switch (e) { case "rtl": return 1; case "ltr": default: return 0 } } }, bk = { name: "display", initialValue: "inline-block", prefix: !1, type: 1, parse: function (t, e) { return e.filter(Hr).reduce(function (r, n) { return r | Bk(n.value) }, 0) } }, Bk = function (t) { switch (t) { case "block": case "-webkit-box": return 2; case "inline": return 4; case "run-in": return 8; case "flow": return 16; case "flow-root": return 32; case "table": return 64; case "flex": case "-webkit-flex": return 128; case "grid": case "-ms-grid": return 256; case "ruby": return 512; case "subgrid": return 1024; case "list-item": return 2048; case "table-row-group": return 4096; case "table-header-group": return 8192; case "table-footer-group": return 16384; case "table-row": return 32768; case "table-cell": return 65536; case "table-column-group": return 131072; case "table-column": return 262144; case "table-caption": return 524288; case "ruby-base": return 1048576; case "ruby-text": return 2097152; case "ruby-base-container": return 4194304; case "ruby-text-container": return 8388608; case "contents": return 16777216; case "inline-block": return 33554432; case "inline-list-item": return 67108864; case "inline-table": return 134217728; case "inline-flex": return 268435456; case "inline-grid": return 536870912 }return 0 }, Ck = { name: "float", initialValue: "none", prefix: !1, type: 2, parse: function (t, e) { switch (e) { case "left": return 1; case "right": return 2; case "inline-start": return 3; case "inline-end": return 4 }return 0 } }, Nk = { name: "letter-spacing", initialValue: "0", prefix: !1, type: 0, parse: function (t, e) { return e.type === 20 && e.value === "normal" ? 0 : e.type === 17 || e.type === 15 ? e.number : 0 } }, qf; (function (t) { t.NORMAL = "normal", t.STRICT = "strict" })(qf || (qf = {})); var Sk = { name: "line-break", initialValue: "normal", prefix: !1, type: 2, parse: function (t, e) { switch (e) { case "strict": return qf.STRICT; case "normal": default: return qf.NORMAL } } }, jk = { name: "line-height", initialValue: "normal", prefix: !1, type: 4 }, Pw = function (t, e) { return Hr(t) && t.value === "normal" ? 1.2 * e : t.type === 17 ? e * t.number : Rn(t) ? Yr(t, e) : e }, Ek = { name: "list-style-image", initialValue: "none", type: 0, prefix: !1, parse: function (t, e) { return e.type === 20 && e.value === "none" ? null : A1.parse(t, e) } }, Fk = { name: "list-style-position", initialValue: "outside", prefix: !1, type: 2, parse: function (t, e) { switch (e) { case "inside": return 0; case "outside": default: return 1 } } }, Dm = { name: "list-style-type", initialValue: "none", prefix: !1, type: 2, parse: function (t, e) { switch (e) { case "disc": return 0; case "circle": return 1; case "square": return 2; case "decimal": return 3; case "cjk-decimal": return 4; case "decimal-leading-zero": return 5; case "lower-roman": return 6; case "upper-roman": return 7; case "lower-greek": return 8; case "lower-alpha": return 9; case "upper-alpha": return 10; case "arabic-indic": return 11; case "armenian": return 12; case "bengali": return 13; case "cambodian": return 14; case "cjk-earthly-branch": return 15; case "cjk-heavenly-stem": return 16; case "cjk-ideographic": return 17; case "devanagari": return 18; case "ethiopic-numeric": return 19; case "georgian": return 20; case "gujarati": return 21; case "gurmukhi": return 22; case "hebrew": return 22; case "hiragana": return 23; case "hiragana-iroha": return 24; case "japanese-formal": return 25; case "japanese-informal": return 26; case "kannada": return 27; case "katakana": return 28; case "katakana-iroha": return 29; case "khmer": return 30; case "korean-hangul-formal": return 31; case "korean-hanja-formal": return 32; case "korean-hanja-informal": return 33; case "lao": return 34; case "lower-armenian": return 35; case "malayalam": return 36; case "mongolian": return 37; case "myanmar": return 38; case "oriya": return 39; case "persian": return 40; case "simp-chinese-formal": return 41; case "simp-chinese-informal": return 42; case "tamil": return 43; case "telugu": return 44; case "thai": return 45; case "tibetan": return 46; case "trad-chinese-formal": return 47; case "trad-chinese-informal": return 48; case "upper-armenian": return 49; case "disclosure-open": return 50; case "disclosure-closed": return 51; case "none": default: return -1 } } }, Q0 = function (t) { return { name: "margin-" + t, initialValue: "0", prefix: !1, type: 4 } }, _k = Q0("top"), kk = Q0("right"), Uk = Q0("bottom"), Ik = Q0("left"), Qk = { name: "overflow", initialValue: "visible", prefix: !1, type: 1, parse: function (t, e) { return e.filter(Hr).map(function (r) { switch (r.value) { case "hidden": return 1; case "scroll": return 2; case "clip": return 3; case "auto": return 4; case "visible": default: return 0 } }) } }, Tk = { name: "overflow-wrap", initialValue: "normal", prefix: !1, type: 2, parse: function (t, e) { switch (e) { case "break-word": return "break-word"; case "normal": default: return "normal" } } }, T0 = function (t) { return { name: "padding-" + t, initialValue: "0", prefix: !1, type: 3, format: "length-percentage" } }, Lk = T0("top"), Ok = T0("right"), Pk = T0("bottom"), Dk = T0("left"), Rk = { name: "text-align", initialValue: "left", prefix: !1, type: 2, parse: function (t, e) { switch (e) { case "right": return 2; case "center": case "justify": return 1; case "left": default: return 0 } } }, Hk = { name: "position", initialValue: "static", prefix: !1, type: 2, parse: function (t, e) { switch (e) { case "relative": return 1; case "absolute": return 2; case "fixed": return 3; case "sticky": return 4 }return 0 } }, Mk = { name: "text-shadow", initialValue: "none", type: 1, prefix: !1, parse: function (t, e) { return e.length === 1 && Pm(e[0], "none") ? [] : Ka(e).map(function (r) { for (var n = { color: xA.TRANSPARENT, offsetX: cs, offsetY: cs, blur: cs }, s = 0, a = 0; a < r.length; a++) { var A = r[a]; Eo(A) ? (s === 0 ? n.offsetX = A : s === 1 ? n.offsetY = A : n.blur = A, s++) : n.color = Co.parse(t, A) } return n }) } }, $k = { name: "text-transform", initialValue: "none", prefix: !1, type: 2, parse: function (t, e) { switch (e) { case "uppercase": return 2; case "lowercase": return 1; case "capitalize": return 3 }return 0 } }, Kk = { name: "transform", initialValue: "none", prefix: !0, type: 0, parse: function (t, e) { if (e.type === 20 && e.value === "none") return null; if (e.type === 18) { var r = zk[e.name]; if (typeof r > "u") throw new Error('Attempting to parse an unsupported transform function "' + e.name + '"'); return r(e.values) } return null } }, Gk = function (t) { var e = t.filter(function (r) { return r.type === 17 }).map(function (r) { return r.number }); return e.length === 6 ? e : null }, Vk = function (t) { var e = t.filter(function (l) { return l.type === 17 }).map(function (l) { return l.number }), r = e[0], n = e[1]; e[2], e[3]; var s = e[4], a = e[5]; e[6], e[7], e[8], e[9], e[10], e[11]; var A = e[12], o = e[13]; return e[14], e[15], e.length === 16 ? [r, n, s, a, A, o] : null }, zk = { matrix: Gk, matrix3d: Vk }, Dw = { type: 16, number: 50, flags: Od }, qk = [Dw, Dw], Wk = { name: "transform-origin", initialValue: "50% 50%", prefix: !0, type: 1, parse: function (t, e) { var r = e.filter(Rn); return r.length !== 2 ? qk : [r[0], r[1]] } }, Jk = { name: "visible", initialValue: "none", prefix: !1, type: 2, parse: function (t, e) { switch (e) { case "hidden": return 1; case "collapse": return 2; case "visible": default: return 0 } } }, Yu; (function (t) { t.NORMAL = "normal", t.BREAK_ALL = "break-all", t.KEEP_ALL = "keep-all" })(Yu || (Yu = {})); var Yk = { name: "word-break", initialValue: "normal", prefix: !1, type: 2, parse: function (t, e) { switch (e) { case "break-all": return Yu.BREAK_ALL; case "keep-all": return Yu.KEEP_ALL; case "normal": default: return Yu.NORMAL } } }, Xk = { name: "z-index", initialValue: "auto", prefix: !1, type: 0, parse: function (t, e) { if (e.type === 20) return { auto: !0, order: 0 }; if (Yc(e)) return { auto: !1, order: e.number }; throw new Error("Invalid z-index number parsed") } }, OB = { name: "time", parse: function (t, e) { if (e.type === 15) switch (e.unit.toLowerCase()) { case "s": return 1e3 * e.number; case "ms": return e.number }throw new Error("Unsupported time type") } }, Zk = { name: "opacity", initialValue: "1", type: 0, prefix: !1, parse: function (t, e) { return Yc(e) ? e.number : 1 } }, eU = { name: "text-decoration-color", initialValue: "transparent", prefix: !1, type: 3, format: "color" }, tU = { name: "text-decoration-line", initialValue: "none", prefix: !1, type: 1, parse: function (t, e) { return e.filter(Hr).map(function (r) { switch (r.value) { case "underline": return 1; case "overline": return 2; case "line-through": return 3; case "none": return 4 }return 0 }).filter(function (r) { return r !== 0 }) } }, rU = { name: "font-family", initialValue: "", prefix: !1, type: 1, parse: function (t, e) { var r = [], n = []; return e.forEach(function (s) { switch (s.type) { case 20: case 0: r.push(s.value); break; case 17: r.push(s.number.toString()); break; case 4: n.push(r.join(" ")), r.length = 0; break } }), r.length && n.push(r.join(" ")), n.map(function (s) { return s.indexOf(" ") === -1 ? s : "'" + s + "'" }) } }, nU = { name: "font-size", initialValue: "0", prefix: !1, type: 3, format: "length" }, sU = { name: "font-weight", initialValue: "normal", type: 0, prefix: !1, parse: function (t, e) { if (Yc(e)) return e.number; if (Hr(e)) switch (e.value) { case "bold": return 700; case "normal": default: return 400 }return 400 } }, iU = { name: "font-variant", initialValue: "none", type: 1, prefix: !1, parse: function (t, e) { return e.filter(Hr).map(function (r) { return r.value }) } }, aU = { name: "font-style", initialValue: "normal", prefix: !1, type: 2, parse: function (t, e) { switch (e) { case "oblique": return "oblique"; case "italic": return "italic"; case "normal": default: return "normal" } } }, qn = function (t, e) { return (t & e) !== 0 }, AU = { name: "content", initialValue: "none", type: 1, prefix: !1, parse: function (t, e) { if (e.length === 0) return []; var r = e[0]; return r.type === 20 && r.value === "none" ? [] : e } }, oU = { name: "counter-increment", initialValue: "none", prefix: !0, type: 1, parse: function (t, e) { if (e.length === 0) return null; var r = e[0]; if (r.type === 20 && r.value === "none") return null; for (var n = [], s = e.filter(wB), a = 0; a < s.length; a++) { var A = s[a], o = s[a + 1]; if (A.type === 20) { var l = o && Yc(o) ? o.number : 1; n.push({ counter: A.value, increment: l }) } } return n } }, lU = { name: "counter-reset", initialValue: "none", prefix: !0, type: 1, parse: function (t, e) { if (e.length === 0) return []; for (var r = [], n = e.filter(wB), s = 0; s < n.length; s++) { var a = n[s], A = n[s + 1]; if (Hr(a) && a.value !== "none") { var o = A && Yc(A) ? A.number : 0; r.push({ counter: a.value, reset: o }) } } return r } }, cU = { name: "duration", initialValue: "0s", prefix: !1, type: 1, parse: function (t, e) { return e.filter(Pd).map(function (r) { return OB.parse(t, r) }) } }, uU = { name: "quotes", initialValue: "none", prefix: !0, type: 1, parse: function (t, e) { if (e.length === 0) return null; var r = e[0]; if (r.type === 20 && r.value === "none") return null; var n = [], s = e.filter(O_); if (s.length % 2 !== 0) return null; for (var a = 0; a < s.length; a += 2) { var A = s[a].value, o = s[a + 1].value; n.push({ open: A, close: o }) } return n } }, Rw = function (t, e, r) { if (!t) return ""; var n = t[Math.min(e, t.length - 1)]; return n ? r ? n.open : n.close : "" }, dU = { name: "box-shadow", initialValue: "none", type: 1, prefix: !1, parse: function (t, e) { return e.length === 1 && Pm(e[0], "none") ? [] : Ka(e).map(function (r) { for (var n = { color: 255, offsetX: cs, offsetY: cs, blur: cs, spread: cs, inset: !1 }, s = 0, a = 0; a < r.length; a++) { var A = r[a]; Pm(A, "inset") ? n.inset = !0 : Eo(A) ? (s === 0 ? n.offsetX = A : s === 1 ? n.offsetY = A : s === 2 ? n.blur = A : n.spread = A, s++) : n.color = Co.parse(t, A) } return n }) } }, hU = { name: "paint-order", initialValue: "normal", prefix: !1, type: 1, parse: function (t, e) { var r = [0, 1, 2], n = []; return e.filter(Hr).forEach(function (s) { switch (s.value) { case "stroke": n.push(1); break; case "fill": n.push(0); break; case "markers": n.push(2); break } }), r.forEach(function (s) { n.indexOf(s) === -1 && n.push(s) }), n } }, fU = { name: "-webkit-text-stroke-color", initialValue: "currentcolor", prefix: !1, type: 3, format: "color" }, pU = { name: "-webkit-text-stroke-width", initialValue: "0", type: 0, prefix: !1, parse: function (t, e) { return Pd(e) ? e.number : 0 } }, gU = function () { function t(e, r) { var n, s; this.animationDuration = Dt(e, cU, r.animationDuration), this.backgroundClip = Dt(e, R_, r.backgroundClip), this.backgroundColor = Dt(e, H_, r.backgroundColor), this.backgroundImage = Dt(e, Y_, r.backgroundImage), this.backgroundOrigin = Dt(e, X_, r.backgroundOrigin), this.backgroundPosition = Dt(e, Z_, r.backgroundPosition), this.backgroundRepeat = Dt(e, ek, r.backgroundRepeat), this.backgroundSize = Dt(e, rk, r.backgroundSize), this.borderTopColor = Dt(e, sk, r.borderTopColor), this.borderRightColor = Dt(e, ik, r.borderRightColor), this.borderBottomColor = Dt(e, ak, r.borderBottomColor), this.borderLeftColor = Dt(e, Ak, r.borderLeftColor), this.borderTopLeftRadius = Dt(e, ok, r.borderTopLeftRadius), this.borderTopRightRadius = Dt(e, lk, r.borderTopRightRadius), this.borderBottomRightRadius = Dt(e, ck, r.borderBottomRightRadius), this.borderBottomLeftRadius = Dt(e, uk, r.borderBottomLeftRadius), this.borderTopStyle = Dt(e, dk, r.borderTopStyle), this.borderRightStyle = Dt(e, hk, r.borderRightStyle), this.borderBottomStyle = Dt(e, fk, r.borderBottomStyle), this.borderLeftStyle = Dt(e, pk, r.borderLeftStyle), this.borderTopWidth = Dt(e, gk, r.borderTopWidth), this.borderRightWidth = Dt(e, mk, r.borderRightWidth), this.borderBottomWidth = Dt(e, xk, r.borderBottomWidth), this.borderLeftWidth = Dt(e, vk, r.borderLeftWidth), this.boxShadow = Dt(e, dU, r.boxShadow), this.color = Dt(e, wk, r.color), this.direction = Dt(e, yk, r.direction), this.display = Dt(e, bk, r.display), this.float = Dt(e, Ck, r.cssFloat), this.fontFamily = Dt(e, rU, r.fontFamily), this.fontSize = Dt(e, nU, r.fontSize), this.fontStyle = Dt(e, aU, r.fontStyle), this.fontVariant = Dt(e, iU, r.fontVariant), this.fontWeight = Dt(e, sU, r.fontWeight), this.letterSpacing = Dt(e, Nk, r.letterSpacing), this.lineBreak = Dt(e, Sk, r.lineBreak), this.lineHeight = Dt(e, jk, r.lineHeight), this.listStyleImage = Dt(e, Ek, r.listStyleImage), this.listStylePosition = Dt(e, Fk, r.listStylePosition), this.listStyleType = Dt(e, Dm, r.listStyleType), this.marginTop = Dt(e, _k, r.marginTop), this.marginRight = Dt(e, kk, r.marginRight), this.marginBottom = Dt(e, Uk, r.marginBottom), this.marginLeft = Dt(e, Ik, r.marginLeft), this.opacity = Dt(e, Zk, r.opacity); var a = Dt(e, Qk, r.overflow); this.overflowX = a[0], this.overflowY = a[a.length > 1 ? 1 : 0], this.overflowWrap = Dt(e, Tk, r.overflowWrap), this.paddingTop = Dt(e, Lk, r.paddingTop), this.paddingRight = Dt(e, Ok, r.paddingRight), this.paddingBottom = Dt(e, Pk, r.paddingBottom), this.paddingLeft = Dt(e, Dk, r.paddingLeft), this.paintOrder = Dt(e, hU, r.paintOrder), this.position = Dt(e, Hk, r.position), this.textAlign = Dt(e, Rk, r.textAlign), this.textDecorationColor = Dt(e, eU, (n = r.textDecorationColor) !== null && n !== void 0 ? n : r.color), this.textDecorationLine = Dt(e, tU, (s = r.textDecorationLine) !== null && s !== void 0 ? s : r.textDecoration), this.textShadow = Dt(e, Mk, r.textShadow), this.textTransform = Dt(e, $k, r.textTransform), this.transform = Dt(e, Kk, r.transform), this.transformOrigin = Dt(e, Wk, r.transformOrigin), this.visibility = Dt(e, Jk, r.visibility), this.webkitTextStrokeColor = Dt(e, fU, r.webkitTextStrokeColor), this.webkitTextStrokeWidth = Dt(e, pU, r.webkitTextStrokeWidth), this.wordBreak = Dt(e, Yk, r.wordBreak), this.zIndex = Dt(e, Xk, r.zIndex) } return t.prototype.isVisible = function () { return this.display > 0 && this.opacity > 0 && this.visibility === 0 }, t.prototype.isTransparent = function () { return No(this.backgroundColor) }, t.prototype.isTransformed = function () { return this.transform !== null }, t.prototype.isPositioned = function () { return this.position !== 0 }, t.prototype.isPositionedWithZIndex = function () { return this.isPositioned() && !this.zIndex.auto }, t.prototype.isFloating = function () { return this.float !== 0 }, t.prototype.isInlineLevel = function () { return qn(this.display, 4) || qn(this.display, 33554432) || qn(this.display, 268435456) || qn(this.display, 536870912) || qn(this.display, 67108864) || qn(this.display, 134217728) }, t }(), mU = function () { function t(e, r) { this.content = Dt(e, AU, r.content), this.quotes = Dt(e, uU, r.quotes) } return t }(), Hw = function () { function t(e, r) { this.counterIncrement = Dt(e, oU, r.counterIncrement), this.counterReset = Dt(e, lU, r.counterReset) } return t }(), Dt = function (t, e, r) { var n = new xB, s = r !== null && typeof r < "u" ? r.toString() : e.initialValue; n.write(s); var a = new vB(n.read()); switch (e.type) { case 2: var A = a.parseComponentValue(); return e.parse(t, Hr(A) ? A.value : e.initialValue); case 0: return e.parse(t, a.parseComponentValue()); case 1: return e.parse(t, a.parseComponentValues()); case 4: return a.parseComponentValue(); case 3: switch (e.format) { case "angle": return E0.parse(t, a.parseComponentValue()); case "color": return Co.parse(t, a.parseComponentValue()); case "image": return A1.parse(t, a.parseComponentValue()); case "length": var o = a.parseComponentValue(); return Eo(o) ? o : cs; case "length-percentage": var l = a.parseComponentValue(); return Rn(l) ? l : cs; case "time": return OB.parse(t, a.parseComponentValue()) }break } }, xU = "data-html2canvas-debug", vU = function (t) { var e = t.getAttribute(xU); switch (e) { case "all": return 1; case "clone": return 2; case "parse": return 3; case "render": return 4; default: return 0 } }, Rm = function (t, e) { var r = vU(t); return r === 1 || e === r }, Ga = function () { function t(e, r) { if (this.context = e, this.textNodes = [], this.elements = [], this.flags = 0, Rm(r, 3)) debugger; this.styles = new gU(e, window.getComputedStyle(r, null)), $m(r) && (this.styles.animationDuration.some(function (n) { return n > 0 }) && (r.style.animationDuration = "0s"), this.styles.transform !== null && (r.style.transform = "none")), this.bounds = S0(this.context, r), Rm(r, 4) && (this.flags |= 16) } return t }(), wU = "AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=", Mw = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", Lu = typeof Uint8Array > "u" ? [] : new Uint8Array(256); for (var Lh = 0; Lh < Mw.length; Lh++)Lu[Mw.charCodeAt(Lh)] = Lh; var yU = function (t) { var e = t.length * .75, r = t.length, n, s = 0, a, A, o, l; t[t.length - 1] === "=" && (e--, t[t.length - 2] === "=" && e--); var c = typeof ArrayBuffer < "u" && typeof Uint8Array < "u" && typeof Uint8Array.prototype.slice < "u" ? new ArrayBuffer(e) : new Array(e), d = Array.isArray(c) ? c : new Uint8Array(c); for (n = 0; n < r; n += 4)a = Lu[t.charCodeAt(n)], A = Lu[t.charCodeAt(n + 1)], o = Lu[t.charCodeAt(n + 2)], l = Lu[t.charCodeAt(n + 3)], d[s++] = a << 2 | A >> 4, d[s++] = (A & 15) << 4 | o >> 2, d[s++] = (o & 3) << 6 | l & 63; return c }, bU = function (t) { for (var e = t.length, r = [], n = 0; n < e; n += 2)r.push(t[n + 1] << 8 | t[n]); return r }, BU = function (t) { for (var e = t.length, r = [], n = 0; n < e; n += 4)r.push(t[n + 3] << 24 | t[n + 2] << 16 | t[n + 1] << 8 | t[n]); return r }, dl = 5, o1 = 11, Rp = 2, CU = o1 - dl, PB = 65536 >> dl, NU = 1 << dl, Hp = NU - 1, SU = 1024 >> dl, jU = PB + SU, EU = jU, FU = 32, _U = EU + FU, kU = 65536 >> o1, UU = 1 << CU, IU = UU - 1, $w = function (t, e, r) { return t.slice ? t.slice(e, r) : new Uint16Array(Array.prototype.slice.call(t, e, r)) }, QU = function (t, e, r) { return t.slice ? t.slice(e, r) : new Uint32Array(Array.prototype.slice.call(t, e, r)) }, TU = function (t, e) { var r = yU(t), n = Array.isArray(r) ? BU(r) : new Uint32Array(r), s = Array.isArray(r) ? bU(r) : new Uint16Array(r), a = 24, A = $w(s, a / 2, n[4] / 2), o = n[5] === 2 ? $w(s, (a + n[4]) / 2) : QU(n, Math.ceil((a + n[4]) / 4)); return new LU(n[0], n[1], n[2], n[3], A, o) }, LU = function () { function t(e, r, n, s, a, A) { this.initialValue = e, this.errorValue = r, this.highStart = n, this.highValueIndex = s, this.index = a, this.data = A } return t.prototype.get = function (e) { var r; if (e >= 0) { if (e < 55296 || e > 56319 && e <= 65535) return r = this.index[e >> dl], r = (r << Rp) + (e & Hp), this.data[r]; if (e <= 65535) return r = this.index[PB + (e - 55296 >> dl)], r = (r << Rp) + (e & Hp), this.data[r]; if (e < this.highStart) return r = _U - kU + (e >> o1), r = this.index[r], r += e >> dl & IU, r = this.index[r], r = (r << Rp) + (e & Hp), this.data[r]; if (e <= 1114111) return this.data[this.highValueIndex] } return this.errorValue }, t }(), Kw = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", OU = typeof Uint8Array > "u" ? [] : new Uint8Array(256); for (var Oh = 0; Oh < Kw.length; Oh++)OU[Kw.charCodeAt(Oh)] = Oh; var PU = 1, Mp = 2, $p = 3, Gw = 4, Vw = 5, DU = 7, zw = 8, Kp = 9, Gp = 10, qw = 11, Ww = 12, Jw = 13, Yw = 14, Vp = 15, RU = function (t) { for (var e = [], r = 0, n = t.length; r < n;) { var s = t.charCodeAt(r++); if (s >= 55296 && s <= 56319 && r < n) { var a = t.charCodeAt(r++); (a & 64512) === 56320 ? e.push(((s & 1023) << 10) + (a & 1023) + 65536) : (e.push(s), r--) } else e.push(s) } return e }, HU = function () { for (var t = [], e = 0; e < arguments.length; e++)t[e] = arguments[e]; if (String.fromCodePoint) return String.fromCodePoint.apply(String, t); var r = t.length; if (!r) return ""; for (var n = [], s = -1, a = ""; ++s < r;) { var A = t[s]; A <= 65535 ? n.push(A) : (A -= 65536, n.push((A >> 10) + 55296, A % 1024 + 56320)), (s + 1 === r || n.length > 16384) && (a += String.fromCharCode.apply(String, n), n.length = 0) } return a }, MU = TU(wU), Ui = "", zp = "", $U = function (t) { return MU.get(t) }, KU = function (t, e, r) { var n = r - 2, s = e[n], a = e[r - 1], A = e[r]; if (a === Mp && A === $p) return Ui; if (a === Mp || a === $p || a === Gw || A === Mp || A === $p || A === Gw) return zp; if (a === zw && [zw, Kp, qw, Ww].indexOf(A) !== -1 || (a === qw || a === Kp) && (A === Kp || A === Gp) || (a === Ww || a === Gp) && A === Gp || A === Jw || A === Vw || A === DU || a === PU) return Ui; if (a === Jw && A === Yw) { for (; s === Vw;)s = e[--n]; if (s === Yw) return Ui } if (a === Vp && A === Vp) { for (var o = 0; s === Vp;)o++, s = e[--n]; if (o % 2 === 0) return Ui } return zp }, GU = function (t) { var e = RU(t), r = e.length, n = 0, s = 0, a = e.map($U); return { next: function () { if (n >= r) return { done: !0, value: null }; for (var A = Ui; n < r && (A = KU(e, a, ++n)) === Ui;); if (A !== Ui || n === r) { var o = HU.apply(null, e.slice(s, n)); return s = n, { value: o, done: !1 } } return { done: !0, value: null } } } }, VU = function (t) { for (var e = GU(t), r = [], n; !(n = e.next()).done;)n.value && r.push(n.value.slice()); return r }, zU = function (t) { var e = 123; if (t.createRange) { var r = t.createRange(); if (r.getBoundingClientRect) { var n = t.createElement("boundtest"); n.style.height = e + "px", n.style.display = "block", t.body.appendChild(n), r.selectNode(n); var s = r.getBoundingClientRect(), a = Math.round(s.height); if (t.body.removeChild(n), a === e) return !0 } } return !1 }, qU = function (t) { var e = t.createElement("boundtest"); e.style.width = "50px", e.style.display = "block", e.style.fontSize = "12px", e.style.letterSpacing = "0px", e.style.wordSpacing = "0px", t.body.appendChild(e); var r = t.createRange(); e.innerHTML = typeof "".repeat == "function" ? "&#128104;".repeat(10) : ""; var n = e.firstChild, s = j0(n.data).map(function (l) { return _n(l) }), a = 0, A = {}, o = s.every(function (l, c) { r.setStart(n, a), r.setEnd(n, a + l.length); var d = r.getBoundingClientRect(); a += l.length; var p = d.x > A.x || d.y > A.y; return A = d, c === 0 ? !0 : p }); return t.body.removeChild(e), o }, WU = function () { return typeof new Image().crossOrigin < "u" }, JU = function () { return typeof new XMLHttpRequest().responseType == "string" }, YU = function (t) { var e = new Image, r = t.createElement("canvas"), n = r.getContext("2d"); if (!n) return !1; e.src = "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>"; try { n.drawImage(e, 0, 0), r.toDataURL() } catch { return !1 } return !0 }, Xw = function (t) { return t[0] === 0 && t[1] === 255 && t[2] === 0 && t[3] === 255 }, XU = function (t) { var e = t.createElement("canvas"), r = 100; e.width = r, e.height = r; var n = e.getContext("2d"); if (!n) return Promise.reject(!1); n.fillStyle = "rgb(0, 255, 0)", n.fillRect(0, 0, r, r); var s = new Image, a = e.toDataURL(); s.src = a; var A = Hm(r, r, 0, 0, s); return n.fillStyle = "red", n.fillRect(0, 0, r, r), Zw(A).then(function (o) { n.drawImage(o, 0, 0); var l = n.getImageData(0, 0, r, r).data; n.fillStyle = "red", n.fillRect(0, 0, r, r); var c = t.createElement("div"); return c.style.backgroundImage = "url(" + a + ")", c.style.height = r + "px", Xw(l) ? Zw(Hm(r, r, 0, 0, c)) : Promise.reject(!1) }).then(function (o) { return n.drawImage(o, 0, 0), Xw(n.getImageData(0, 0, r, r).data) }).catch(function () { return !1 }) }, Hm = function (t, e, r, n, s) { var a = "http://www.w3.org/2000/svg", A = document.createElementNS(a, "svg"), o = document.createElementNS(a, "foreignObject"); return A.setAttributeNS(null, "width", t.toString()), A.setAttributeNS(null, "height", e.toString()), o.setAttributeNS(null, "width", "100%"), o.setAttributeNS(null, "height", "100%"), o.setAttributeNS(null, "x", r.toString()), o.setAttributeNS(null, "y", n.toString()), o.setAttributeNS(null, "externalResourcesRequired", "true"), A.appendChild(o), o.appendChild(s), A }, Zw = function (t) { return new Promise(function (e, r) { var n = new Image; n.onload = function () { return e(n) }, n.onerror = r, n.src = "data:image/svg+xml;charset=utf-8," + encodeURIComponent(new XMLSerializer().serializeToString(t)) }) }, ls = { get SUPPORT_RANGE_BOUNDS() { var t = zU(document); return Object.defineProperty(ls, "SUPPORT_RANGE_BOUNDS", { value: t }), t }, get SUPPORT_WORD_BREAKING() { var t = ls.SUPPORT_RANGE_BOUNDS && qU(document); return Object.defineProperty(ls, "SUPPORT_WORD_BREAKING", { value: t }), t }, get SUPPORT_SVG_DRAWING() { var t = YU(document); return Object.defineProperty(ls, "SUPPORT_SVG_DRAWING", { value: t }), t }, get SUPPORT_FOREIGNOBJECT_DRAWING() { var t = typeof Array.from == "function" && typeof window.fetch == "function" ? XU(document) : Promise.resolve(!1); return Object.defineProperty(ls, "SUPPORT_FOREIGNOBJECT_DRAWING", { value: t }), t }, get SUPPORT_CORS_IMAGES() { var t = WU(); return Object.defineProperty(ls, "SUPPORT_CORS_IMAGES", { value: t }), t }, get SUPPORT_RESPONSE_TYPE() { var t = JU(); return Object.defineProperty(ls, "SUPPORT_RESPONSE_TYPE", { value: t }), t }, get SUPPORT_CORS_XHR() { var t = "withCredentials" in new XMLHttpRequest; return Object.defineProperty(ls, "SUPPORT_CORS_XHR", { value: t }), t }, get SUPPORT_NATIVE_TEXT_SEGMENTATION() { var t = !!(typeof Intl < "u" && Intl.Segmenter); return Object.defineProperty(ls, "SUPPORT_NATIVE_TEXT_SEGMENTATION", { value: t }), t } }, Xu = function () { function t(e, r) { this.text = e, this.bounds = r } return t }(), ZU = function (t, e, r, n) { var s = rI(e, r), a = [], A = 0; return s.forEach(function (o) { if (r.textDecorationLine.length || o.trim().length > 0) if (ls.SUPPORT_RANGE_BOUNDS) { var l = ey(n, A, o.length).getClientRects(); if (l.length > 1) { var c = l1(o), d = 0; c.forEach(function (g) { a.push(new Xu(g, BA.fromDOMRectList(t, ey(n, d + A, g.length).getClientRects()))), d += g.length }) } else a.push(new Xu(o, BA.fromDOMRectList(t, l))) } else { var p = n.splitText(o.length); a.push(new Xu(o, eI(t, n))), n = p } else ls.SUPPORT_RANGE_BOUNDS || (n = n.splitText(o.length)); A += o.length }), a }, eI = function (t, e) { var r = e.ownerDocument; if (r) { var n = r.createElement("html2canvaswrapper"); n.appendChild(e.cloneNode(!0)); var s = e.parentNode; if (s) { s.replaceChild(n, e); var a = S0(t, n); return n.firstChild && s.replaceChild(n.firstChild, n), a } } return BA.EMPTY }, ey = function (t, e, r) { var n = t.ownerDocument; if (!n) throw new Error("Node has no owner document"); var s = n.createRange(); return s.setStart(t, e), s.setEnd(t, e + r), s }, l1 = function (t) { if (ls.SUPPORT_NATIVE_TEXT_SEGMENTATION) { var e = new Intl.Segmenter(void 0, { granularity: "grapheme" }); return Array.from(e.segment(t)).map(function (r) { return r.segment }) } return VU(t) }, tI = function (t, e) { if (ls.SUPPORT_NATIVE_TEXT_SEGMENTATION) { var r = new Intl.Segmenter(void 0, { granularity: "word" }); return Array.from(r.segment(t)).map(function (n) { return n.segment }) } return sI(t, e) }, rI = function (t, e) { return e.letterSpacing !== 0 ? l1(t) : tI(t, e) }, nI = [32, 160, 4961, 65792, 65793, 4153, 4241], sI = function (t, e) { for (var r = kF(t, { lineBreak: e.lineBreak, wordBreak: e.overflowWrap === "break-word" ? "break-word" : e.wordBreak }), n = [], s, a = function () { if (s.value) { var A = s.value.slice(), o = j0(A), l = ""; o.forEach(function (c) { nI.indexOf(c) === -1 ? l += _n(c) : (l.length && n.push(l), n.push(_n(c)), l = "") }), l.length && n.push(l) } }; !(s = r.next()).done;)a(); return n }, iI = function () { function t(e, r, n) { this.text = aI(r.data, n.textTransform), this.textBounds = ZU(e, this.text, n, r) } return t }(), aI = function (t, e) { switch (e) { case 1: return t.toLowerCase(); case 3: return t.replace(AI, oI); case 2: return t.toUpperCase(); default: return t } }, AI = /(^|\s|:|-|\(|\))([a-z])/g, oI = function (t, e, r) { return t.length > 0 ? e + r.toUpperCase() : t }, DB = function (t) { fa(e, t); function e(r, n) { var s = t.call(this, r, n) || this; return s.src = n.currentSrc || n.src, s.intrinsicWidth = n.naturalWidth, s.intrinsicHeight = n.naturalHeight, s.context.cache.addImage(s.src), s } return e }(Ga), RB = function (t) { fa(e, t); function e(r, n) { var s = t.call(this, r, n) || this; return s.canvas = n, s.intrinsicWidth = n.width, s.intrinsicHeight = n.height, s } return e }(Ga), HB = function (t) { fa(e, t); function e(r, n) { var s = t.call(this, r, n) || this, a = new XMLSerializer, A = S0(r, n); return n.setAttribute("width", A.width + "px"), n.setAttribute("height", A.height + "px"), s.svg = "data:image/svg+xml," + encodeURIComponent(a.serializeToString(n)), s.intrinsicWidth = n.width.baseVal.value, s.intrinsicHeight = n.height.baseVal.value, s.context.cache.addImage(s.svg), s } return e }(Ga), MB = function (t) { fa(e, t); function e(r, n) { var s = t.call(this, r, n) || this; return s.value = n.value, s } return e }(Ga), Mm = function (t) { fa(e, t); function e(r, n) { var s = t.call(this, r, n) || this; return s.start = n.start, s.reversed = typeof n.reversed == "boolean" && n.reversed === !0, s } return e }(Ga), lI = [{ type: 15, flags: 0, unit: "px", number: 3 }], cI = [{ type: 16, flags: 0, number: 50 }], uI = function (t) { return t.width > t.height ? new BA(t.left + (t.width - t.height) / 2, t.top, t.height, t.height) : t.width < t.height ? new BA(t.left, t.top + (t.height - t.width) / 2, t.width, t.width) : t }, dI = function (t) { var e = t.type === hI ? new Array(t.value.length + 1).join("") : t.value; return e.length === 0 ? t.placeholder || "" : e }, Wf = "checkbox", Jf = "radio", hI = "password", ty = 707406591, c1 = function (t) { fa(e, t); function e(r, n) { var s = t.call(this, r, n) || this; switch (s.type = n.type.toLowerCase(), s.checked = n.checked, s.value = dI(n), (s.type === Wf || s.type === Jf) && (s.styles.backgroundColor = 3739148031, s.styles.borderTopColor = s.styles.borderRightColor = s.styles.borderBottomColor = s.styles.borderLeftColor = 2779096575, s.styles.borderTopWidth = s.styles.borderRightWidth = s.styles.borderBottomWidth = s.styles.borderLeftWidth = 1, s.styles.borderTopStyle = s.styles.borderRightStyle = s.styles.borderBottomStyle = s.styles.borderLeftStyle = 1, s.styles.backgroundClip = [0], s.styles.backgroundOrigin = [0], s.bounds = uI(s.bounds)), s.type) { case Wf: s.styles.borderTopRightRadius = s.styles.borderTopLeftRadius = s.styles.borderBottomRightRadius = s.styles.borderBottomLeftRadius = lI; break; case Jf: s.styles.borderTopRightRadius = s.styles.borderTopLeftRadius = s.styles.borderBottomRightRadius = s.styles.borderBottomLeftRadius = cI; break }return s } return e }(Ga), $B = function (t) { fa(e, t); function e(r, n) { var s = t.call(this, r, n) || this, a = n.options[n.selectedIndex || 0]; return s.value = a && a.text || "", s } return e }(Ga), KB = function (t) { fa(e, t); function e(r, n) { var s = t.call(this, r, n) || this; return s.value = n.value, s } return e }(Ga), GB = function (t) { fa(e, t); function e(r, n) { var s = t.call(this, r, n) || this; s.src = n.src, s.width = parseInt(n.width, 10) || 0, s.height = parseInt(n.height, 10) || 0, s.backgroundColor = s.styles.backgroundColor; try { if (n.contentWindow && n.contentWindow.document && n.contentWindow.document.documentElement) { s.tree = zB(r, n.contentWindow.document.documentElement); var a = n.contentWindow.document.documentElement ? Ju(r, getComputedStyle(n.contentWindow.document.documentElement).backgroundColor) : xA.TRANSPARENT, A = n.contentWindow.document.body ? Ju(r, getComputedStyle(n.contentWindow.document.body).backgroundColor) : xA.TRANSPARENT; s.backgroundColor = No(a) ? No(A) ? s.styles.backgroundColor : A : a } } catch { } return s } return e }(Ga), fI = ["OL", "UL", "MENU"], uf = function (t, e, r, n) { for (var s = e.firstChild, a = void 0; s; s = a)if (a = s.nextSibling, qB(s) && s.data.trim().length > 0) r.textNodes.push(new iI(t, s, r.styles)); else if (Cc(s)) if (XB(s) && s.assignedNodes) s.assignedNodes().forEach(function (o) { return uf(t, o, r, n) }); else { var A = VB(t, s); A.styles.isVisible() && (pI(s, A, n) ? A.flags |= 4 : gI(A.styles) && (A.flags |= 2), fI.indexOf(s.tagName) !== -1 && (A.flags |= 8), r.elements.push(A), s.slot, s.shadowRoot ? uf(t, s.shadowRoot, A, n) : !Yf(s) && !WB(s) && !Xf(s) && uf(t, s, A, n)) } }, VB = function (t, e) { return Km(e) ? new DB(t, e) : JB(e) ? new RB(t, e) : WB(e) ? new HB(t, e) : mI(e) ? new MB(t, e) : xI(e) ? new Mm(t, e) : vI(e) ? new c1(t, e) : Xf(e) ? new $B(t, e) : Yf(e) ? new KB(t, e) : YB(e) ? new GB(t, e) : new Ga(t, e) }, zB = function (t, e) { var r = VB(t, e); return r.flags |= 4, uf(t, e, r, r), r }, pI = function (t, e, r) { return e.styles.isPositionedWithZIndex() || e.styles.opacity < 1 || e.styles.isTransformed() || u1(t) && r.styles.isTransparent() }, gI = function (t) { return t.isPositioned() || t.isFloating() }, qB = function (t) { return t.nodeType === Node.TEXT_NODE }, Cc = function (t) { return t.nodeType === Node.ELEMENT_NODE }, $m = function (t) { return Cc(t) && typeof t.style < "u" && !df(t) }, df = function (t) { return typeof t.className == "object" }, mI = function (t) { return t.tagName === "LI" }, xI = function (t) { return t.tagName === "OL" }, vI = function (t) { return t.tagName === "INPUT" }, wI = function (t) { return t.tagName === "HTML" }, WB = function (t) { return t.tagName === "svg" }, u1 = function (t) { return t.tagName === "BODY" }, JB = function (t) { return t.tagName === "CANVAS" }, ry = function (t) { return t.tagName === "VIDEO" }, Km = function (t) { return t.tagName === "IMG" }, YB = function (t) { return t.tagName === "IFRAME" }, ny = function (t) { return t.tagName === "STYLE" }, yI = function (t) { return t.tagName === "SCRIPT" }, Yf = function (t) { return t.tagName === "TEXTAREA" }, Xf = function (t) { return t.tagName === "SELECT" }, XB = function (t) { return t.tagName === "SLOT" }, sy = function (t) { return t.tagName.indexOf("-") > 0 }, bI = function () { function t() { this.counters = {} } return t.prototype.getCounterValue = function (e) { var r = this.counters[e]; return r && r.length ? r[r.length - 1] : 1 }, t.prototype.getCounterValues = function (e) { var r = this.counters[e]; return r || [] }, t.prototype.pop = function (e) { var r = this; e.forEach(function (n) { return r.counters[n].pop() }) }, t.prototype.parse = function (e) { var r = this, n = e.counterIncrement, s = e.counterReset, a = !0; n !== null && n.forEach(function (o) { var l = r.counters[o.counter]; l && o.increment !== 0 && (a = !1, l.length || l.push(1), l[Math.max(0, l.length - 1)] += o.increment) }); var A = []; return a && s.forEach(function (o) { var l = r.counters[o.counter]; A.push(o.counter), l || (l = r.counters[o.counter] = []), l.push(o.reset) }), A }, t }(), iy = { integers: [1e3, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1], values: ["M", "CM", "D", "CD", "C", "XC", "L", "XL", "X", "IX", "V", "IV", "I"] }, ay = { integers: [9e3, 8e3, 7e3, 6e3, 5e3, 4e3, 3e3, 2e3, 1e3, 900, 800, 700, 600, 500, 400, 300, 200, 100, 90, 80, 70, 60, 50, 40, 30, 20, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1], values: ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""] }, BI = { integers: [1e4, 9e3, 8e3, 7e3, 6e3, 5e3, 4e3, 3e3, 2e3, 1e3, 400, 300, 200, 100, 90, 80, 70, 60, 50, 40, 30, 20, 19, 18, 17, 16, 15, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1], values: ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""] }, CI = { integers: [1e4, 9e3, 8e3, 7e3, 6e3, 5e3, 4e3, 3e3, 2e3, 1e3, 900, 800, 700, 600, 500, 400, 300, 200, 100, 90, 80, 70, 60, 50, 40, 30, 20, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1], values: ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""] }, Xl = function (t, e, r, n, s, a) { return t < e || t > r ? jd(t, s, a.length > 0) : n.integers.reduce(function (A, o, l) { for (; t >= o;)t -= o, A += n.values[l]; return A }, "") + a }, ZB = function (t, e, r, n) { var s = ""; do r || t--, s = n(t) + s, t /= e; while (t * e >= e); return s }, Fn = function (t, e, r, n, s) { var a = r - e + 1; return (t < 0 ? "-" : "") + (ZB(Math.abs(t), a, n, function (A) { return _n(Math.floor(A % a) + e) }) + s) }, Wo = function (t, e, r) { r === void 0 && (r = ". "); var n = e.length; return ZB(Math.abs(t), n, !1, function (s) { return e[Math.floor(s % n)] }) + r }, Ac = 1, eo = 2, to = 4, Ou = 8, oA = function (t, e, r, n, s, a) { if (t < -9999 || t > 9999) return jd(t, 4, s.length > 0); var A = Math.abs(t), o = s; if (A === 0) return e[0] + o; for (var l = 0; A > 0 && l <= 4; l++) { var c = A % 10; c === 0 && qn(a, Ac) && o !== "" ? o = e[c] + o : c > 1 || c === 1 && l === 0 || c === 1 && l === 1 && qn(a, eo) || c === 1 && l === 1 && qn(a, to) && t > 100 || c === 1 && l > 1 && qn(a, Ou) ? o = e[c] + (l > 0 ? r[l - 1] : "") + o : c === 1 && l > 0 && (o = r[l - 1] + o), A = Math.floor(A / 10) } return (t < 0 ? n : "") + o }, Ay = "", oy = "", ly = "", qp = "", jd = function (t, e, r) { var n = r ? ". " : "", s = r ? "" : "", a = r ? ", " : "", A = r ? " " : ""; switch (e) { case 0: return "" + A; case 1: return "" + A; case 2: return "" + A; case 5: var o = Fn(t, 48, 57, !0, n); return o.length < 4 ? "0" + o : o; case 4: return Wo(t, "", s); case 6: return Xl(t, 1, 3999, iy, 3, n).toLowerCase(); case 7: return Xl(t, 1, 3999, iy, 3, n); case 8: return Fn(t, 945, 969, !1, n); case 9: return Fn(t, 97, 122, !1, n); case 10: return Fn(t, 65, 90, !1, n); case 11: return Fn(t, 1632, 1641, !0, n); case 12: case 49: return Xl(t, 1, 9999, ay, 3, n); case 35: return Xl(t, 1, 9999, ay, 3, n).toLowerCase(); case 13: return Fn(t, 2534, 2543, !0, n); case 14: case 30: return Fn(t, 6112, 6121, !0, n); case 15: return Wo(t, "", s); case 16: return Wo(t, "", s); case 17: case 48: return oA(t, "", Ay, "", s, eo | to | Ou); case 47: return oA(t, "", oy, "", s, Ac | eo | to | Ou); case 42: return oA(t, "", Ay, "", s, eo | to | Ou); case 41: return oA(t, "", oy, "", s, Ac | eo | to | Ou); case 26: return oA(t, "", "", ly, s, 0); case 25: return oA(t, "", "", ly, s, Ac | eo | to); case 31: return oA(t, "", "", qp, a, Ac | eo | to); case 33: return oA(t, "", "", qp, a, 0); case 32: return oA(t, "", "", qp, a, Ac | eo | to); case 18: return Fn(t, 2406, 2415, !0, n); case 20: return Xl(t, 1, 19999, CI, 3, n); case 21: return Fn(t, 2790, 2799, !0, n); case 22: return Fn(t, 2662, 2671, !0, n); case 22: return Xl(t, 1, 10999, BI, 3, n); case 23: return Wo(t, ""); case 24: return Wo(t, ""); case 27: return Fn(t, 3302, 3311, !0, n); case 28: return Wo(t, "", s); case 29: return Wo(t, "", s); case 34: return Fn(t, 3792, 3801, !0, n); case 37: return Fn(t, 6160, 6169, !0, n); case 38: return Fn(t, 4160, 4169, !0, n); case 39: return Fn(t, 2918, 2927, !0, n); case 40: return Fn(t, 1776, 1785, !0, n); case 43: return Fn(t, 3046, 3055, !0, n); case 44: return Fn(t, 3174, 3183, !0, n); case 45: return Fn(t, 3664, 3673, !0, n); case 46: return Fn(t, 3872, 3881, !0, n); case 3: default: return Fn(t, 48, 57, !0, n) } }, e4 = "data-html2canvas-ignore", cy = function () { function t(e, r, n) { if (this.context = e, this.options = n, this.scrolledElements = [], this.referenceElement = r, this.counters = new bI, this.quoteDepth = 0, !r.ownerDocument) throw new Error("Cloned element does not have an owner document"); this.documentElement = this.cloneNode(r.ownerDocument.documentElement, !1) } return t.prototype.toIFrame = function (e, r) { var n = this, s = NI(e, r); if (!s.contentWindow) return Promise.reject("Unable to find iframe window"); var a = e.defaultView.pageXOffset, A = e.defaultView.pageYOffset, o = s.contentWindow, l = o.document, c = EI(s).then(function () { return Us(n, void 0, void 0, function () { var d, p; return Cs(this, function (g) { switch (g.label) { case 0: return this.scrolledElements.forEach(UI), o && (o.scrollTo(r.left, r.top), /(iPad|iPhone|iPod)/g.test(navigator.userAgent) && (o.scrollY !== r.top || o.scrollX !== r.left) && (this.context.logger.warn("Unable to restore scroll position for cloned document"), this.context.windowBounds = this.context.windowBounds.add(o.scrollX - r.left, o.scrollY - r.top, 0, 0))), d = this.options.onclone, p = this.clonedReferenceElement, typeof p > "u" ? [2, Promise.reject("Error finding the " + this.referenceElement.nodeName + " in the cloned document")] : l.fonts && l.fonts.ready ? [4, l.fonts.ready] : [3, 2]; case 1: g.sent(), g.label = 2; case 2: return /(AppleWebKit)/g.test(navigator.userAgent) ? [4, jI(l)] : [3, 4]; case 3: g.sent(), g.label = 4; case 4: return typeof d == "function" ? [2, Promise.resolve().then(function () { return d(l, p) }).then(function () { return s })] : [2, s] } }) }) }); return l.open(), l.write(_I(document.doctype) + "<html></html>"), kI(this.referenceElement.ownerDocument, a, A), l.replaceChild(l.adoptNode(this.documentElement), l.documentElement), l.close(), c }, t.prototype.createElementClone = function (e) { if (Rm(e, 2)) debugger; if (JB(e)) return this.createCanvasClone(e); if (ry(e)) return this.createVideoClone(e); if (ny(e)) return this.createStyleClone(e); var r = e.cloneNode(!1); return Km(r) && (Km(e) && e.currentSrc && e.currentSrc !== e.src && (r.src = e.currentSrc, r.srcset = ""), r.loading === "lazy" && (r.loading = "eager")), sy(r) ? this.createCustomElementClone(r) : r }, t.prototype.createCustomElementClone = function (e) { var r = document.createElement("html2canvascustomelement"); return Wp(e.style, r), r }, t.prototype.createStyleClone = function (e) { try { var r = e.sheet; if (r && r.cssRules) { var n = [].slice.call(r.cssRules, 0).reduce(function (a, A) { return A && typeof A.cssText == "string" ? a + A.cssText : a }, ""), s = e.cloneNode(!1); return s.textContent = n, s } } catch (a) { if (this.context.logger.error("Unable to access cssRules property", a), a.name !== "SecurityError") throw a } return e.cloneNode(!1) }, t.prototype.createCanvasClone = function (e) { var r; if (this.options.inlineImages && e.ownerDocument) { var n = e.ownerDocument.createElement("img"); try { return n.src = e.toDataURL(), n } catch { this.context.logger.info("Unable to inline canvas contents, canvas is tainted", e) } } var s = e.cloneNode(!1); try { s.width = e.width, s.height = e.height; var a = e.getContext("2d"), A = s.getContext("2d"); if (A) if (!this.options.allowTaint && a) A.putImageData(a.getImageData(0, 0, e.width, e.height), 0, 0); else { var o = (r = e.getContext("webgl2")) !== null && r !== void 0 ? r : e.getContext("webgl"); if (o) { var l = o.getContextAttributes(); (l == null ? void 0 : l.preserveDrawingBuffer) === !1 && this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false", e) } A.drawImage(e, 0, 0) } return s } catch { this.context.logger.info("Unable to clone canvas as it is tainted", e) } return s }, t.prototype.createVideoClone = function (e) { var r = e.ownerDocument.createElement("canvas"); r.width = e.offsetWidth, r.height = e.offsetHeight; var n = r.getContext("2d"); try { return n && (n.drawImage(e, 0, 0, r.width, r.height), this.options.allowTaint || n.getImageData(0, 0, r.width, r.height)), r } catch { this.context.logger.info("Unable to clone video as it is tainted", e) } var s = e.ownerDocument.createElement("canvas"); return s.width = e.offsetWidth, s.height = e.offsetHeight, s }, t.prototype.appendChildNode = function (e, r, n) { (!Cc(r) || !yI(r) && !r.hasAttribute(e4) && (typeof this.options.ignoreElements != "function" || !this.options.ignoreElements(r))) && (!this.options.copyStyles || !Cc(r) || !ny(r)) && e.appendChild(this.cloneNode(r, n)) }, t.prototype.cloneChildNodes = function (e, r, n) { for (var s = this, a = e.shadowRoot ? e.shadowRoot.firstChild : e.firstChild; a; a = a.nextSibling)if (Cc(a) && XB(a) && typeof a.assignedNodes == "function") { var A = a.assignedNodes(); A.length && A.forEach(function (o) { return s.appendChildNode(r, o, n) }) } else this.appendChildNode(r, a, n) }, t.prototype.cloneNode = function (e, r) { if (qB(e)) return document.createTextNode(e.data); if (!e.ownerDocument) return e.cloneNode(!1); var n = e.ownerDocument.defaultView; if (n && Cc(e) && ($m(e) || df(e))) { var s = this.createElementClone(e); s.style.transitionProperty = "none"; var a = n.getComputedStyle(e), A = n.getComputedStyle(e, ":before"), o = n.getComputedStyle(e, ":after"); this.referenceElement === e && $m(s) && (this.clonedReferenceElement = s), u1(s) && TI(s); var l = this.counters.parse(new Hw(this.context, a)), c = this.resolvePseudoContent(e, s, A, Zu.BEFORE); sy(e) && (r = !0), ry(e) || this.cloneChildNodes(e, s, r), c && s.insertBefore(c, s.firstChild); var d = this.resolvePseudoContent(e, s, o, Zu.AFTER); return d && s.appendChild(d), this.counters.pop(l), (a && (this.options.copyStyles || df(e)) && !YB(e) || r) && Wp(a, s), (e.scrollTop !== 0 || e.scrollLeft !== 0) && this.scrolledElements.push([s, e.scrollLeft, e.scrollTop]), (Yf(e) || Xf(e)) && (Yf(s) || Xf(s)) && (s.value = e.value), s } return e.cloneNode(!1) }, t.prototype.resolvePseudoContent = function (e, r, n, s) { var a = this; if (n) { var A = n.content, o = r.ownerDocument; if (!(!o || !A || A === "none" || A === "-moz-alt-content" || n.display === "none")) { this.counters.parse(new Hw(this.context, n)); var l = new mU(this.context, n), c = o.createElement("html2canvaspseudoelement"); Wp(n, c), l.content.forEach(function (p) { if (p.type === 0) c.appendChild(o.createTextNode(p.value)); else if (p.type === 22) { var g = o.createElement("img"); g.src = p.value, g.style.opacity = "1", c.appendChild(g) } else if (p.type === 18) { if (p.name === "attr") { var h = p.values.filter(Hr); h.length && c.appendChild(o.createTextNode(e.getAttribute(h[0].value) || "")) } else if (p.name === "counter") { var b = p.values.filter(Gc), w = b[0], j = b[1]; if (w && Hr(w)) { var x = a.counters.getCounterValue(w.value), y = j && Hr(j) ? Dm.parse(a.context, j.value) : 3; c.appendChild(o.createTextNode(jd(x, y, !1))) } } else if (p.name === "counters") { var B = p.values.filter(Gc), w = B[0], E = B[1], j = B[2]; if (w && Hr(w)) { var T = a.counters.getCounterValues(w.value), U = j && Hr(j) ? Dm.parse(a.context, j.value) : 3, M = E && E.type === 0 ? E.value : "", G = T.map(function (k) { return jd(k, U, !1) }).join(M); c.appendChild(o.createTextNode(G)) } } } else if (p.type === 20) switch (p.value) { case "open-quote": c.appendChild(o.createTextNode(Rw(l.quotes, a.quoteDepth++, !0))); break; case "close-quote": c.appendChild(o.createTextNode(Rw(l.quotes, --a.quoteDepth, !1))); break; default: c.appendChild(o.createTextNode(p.value)) } }), c.className = Gm + " " + Vm; var d = s === Zu.BEFORE ? " " + Gm : " " + Vm; return df(r) ? r.className.baseValue += d : r.className += d, c } } }, t.destroy = function (e) { return e.parentNode ? (e.parentNode.removeChild(e), !0) : !1 }, t }(), Zu; (function (t) { t[t.BEFORE = 0] = "BEFORE", t[t.AFTER = 1] = "AFTER" })(Zu || (Zu = {})); var NI = function (t, e) { var r = t.createElement("iframe"); return r.className = "html2canvas-container", r.style.visibility = "hidden", r.style.position = "fixed", r.style.left = "-10000px", r.style.top = "0px", r.style.border = "0", r.width = e.width.toString(), r.height = e.height.toString(), r.scrolling = "no", r.setAttribute(e4, "true"), t.body.appendChild(r), r }, SI = function (t) { return new Promise(function (e) { if (t.complete) { e(); return } if (!t.src) { e(); return } t.onload = e, t.onerror = e }) }, jI = function (t) { return Promise.all([].slice.call(t.images, 0).map(SI)) }, EI = function (t) { return new Promise(function (e, r) { var n = t.contentWindow; if (!n) return r("No window assigned for iframe"); var s = n.document; n.onload = t.onload = function () { n.onload = t.onload = null; var a = setInterval(function () { s.body.childNodes.length > 0 && s.readyState === "complete" && (clearInterval(a), e(t)) }, 50) } }) }, FI = ["all", "d", "content"], Wp = function (t, e) { for (var r = t.length - 1; r >= 0; r--) { var n = t.item(r); FI.indexOf(n) === -1 && e.style.setProperty(n, t.getPropertyValue(n)) } return e }, _I = function (t) { var e = ""; return t && (e += "<!DOCTYPE ", t.name && (e += t.name), t.internalSubset && (e += t.internalSubset), t.publicId && (e += '"' + t.publicId + '"'), t.systemId && (e += '"' + t.systemId + '"'), e += ">"), e }, kI = function (t, e, r) { t && t.defaultView && (e !== t.defaultView.pageXOffset || r !== t.defaultView.pageYOffset) && t.defaultView.scrollTo(e, r) }, UI = function (t) { var e = t[0], r = t[1], n = t[2]; e.scrollLeft = r, e.scrollTop = n }, II = ":before", QI = ":after", Gm = "___html2canvas___pseudoelement_before", Vm = "___html2canvas___pseudoelement_after", uy = `{
    content: "" !important;
    display: none !important;
}`, TI = function (t) {
    LI(t, "." + Gm + II + uy + `
         .`+ Vm + QI + uy)
  }, LI = function (t, e) { var r = t.ownerDocument; if (r) { var n = r.createElement("style"); n.textContent = e, t.appendChild(n) } }, t4 = function () { function t() { } return t.getOrigin = function (e) { var r = t._link; return r ? (r.href = e, r.href = r.href, r.protocol + r.hostname + r.port) : "about:blank" }, t.isSameOrigin = function (e) { return t.getOrigin(e) === t._origin }, t.setContext = function (e) { t._link = e.document.createElement("a"), t._origin = t.getOrigin(e.location.href) }, t._origin = "about:blank", t }(), OI = function () { function t(e, r) { this.context = e, this._options = r, this._cache = {} } return t.prototype.addImage = function (e) { var r = Promise.resolve(); return this.has(e) || (Yp(e) || HI(e)) && (this._cache[e] = this.loadImage(e)).catch(function () { }), r }, t.prototype.match = function (e) { return this._cache[e] }, t.prototype.loadImage = function (e) { return Us(this, void 0, void 0, function () { var r, n, s, a, A = this; return Cs(this, function (o) { switch (o.label) { case 0: return r = t4.isSameOrigin(e), n = !Jp(e) && this._options.useCORS === !0 && ls.SUPPORT_CORS_IMAGES && !r, s = !Jp(e) && !r && !Yp(e) && typeof this._options.proxy == "string" && ls.SUPPORT_CORS_XHR && !n, !r && this._options.allowTaint === !1 && !Jp(e) && !Yp(e) && !s && !n ? [2] : (a = e, s ? [4, this.proxy(a)] : [3, 2]); case 1: a = o.sent(), o.label = 2; case 2: return this.context.logger.debug("Added image " + e.substring(0, 256)), [4, new Promise(function (l, c) { var d = new Image; d.onload = function () { return l(d) }, d.onerror = c, (MI(a) || n) && (d.crossOrigin = "anonymous"), d.src = a, d.complete === !0 && setTimeout(function () { return l(d) }, 500), A._options.imageTimeout > 0 && setTimeout(function () { return c("Timed out (" + A._options.imageTimeout + "ms) loading image") }, A._options.imageTimeout) })]; case 3: return [2, o.sent()] } }) }) }, t.prototype.has = function (e) { return typeof this._cache[e] < "u" }, t.prototype.keys = function () { return Promise.resolve(Object.keys(this._cache)) }, t.prototype.proxy = function (e) { var r = this, n = this._options.proxy; if (!n) throw new Error("No proxy defined"); var s = e.substring(0, 256); return new Promise(function (a, A) { var o = ls.SUPPORT_RESPONSE_TYPE ? "blob" : "text", l = new XMLHttpRequest; l.onload = function () { if (l.status === 200) if (o === "text") a(l.response); else { var p = new FileReader; p.addEventListener("load", function () { return a(p.result) }, !1), p.addEventListener("error", function (g) { return A(g) }, !1), p.readAsDataURL(l.response) } else A("Failed to proxy resource " + s + " with status code " + l.status) }, l.onerror = A; var c = n.indexOf("?") > -1 ? "&" : "?"; if (l.open("GET", "" + n + c + "url=" + encodeURIComponent(e) + "&responseType=" + o), o !== "text" && l instanceof XMLHttpRequest && (l.responseType = o), r._options.imageTimeout) { var d = r._options.imageTimeout; l.timeout = d, l.ontimeout = function () { return A("Timed out (" + d + "ms) proxying " + s) } } l.send() }) }, t }(), PI = /^data:image\/svg\+xml/i, DI = /^data:image\/.*;base64,/i, RI = /^data:image\/.*/i, HI = function (t) { return ls.SUPPORT_SVG_DRAWING || !$I(t) }, Jp = function (t) { return RI.test(t) }, MI = function (t) { return DI.test(t) }, Yp = function (t) { return t.substr(0, 4) === "blob" }, $I = function (t) { return t.substr(-3).toLowerCase() === "svg" || PI.test(t) }, Tt = function () { function t(e, r) { this.type = 0, this.x = e, this.y = r } return t.prototype.add = function (e, r) { return new t(this.x + e, this.y + r) }, t }(), Zl = function (t, e, r) { return new Tt(t.x + (e.x - t.x) * r, t.y + (e.y - t.y) * r) }, Ph = function () { function t(e, r, n, s) { this.type = 1, this.start = e, this.startControl = r, this.endControl = n, this.end = s } return t.prototype.subdivide = function (e, r) { var n = Zl(this.start, this.startControl, e), s = Zl(this.startControl, this.endControl, e), a = Zl(this.endControl, this.end, e), A = Zl(n, s, e), o = Zl(s, a, e), l = Zl(A, o, e); return r ? new t(this.start, n, A, l) : new t(l, o, a, this.end) }, t.prototype.add = function (e, r) { return new t(this.start.add(e, r), this.startControl.add(e, r), this.endControl.add(e, r), this.end.add(e, r)) }, t.prototype.reverse = function () { return new t(this.end, this.endControl, this.startControl, this.start) }, t }(), Ti = function (t) { return t.type === 1 }, KI = function () { function t(e) { var r = e.styles, n = e.bounds, s = Tu(r.borderTopLeftRadius, n.width, n.height), a = s[0], A = s[1], o = Tu(r.borderTopRightRadius, n.width, n.height), l = o[0], c = o[1], d = Tu(r.borderBottomRightRadius, n.width, n.height), p = d[0], g = d[1], h = Tu(r.borderBottomLeftRadius, n.width, n.height), b = h[0], w = h[1], j = []; j.push((a + l) / n.width), j.push((b + p) / n.width), j.push((A + w) / n.height), j.push((c + g) / n.height); var x = Math.max.apply(Math, j); x > 1 && (a /= x, A /= x, l /= x, c /= x, p /= x, g /= x, b /= x, w /= x); var y = n.width - l, B = n.height - g, E = n.width - p, T = n.height - w, U = r.borderTopWidth, M = r.borderRightWidth, G = r.borderBottomWidth, N = r.borderLeftWidth, H = Yr(r.paddingTop, e.bounds.width), k = Yr(r.paddingRight, e.bounds.width), _ = Yr(r.paddingBottom, e.bounds.width), V = Yr(r.paddingLeft, e.bounds.width); this.topLeftBorderDoubleOuterBox = a > 0 || A > 0 ? An(n.left + N / 3, n.top + U / 3, a - N / 3, A - U / 3, Ir.TOP_LEFT) : new Tt(n.left + N / 3, n.top + U / 3), this.topRightBorderDoubleOuterBox = a > 0 || A > 0 ? An(n.left + y, n.top + U / 3, l - M / 3, c - U / 3, Ir.TOP_RIGHT) : new Tt(n.left + n.width - M / 3, n.top + U / 3), this.bottomRightBorderDoubleOuterBox = p > 0 || g > 0 ? An(n.left + E, n.top + B, p - M / 3, g - G / 3, Ir.BOTTOM_RIGHT) : new Tt(n.left + n.width - M / 3, n.top + n.height - G / 3), this.bottomLeftBorderDoubleOuterBox = b > 0 || w > 0 ? An(n.left + N / 3, n.top + T, b - N / 3, w - G / 3, Ir.BOTTOM_LEFT) : new Tt(n.left + N / 3, n.top + n.height - G / 3), this.topLeftBorderDoubleInnerBox = a > 0 || A > 0 ? An(n.left + N * 2 / 3, n.top + U * 2 / 3, a - N * 2 / 3, A - U * 2 / 3, Ir.TOP_LEFT) : new Tt(n.left + N * 2 / 3, n.top + U * 2 / 3), this.topRightBorderDoubleInnerBox = a > 0 || A > 0 ? An(n.left + y, n.top + U * 2 / 3, l - M * 2 / 3, c - U * 2 / 3, Ir.TOP_RIGHT) : new Tt(n.left + n.width - M * 2 / 3, n.top + U * 2 / 3), this.bottomRightBorderDoubleInnerBox = p > 0 || g > 0 ? An(n.left + E, n.top + B, p - M * 2 / 3, g - G * 2 / 3, Ir.BOTTOM_RIGHT) : new Tt(n.left + n.width - M * 2 / 3, n.top + n.height - G * 2 / 3), this.bottomLeftBorderDoubleInnerBox = b > 0 || w > 0 ? An(n.left + N * 2 / 3, n.top + T, b - N * 2 / 3, w - G * 2 / 3, Ir.BOTTOM_LEFT) : new Tt(n.left + N * 2 / 3, n.top + n.height - G * 2 / 3), this.topLeftBorderStroke = a > 0 || A > 0 ? An(n.left + N / 2, n.top + U / 2, a - N / 2, A - U / 2, Ir.TOP_LEFT) : new Tt(n.left + N / 2, n.top + U / 2), this.topRightBorderStroke = a > 0 || A > 0 ? An(n.left + y, n.top + U / 2, l - M / 2, c - U / 2, Ir.TOP_RIGHT) : new Tt(n.left + n.width - M / 2, n.top + U / 2), this.bottomRightBorderStroke = p > 0 || g > 0 ? An(n.left + E, n.top + B, p - M / 2, g - G / 2, Ir.BOTTOM_RIGHT) : new Tt(n.left + n.width - M / 2, n.top + n.height - G / 2), this.bottomLeftBorderStroke = b > 0 || w > 0 ? An(n.left + N / 2, n.top + T, b - N / 2, w - G / 2, Ir.BOTTOM_LEFT) : new Tt(n.left + N / 2, n.top + n.height - G / 2), this.topLeftBorderBox = a > 0 || A > 0 ? An(n.left, n.top, a, A, Ir.TOP_LEFT) : new Tt(n.left, n.top), this.topRightBorderBox = l > 0 || c > 0 ? An(n.left + y, n.top, l, c, Ir.TOP_RIGHT) : new Tt(n.left + n.width, n.top), this.bottomRightBorderBox = p > 0 || g > 0 ? An(n.left + E, n.top + B, p, g, Ir.BOTTOM_RIGHT) : new Tt(n.left + n.width, n.top + n.height), this.bottomLeftBorderBox = b > 0 || w > 0 ? An(n.left, n.top + T, b, w, Ir.BOTTOM_LEFT) : new Tt(n.left, n.top + n.height), this.topLeftPaddingBox = a > 0 || A > 0 ? An(n.left + N, n.top + U, Math.max(0, a - N), Math.max(0, A - U), Ir.TOP_LEFT) : new Tt(n.left + N, n.top + U), this.topRightPaddingBox = l > 0 || c > 0 ? An(n.left + Math.min(y, n.width - M), n.top + U, y > n.width + M ? 0 : Math.max(0, l - M), Math.max(0, c - U), Ir.TOP_RIGHT) : new Tt(n.left + n.width - M, n.top + U), this.bottomRightPaddingBox = p > 0 || g > 0 ? An(n.left + Math.min(E, n.width - N), n.top + Math.min(B, n.height - G), Math.max(0, p - M), Math.max(0, g - G), Ir.BOTTOM_RIGHT) : new Tt(n.left + n.width - M, n.top + n.height - G), this.bottomLeftPaddingBox = b > 0 || w > 0 ? An(n.left + N, n.top + Math.min(T, n.height - G), Math.max(0, b - N), Math.max(0, w - G), Ir.BOTTOM_LEFT) : new Tt(n.left + N, n.top + n.height - G), this.topLeftContentBox = a > 0 || A > 0 ? An(n.left + N + V, n.top + U + H, Math.max(0, a - (N + V)), Math.max(0, A - (U + H)), Ir.TOP_LEFT) : new Tt(n.left + N + V, n.top + U + H), this.topRightContentBox = l > 0 || c > 0 ? An(n.left + Math.min(y, n.width + N + V), n.top + U + H, y > n.width + N + V ? 0 : l - N + V, c - (U + H), Ir.TOP_RIGHT) : new Tt(n.left + n.width - (M + k), n.top + U + H), this.bottomRightContentBox = p > 0 || g > 0 ? An(n.left + Math.min(E, n.width - (N + V)), n.top + Math.min(B, n.height + U + H), Math.max(0, p - (M + k)), g - (G + _), Ir.BOTTOM_RIGHT) : new Tt(n.left + n.width - (M + k), n.top + n.height - (G + _)), this.bottomLeftContentBox = b > 0 || w > 0 ? An(n.left + N + V, n.top + T, Math.max(0, b - (N + V)), w - (G + _), Ir.BOTTOM_LEFT) : new Tt(n.left + N + V, n.top + n.height - (G + _)) } return t }(), Ir; (function (t) { t[t.TOP_LEFT = 0] = "TOP_LEFT", t[t.TOP_RIGHT = 1] = "TOP_RIGHT", t[t.BOTTOM_RIGHT = 2] = "BOTTOM_RIGHT", t[t.BOTTOM_LEFT = 3] = "BOTTOM_LEFT" })(Ir || (Ir = {})); var An = function (t, e, r, n, s) { var a = 4 * ((Math.sqrt(2) - 1) / 3), A = r * a, o = n * a, l = t + r, c = e + n; switch (s) { case Ir.TOP_LEFT: return new Ph(new Tt(t, c), new Tt(t, c - o), new Tt(l - A, e), new Tt(l, e)); case Ir.TOP_RIGHT: return new Ph(new Tt(t, e), new Tt(t + A, e), new Tt(l, c - o), new Tt(l, c)); case Ir.BOTTOM_RIGHT: return new Ph(new Tt(l, e), new Tt(l, e + o), new Tt(t + A, c), new Tt(t, c)); case Ir.BOTTOM_LEFT: default: return new Ph(new Tt(l, c), new Tt(l - A, c), new Tt(t, e + o), new Tt(t, e)) } }, Zf = function (t) { return [t.topLeftBorderBox, t.topRightBorderBox, t.bottomRightBorderBox, t.bottomLeftBorderBox] }, GI = function (t) { return [t.topLeftContentBox, t.topRightContentBox, t.bottomRightContentBox, t.bottomLeftContentBox] }, e0 = function (t) { return [t.topLeftPaddingBox, t.topRightPaddingBox, t.bottomRightPaddingBox, t.bottomLeftPaddingBox] }, VI = function () { function t(e, r, n) { this.offsetX = e, this.offsetY = r, this.matrix = n, this.type = 0, this.target = 6 } return t }(), Dh = function () { function t(e, r) { this.path = e, this.target = r, this.type = 1 } return t }(), zI = function () { function t(e) { this.opacity = e, this.type = 2, this.target = 6 } return t }(), qI = function (t) { return t.type === 0 }, r4 = function (t) { return t.type === 1 }, WI = function (t) { return t.type === 2 }, dy = function (t, e) { return t.length === e.length ? t.some(function (r, n) { return r === e[n] }) : !1 }, JI = function (t, e, r, n, s) { return t.map(function (a, A) { switch (A) { case 0: return a.add(e, r); case 1: return a.add(e + n, r); case 2: return a.add(e + n, r + s); case 3: return a.add(e, r + s) }return a }) }, n4 = function () { function t(e) { this.element = e, this.inlineLevel = [], this.nonInlineLevel = [], this.negativeZIndex = [], this.zeroOrAutoZIndexOrTransformedOrOpacity = [], this.positiveZIndex = [], this.nonPositionedFloats = [], this.nonPositionedInlineLevel = [] } return t }(), s4 = function () { function t(e, r) { if (this.container = e, this.parent = r, this.effects = [], this.curves = new KI(this.container), this.container.styles.opacity < 1 && this.effects.push(new zI(this.container.styles.opacity)), this.container.styles.transform !== null) { var n = this.container.bounds.left + this.container.styles.transformOrigin[0].number, s = this.container.bounds.top + this.container.styles.transformOrigin[1].number, a = this.container.styles.transform; this.effects.push(new VI(n, s, a)) } if (this.container.styles.overflowX !== 0) { var A = Zf(this.curves), o = e0(this.curves); dy(A, o) ? this.effects.push(new Dh(A, 6)) : (this.effects.push(new Dh(A, 2)), this.effects.push(new Dh(o, 4))) } } return t.prototype.getEffects = function (e) { for (var r = [2, 3].indexOf(this.container.styles.position) === -1, n = this.parent, s = this.effects.slice(0); n;) { var a = n.effects.filter(function (l) { return !r4(l) }); if (r || n.container.styles.position !== 0 || !n.parent) { if (s.unshift.apply(s, a), r = [2, 3].indexOf(n.container.styles.position) === -1, n.container.styles.overflowX !== 0) { var A = Zf(n.curves), o = e0(n.curves); dy(A, o) || s.unshift(new Dh(o, 6)) } } else s.unshift.apply(s, a); n = n.parent } return s.filter(function (l) { return qn(l.target, e) }) }, t }(), zm = function (t, e, r, n) { t.container.elements.forEach(function (s) { var a = qn(s.flags, 4), A = qn(s.flags, 2), o = new s4(s, t); qn(s.styles.display, 2048) && n.push(o); var l = qn(s.flags, 8) ? [] : n; if (a || A) { var c = a || s.styles.isPositioned() ? r : e, d = new n4(o); if (s.styles.isPositioned() || s.styles.opacity < 1 || s.styles.isTransformed()) { var p = s.styles.zIndex.order; if (p < 0) { var g = 0; c.negativeZIndex.some(function (b, w) { return p > b.element.container.styles.zIndex.order ? (g = w, !1) : g > 0 }), c.negativeZIndex.splice(g, 0, d) } else if (p > 0) { var h = 0; c.positiveZIndex.some(function (b, w) { return p >= b.element.container.styles.zIndex.order ? (h = w + 1, !1) : h > 0 }), c.positiveZIndex.splice(h, 0, d) } else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(d) } else s.styles.isFloating() ? c.nonPositionedFloats.push(d) : c.nonPositionedInlineLevel.push(d); zm(o, d, a ? d : r, l) } else s.styles.isInlineLevel() ? e.inlineLevel.push(o) : e.nonInlineLevel.push(o), zm(o, e, r, l); qn(s.flags, 8) && i4(s, l) }) }, i4 = function (t, e) { for (var r = t instanceof Mm ? t.start : 1, n = t instanceof Mm ? t.reversed : !1, s = 0; s < e.length; s++) { var a = e[s]; a.container instanceof MB && typeof a.container.value == "number" && a.container.value !== 0 && (r = a.container.value), a.listValue = jd(r, a.container.styles.listStyleType, !0), r += n ? -1 : 1 } }, YI = function (t) { var e = new s4(t, null), r = new n4(e), n = []; return zm(e, r, r, n), i4(e.container, n), r }, hy = function (t, e) { switch (e) { case 0: return Pi(t.topLeftBorderBox, t.topLeftPaddingBox, t.topRightBorderBox, t.topRightPaddingBox); case 1: return Pi(t.topRightBorderBox, t.topRightPaddingBox, t.bottomRightBorderBox, t.bottomRightPaddingBox); case 2: return Pi(t.bottomRightBorderBox, t.bottomRightPaddingBox, t.bottomLeftBorderBox, t.bottomLeftPaddingBox); case 3: default: return Pi(t.bottomLeftBorderBox, t.bottomLeftPaddingBox, t.topLeftBorderBox, t.topLeftPaddingBox) } }, XI = function (t, e) { switch (e) { case 0: return Pi(t.topLeftBorderBox, t.topLeftBorderDoubleOuterBox, t.topRightBorderBox, t.topRightBorderDoubleOuterBox); case 1: return Pi(t.topRightBorderBox, t.topRightBorderDoubleOuterBox, t.bottomRightBorderBox, t.bottomRightBorderDoubleOuterBox); case 2: return Pi(t.bottomRightBorderBox, t.bottomRightBorderDoubleOuterBox, t.bottomLeftBorderBox, t.bottomLeftBorderDoubleOuterBox); case 3: default: return Pi(t.bottomLeftBorderBox, t.bottomLeftBorderDoubleOuterBox, t.topLeftBorderBox, t.topLeftBorderDoubleOuterBox) } }, ZI = function (t, e) { switch (e) { case 0: return Pi(t.topLeftBorderDoubleInnerBox, t.topLeftPaddingBox, t.topRightBorderDoubleInnerBox, t.topRightPaddingBox); case 1: return Pi(t.topRightBorderDoubleInnerBox, t.topRightPaddingBox, t.bottomRightBorderDoubleInnerBox, t.bottomRightPaddingBox); case 2: return Pi(t.bottomRightBorderDoubleInnerBox, t.bottomRightPaddingBox, t.bottomLeftBorderDoubleInnerBox, t.bottomLeftPaddingBox); case 3: default: return Pi(t.bottomLeftBorderDoubleInnerBox, t.bottomLeftPaddingBox, t.topLeftBorderDoubleInnerBox, t.topLeftPaddingBox) } }, eQ = function (t, e) { switch (e) { case 0: return Rh(t.topLeftBorderStroke, t.topRightBorderStroke); case 1: return Rh(t.topRightBorderStroke, t.bottomRightBorderStroke); case 2: return Rh(t.bottomRightBorderStroke, t.bottomLeftBorderStroke); case 3: default: return Rh(t.bottomLeftBorderStroke, t.topLeftBorderStroke) } }, Rh = function (t, e) { var r = []; return Ti(t) ? r.push(t.subdivide(.5, !1)) : r.push(t), Ti(e) ? r.push(e.subdivide(.5, !0)) : r.push(e), r }, Pi = function (t, e, r, n) { var s = []; return Ti(t) ? s.push(t.subdivide(.5, !1)) : s.push(t), Ti(r) ? s.push(r.subdivide(.5, !0)) : s.push(r), Ti(n) ? s.push(n.subdivide(.5, !0).reverse()) : s.push(n), Ti(e) ? s.push(e.subdivide(.5, !1).reverse()) : s.push(e), s }, a4 = function (t) { var e = t.bounds, r = t.styles; return e.add(r.borderLeftWidth, r.borderTopWidth, -(r.borderRightWidth + r.borderLeftWidth), -(r.borderTopWidth + r.borderBottomWidth)) }, t0 = function (t) { var e = t.styles, r = t.bounds, n = Yr(e.paddingLeft, r.width), s = Yr(e.paddingRight, r.width), a = Yr(e.paddingTop, r.width), A = Yr(e.paddingBottom, r.width); return r.add(n + e.borderLeftWidth, a + e.borderTopWidth, -(e.borderRightWidth + e.borderLeftWidth + n + s), -(e.borderTopWidth + e.borderBottomWidth + a + A)) }, tQ = function (t, e) { return t === 0 ? e.bounds : t === 2 ? t0(e) : a4(e) }, rQ = function (t, e) { return t === 0 ? e.bounds : t === 2 ? t0(e) : a4(e) }, Xp = function (t, e, r) { var n = tQ(oc(t.styles.backgroundOrigin, e), t), s = rQ(oc(t.styles.backgroundClip, e), t), a = nQ(oc(t.styles.backgroundSize, e), r, n), A = a[0], o = a[1], l = Tu(oc(t.styles.backgroundPosition, e), n.width - A, n.height - o), c = sQ(oc(t.styles.backgroundRepeat, e), l, a, n, s), d = Math.round(n.left + l[0]), p = Math.round(n.top + l[1]); return [c, d, p, A, o] }, ec = function (t) { return Hr(t) && t.value === Ic.AUTO }, Hh = function (t) { return typeof t == "number" }, nQ = function (t, e, r) { var n = e[0], s = e[1], a = e[2], A = t[0], o = t[1]; if (!A) return [0, 0]; if (Rn(A) && o && Rn(o)) return [Yr(A, r.width), Yr(o, r.height)]; var l = Hh(a); if (Hr(A) && (A.value === Ic.CONTAIN || A.value === Ic.COVER)) { if (Hh(a)) { var c = r.width / r.height; return c < a != (A.value === Ic.COVER) ? [r.width, r.width / a] : [r.height * a, r.height] } return [r.width, r.height] } var d = Hh(n), p = Hh(s), g = d || p; if (ec(A) && (!o || ec(o))) { if (d && p) return [n, s]; if (!l && !g) return [r.width, r.height]; if (g && l) { var h = d ? n : s * a, b = p ? s : n / a; return [h, b] } var w = d ? n : r.width, j = p ? s : r.height; return [w, j] } if (l) { var x = 0, y = 0; return Rn(A) ? x = Yr(A, r.width) : Rn(o) && (y = Yr(o, r.height)), ec(A) ? x = y * a : (!o || ec(o)) && (y = x / a), [x, y] } var B = null, E = null; if (Rn(A) ? B = Yr(A, r.width) : o && Rn(o) && (E = Yr(o, r.height)), B !== null && (!o || ec(o)) && (E = d && p ? B / n * s : r.height), E !== null && ec(A) && (B = d && p ? E / s * n : r.width), B !== null && E !== null) return [B, E]; throw new Error("Unable to calculate background-size for element") }, oc = function (t, e) { var r = t[e]; return typeof r > "u" ? t[0] : r }, sQ = function (t, e, r, n, s) { var a = e[0], A = e[1], o = r[0], l = r[1]; switch (t) { case 2: return [new Tt(Math.round(n.left), Math.round(n.top + A)), new Tt(Math.round(n.left + n.width), Math.round(n.top + A)), new Tt(Math.round(n.left + n.width), Math.round(l + n.top + A)), new Tt(Math.round(n.left), Math.round(l + n.top + A))]; case 3: return [new Tt(Math.round(n.left + a), Math.round(n.top)), new Tt(Math.round(n.left + a + o), Math.round(n.top)), new Tt(Math.round(n.left + a + o), Math.round(n.height + n.top)), new Tt(Math.round(n.left + a), Math.round(n.height + n.top))]; case 1: return [new Tt(Math.round(n.left + a), Math.round(n.top + A)), new Tt(Math.round(n.left + a + o), Math.round(n.top + A)), new Tt(Math.round(n.left + a + o), Math.round(n.top + A + l)), new Tt(Math.round(n.left + a), Math.round(n.top + A + l))]; default: return [new Tt(Math.round(s.left), Math.round(s.top)), new Tt(Math.round(s.left + s.width), Math.round(s.top)), new Tt(Math.round(s.left + s.width), Math.round(s.height + s.top)), new Tt(Math.round(s.left), Math.round(s.height + s.top))] } }, iQ = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7", fy = "Hidden Text", aQ = function () { function t(e) { this._data = {}, this._document = e } return t.prototype.parseMetrics = function (e, r) { var n = this._document.createElement("div"), s = this._document.createElement("img"), a = this._document.createElement("span"), A = this._document.body; n.style.visibility = "hidden", n.style.fontFamily = e, n.style.fontSize = r, n.style.margin = "0", n.style.padding = "0", n.style.whiteSpace = "nowrap", A.appendChild(n), s.src = iQ, s.width = 1, s.height = 1, s.style.margin = "0", s.style.padding = "0", s.style.verticalAlign = "baseline", a.style.fontFamily = e, a.style.fontSize = r, a.style.margin = "0", a.style.padding = "0", a.appendChild(this._document.createTextNode(fy)), n.appendChild(a), n.appendChild(s); var o = s.offsetTop - a.offsetTop + 2; n.removeChild(a), n.appendChild(this._document.createTextNode(fy)), n.style.lineHeight = "normal", s.style.verticalAlign = "super"; var l = s.offsetTop - n.offsetTop + 2; return A.removeChild(n), { baseline: o, middle: l } }, t.prototype.getMetrics = function (e, r) { var n = e + " " + r; return typeof this._data[n] > "u" && (this._data[n] = this.parseMetrics(e, r)), this._data[n] }, t }(), A4 = function () { function t(e, r) { this.context = e, this.options = r } return t }(), AQ = 1e4, oQ = function (t) { fa(e, t); function e(r, n) { var s = t.call(this, r, n) || this; return s._activeEffects = [], s.canvas = n.canvas ? n.canvas : document.createElement("canvas"), s.ctx = s.canvas.getContext("2d"), n.canvas || (s.canvas.width = Math.floor(n.width * n.scale), s.canvas.height = Math.floor(n.height * n.scale), s.canvas.style.width = n.width + "px", s.canvas.style.height = n.height + "px"), s.fontMetrics = new aQ(document), s.ctx.scale(s.options.scale, s.options.scale), s.ctx.translate(-n.x, -n.y), s.ctx.textBaseline = "bottom", s._activeEffects = [], s.context.logger.debug("Canvas renderer initialized (" + n.width + "x" + n.height + ") with scale " + n.scale), s } return e.prototype.applyEffects = function (r) { for (var n = this; this._activeEffects.length;)this.popEffect(); r.forEach(function (s) { return n.applyEffect(s) }) }, e.prototype.applyEffect = function (r) { this.ctx.save(), WI(r) && (this.ctx.globalAlpha = r.opacity), qI(r) && (this.ctx.translate(r.offsetX, r.offsetY), this.ctx.transform(r.matrix[0], r.matrix[1], r.matrix[2], r.matrix[3], r.matrix[4], r.matrix[5]), this.ctx.translate(-r.offsetX, -r.offsetY)), r4(r) && (this.path(r.path), this.ctx.clip()), this._activeEffects.push(r) }, e.prototype.popEffect = function () { this._activeEffects.pop(), this.ctx.restore() }, e.prototype.renderStack = function (r) { return Us(this, void 0, void 0, function () { var n; return Cs(this, function (s) { switch (s.label) { case 0: return n = r.element.container.styles, n.isVisible() ? [4, this.renderStackContent(r)] : [3, 2]; case 1: s.sent(), s.label = 2; case 2: return [2] } }) }) }, e.prototype.renderNode = function (r) { return Us(this, void 0, void 0, function () { return Cs(this, function (n) { switch (n.label) { case 0: if (qn(r.container.flags, 16)) debugger; return r.container.styles.isVisible() ? [4, this.renderNodeBackgroundAndBorders(r)] : [3, 3]; case 1: return n.sent(), [4, this.renderNodeContent(r)]; case 2: n.sent(), n.label = 3; case 3: return [2] } }) }) }, e.prototype.renderTextWithLetterSpacing = function (r, n, s) { var a = this; if (n === 0) this.ctx.fillText(r.text, r.bounds.left, r.bounds.top + s); else { var A = l1(r.text); A.reduce(function (o, l) { return a.ctx.fillText(l, o, r.bounds.top + s), o + a.ctx.measureText(l).width }, r.bounds.left) } }, e.prototype.createFontStyle = function (r) { var n = r.fontVariant.filter(function (A) { return A === "normal" || A === "small-caps" }).join(""), s = hQ(r.fontFamily).join(", "), a = Pd(r.fontSize) ? "" + r.fontSize.number + r.fontSize.unit : r.fontSize.number + "px"; return [[r.fontStyle, n, r.fontWeight, a, s].join(" "), s, a] }, e.prototype.renderTextNode = function (r, n) { return Us(this, void 0, void 0, function () { var s, a, A, o, l, c, d, p, g = this; return Cs(this, function (h) { return s = this.createFontStyle(n), a = s[0], A = s[1], o = s[2], this.ctx.font = a, this.ctx.direction = n.direction === 1 ? "rtl" : "ltr", this.ctx.textAlign = "left", this.ctx.textBaseline = "alphabetic", l = this.fontMetrics.getMetrics(A, o), c = l.baseline, d = l.middle, p = n.paintOrder, r.textBounds.forEach(function (b) { p.forEach(function (w) { switch (w) { case 0: g.ctx.fillStyle = Xn(n.color), g.renderTextWithLetterSpacing(b, n.letterSpacing, c); var j = n.textShadow; j.length && b.text.trim().length && (j.slice(0).reverse().forEach(function (x) { g.ctx.shadowColor = Xn(x.color), g.ctx.shadowOffsetX = x.offsetX.number * g.options.scale, g.ctx.shadowOffsetY = x.offsetY.number * g.options.scale, g.ctx.shadowBlur = x.blur.number, g.renderTextWithLetterSpacing(b, n.letterSpacing, c) }), g.ctx.shadowColor = "", g.ctx.shadowOffsetX = 0, g.ctx.shadowOffsetY = 0, g.ctx.shadowBlur = 0), n.textDecorationLine.length && (g.ctx.fillStyle = Xn(n.textDecorationColor || n.color), n.textDecorationLine.forEach(function (x) { switch (x) { case 1: g.ctx.fillRect(b.bounds.left, Math.round(b.bounds.top + c), b.bounds.width, 1); break; case 2: g.ctx.fillRect(b.bounds.left, Math.round(b.bounds.top), b.bounds.width, 1); break; case 3: g.ctx.fillRect(b.bounds.left, Math.ceil(b.bounds.top + d), b.bounds.width, 1); break } })); break; case 1: n.webkitTextStrokeWidth && b.text.trim().length && (g.ctx.strokeStyle = Xn(n.webkitTextStrokeColor), g.ctx.lineWidth = n.webkitTextStrokeWidth, g.ctx.lineJoin = window.chrome ? "miter" : "round", g.ctx.strokeText(b.text, b.bounds.left, b.bounds.top + c)), g.ctx.strokeStyle = "", g.ctx.lineWidth = 0, g.ctx.lineJoin = "miter"; break } }) }), [2] }) }) }, e.prototype.renderReplacedElement = function (r, n, s) { if (s && r.intrinsicWidth > 0 && r.intrinsicHeight > 0) { var a = t0(r), A = e0(n); this.path(A), this.ctx.save(), this.ctx.clip(), this.ctx.drawImage(s, 0, 0, r.intrinsicWidth, r.intrinsicHeight, a.left, a.top, a.width, a.height), this.ctx.restore() } }, e.prototype.renderNodeContent = function (r) { return Us(this, void 0, void 0, function () { var n, s, a, A, o, l, y, y, c, d, p, g, E, h, b, T, w, j, x, y, B, E, T; return Cs(this, function (U) { switch (U.label) { case 0: this.applyEffects(r.getEffects(4)), n = r.container, s = r.curves, a = n.styles, A = 0, o = n.textNodes, U.label = 1; case 1: return A < o.length ? (l = o[A], [4, this.renderTextNode(l, a)]) : [3, 4]; case 2: U.sent(), U.label = 3; case 3: return A++, [3, 1]; case 4: if (!(n instanceof DB)) return [3, 8]; U.label = 5; case 5: return U.trys.push([5, 7, , 8]), [4, this.context.cache.match(n.src)]; case 6: return y = U.sent(), this.renderReplacedElement(n, s, y), [3, 8]; case 7: return U.sent(), this.context.logger.error("Error loading image " + n.src), [3, 8]; case 8: if (n instanceof RB && this.renderReplacedElement(n, s, n.canvas), !(n instanceof HB)) return [3, 12]; U.label = 9; case 9: return U.trys.push([9, 11, , 12]), [4, this.context.cache.match(n.svg)]; case 10: return y = U.sent(), this.renderReplacedElement(n, s, y), [3, 12]; case 11: return U.sent(), this.context.logger.error("Error loading svg " + n.svg.substring(0, 255)), [3, 12]; case 12: return n instanceof GB && n.tree ? (c = new e(this.context, { scale: this.options.scale, backgroundColor: n.backgroundColor, x: 0, y: 0, width: n.width, height: n.height }), [4, c.render(n.tree)]) : [3, 14]; case 13: d = U.sent(), n.width && n.height && this.ctx.drawImage(d, 0, 0, n.width, n.height, n.bounds.left, n.bounds.top, n.bounds.width, n.bounds.height), U.label = 14; case 14: if (n instanceof c1 && (p = Math.min(n.bounds.width, n.bounds.height), n.type === Wf ? n.checked && (this.ctx.save(), this.path([new Tt(n.bounds.left + p * .39363, n.bounds.top + p * .79), new Tt(n.bounds.left + p * .16, n.bounds.top + p * .5549), new Tt(n.bounds.left + p * .27347, n.bounds.top + p * .44071), new Tt(n.bounds.left + p * .39694, n.bounds.top + p * .5649), new Tt(n.bounds.left + p * .72983, n.bounds.top + p * .23), new Tt(n.bounds.left + p * .84, n.bounds.top + p * .34085), new Tt(n.bounds.left + p * .39363, n.bounds.top + p * .79)]), this.ctx.fillStyle = Xn(ty), this.ctx.fill(), this.ctx.restore()) : n.type === Jf && n.checked && (this.ctx.save(), this.ctx.beginPath(), this.ctx.arc(n.bounds.left + p / 2, n.bounds.top + p / 2, p / 4, 0, Math.PI * 2, !0), this.ctx.fillStyle = Xn(ty), this.ctx.fill(), this.ctx.restore())), lQ(n) && n.value.length) { switch (g = this.createFontStyle(a), E = g[0], h = g[1], b = this.fontMetrics.getMetrics(E, h).baseline, this.ctx.font = E, this.ctx.fillStyle = Xn(a.color), this.ctx.textBaseline = "alphabetic", this.ctx.textAlign = uQ(n.styles.textAlign), T = t0(n), w = 0, n.styles.textAlign) { case 1: w += T.width / 2; break; case 2: w += T.width; break }j = T.add(w, 0, 0, -T.height / 2 + 1), this.ctx.save(), this.path([new Tt(T.left, T.top), new Tt(T.left + T.width, T.top), new Tt(T.left + T.width, T.top + T.height), new Tt(T.left, T.top + T.height)]), this.ctx.clip(), this.renderTextWithLetterSpacing(new Xu(n.value, j), a.letterSpacing, b), this.ctx.restore(), this.ctx.textBaseline = "alphabetic", this.ctx.textAlign = "left" } if (!qn(n.styles.display, 2048)) return [3, 20]; if (n.styles.listStyleImage === null) return [3, 19]; if (x = n.styles.listStyleImage, x.type !== 0) return [3, 18]; y = void 0, B = x.url, U.label = 15; case 15: return U.trys.push([15, 17, , 18]), [4, this.context.cache.match(B)]; case 16: return y = U.sent(), this.ctx.drawImage(y, n.bounds.left - (y.width + 10), n.bounds.top), [3, 18]; case 17: return U.sent(), this.context.logger.error("Error loading list-style-image " + B), [3, 18]; case 18: return [3, 20]; case 19: r.listValue && n.styles.listStyleType !== -1 && (E = this.createFontStyle(a)[0], this.ctx.font = E, this.ctx.fillStyle = Xn(a.color), this.ctx.textBaseline = "middle", this.ctx.textAlign = "right", T = new BA(n.bounds.left, n.bounds.top + Yr(n.styles.paddingTop, n.bounds.width), n.bounds.width, Pw(a.lineHeight, a.fontSize.number) / 2 + 1), this.renderTextWithLetterSpacing(new Xu(r.listValue, T), a.letterSpacing, Pw(a.lineHeight, a.fontSize.number) / 2 + 2), this.ctx.textBaseline = "bottom", this.ctx.textAlign = "left"), U.label = 20; case 20: return [2] } }) }) }, e.prototype.renderStackContent = function (r) { return Us(this, void 0, void 0, function () { var n, s, x, a, A, x, o, l, x, c, d, x, p, g, x, h, b, x, w, j, x; return Cs(this, function (y) { switch (y.label) { case 0: if (qn(r.element.container.flags, 16)) debugger; return [4, this.renderNodeBackgroundAndBorders(r.element)]; case 1: y.sent(), n = 0, s = r.negativeZIndex, y.label = 2; case 2: return n < s.length ? (x = s[n], [4, this.renderStack(x)]) : [3, 5]; case 3: y.sent(), y.label = 4; case 4: return n++, [3, 2]; case 5: return [4, this.renderNodeContent(r.element)]; case 6: y.sent(), a = 0, A = r.nonInlineLevel, y.label = 7; case 7: return a < A.length ? (x = A[a], [4, this.renderNode(x)]) : [3, 10]; case 8: y.sent(), y.label = 9; case 9: return a++, [3, 7]; case 10: o = 0, l = r.nonPositionedFloats, y.label = 11; case 11: return o < l.length ? (x = l[o], [4, this.renderStack(x)]) : [3, 14]; case 12: y.sent(), y.label = 13; case 13: return o++, [3, 11]; case 14: c = 0, d = r.nonPositionedInlineLevel, y.label = 15; case 15: return c < d.length ? (x = d[c], [4, this.renderStack(x)]) : [3, 18]; case 16: y.sent(), y.label = 17; case 17: return c++, [3, 15]; case 18: p = 0, g = r.inlineLevel, y.label = 19; case 19: return p < g.length ? (x = g[p], [4, this.renderNode(x)]) : [3, 22]; case 20: y.sent(), y.label = 21; case 21: return p++, [3, 19]; case 22: h = 0, b = r.zeroOrAutoZIndexOrTransformedOrOpacity, y.label = 23; case 23: return h < b.length ? (x = b[h], [4, this.renderStack(x)]) : [3, 26]; case 24: y.sent(), y.label = 25; case 25: return h++, [3, 23]; case 26: w = 0, j = r.positiveZIndex, y.label = 27; case 27: return w < j.length ? (x = j[w], [4, this.renderStack(x)]) : [3, 30]; case 28: y.sent(), y.label = 29; case 29: return w++, [3, 27]; case 30: return [2] } }) }) }, e.prototype.mask = function (r) { this.ctx.beginPath(), this.ctx.moveTo(0, 0), this.ctx.lineTo(this.canvas.width, 0), this.ctx.lineTo(this.canvas.width, this.canvas.height), this.ctx.lineTo(0, this.canvas.height), this.ctx.lineTo(0, 0), this.formatPath(r.slice(0).reverse()), this.ctx.closePath() }, e.prototype.path = function (r) { this.ctx.beginPath(), this.formatPath(r), this.ctx.closePath() }, e.prototype.formatPath = function (r) { var n = this; r.forEach(function (s, a) { var A = Ti(s) ? s.start : s; a === 0 ? n.ctx.moveTo(A.x, A.y) : n.ctx.lineTo(A.x, A.y), Ti(s) && n.ctx.bezierCurveTo(s.startControl.x, s.startControl.y, s.endControl.x, s.endControl.y, s.end.x, s.end.y) }) }, e.prototype.renderRepeat = function (r, n, s, a) { this.path(r), this.ctx.fillStyle = n, this.ctx.translate(s, a), this.ctx.fill(), this.ctx.translate(-s, -a) }, e.prototype.resizeImage = function (r, n, s) { var a; if (r.width === n && r.height === s) return r; var A = (a = this.canvas.ownerDocument) !== null && a !== void 0 ? a : document, o = A.createElement("canvas"); o.width = Math.max(1, n), o.height = Math.max(1, s); var l = o.getContext("2d"); return l.drawImage(r, 0, 0, r.width, r.height, 0, 0, n, s), o }, e.prototype.renderBackgroundImage = function (r) { return Us(this, void 0, void 0, function () { var n, s, a, A, o, l; return Cs(this, function (c) { switch (c.label) { case 0: n = r.styles.backgroundImage.length - 1, s = function (d) { var p, g, h, H, ce, he, V, P, G, b, H, ce, he, V, P, w, j, x, y, B, E, T, U, M, G, N, H, k, _, V, P, te, ce, he, ie, ue, pe, ve, I, R, re, Y; return Cs(this, function (le) { switch (le.label) { case 0: if (d.type !== 0) return [3, 5]; p = void 0, g = d.url, le.label = 1; case 1: return le.trys.push([1, 3, , 4]), [4, a.context.cache.match(g)]; case 2: return p = le.sent(), [3, 4]; case 3: return le.sent(), a.context.logger.error("Error loading background-image " + g), [3, 4]; case 4: return p && (h = Xp(r, n, [p.width, p.height, p.width / p.height]), H = h[0], ce = h[1], he = h[2], V = h[3], P = h[4], G = a.ctx.createPattern(a.resizeImage(p, V, P), "repeat"), a.renderRepeat(H, G, ce, he)), [3, 6]; case 5: q_(d) ? (b = Xp(r, n, [null, null, null]), H = b[0], ce = b[1], he = b[2], V = b[3], P = b[4], w = $_(d.angle, V, P), j = w[0], x = w[1], y = w[2], B = w[3], E = w[4], T = document.createElement("canvas"), T.width = V, T.height = P, U = T.getContext("2d"), M = U.createLinearGradient(x, B, y, E), Lw(d.stops, j).forEach(function (ge) { return M.addColorStop(ge.stop, Xn(ge.color)) }), U.fillStyle = M, U.fillRect(0, 0, V, P), V > 0 && P > 0 && (G = a.ctx.createPattern(T, "repeat"), a.renderRepeat(H, G, ce, he))) : W_(d) && (N = Xp(r, n, [null, null, null]), H = N[0], k = N[1], _ = N[2], V = N[3], P = N[4], te = d.position.length === 0 ? [a1] : d.position, ce = Yr(te[0], V), he = Yr(te[te.length - 1], P), ie = K_(d, ce, he, V, P), ue = ie[0], pe = ie[1], ue > 0 && pe > 0 && (ve = a.ctx.createRadialGradient(k + ce, _ + he, 0, k + ce, _ + he, ue), Lw(d.stops, ue * 2).forEach(function (ge) { return ve.addColorStop(ge.stop, Xn(ge.color)) }), a.path(H), a.ctx.fillStyle = ve, ue !== pe ? (I = r.bounds.left + .5 * r.bounds.width, R = r.bounds.top + .5 * r.bounds.height, re = pe / ue, Y = 1 / re, a.ctx.save(), a.ctx.translate(I, R), a.ctx.transform(1, 0, 0, re, 0, 0), a.ctx.translate(-I, -R), a.ctx.fillRect(k, Y * (_ - R) + R, V, P * Y), a.ctx.restore()) : a.ctx.fill())), le.label = 6; case 6: return n--, [2] } }) }, a = this, A = 0, o = r.styles.backgroundImage.slice(0).reverse(), c.label = 1; case 1: return A < o.length ? (l = o[A], [5, s(l)]) : [3, 4]; case 2: c.sent(), c.label = 3; case 3: return A++, [3, 1]; case 4: return [2] } }) }) }, e.prototype.renderSolidBorder = function (r, n, s) { return Us(this, void 0, void 0, function () { return Cs(this, function (a) { return this.path(hy(s, n)), this.ctx.fillStyle = Xn(r), this.ctx.fill(), [2] }) }) }, e.prototype.renderDoubleBorder = function (r, n, s, a) { return Us(this, void 0, void 0, function () { var A, o; return Cs(this, function (l) { switch (l.label) { case 0: return n < 3 ? [4, this.renderSolidBorder(r, s, a)] : [3, 2]; case 1: return l.sent(), [2]; case 2: return A = XI(a, s), this.path(A), this.ctx.fillStyle = Xn(r), this.ctx.fill(), o = ZI(a, s), this.path(o), this.ctx.fill(), [2] } }) }) }, e.prototype.renderNodeBackgroundAndBorders = function (r) { return Us(this, void 0, void 0, function () { var n, s, a, A, o, l, c, d, p = this; return Cs(this, function (g) { switch (g.label) { case 0: return this.applyEffects(r.getEffects(2)), n = r.container.styles, s = !No(n.backgroundColor) || n.backgroundImage.length, a = [{ style: n.borderTopStyle, color: n.borderTopColor, width: n.borderTopWidth }, { style: n.borderRightStyle, color: n.borderRightColor, width: n.borderRightWidth }, { style: n.borderBottomStyle, color: n.borderBottomColor, width: n.borderBottomWidth }, { style: n.borderLeftStyle, color: n.borderLeftColor, width: n.borderLeftWidth }], A = cQ(oc(n.backgroundClip, 0), r.curves), s || n.boxShadow.length ? (this.ctx.save(), this.path(A), this.ctx.clip(), No(n.backgroundColor) || (this.ctx.fillStyle = Xn(n.backgroundColor), this.ctx.fill()), [4, this.renderBackgroundImage(r.container)]) : [3, 2]; case 1: g.sent(), this.ctx.restore(), n.boxShadow.slice(0).reverse().forEach(function (h) { p.ctx.save(); var b = Zf(r.curves), w = h.inset ? 0 : AQ, j = JI(b, -w + (h.inset ? 1 : -1) * h.spread.number, (h.inset ? 1 : -1) * h.spread.number, h.spread.number * (h.inset ? -2 : 2), h.spread.number * (h.inset ? -2 : 2)); h.inset ? (p.path(b), p.ctx.clip(), p.mask(j)) : (p.mask(b), p.ctx.clip(), p.path(j)), p.ctx.shadowOffsetX = h.offsetX.number + w, p.ctx.shadowOffsetY = h.offsetY.number, p.ctx.shadowColor = Xn(h.color), p.ctx.shadowBlur = h.blur.number, p.ctx.fillStyle = h.inset ? Xn(h.color) : "rgba(0,0,0,1)", p.ctx.fill(), p.ctx.restore() }), g.label = 2; case 2: o = 0, l = 0, c = a, g.label = 3; case 3: return l < c.length ? (d = c[l], d.style !== 0 && !No(d.color) && d.width > 0 ? d.style !== 2 ? [3, 5] : [4, this.renderDashedDottedBorder(d.color, d.width, o, r.curves, 2)] : [3, 11]) : [3, 13]; case 4: return g.sent(), [3, 11]; case 5: return d.style !== 3 ? [3, 7] : [4, this.renderDashedDottedBorder(d.color, d.width, o, r.curves, 3)]; case 6: return g.sent(), [3, 11]; case 7: return d.style !== 4 ? [3, 9] : [4, this.renderDoubleBorder(d.color, d.width, o, r.curves)]; case 8: return g.sent(), [3, 11]; case 9: return [4, this.renderSolidBorder(d.color, o, r.curves)]; case 10: g.sent(), g.label = 11; case 11: o++, g.label = 12; case 12: return l++, [3, 3]; case 13: return [2] } }) }) }, e.prototype.renderDashedDottedBorder = function (r, n, s, a, A) { return Us(this, void 0, void 0, function () { var o, l, c, d, p, g, h, b, w, j, x, y, B, E, T, U, T, U; return Cs(this, function (M) { return this.ctx.save(), o = eQ(a, s), l = hy(a, s), A === 2 && (this.path(l), this.ctx.clip()), Ti(l[0]) ? (c = l[0].start.x, d = l[0].start.y) : (c = l[0].x, d = l[0].y), Ti(l[1]) ? (p = l[1].end.x, g = l[1].end.y) : (p = l[1].x, g = l[1].y), s === 0 || s === 2 ? h = Math.abs(c - p) : h = Math.abs(d - g), this.ctx.beginPath(), A === 3 ? this.formatPath(o) : this.formatPath(l.slice(0, 2)), b = n < 3 ? n * 3 : n * 2, w = n < 3 ? n * 2 : n, A === 3 && (b = n, w = n), j = !0, h <= b * 2 ? j = !1 : h <= b * 2 + w ? (x = h / (2 * b + w), b *= x, w *= x) : (y = Math.floor((h + w) / (b + w)), B = (h - y * b) / (y - 1), E = (h - (y + 1) * b) / y, w = E <= 0 || Math.abs(w - B) < Math.abs(w - E) ? B : E), j && (A === 3 ? this.ctx.setLineDash([0, b + w]) : this.ctx.setLineDash([b, w])), A === 3 ? (this.ctx.lineCap = "round", this.ctx.lineWidth = n) : this.ctx.lineWidth = n * 2 + 1.1, this.ctx.strokeStyle = Xn(r), this.ctx.stroke(), this.ctx.setLineDash([]), A === 2 && (Ti(l[0]) && (T = l[3], U = l[0], this.ctx.beginPath(), this.formatPath([new Tt(T.end.x, T.end.y), new Tt(U.start.x, U.start.y)]), this.ctx.stroke()), Ti(l[1]) && (T = l[1], U = l[2], this.ctx.beginPath(), this.formatPath([new Tt(T.end.x, T.end.y), new Tt(U.start.x, U.start.y)]), this.ctx.stroke())), this.ctx.restore(), [2] }) }) }, e.prototype.render = function (r) { return Us(this, void 0, void 0, function () { var n; return Cs(this, function (s) { switch (s.label) { case 0: return this.options.backgroundColor && (this.ctx.fillStyle = Xn(this.options.backgroundColor), this.ctx.fillRect(this.options.x, this.options.y, this.options.width, this.options.height)), n = YI(r), [4, this.renderStack(n)]; case 1: return s.sent(), this.applyEffects([]), [2, this.canvas] } }) }) }, e }(A4), lQ = function (t) { return t instanceof KB || t instanceof $B ? !0 : t instanceof c1 && t.type !== Jf && t.type !== Wf }, cQ = function (t, e) { switch (t) { case 0: return Zf(e); case 2: return GI(e); case 1: default: return e0(e) } }, uQ = function (t) { switch (t) { case 1: return "center"; case 2: return "right"; case 0: default: return "left" } }, dQ = ["-apple-system", "system-ui"], hQ = function (t) { return /iPhone OS 15_(0|1)/.test(window.navigator.userAgent) ? t.filter(function (e) { return dQ.indexOf(e) === -1 }) : t }, fQ = function (t) { fa(e, t); function e(r, n) { var s = t.call(this, r, n) || this; return s.canvas = n.canvas ? n.canvas : document.createElement("canvas"), s.ctx = s.canvas.getContext("2d"), s.options = n, s.canvas.width = Math.floor(n.width * n.scale), s.canvas.height = Math.floor(n.height * n.scale), s.canvas.style.width = n.width + "px", s.canvas.style.height = n.height + "px", s.ctx.scale(s.options.scale, s.options.scale), s.ctx.translate(-n.x, -n.y), s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized (" + n.width + "x" + n.height + " at " + n.x + "," + n.y + ") with scale " + n.scale), s } return e.prototype.render = function (r) { return Us(this, void 0, void 0, function () { var n, s; return Cs(this, function (a) { switch (a.label) { case 0: return n = Hm(this.options.width * this.options.scale, this.options.height * this.options.scale, this.options.scale, this.options.scale, r), [4, pQ(n)]; case 1: return s = a.sent(), this.options.backgroundColor && (this.ctx.fillStyle = Xn(this.options.backgroundColor), this.ctx.fillRect(0, 0, this.options.width * this.options.scale, this.options.height * this.options.scale)), this.ctx.drawImage(s, -this.options.x * this.options.scale, -this.options.y * this.options.scale), [2, this.canvas] } }) }) }, e }(A4), pQ = function (t) { return new Promise(function (e, r) { var n = new Image; n.onload = function () { e(n) }, n.onerror = r, n.src = "data:image/svg+xml;charset=utf-8," + encodeURIComponent(new XMLSerializer().serializeToString(t)) }) }, gQ = function () { function t(e) { var r = e.id, n = e.enabled; this.id = r, this.enabled = n, this.start = Date.now() } return t.prototype.debug = function () { for (var e = [], r = 0; r < arguments.length; r++)e[r] = arguments[r]; this.enabled && (typeof window < "u" && window.console && typeof console.debug == "function" ? console.debug.apply(console, vh([this.id, this.getTime() + "ms"], e)) : this.info.apply(this, e)) }, t.prototype.getTime = function () { return Date.now() - this.start }, t.prototype.info = function () { for (var e = [], r = 0; r < arguments.length; r++)e[r] = arguments[r]; this.enabled && typeof window < "u" && window.console && typeof console.info == "function" && console.info.apply(console, vh([this.id, this.getTime() + "ms"], e)) }, t.prototype.warn = function () { for (var e = [], r = 0; r < arguments.length; r++)e[r] = arguments[r]; this.enabled && (typeof window < "u" && window.console && typeof console.warn == "function" ? console.warn.apply(console, vh([this.id, this.getTime() + "ms"], e)) : this.info.apply(this, e)) }, t.prototype.error = function () { for (var e = [], r = 0; r < arguments.length; r++)e[r] = arguments[r]; this.enabled && (typeof window < "u" && window.console && typeof console.error == "function" ? console.error.apply(console, vh([this.id, this.getTime() + "ms"], e)) : this.info.apply(this, e)) }, t.instances = {}, t }(), mQ = function () { function t(e, r) { var n; this.windowBounds = r, this.instanceName = "#" + t.instanceCount++, this.logger = new gQ({ id: this.instanceName, enabled: e.logging }), this.cache = (n = e.cache) !== null && n !== void 0 ? n : new OI(this, e) } return t.instanceCount = 1, t }(), xQ = function (t, e) { return e === void 0 && (e = {}), vQ(t, e) }; typeof window < "u" && t4.setContext(window); var vQ = function (t, e) { return Us(void 0, void 0, void 0, function () { var r, n, s, a, A, o, l, c, d, p, g, h, b, w, j, x, y, B, E, T, M, U, M, G, N, H, k, _, V, P, te, ce, he, ie, ue, pe, ve, I, R, re; return Cs(this, function (Y) { switch (Y.label) { case 0: if (!t || typeof t != "object") return [2, Promise.reject("Invalid element provided as first argument")]; if (r = t.ownerDocument, !r) throw new Error("Element is not attached to a Document"); if (n = r.defaultView, !n) throw new Error("Document is not attached to a Window"); return s = { allowTaint: (G = e.allowTaint) !== null && G !== void 0 ? G : !1, imageTimeout: (N = e.imageTimeout) !== null && N !== void 0 ? N : 15e3, proxy: e.proxy, useCORS: (H = e.useCORS) !== null && H !== void 0 ? H : !1 }, a = Sm({ logging: (k = e.logging) !== null && k !== void 0 ? k : !0, cache: e.cache }, s), A = { windowWidth: (_ = e.windowWidth) !== null && _ !== void 0 ? _ : n.innerWidth, windowHeight: (V = e.windowHeight) !== null && V !== void 0 ? V : n.innerHeight, scrollX: (P = e.scrollX) !== null && P !== void 0 ? P : n.pageXOffset, scrollY: (te = e.scrollY) !== null && te !== void 0 ? te : n.pageYOffset }, o = new BA(A.scrollX, A.scrollY, A.windowWidth, A.windowHeight), l = new mQ(a, o), c = (ce = e.foreignObjectRendering) !== null && ce !== void 0 ? ce : !1, d = { allowTaint: (he = e.allowTaint) !== null && he !== void 0 ? he : !1, onclone: e.onclone, ignoreElements: e.ignoreElements, inlineImages: c, copyStyles: c }, l.logger.debug("Starting document clone with size " + o.width + "x" + o.height + " scrolled to " + -o.left + "," + -o.top), p = new cy(l, t, d), g = p.clonedReferenceElement, g ? [4, p.toIFrame(r, o)] : [2, Promise.reject("Unable to find element in cloned iframe")]; case 1: return h = Y.sent(), b = u1(g) || wI(g) ? JE(g.ownerDocument) : S0(l, g), w = b.width, j = b.height, x = b.left, y = b.top, B = wQ(l, g, e.backgroundColor), E = { canvas: e.canvas, backgroundColor: B, scale: (ue = (ie = e.scale) !== null && ie !== void 0 ? ie : n.devicePixelRatio) !== null && ue !== void 0 ? ue : 1, x: ((pe = e.x) !== null && pe !== void 0 ? pe : 0) + x, y: ((ve = e.y) !== null && ve !== void 0 ? ve : 0) + y, width: (I = e.width) !== null && I !== void 0 ? I : Math.ceil(w), height: (R = e.height) !== null && R !== void 0 ? R : Math.ceil(j) }, c ? (l.logger.debug("Document cloned, using foreign object rendering"), M = new fQ(l, E), [4, M.render(g)]) : [3, 3]; case 2: return T = Y.sent(), [3, 5]; case 3: return l.logger.debug("Document cloned, element located at " + x + "," + y + " with size " + w + "x" + j + " using computed rendering"), l.logger.debug("Starting DOM parsing"), U = zB(l, g), B === U.styles.backgroundColor && (U.styles.backgroundColor = xA.TRANSPARENT), l.logger.debug("Starting renderer for element at " + E.x + "," + E.y + " with size " + E.width + "x" + E.height), M = new oQ(l, E), [4, M.render(U)]; case 4: T = Y.sent(), Y.label = 5; case 5: return (!((re = e.removeContainer) !== null && re !== void 0) || re) && (cy.destroy(h) || l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")), l.logger.debug("Finished rendering"), [2, T] } }) }) }, wQ = function (t, e, r) { var n = e.ownerDocument, s = n.documentElement ? Ju(t, getComputedStyle(n.documentElement).backgroundColor) : xA.TRANSPARENT, a = n.body ? Ju(t, getComputedStyle(n.body).backgroundColor) : xA.TRANSPARENT, A = typeof r == "string" ? Ju(t, r) : r === null ? xA.TRANSPARENT : 4294967295; return e === n.documentElement ? No(s) ? No(a) ? A : a : s : A }; const yQ = Object.freeze(Object.defineProperty({ __proto__: null, default: xQ }, Symbol.toStringTag, { value: "Module" })), bQ = "modulepreload", BQ = function (t) { return "/" + t }, py = {}, Zp = function (e, r, n) { let s = Promise.resolve(); if (r && r.length > 0) { document.getElementsByTagName("link"); const A = document.querySelector("meta[property=csp-nonce]"), o = (A == null ? void 0 : A.nonce) || (A == null ? void 0 : A.getAttribute("nonce")); s = Promise.allSettled(r.map(l => { if (l = BQ(l), l in py) return; py[l] = !0; const c = l.endsWith(".css"), d = c ? '[rel="stylesheet"]' : ""; if (document.querySelector(`link[href="${l}"]${d}`)) return; const p = document.createElement("link"); if (p.rel = c ? "stylesheet" : bQ, c || (p.as = "script"), p.crossOrigin = "", p.href = l, o && p.setAttribute("nonce", o), document.head.appendChild(p), c) return new Promise((g, h) => { p.addEventListener("load", g), p.addEventListener("error", () => h(new Error(`Unable to preload CSS for ${l}`))) }) })) } function a(A) { const o = new Event("vite:preloadError", { cancelable: !0 }); if (o.payload = A, window.dispatchEvent(o), !o.defaultPrevented) throw A } return s.then(A => { for (const o of A || []) o.status === "rejected" && a(o.reason); return e().catch(a) }) }; function Pr(t) { "@babel/helpers - typeof"; return Pr = typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? function (e) { return typeof e } : function (e) { return e && typeof Symbol == "function" && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, Pr(t) } var ha = Uint8Array, di = Uint16Array, d1 = Int32Array, h1 = new ha([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0, 0]), f1 = new ha([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13, 0, 0]), gy = new ha([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]), o4 = function (t, e) { for (var r = new di(31), n = 0; n < 31; ++n)r[n] = e += 1 << t[n - 1]; for (var s = new d1(r[30]), n = 1; n < 30; ++n)for (var a = r[n]; a < r[n + 1]; ++a)s[a] = a - r[n] << 5 | n; return { b: r, r: s } }, l4 = o4(h1, 2), CQ = l4.b, qm = l4.r; CQ[28] = 258, qm[258] = 28; var NQ = o4(f1, 0), my = NQ.r, Wm = new di(32768); for (var rn = 0; rn < 32768; ++rn) { var XA = (rn & 43690) >> 1 | (rn & 21845) << 1; XA = (XA & 52428) >> 2 | (XA & 13107) << 2, XA = (XA & 61680) >> 4 | (XA & 3855) << 4, Wm[rn] = ((XA & 65280) >> 8 | (XA & 255) << 8) >> 1 } var ed = function (t, e, r) { for (var n = t.length, s = 0, a = new di(e); s < n; ++s)t[s] && ++a[t[s] - 1]; var A = new di(e); for (s = 1; s < e; ++s)A[s] = A[s - 1] + a[s - 1] << 1; var o; if (r) { o = new di(1 << e); var l = 15 - e; for (s = 0; s < n; ++s)if (t[s]) for (var c = s << 4 | t[s], d = e - t[s], p = A[t[s] - 1]++ << d, g = p | (1 << d) - 1; p <= g; ++p)o[Wm[p] >> l] = c } else for (o = new di(n), s = 0; s < n; ++s)t[s] && (o[s] = Wm[A[t[s] - 1]++] >> 15 - t[s]); return o }, vl = new ha(288); for (var rn = 0; rn < 144; ++rn)vl[rn] = 8; for (var rn = 144; rn < 256; ++rn)vl[rn] = 9; for (var rn = 256; rn < 280; ++rn)vl[rn] = 7; for (var rn = 280; rn < 288; ++rn)vl[rn] = 8; var r0 = new ha(32); for (var rn = 0; rn < 32; ++rn)r0[rn] = 5; var SQ = ed(vl, 9, 0), jQ = ed(r0, 5, 0), c4 = function (t) { return (t + 7) / 8 | 0 }, EQ = function (t, e, r) { return (r == null || r > t.length) && (r = t.length), new ha(t.subarray(e, r)) }, lA = function (t, e, r) { r <<= e & 7; var n = e / 8 | 0; t[n] |= r, t[n + 1] |= r >> 8 }, Cu = function (t, e, r) { r <<= e & 7; var n = e / 8 | 0; t[n] |= r, t[n + 1] |= r >> 8, t[n + 2] |= r >> 16 }, eg = function (t, e) { for (var r = [], n = 0; n < t.length; ++n)t[n] && r.push({ s: n, f: t[n] }); var s = r.length, a = r.slice(); if (!s) return { t: d4, l: 0 }; if (s == 1) { var A = new ha(r[0].s + 1); return A[r[0].s] = 1, { t: A, l: 1 } } r.sort(function (T, U) { return T.f - U.f }), r.push({ s: -1, f: 25001 }); var o = r[0], l = r[1], c = 0, d = 1, p = 2; for (r[0] = { s: -1, f: o.f + l.f, l: o, r: l }; d != s - 1;)o = r[r[c].f < r[p].f ? c++ : p++], l = r[c != d && r[c].f < r[p].f ? c++ : p++], r[d++] = { s: -1, f: o.f + l.f, l: o, r: l }; for (var g = a[0].s, n = 1; n < s; ++n)a[n].s > g && (g = a[n].s); var h = new di(g + 1), b = Jm(r[d - 1], h, 0); if (b > e) { var n = 0, w = 0, j = b - e, x = 1 << j; for (a.sort(function (U, M) { return h[M.s] - h[U.s] || U.f - M.f }); n < s; ++n) { var y = a[n].s; if (h[y] > e) w += x - (1 << b - h[y]), h[y] = e; else break } for (w >>= j; w > 0;) { var B = a[n].s; h[B] < e ? w -= 1 << e - h[B]++ - 1 : ++n } for (; n >= 0 && w; --n) { var E = a[n].s; h[E] == e && (--h[E], ++w) } b = e } return { t: new ha(h), l: b } }, Jm = function (t, e, r) { return t.s == -1 ? Math.max(Jm(t.l, e, r + 1), Jm(t.r, e, r + 1)) : e[t.s] = r }, xy = function (t) { for (var e = t.length; e && !t[--e];); for (var r = new di(++e), n = 0, s = t[0], a = 1, A = function (l) { r[n++] = l }, o = 1; o <= e; ++o)if (t[o] == s && o != e) ++a; else { if (!s && a > 2) { for (; a > 138; a -= 138)A(32754); a > 2 && (A(a > 10 ? a - 11 << 5 | 28690 : a - 3 << 5 | 12305), a = 0) } else if (a > 3) { for (A(s), --a; a > 6; a -= 6)A(8304); a > 2 && (A(a - 3 << 5 | 8208), a = 0) } for (; a--;)A(s); a = 1, s = t[o] } return { c: r.subarray(0, n), n: e } }, Nu = function (t, e) { for (var r = 0, n = 0; n < e.length; ++n)r += t[n] * e[n]; return r }, u4 = function (t, e, r) { var n = r.length, s = c4(e + 2); t[s] = n & 255, t[s + 1] = n >> 8, t[s + 2] = t[s] ^ 255, t[s + 3] = t[s + 1] ^ 255; for (var a = 0; a < n; ++a)t[s + a + 4] = r[a]; return (s + 4 + n) * 8 }, vy = function (t, e, r, n, s, a, A, o, l, c, d) { lA(e, d++, r), ++s[256]; for (var p = eg(s, 15), g = p.t, h = p.l, b = eg(a, 15), w = b.t, j = b.l, x = xy(g), y = x.c, B = x.n, E = xy(w), T = E.c, U = E.n, M = new di(19), G = 0; G < y.length; ++G)++M[y[G] & 31]; for (var G = 0; G < T.length; ++G)++M[T[G] & 31]; for (var N = eg(M, 7), H = N.t, k = N.l, _ = 19; _ > 4 && !H[gy[_ - 1]]; --_); var V = c + 5 << 3, P = Nu(s, vl) + Nu(a, r0) + A, te = Nu(s, g) + Nu(a, w) + A + 14 + 3 * _ + Nu(M, H) + 2 * M[16] + 3 * M[17] + 7 * M[18]; if (l >= 0 && V <= P && V <= te) return u4(e, d, t.subarray(l, l + c)); var ce, he, ie, ue; if (lA(e, d, 1 + (te < P)), d += 2, te < P) { ce = ed(g, h, 0), he = g, ie = ed(w, j, 0), ue = w; var pe = ed(H, k, 0); lA(e, d, B - 257), lA(e, d + 5, U - 1), lA(e, d + 10, _ - 4), d += 14; for (var G = 0; G < _; ++G)lA(e, d + 3 * G, H[gy[G]]); d += 3 * _; for (var ve = [y, T], I = 0; I < 2; ++I)for (var R = ve[I], G = 0; G < R.length; ++G) { var re = R[G] & 31; lA(e, d, pe[re]), d += H[re], re > 15 && (lA(e, d, R[G] >> 5 & 127), d += R[G] >> 12) } } else ce = SQ, he = vl, ie = jQ, ue = r0; for (var G = 0; G < o; ++G) { var Y = n[G]; if (Y > 255) { var re = Y >> 18 & 31; Cu(e, d, ce[re + 257]), d += he[re + 257], re > 7 && (lA(e, d, Y >> 23 & 31), d += h1[re]); var le = Y & 31; Cu(e, d, ie[le]), d += ue[le], le > 3 && (Cu(e, d, Y >> 5 & 8191), d += f1[le]) } else Cu(e, d, ce[Y]), d += he[Y] } return Cu(e, d, ce[256]), d + he[256] }, FQ = new d1([65540, 131080, 131088, 131104, 262176, 1048704, 1048832, 2114560, 2117632]), d4 = new ha(0), _Q = function (t, e, r, n, s, a) { var A = a.z || t.length, o = new ha(n + A + 5 * (1 + Math.ceil(A / 7e3)) + s), l = o.subarray(n, o.length - s), c = a.l, d = (a.r || 0) & 7; if (e) { d && (l[0] = a.r >> 3); for (var p = FQ[e - 1], g = p >> 13, h = p & 8191, b = (1 << r) - 1, w = a.p || new di(32768), j = a.h || new di(b + 1), x = Math.ceil(r / 3), y = 2 * x, B = function (Ze) { return (t[Ze] ^ t[Ze + 1] << x ^ t[Ze + 2] << y) & b }, E = new d1(25e3), T = new di(288), U = new di(32), M = 0, G = 0, N = a.i || 0, H = 0, k = a.w || 0, _ = 0; N + 2 < A; ++N) { var V = B(N), P = N & 32767, te = j[V]; if (w[P] = te, j[V] = P, k <= N) { var ce = A - N; if ((M > 7e3 || H > 24576) && (ce > 423 || !c)) { d = vy(t, l, 0, E, T, U, G, H, _, N - _, d), H = M = G = 0, _ = N; for (var he = 0; he < 286; ++he)T[he] = 0; for (var he = 0; he < 30; ++he)U[he] = 0 } var ie = 2, ue = 0, pe = h, ve = P - te & 32767; if (ce > 2 && V == B(N - ve)) for (var I = Math.min(g, ce) - 1, R = Math.min(32767, N), re = Math.min(258, ce); ve <= R && --pe && P != te;) { if (t[N + ie] == t[N + ie - ve]) { for (var Y = 0; Y < re && t[N + Y] == t[N + Y - ve]; ++Y); if (Y > ie) { if (ie = Y, ue = ve, Y > I) break; for (var le = Math.min(ve, Y - 2), ge = 0, he = 0; he < le; ++he) { var ke = N - ve + he & 32767, Fe = w[ke], Le = ke - Fe & 32767; Le > ge && (ge = Le, te = ke) } } } P = te, te = w[P], ve += P - te & 32767 } if (ue) { E[H++] = 268435456 | qm[ie] << 18 | my[ue]; var nt = qm[ie] & 31, ct = my[ue] & 31; G += h1[nt] + f1[ct], ++T[257 + nt], ++U[ct], k = N + ie, ++M } else E[H++] = t[N], ++T[t[N]] } } for (N = Math.max(N, k); N < A; ++N)E[H++] = t[N], ++T[t[N]]; d = vy(t, l, c, E, T, U, G, H, _, N - _, d), c || (a.r = d & 7 | l[d / 8 | 0] << 3, d -= 7, a.h = j, a.p = w, a.i = N, a.w = k) } else { for (var N = a.w || 0; N < A + c; N += 65535) { var de = N + 65535; de >= A && (l[d / 8 | 0] = c, de = A), d = u4(l, d + 1, t.subarray(N, de)) } a.i = A } return EQ(o, 0, n + c4(d) + s) }, h4 = function () { var t = 1, e = 0; return { p: function (r) { for (var n = t, s = e, a = r.length | 0, A = 0; A != a;) { for (var o = Math.min(A + 2655, a); A < o; ++A)s += n += r[A]; n = (n & 65535) + 15 * (n >> 16), s = (s & 65535) + 15 * (s >> 16) } t = n, e = s }, d: function () { return t %= 65521, e %= 65521, (t & 255) << 24 | (t & 65280) << 8 | (e & 255) << 8 | e >> 8 } } }, kQ = function (t, e, r, n, s) { if (!s && (s = { l: 1 }, e.dictionary)) { var a = e.dictionary.subarray(-32768), A = new ha(a.length + t.length); A.set(a), A.set(t, a.length), t = A, s.w = a.length } return _Q(t, e.level == null ? 6 : e.level, e.mem == null ? s.l ? Math.ceil(Math.max(8, Math.min(13, Math.log(t.length))) * 1.5) : 20 : 12 + e.mem, r, n, s) }, f4 = function (t, e, r) { for (; r; ++e)t[e] = r, r >>>= 8 }, UQ = function (t, e) { var r = e.level, n = r == 0 ? 0 : r < 6 ? 1 : r == 9 ? 3 : 2; if (t[0] = 120, t[1] = n << 6 | (e.dictionary && 32), t[1] |= 31 - (t[0] << 8 | t[1]) % 31, e.dictionary) { var s = h4(); s.p(e.dictionary), f4(t, 2, s.d()) } }; function Ym(t, e) { e || (e = {}); var r = h4(); r.p(t); var n = kQ(t, e, e.dictionary ? 6 : 2, 4); return UQ(n, e), f4(n, n.length - 4, r.d()), n } var IQ = typeof TextDecoder < "u" && new TextDecoder, QQ = 0; try { IQ.decode(d4, { stream: !0 }), QQ = 1 } catch { } function TQ(t) { if (Array.isArray(t)) return t } function LQ(t, e) { var r = t == null ? null : typeof Symbol < "u" && t[Symbol.iterator] || t["@@iterator"]; if (r != null) { var n, s, a, A, o = [], l = !0, c = !1; try { if (a = (r = r.call(t)).next, e !== 0) for (; !(l = (n = a.call(r)).done) && (o.push(n.value), o.length !== e); l = !0); } catch (d) { c = !0, s = d } finally { try { if (!l && r.return != null && (A = r.return(), Object(A) !== A)) return } finally { if (c) throw s } } return o } } function wy(t, e) { (e == null || e > t.length) && (e = t.length); for (var r = 0, n = Array(e); r < e; r++)n[r] = t[r]; return n } function OQ(t, e) { if (t) { if (typeof t == "string") return wy(t, e); var r = {}.toString.call(t).slice(8, -1); return r === "Object" && t.constructor && (r = t.constructor.name), r === "Map" || r === "Set" ? Array.from(t) : r === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? wy(t, e) : void 0 } } function PQ() {
    throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)
  } function yy(t, e) { return TQ(t) || LQ(t, e) || OQ(t, e) || PQ() } function by(t, e = "utf8") { return new TextDecoder(e).decode(t) } const DQ = new TextEncoder; function RQ(t) { return DQ.encode(t) } const HQ = 1024 * 8, MQ = (() => { const t = new Uint8Array(4), e = new Uint32Array(t.buffer); return !((e[0] = 1) & t[0]) })(), tg = { int8: globalThis.Int8Array, uint8: globalThis.Uint8Array, int16: globalThis.Int16Array, uint16: globalThis.Uint16Array, int32: globalThis.Int32Array, uint32: globalThis.Uint32Array, uint64: globalThis.BigUint64Array, int64: globalThis.BigInt64Array, float32: globalThis.Float32Array, float64: globalThis.Float64Array }; class p1 { constructor(e = HQ, r = {}) { Or(this, "buffer"); Or(this, "byteLength"); Or(this, "byteOffset"); Or(this, "length"); Or(this, "offset"); Or(this, "lastWrittenByte"); Or(this, "littleEndian"); Or(this, "_data"); Or(this, "_mark"); Or(this, "_marks"); let n = !1; typeof e == "number" ? e = new ArrayBuffer(e) : (n = !0, this.lastWrittenByte = e.byteLength); const s = r.offset ? r.offset >>> 0 : 0, a = e.byteLength - s; let A = s; (ArrayBuffer.isView(e) || e instanceof p1) && (e.byteLength !== e.buffer.byteLength && (A = e.byteOffset + s), e = e.buffer), n ? this.lastWrittenByte = a : this.lastWrittenByte = 0, this.buffer = e, this.length = a, this.byteLength = a, this.byteOffset = A, this.offset = 0, this.littleEndian = !0, this._data = new DataView(this.buffer, A, a), this._mark = 0, this._marks = [] } available(e = 1) { return this.offset + e <= this.length } isLittleEndian() { return this.littleEndian } setLittleEndian() { return this.littleEndian = !0, this } isBigEndian() { return !this.littleEndian } setBigEndian() { return this.littleEndian = !1, this } skip(e = 1) { return this.offset += e, this } back(e = 1) { return this.offset -= e, this } seek(e) { return this.offset = e, this } mark() { return this._mark = this.offset, this } reset() { return this.offset = this._mark, this } pushMark() { return this._marks.push(this.offset), this } popMark() { const e = this._marks.pop(); if (e === void 0) throw new Error("Mark stack empty"); return this.seek(e), this } rewind() { return this.offset = 0, this } ensureAvailable(e = 1) { if (!this.available(e)) { const n = (this.offset + e) * 2, s = new Uint8Array(n); s.set(new Uint8Array(this.buffer)), this.buffer = s.buffer, this.length = n, this.byteLength = n, this._data = new DataView(this.buffer) } return this } readBoolean() { return this.readUint8() !== 0 } readInt8() { return this._data.getInt8(this.offset++) } readUint8() { return this._data.getUint8(this.offset++) } readByte() { return this.readUint8() } readBytes(e = 1) { return this.readArray(e, "uint8") } readArray(e, r) { const n = tg[r].BYTES_PER_ELEMENT * e, s = this.byteOffset + this.offset, a = this.buffer.slice(s, s + n); if (this.littleEndian === MQ && r !== "uint8" && r !== "int8") { const o = new Uint8Array(this.buffer.slice(s, s + n)); o.reverse(); const l = new tg[r](o.buffer); return this.offset += n, l.reverse(), l } const A = new tg[r](a); return this.offset += n, A } readInt16() { const e = this._data.getInt16(this.offset, this.littleEndian); return this.offset += 2, e } readUint16() { const e = this._data.getUint16(this.offset, this.littleEndian); return this.offset += 2, e } readInt32() { const e = this._data.getInt32(this.offset, this.littleEndian); return this.offset += 4, e } readUint32() { const e = this._data.getUint32(this.offset, this.littleEndian); return this.offset += 4, e } readFloat32() { const e = this._data.getFloat32(this.offset, this.littleEndian); return this.offset += 4, e } readFloat64() { const e = this._data.getFloat64(this.offset, this.littleEndian); return this.offset += 8, e } readBigInt64() { const e = this._data.getBigInt64(this.offset, this.littleEndian); return this.offset += 8, e } readBigUint64() { const e = this._data.getBigUint64(this.offset, this.littleEndian); return this.offset += 8, e } readChar() { return String.fromCharCode(this.readInt8()) } readChars(e = 1) { let r = ""; for (let n = 0; n < e; n++)r += this.readChar(); return r } readUtf8(e = 1) { return by(this.readBytes(e)) } decodeText(e = 1, r = "utf8") { return by(this.readBytes(e), r) } writeBoolean(e) { return this.writeUint8(e ? 255 : 0), this } writeInt8(e) { return this.ensureAvailable(1), this._data.setInt8(this.offset++, e), this._updateLastWrittenByte(), this } writeUint8(e) { return this.ensureAvailable(1), this._data.setUint8(this.offset++, e), this._updateLastWrittenByte(), this } writeByte(e) { return this.writeUint8(e) } writeBytes(e) { this.ensureAvailable(e.length); for (let r = 0; r < e.length; r++)this._data.setUint8(this.offset++, e[r]); return this._updateLastWrittenByte(), this } writeInt16(e) { return this.ensureAvailable(2), this._data.setInt16(this.offset, e, this.littleEndian), this.offset += 2, this._updateLastWrittenByte(), this } writeUint16(e) { return this.ensureAvailable(2), this._data.setUint16(this.offset, e, this.littleEndian), this.offset += 2, this._updateLastWrittenByte(), this } writeInt32(e) { return this.ensureAvailable(4), this._data.setInt32(this.offset, e, this.littleEndian), this.offset += 4, this._updateLastWrittenByte(), this } writeUint32(e) { return this.ensureAvailable(4), this._data.setUint32(this.offset, e, this.littleEndian), this.offset += 4, this._updateLastWrittenByte(), this } writeFloat32(e) { return this.ensureAvailable(4), this._data.setFloat32(this.offset, e, this.littleEndian), this.offset += 4, this._updateLastWrittenByte(), this } writeFloat64(e) { return this.ensureAvailable(8), this._data.setFloat64(this.offset, e, this.littleEndian), this.offset += 8, this._updateLastWrittenByte(), this } writeBigInt64(e) { return this.ensureAvailable(8), this._data.setBigInt64(this.offset, e, this.littleEndian), this.offset += 8, this._updateLastWrittenByte(), this } writeBigUint64(e) { return this.ensureAvailable(8), this._data.setBigUint64(this.offset, e, this.littleEndian), this.offset += 8, this._updateLastWrittenByte(), this } writeChar(e) { return this.writeUint8(e.charCodeAt(0)) } writeChars(e) { for (let r = 0; r < e.length; r++)this.writeUint8(e.charCodeAt(r)); return this } writeUtf8(e) { return this.writeBytes(RQ(e)) } toArray() { return new Uint8Array(this.buffer, this.byteOffset, this.lastWrittenByte) } getWrittenByteLength() { return this.lastWrittenByte - this.byteOffset } _updateLastWrittenByte() { this.offset > this.lastWrittenByte && (this.lastWrittenByte = this.offset) } } function Xc(t) { let e = t.length; for (; --e >= 0;)t[e] = 0 } const $Q = 3, KQ = 258, p4 = 29, GQ = 256, VQ = GQ + 1 + p4, g4 = 30, zQ = 512, qQ = new Array((VQ + 2) * 2); Xc(qQ); const WQ = new Array(g4 * 2); Xc(WQ); const JQ = new Array(zQ); Xc(JQ); const YQ = new Array(KQ - $Q + 1); Xc(YQ); const XQ = new Array(p4); Xc(XQ); const ZQ = new Array(g4); Xc(ZQ); const eT = (t, e, r, n) => { let s = t & 65535 | 0, a = t >>> 16 & 65535 | 0, A = 0; for (; r !== 0;) { A = r > 2e3 ? 2e3 : r, r -= A; do s = s + e[n++] | 0, a = a + s | 0; while (--A); s %= 65521, a %= 65521 } return s | a << 16 | 0 }; var Xm = eT; const tT = () => { let t, e = []; for (var r = 0; r < 256; r++) { t = r; for (var n = 0; n < 8; n++)t = t & 1 ? 3988292384 ^ t >>> 1 : t >>> 1; e[r] = t } return e }, rT = new Uint32Array(tT()), nT = (t, e, r, n) => { const s = rT, a = n + r; t ^= -1; for (let A = n; A < a; A++)t = t >>> 8 ^ s[(t ^ e[A]) & 255]; return t ^ -1 }; var Oa = nT, Zm = { 2: "need dictionary", 1: "stream end", 0: "", "-1": "file error", "-2": "stream error", "-3": "data error", "-4": "insufficient memory", "-5": "buffer error", "-6": "incompatible version" }, m4 = { Z_NO_FLUSH: 0, Z_FINISH: 4, Z_BLOCK: 5, Z_TREES: 6, Z_OK: 0, Z_STREAM_END: 1, Z_NEED_DICT: 2, Z_STREAM_ERROR: -2, Z_DATA_ERROR: -3, Z_MEM_ERROR: -4, Z_BUF_ERROR: -5, Z_DEFLATED: 8 }; const sT = (t, e) => Object.prototype.hasOwnProperty.call(t, e); var iT = function (t) { const e = Array.prototype.slice.call(arguments, 1); for (; e.length;) { const r = e.shift(); if (r) { if (typeof r != "object") throw new TypeError(r + "must be non-object"); for (const n in r) sT(r, n) && (t[n] = r[n]) } } return t }, aT = t => { let e = 0; for (let n = 0, s = t.length; n < s; n++)e += t[n].length; const r = new Uint8Array(e); for (let n = 0, s = 0, a = t.length; n < a; n++) { let A = t[n]; r.set(A, s), s += A.length } return r }, x4 = { assign: iT, flattenChunks: aT }; let v4 = !0; try { String.fromCharCode.apply(null, new Uint8Array(1)) } catch { v4 = !1 } const Ed = new Uint8Array(256); for (let t = 0; t < 256; t++)Ed[t] = t >= 252 ? 6 : t >= 248 ? 5 : t >= 240 ? 4 : t >= 224 ? 3 : t >= 192 ? 2 : 1; Ed[254] = Ed[254] = 1; var AT = t => { if (typeof TextEncoder == "function" && TextEncoder.prototype.encode) return new TextEncoder().encode(t); let e, r, n, s, a, A = t.length, o = 0; for (s = 0; s < A; s++)r = t.charCodeAt(s), (r & 64512) === 55296 && s + 1 < A && (n = t.charCodeAt(s + 1), (n & 64512) === 56320 && (r = 65536 + (r - 55296 << 10) + (n - 56320), s++)), o += r < 128 ? 1 : r < 2048 ? 2 : r < 65536 ? 3 : 4; for (e = new Uint8Array(o), a = 0, s = 0; a < o; s++)r = t.charCodeAt(s), (r & 64512) === 55296 && s + 1 < A && (n = t.charCodeAt(s + 1), (n & 64512) === 56320 && (r = 65536 + (r - 55296 << 10) + (n - 56320), s++)), r < 128 ? e[a++] = r : r < 2048 ? (e[a++] = 192 | r >>> 6, e[a++] = 128 | r & 63) : r < 65536 ? (e[a++] = 224 | r >>> 12, e[a++] = 128 | r >>> 6 & 63, e[a++] = 128 | r & 63) : (e[a++] = 240 | r >>> 18, e[a++] = 128 | r >>> 12 & 63, e[a++] = 128 | r >>> 6 & 63, e[a++] = 128 | r & 63); return e }; const oT = (t, e) => { if (e < 65534 && t.subarray && v4) return String.fromCharCode.apply(null, t.length === e ? t : t.subarray(0, e)); let r = ""; for (let n = 0; n < e; n++)r += String.fromCharCode(t[n]); return r }; var lT = (t, e) => { const r = e || t.length; if (typeof TextDecoder == "function" && TextDecoder.prototype.decode) return new TextDecoder().decode(t.subarray(0, e)); let n, s; const a = new Array(r * 2); for (s = 0, n = 0; n < r;) { let A = t[n++]; if (A < 128) { a[s++] = A; continue } let o = Ed[A]; if (o > 4) { a[s++] = 65533, n += o - 1; continue } for (A &= o === 2 ? 31 : o === 3 ? 15 : 7; o > 1 && n < r;)A = A << 6 | t[n++] & 63, o--; if (o > 1) { a[s++] = 65533; continue } A < 65536 ? a[s++] = A : (A -= 65536, a[s++] = 55296 | A >> 10 & 1023, a[s++] = 56320 | A & 1023) } return oT(a, s) }, cT = (t, e) => { e = e || t.length, e > t.length && (e = t.length); let r = e - 1; for (; r >= 0 && (t[r] & 192) === 128;)r--; return r < 0 || r === 0 ? e : r + Ed[t[r]] > e ? r : e }, ex = { string2buf: AT, buf2string: lT, utf8border: cT }; function uT() { this.input = null, this.next_in = 0, this.avail_in = 0, this.total_in = 0, this.output = null, this.next_out = 0, this.avail_out = 0, this.total_out = 0, this.msg = "", this.state = null, this.data_type = 2, this.adler = 0 } var dT = uT; const Mh = 16209, hT = 16191; var fT = function (e, r) { let n, s, a, A, o, l, c, d, p, g, h, b, w, j, x, y, B, E, T, U, M, G, N, H; const k = e.state; n = e.next_in, N = e.input, s = n + (e.avail_in - 5), a = e.next_out, H = e.output, A = a - (r - e.avail_out), o = a + (e.avail_out - 257), l = k.dmax, c = k.wsize, d = k.whave, p = k.wnext, g = k.window, h = k.hold, b = k.bits, w = k.lencode, j = k.distcode, x = (1 << k.lenbits) - 1, y = (1 << k.distbits) - 1; e: do { b < 15 && (h += N[n++] << b, b += 8, h += N[n++] << b, b += 8), B = w[h & x]; t: for (; ;) { if (E = B >>> 24, h >>>= E, b -= E, E = B >>> 16 & 255, E === 0) H[a++] = B & 65535; else if (E & 16) { T = B & 65535, E &= 15, E && (b < E && (h += N[n++] << b, b += 8), T += h & (1 << E) - 1, h >>>= E, b -= E), b < 15 && (h += N[n++] << b, b += 8, h += N[n++] << b, b += 8), B = j[h & y]; r: for (; ;) { if (E = B >>> 24, h >>>= E, b -= E, E = B >>> 16 & 255, E & 16) { if (U = B & 65535, E &= 15, b < E && (h += N[n++] << b, b += 8, b < E && (h += N[n++] << b, b += 8)), U += h & (1 << E) - 1, U > l) { e.msg = "invalid distance too far back", k.mode = Mh; break e } if (h >>>= E, b -= E, E = a - A, U > E) { if (E = U - E, E > d && k.sane) { e.msg = "invalid distance too far back", k.mode = Mh; break e } if (M = 0, G = g, p === 0) { if (M += c - E, E < T) { T -= E; do H[a++] = g[M++]; while (--E); M = a - U, G = H } } else if (p < E) { if (M += c + p - E, E -= p, E < T) { T -= E; do H[a++] = g[M++]; while (--E); if (M = 0, p < T) { E = p, T -= E; do H[a++] = g[M++]; while (--E); M = a - U, G = H } } } else if (M += p - E, E < T) { T -= E; do H[a++] = g[M++]; while (--E); M = a - U, G = H } for (; T > 2;)H[a++] = G[M++], H[a++] = G[M++], H[a++] = G[M++], T -= 3; T && (H[a++] = G[M++], T > 1 && (H[a++] = G[M++])) } else { M = a - U; do H[a++] = H[M++], H[a++] = H[M++], H[a++] = H[M++], T -= 3; while (T > 2); T && (H[a++] = H[M++], T > 1 && (H[a++] = H[M++])) } } else if (E & 64) { e.msg = "invalid distance code", k.mode = Mh; break e } else { B = j[(B & 65535) + (h & (1 << E) - 1)]; continue r } break } } else if (E & 64) if (E & 32) { k.mode = hT; break e } else { e.msg = "invalid literal/length code", k.mode = Mh; break e } else { B = w[(B & 65535) + (h & (1 << E) - 1)]; continue t } break } } while (n < s && a < o); T = b >> 3, n -= T, b -= T << 3, h &= (1 << b) - 1, e.next_in = n, e.next_out = a, e.avail_in = n < s ? 5 + (s - n) : 5 - (n - s), e.avail_out = a < o ? 257 + (o - a) : 257 - (a - o), k.hold = h, k.bits = b }; const tc = 15, By = 852, Cy = 592, Ny = 0, rg = 1, Sy = 2, pT = new Uint16Array([3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0]), gT = new Uint8Array([16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78]), mT = new Uint16Array([1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577, 0, 0]), xT = new Uint8Array([16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 24, 25, 25, 26, 26, 27, 27, 28, 28, 29, 29, 64, 64]), vT = (t, e, r, n, s, a, A, o) => { const l = o.bits; let c = 0, d = 0, p = 0, g = 0, h = 0, b = 0, w = 0, j = 0, x = 0, y = 0, B, E, T, U, M, G = null, N; const H = new Uint16Array(tc + 1), k = new Uint16Array(tc + 1); let _ = null, V, P, te; for (c = 0; c <= tc; c++)H[c] = 0; for (d = 0; d < n; d++)H[e[r + d]]++; for (h = l, g = tc; g >= 1 && H[g] === 0; g--); if (h > g && (h = g), g === 0) return s[a++] = 1 << 24 | 64 << 16 | 0, s[a++] = 1 << 24 | 64 << 16 | 0, o.bits = 1, 0; for (p = 1; p < g && H[p] === 0; p++); for (h < p && (h = p), j = 1, c = 1; c <= tc; c++)if (j <<= 1, j -= H[c], j < 0) return -1; if (j > 0 && (t === Ny || g !== 1)) return -1; for (k[1] = 0, c = 1; c < tc; c++)k[c + 1] = k[c] + H[c]; for (d = 0; d < n; d++)e[r + d] !== 0 && (A[k[e[r + d]]++] = d); if (t === Ny ? (G = _ = A, N = 20) : t === rg ? (G = pT, _ = gT, N = 257) : (G = mT, _ = xT, N = 0), y = 0, d = 0, c = p, M = a, b = h, w = 0, T = -1, x = 1 << h, U = x - 1, t === rg && x > By || t === Sy && x > Cy) return 1; for (; ;) { V = c - w, A[d] + 1 < N ? (P = 0, te = A[d]) : A[d] >= N ? (P = _[A[d] - N], te = G[A[d] - N]) : (P = 96, te = 0), B = 1 << c - w, E = 1 << b, p = E; do E -= B, s[M + (y >> w) + E] = V << 24 | P << 16 | te | 0; while (E !== 0); for (B = 1 << c - 1; y & B;)B >>= 1; if (B !== 0 ? (y &= B - 1, y += B) : y = 0, d++, --H[c] === 0) { if (c === g) break; c = e[r + A[d]] } if (c > h && (y & U) !== T) { for (w === 0 && (w = h), M += p, b = c - w, j = 1 << b; b + w < g && (j -= H[b + w], !(j <= 0));)b++, j <<= 1; if (x += 1 << b, t === rg && x > By || t === Sy && x > Cy) return 1; T = y & U, s[T] = h << 24 | b << 16 | M - a | 0 } } return y !== 0 && (s[M + y] = c - w << 24 | 64 << 16 | 0), o.bits = h, 0 }; var td = vT; const wT = 0, w4 = 1, y4 = 2, { Z_FINISH: jy, Z_BLOCK: yT, Z_TREES: $h, Z_OK: wl, Z_STREAM_END: bT, Z_NEED_DICT: BT, Z_STREAM_ERROR: Mi, Z_DATA_ERROR: b4, Z_MEM_ERROR: B4, Z_BUF_ERROR: CT, Z_DEFLATED: Ey } = m4, L0 = 16180, Fy = 16181, _y = 16182, ky = 16183, Uy = 16184, Iy = 16185, Qy = 16186, Ty = 16187, Ly = 16188, Oy = 16189, n0 = 16190, cA = 16191, ng = 16192, Py = 16193, sg = 16194, Dy = 16195, Ry = 16196, Hy = 16197, My = 16198, Kh = 16199, Gh = 16200, $y = 16201, Ky = 16202, Gy = 16203, Vy = 16204, zy = 16205, ig = 16206, qy = 16207, Wy = 16208, on = 16209, C4 = 16210, N4 = 16211, NT = 852, ST = 592, jT = 15, ET = jT, Jy = t => (t >>> 24 & 255) + (t >>> 8 & 65280) + ((t & 65280) << 8) + ((t & 255) << 24); function FT() { this.strm = null, this.mode = 0, this.last = !1, this.wrap = 0, this.havedict = !1, this.flags = 0, this.dmax = 0, this.check = 0, this.total = 0, this.head = null, this.wbits = 0, this.wsize = 0, this.whave = 0, this.wnext = 0, this.window = null, this.hold = 0, this.bits = 0, this.length = 0, this.offset = 0, this.extra = 0, this.lencode = null, this.distcode = null, this.lenbits = 0, this.distbits = 0, this.ncode = 0, this.nlen = 0, this.ndist = 0, this.have = 0, this.next = null, this.lens = new Uint16Array(320), this.work = new Uint16Array(288), this.lendyn = null, this.distdyn = null, this.sane = 0, this.back = 0, this.was = 0 } const Bl = t => { if (!t) return 1; const e = t.state; return !e || e.strm !== t || e.mode < L0 || e.mode > N4 ? 1 : 0 }, S4 = t => { if (Bl(t)) return Mi; const e = t.state; return t.total_in = t.total_out = e.total = 0, t.msg = "", e.wrap && (t.adler = e.wrap & 1), e.mode = L0, e.last = 0, e.havedict = 0, e.flags = -1, e.dmax = 32768, e.head = null, e.hold = 0, e.bits = 0, e.lencode = e.lendyn = new Int32Array(NT), e.distcode = e.distdyn = new Int32Array(ST), e.sane = 1, e.back = -1, wl }, j4 = t => { if (Bl(t)) return Mi; const e = t.state; return e.wsize = 0, e.whave = 0, e.wnext = 0, S4(t) }, E4 = (t, e) => { let r; if (Bl(t)) return Mi; const n = t.state; return e < 0 ? (r = 0, e = -e) : (r = (e >> 4) + 5, e < 48 && (e &= 15)), e && (e < 8 || e > 15) ? Mi : (n.window !== null && n.wbits !== e && (n.window = null), n.wrap = r, n.wbits = e, j4(t)) }, F4 = (t, e) => { if (!t) return Mi; const r = new FT; t.state = r, r.strm = t, r.window = null, r.mode = L0; const n = E4(t, e); return n !== wl && (t.state = null), n }, _T = t => F4(t, ET); let Yy = !0, ag, Ag; const kT = t => { if (Yy) { ag = new Int32Array(512), Ag = new Int32Array(32); let e = 0; for (; e < 144;)t.lens[e++] = 8; for (; e < 256;)t.lens[e++] = 9; for (; e < 280;)t.lens[e++] = 7; for (; e < 288;)t.lens[e++] = 8; for (td(w4, t.lens, 0, 288, ag, 0, t.work, { bits: 9 }), e = 0; e < 32;)t.lens[e++] = 5; td(y4, t.lens, 0, 32, Ag, 0, t.work, { bits: 5 }), Yy = !1 } t.lencode = ag, t.lenbits = 9, t.distcode = Ag, t.distbits = 5 }, _4 = (t, e, r, n) => { let s; const a = t.state; return a.window === null && (a.wsize = 1 << a.wbits, a.wnext = 0, a.whave = 0, a.window = new Uint8Array(a.wsize)), n >= a.wsize ? (a.window.set(e.subarray(r - a.wsize, r), 0), a.wnext = 0, a.whave = a.wsize) : (s = a.wsize - a.wnext, s > n && (s = n), a.window.set(e.subarray(r - n, r - n + s), a.wnext), n -= s, n ? (a.window.set(e.subarray(r - n, r), 0), a.wnext = n, a.whave = a.wsize) : (a.wnext += s, a.wnext === a.wsize && (a.wnext = 0), a.whave < a.wsize && (a.whave += s))), 0 }, UT = (t, e) => { let r, n, s, a, A, o, l, c, d, p, g, h, b, w, j = 0, x, y, B, E, T, U, M, G; const N = new Uint8Array(4); let H, k; const _ = new Uint8Array([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]); if (Bl(t) || !t.output || !t.input && t.avail_in !== 0) return Mi; r = t.state, r.mode === cA && (r.mode = ng), A = t.next_out, s = t.output, l = t.avail_out, a = t.next_in, n = t.input, o = t.avail_in, c = r.hold, d = r.bits, p = o, g = l, G = wl; e: for (; ;)switch (r.mode) { case L0: if (r.wrap === 0) { r.mode = ng; break } for (; d < 16;) { if (o === 0) break e; o--, c += n[a++] << d, d += 8 } if (r.wrap & 2 && c === 35615) { r.wbits === 0 && (r.wbits = 15), r.check = 0, N[0] = c & 255, N[1] = c >>> 8 & 255, r.check = Oa(r.check, N, 2, 0), c = 0, d = 0, r.mode = Fy; break } if (r.head && (r.head.done = !1), !(r.wrap & 1) || (((c & 255) << 8) + (c >> 8)) % 31) { t.msg = "incorrect header check", r.mode = on; break } if ((c & 15) !== Ey) { t.msg = "unknown compression method", r.mode = on; break } if (c >>>= 4, d -= 4, M = (c & 15) + 8, r.wbits === 0 && (r.wbits = M), M > 15 || M > r.wbits) { t.msg = "invalid window size", r.mode = on; break } r.dmax = 1 << r.wbits, r.flags = 0, t.adler = r.check = 1, r.mode = c & 512 ? Oy : cA, c = 0, d = 0; break; case Fy: for (; d < 16;) { if (o === 0) break e; o--, c += n[a++] << d, d += 8 } if (r.flags = c, (r.flags & 255) !== Ey) { t.msg = "unknown compression method", r.mode = on; break } if (r.flags & 57344) { t.msg = "unknown header flags set", r.mode = on; break } r.head && (r.head.text = c >> 8 & 1), r.flags & 512 && r.wrap & 4 && (N[0] = c & 255, N[1] = c >>> 8 & 255, r.check = Oa(r.check, N, 2, 0)), c = 0, d = 0, r.mode = _y; case _y: for (; d < 32;) { if (o === 0) break e; o--, c += n[a++] << d, d += 8 } r.head && (r.head.time = c), r.flags & 512 && r.wrap & 4 && (N[0] = c & 255, N[1] = c >>> 8 & 255, N[2] = c >>> 16 & 255, N[3] = c >>> 24 & 255, r.check = Oa(r.check, N, 4, 0)), c = 0, d = 0, r.mode = ky; case ky: for (; d < 16;) { if (o === 0) break e; o--, c += n[a++] << d, d += 8 } r.head && (r.head.xflags = c & 255, r.head.os = c >> 8), r.flags & 512 && r.wrap & 4 && (N[0] = c & 255, N[1] = c >>> 8 & 255, r.check = Oa(r.check, N, 2, 0)), c = 0, d = 0, r.mode = Uy; case Uy: if (r.flags & 1024) { for (; d < 16;) { if (o === 0) break e; o--, c += n[a++] << d, d += 8 } r.length = c, r.head && (r.head.extra_len = c), r.flags & 512 && r.wrap & 4 && (N[0] = c & 255, N[1] = c >>> 8 & 255, r.check = Oa(r.check, N, 2, 0)), c = 0, d = 0 } else r.head && (r.head.extra = null); r.mode = Iy; case Iy: if (r.flags & 1024 && (h = r.length, h > o && (h = o), h && (r.head && (M = r.head.extra_len - r.length, r.head.extra || (r.head.extra = new Uint8Array(r.head.extra_len)), r.head.extra.set(n.subarray(a, a + h), M)), r.flags & 512 && r.wrap & 4 && (r.check = Oa(r.check, n, h, a)), o -= h, a += h, r.length -= h), r.length)) break e; r.length = 0, r.mode = Qy; case Qy: if (r.flags & 2048) { if (o === 0) break e; h = 0; do M = n[a + h++], r.head && M && r.length < 65536 && (r.head.name += String.fromCharCode(M)); while (M && h < o); if (r.flags & 512 && r.wrap & 4 && (r.check = Oa(r.check, n, h, a)), o -= h, a += h, M) break e } else r.head && (r.head.name = null); r.length = 0, r.mode = Ty; case Ty: if (r.flags & 4096) { if (o === 0) break e; h = 0; do M = n[a + h++], r.head && M && r.length < 65536 && (r.head.comment += String.fromCharCode(M)); while (M && h < o); if (r.flags & 512 && r.wrap & 4 && (r.check = Oa(r.check, n, h, a)), o -= h, a += h, M) break e } else r.head && (r.head.comment = null); r.mode = Ly; case Ly: if (r.flags & 512) { for (; d < 16;) { if (o === 0) break e; o--, c += n[a++] << d, d += 8 } if (r.wrap & 4 && c !== (r.check & 65535)) { t.msg = "header crc mismatch", r.mode = on; break } c = 0, d = 0 } r.head && (r.head.hcrc = r.flags >> 9 & 1, r.head.done = !0), t.adler = r.check = 0, r.mode = cA; break; case Oy: for (; d < 32;) { if (o === 0) break e; o--, c += n[a++] << d, d += 8 } t.adler = r.check = Jy(c), c = 0, d = 0, r.mode = n0; case n0: if (r.havedict === 0) return t.next_out = A, t.avail_out = l, t.next_in = a, t.avail_in = o, r.hold = c, r.bits = d, BT; t.adler = r.check = 1, r.mode = cA; case cA: if (e === yT || e === $h) break e; case ng: if (r.last) { c >>>= d & 7, d -= d & 7, r.mode = ig; break } for (; d < 3;) { if (o === 0) break e; o--, c += n[a++] << d, d += 8 } switch (r.last = c & 1, c >>>= 1, d -= 1, c & 3) { case 0: r.mode = Py; break; case 1: if (kT(r), r.mode = Kh, e === $h) { c >>>= 2, d -= 2; break e } break; case 2: r.mode = Ry; break; case 3: t.msg = "invalid block type", r.mode = on }c >>>= 2, d -= 2; break; case Py: for (c >>>= d & 7, d -= d & 7; d < 32;) { if (o === 0) break e; o--, c += n[a++] << d, d += 8 } if ((c & 65535) !== (c >>> 16 ^ 65535)) { t.msg = "invalid stored block lengths", r.mode = on; break } if (r.length = c & 65535, c = 0, d = 0, r.mode = sg, e === $h) break e; case sg: r.mode = Dy; case Dy: if (h = r.length, h) { if (h > o && (h = o), h > l && (h = l), h === 0) break e; s.set(n.subarray(a, a + h), A), o -= h, a += h, l -= h, A += h, r.length -= h; break } r.mode = cA; break; case Ry: for (; d < 14;) { if (o === 0) break e; o--, c += n[a++] << d, d += 8 } if (r.nlen = (c & 31) + 257, c >>>= 5, d -= 5, r.ndist = (c & 31) + 1, c >>>= 5, d -= 5, r.ncode = (c & 15) + 4, c >>>= 4, d -= 4, r.nlen > 286 || r.ndist > 30) { t.msg = "too many length or distance symbols", r.mode = on; break } r.have = 0, r.mode = Hy; case Hy: for (; r.have < r.ncode;) { for (; d < 3;) { if (o === 0) break e; o--, c += n[a++] << d, d += 8 } r.lens[_[r.have++]] = c & 7, c >>>= 3, d -= 3 } for (; r.have < 19;)r.lens[_[r.have++]] = 0; if (r.lencode = r.lendyn, r.lenbits = 7, H = { bits: r.lenbits }, G = td(wT, r.lens, 0, 19, r.lencode, 0, r.work, H), r.lenbits = H.bits, G) { t.msg = "invalid code lengths set", r.mode = on; break } r.have = 0, r.mode = My; case My: for (; r.have < r.nlen + r.ndist;) { for (; j = r.lencode[c & (1 << r.lenbits) - 1], x = j >>> 24, y = j >>> 16 & 255, B = j & 65535, !(x <= d);) { if (o === 0) break e; o--, c += n[a++] << d, d += 8 } if (B < 16) c >>>= x, d -= x, r.lens[r.have++] = B; else { if (B === 16) { for (k = x + 2; d < k;) { if (o === 0) break e; o--, c += n[a++] << d, d += 8 } if (c >>>= x, d -= x, r.have === 0) { t.msg = "invalid bit length repeat", r.mode = on; break } M = r.lens[r.have - 1], h = 3 + (c & 3), c >>>= 2, d -= 2 } else if (B === 17) { for (k = x + 3; d < k;) { if (o === 0) break e; o--, c += n[a++] << d, d += 8 } c >>>= x, d -= x, M = 0, h = 3 + (c & 7), c >>>= 3, d -= 3 } else { for (k = x + 7; d < k;) { if (o === 0) break e; o--, c += n[a++] << d, d += 8 } c >>>= x, d -= x, M = 0, h = 11 + (c & 127), c >>>= 7, d -= 7 } if (r.have + h > r.nlen + r.ndist) { t.msg = "invalid bit length repeat", r.mode = on; break } for (; h--;)r.lens[r.have++] = M } } if (r.mode === on) break; if (r.lens[256] === 0) { t.msg = "invalid code -- missing end-of-block", r.mode = on; break } if (r.lenbits = 9, H = { bits: r.lenbits }, G = td(w4, r.lens, 0, r.nlen, r.lencode, 0, r.work, H), r.lenbits = H.bits, G) { t.msg = "invalid literal/lengths set", r.mode = on; break } if (r.distbits = 6, r.distcode = r.distdyn, H = { bits: r.distbits }, G = td(y4, r.lens, r.nlen, r.ndist, r.distcode, 0, r.work, H), r.distbits = H.bits, G) { t.msg = "invalid distances set", r.mode = on; break } if (r.mode = Kh, e === $h) break e; case Kh: r.mode = Gh; case Gh: if (o >= 6 && l >= 258) { t.next_out = A, t.avail_out = l, t.next_in = a, t.avail_in = o, r.hold = c, r.bits = d, fT(t, g), A = t.next_out, s = t.output, l = t.avail_out, a = t.next_in, n = t.input, o = t.avail_in, c = r.hold, d = r.bits, r.mode === cA && (r.back = -1); break } for (r.back = 0; j = r.lencode[c & (1 << r.lenbits) - 1], x = j >>> 24, y = j >>> 16 & 255, B = j & 65535, !(x <= d);) { if (o === 0) break e; o--, c += n[a++] << d, d += 8 } if (y && !(y & 240)) { for (E = x, T = y, U = B; j = r.lencode[U + ((c & (1 << E + T) - 1) >> E)], x = j >>> 24, y = j >>> 16 & 255, B = j & 65535, !(E + x <= d);) { if (o === 0) break e; o--, c += n[a++] << d, d += 8 } c >>>= E, d -= E, r.back += E } if (c >>>= x, d -= x, r.back += x, r.length = B, y === 0) { r.mode = zy; break } if (y & 32) { r.back = -1, r.mode = cA; break } if (y & 64) { t.msg = "invalid literal/length code", r.mode = on; break } r.extra = y & 15, r.mode = $y; case $y: if (r.extra) { for (k = r.extra; d < k;) { if (o === 0) break e; o--, c += n[a++] << d, d += 8 } r.length += c & (1 << r.extra) - 1, c >>>= r.extra, d -= r.extra, r.back += r.extra } r.was = r.length, r.mode = Ky; case Ky: for (; j = r.distcode[c & (1 << r.distbits) - 1], x = j >>> 24, y = j >>> 16 & 255, B = j & 65535, !(x <= d);) { if (o === 0) break e; o--, c += n[a++] << d, d += 8 } if (!(y & 240)) { for (E = x, T = y, U = B; j = r.distcode[U + ((c & (1 << E + T) - 1) >> E)], x = j >>> 24, y = j >>> 16 & 255, B = j & 65535, !(E + x <= d);) { if (o === 0) break e; o--, c += n[a++] << d, d += 8 } c >>>= E, d -= E, r.back += E } if (c >>>= x, d -= x, r.back += x, y & 64) { t.msg = "invalid distance code", r.mode = on; break } r.offset = B, r.extra = y & 15, r.mode = Gy; case Gy: if (r.extra) { for (k = r.extra; d < k;) { if (o === 0) break e; o--, c += n[a++] << d, d += 8 } r.offset += c & (1 << r.extra) - 1, c >>>= r.extra, d -= r.extra, r.back += r.extra } if (r.offset > r.dmax) { t.msg = "invalid distance too far back", r.mode = on; break } r.mode = Vy; case Vy: if (l === 0) break e; if (h = g - l, r.offset > h) { if (h = r.offset - h, h > r.whave && r.sane) { t.msg = "invalid distance too far back", r.mode = on; break } h > r.wnext ? (h -= r.wnext, b = r.wsize - h) : b = r.wnext - h, h > r.length && (h = r.length), w = r.window } else w = s, b = A - r.offset, h = r.length; h > l && (h = l), l -= h, r.length -= h; do s[A++] = w[b++]; while (--h); r.length === 0 && (r.mode = Gh); break; case zy: if (l === 0) break e; s[A++] = r.length, l--, r.mode = Gh; break; case ig: if (r.wrap) { for (; d < 32;) { if (o === 0) break e; o--, c |= n[a++] << d, d += 8 } if (g -= l, t.total_out += g, r.total += g, r.wrap & 4 && g && (t.adler = r.check = r.flags ? Oa(r.check, s, g, A - g) : Xm(r.check, s, g, A - g)), g = l, r.wrap & 4 && (r.flags ? c : Jy(c)) !== r.check) { t.msg = "incorrect data check", r.mode = on; break } c = 0, d = 0 } r.mode = qy; case qy: if (r.wrap && r.flags) { for (; d < 32;) { if (o === 0) break e; o--, c += n[a++] << d, d += 8 } if (r.wrap & 4 && c !== (r.total & 4294967295)) { t.msg = "incorrect length check", r.mode = on; break } c = 0, d = 0 } r.mode = Wy; case Wy: G = bT; break e; case on: G = b4; break e; case C4: return B4; case N4: default: return Mi }return t.next_out = A, t.avail_out = l, t.next_in = a, t.avail_in = o, r.hold = c, r.bits = d, (r.wsize || g !== t.avail_out && r.mode < on && (r.mode < ig || e !== jy)) && _4(t, t.output, t.next_out, g - t.avail_out), p -= t.avail_in, g -= t.avail_out, t.total_in += p, t.total_out += g, r.total += g, r.wrap & 4 && g && (t.adler = r.check = r.flags ? Oa(r.check, s, g, t.next_out - g) : Xm(r.check, s, g, t.next_out - g)), t.data_type = r.bits + (r.last ? 64 : 0) + (r.mode === cA ? 128 : 0) + (r.mode === Kh || r.mode === sg ? 256 : 0), (p === 0 && g === 0 || e === jy) && G === wl && (G = CT), G }, IT = t => { if (Bl(t)) return Mi; let e = t.state; return e.window && (e.window = null), t.state = null, wl }, QT = (t, e) => { if (Bl(t)) return Mi; const r = t.state; return r.wrap & 2 ? (r.head = e, e.done = !1, wl) : Mi }, TT = (t, e) => { const r = e.length; let n, s, a; return Bl(t) || (n = t.state, n.wrap !== 0 && n.mode !== n0) ? Mi : n.mode === n0 && (s = 1, s = Xm(s, e, r, 0), s !== n.check) ? b4 : (a = _4(t, e, r, r), a ? (n.mode = C4, B4) : (n.havedict = 1, wl)) }; var LT = j4, OT = E4, PT = S4, DT = _T, RT = F4, HT = UT, MT = IT, $T = QT, KT = TT, GT = "pako inflate (from Nodeca project)", fA = { inflateReset: LT, inflateReset2: OT, inflateResetKeep: PT, inflateInit: DT, inflateInit2: RT, inflate: HT, inflateEnd: MT, inflateGetHeader: $T, inflateSetDictionary: KT, inflateInfo: GT }; function VT() { this.text = 0, this.time = 0, this.xflags = 0, this.os = 0, this.extra = null, this.extra_len = 0, this.name = "", this.comment = "", this.hcrc = 0, this.done = !1 } var zT = VT; const k4 = Object.prototype.toString, { Z_NO_FLUSH: qT, Z_FINISH: WT, Z_OK: Fd, Z_STREAM_END: og, Z_NEED_DICT: lg, Z_STREAM_ERROR: JT, Z_DATA_ERROR: Xy, Z_MEM_ERROR: YT } = m4; function Dd(t) { this.options = x4.assign({ chunkSize: 1024 * 64, windowBits: 15, to: "" }, t || {}); const e = this.options; e.raw && e.windowBits >= 0 && e.windowBits < 16 && (e.windowBits = -e.windowBits, e.windowBits === 0 && (e.windowBits = -15)), e.windowBits >= 0 && e.windowBits < 16 && !(t && t.windowBits) && (e.windowBits += 32), e.windowBits > 15 && e.windowBits < 48 && (e.windowBits & 15 || (e.windowBits |= 15)), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm = new dT, this.strm.avail_out = 0; let r = fA.inflateInit2(this.strm, e.windowBits); if (r !== Fd) throw new Error(Zm[r]); if (this.header = new zT, fA.inflateGetHeader(this.strm, this.header), e.dictionary && (typeof e.dictionary == "string" ? e.dictionary = ex.string2buf(e.dictionary) : k4.call(e.dictionary) === "[object ArrayBuffer]" && (e.dictionary = new Uint8Array(e.dictionary)), e.raw && (r = fA.inflateSetDictionary(this.strm, e.dictionary), r !== Fd))) throw new Error(Zm[r]) } Dd.prototype.push = function (t, e) { const r = this.strm, n = this.options.chunkSize, s = this.options.dictionary; let a, A, o; if (this.ended) return !1; for (e === ~~e ? A = e : A = e === !0 ? WT : qT, k4.call(t) === "[object ArrayBuffer]" ? r.input = new Uint8Array(t) : r.input = t, r.next_in = 0, r.avail_in = r.input.length; ;) { for (r.avail_out === 0 && (r.output = new Uint8Array(n), r.next_out = 0, r.avail_out = n), a = fA.inflate(r, A), a === lg && s && (a = fA.inflateSetDictionary(r, s), a === Fd ? a = fA.inflate(r, A) : a === Xy && (a = lg)); r.avail_in > 0 && a === og && r.state.wrap > 0 && t[r.next_in] !== 0;)fA.inflateReset(r), a = fA.inflate(r, A); switch (a) { case JT: case Xy: case lg: case YT: return this.onEnd(a), this.ended = !0, !1 }if (o = r.avail_out, r.next_out && (r.avail_out === 0 || a === og)) if (this.options.to === "string") { let l = ex.utf8border(r.output, r.next_out), c = r.next_out - l, d = ex.buf2string(r.output, l); r.next_out = c, r.avail_out = n - c, c && r.output.set(r.output.subarray(l, l + c), 0), this.onData(d) } else this.onData(r.output.length === r.next_out ? r.output : r.output.subarray(0, r.next_out)); if (!(a === Fd && o === 0)) { if (a === og) return a = fA.inflateEnd(this.strm), this.onEnd(a), this.ended = !0, !0; if (r.avail_in === 0) break } } return !0 }; Dd.prototype.onData = function (t) { this.chunks.push(t) }; Dd.prototype.onEnd = function (t) { t === Fd && (this.options.to === "string" ? this.result = this.chunks.join("") : this.result = x4.flattenChunks(this.chunks)), this.chunks = [], this.err = t, this.msg = this.strm.msg }; function XT(t, e) { const r = new Dd(e); if (r.push(t), r.err) throw r.msg || Zm[r.err]; return r.result } var ZT = Dd, e6 = XT, t6 = { Inflate: ZT, inflate: e6 }; const { Inflate: r6, inflate: n6 } = t6; var Zy = r6, s6 = n6; const U4 = []; for (let t = 0; t < 256; t++) { let e = t; for (let r = 0; r < 8; r++)e & 1 ? e = 3988292384 ^ e >>> 1 : e = e >>> 1; U4[t] = e } const e2 = 4294967295; function i6(t, e, r) { let n = t; for (let s = 0; s < r; s++)n = U4[(n ^ e[s]) & 255] ^ n >>> 8; return n } function a6(t, e) { return (i6(e2, t, e) ^ e2) >>> 0 } function t2(t, e, r) { const n = t.readUint32(), s = a6(new Uint8Array(t.buffer, t.byteOffset + t.offset - e - 4, e), e); if (s !== n) throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${s}`) } function I4(t, e, r) { for (let n = 0; n < r; n++)e[n] = t[n] } function Q4(t, e, r, n) { let s = 0; for (; s < n; s++)e[s] = t[s]; for (; s < r; s++)e[s] = t[s] + e[s - n] & 255 } function T4(t, e, r, n) { let s = 0; if (r.length === 0) for (; s < n; s++)e[s] = t[s]; else for (; s < n; s++)e[s] = t[s] + r[s] & 255 } function L4(t, e, r, n, s) { let a = 0; if (r.length === 0) { for (; a < s; a++)e[a] = t[a]; for (; a < n; a++)e[a] = t[a] + (e[a - s] >> 1) & 255 } else { for (; a < s; a++)e[a] = t[a] + (r[a] >> 1) & 255; for (; a < n; a++)e[a] = t[a] + (e[a - s] + r[a] >> 1) & 255 } } function O4(t, e, r, n, s) { let a = 0; if (r.length === 0) { for (; a < s; a++)e[a] = t[a]; for (; a < n; a++)e[a] = t[a] + e[a - s] & 255 } else { for (; a < s; a++)e[a] = t[a] + r[a] & 255; for (; a < n; a++)e[a] = t[a] + A6(e[a - s], r[a], r[a - s]) & 255 } } function A6(t, e, r) { const n = t + e - r, s = Math.abs(n - t), a = Math.abs(n - e), A = Math.abs(n - r); return s <= a && s <= A ? t : a <= A ? e : r } function o6(t, e, r, n, s, a) { switch (t) { case 0: I4(e, r, s); break; case 1: Q4(e, r, s, a); break; case 2: T4(e, r, n, s); break; case 3: L4(e, r, n, s, a); break; case 4: O4(e, r, n, s, a); break; default: throw new Error(`Unsupported filter: ${t}`) } } const l6 = new Uint16Array([255]), c6 = new Uint8Array(l6.buffer), u6 = c6[0] === 255; function d6(t) { const { data: e, width: r, height: n, channels: s, depth: a } = t, A = [{ x: 0, y: 0, xStep: 8, yStep: 8 }, { x: 4, y: 0, xStep: 8, yStep: 8 }, { x: 0, y: 4, xStep: 4, yStep: 8 }, { x: 2, y: 0, xStep: 4, yStep: 4 }, { x: 0, y: 2, xStep: 2, yStep: 4 }, { x: 1, y: 0, xStep: 2, yStep: 2 }, { x: 0, y: 1, xStep: 1, yStep: 2 }], o = Math.ceil(a / 8) * s, l = new Uint8Array(n * r * o); let c = 0; for (let d = 0; d < 7; d++) { const p = A[d], g = Math.ceil((r - p.x) / p.xStep), h = Math.ceil((n - p.y) / p.yStep); if (g <= 0 || h <= 0) continue; const b = g * o, w = new Uint8Array(b); for (let j = 0; j < h; j++) { const x = e[c++], y = e.subarray(c, c + b); c += b; const B = new Uint8Array(b); o6(x, y, B, w, b, o), w.set(B); for (let E = 0; E < g; E++) { const T = p.x + E * p.xStep, U = p.y + j * p.yStep; if (!(T >= r || U >= n)) for (let M = 0; M < o; M++)l[(U * r + T) * o + M] = B[E * o + M] } } } if (a === 16) { const d = new Uint16Array(l.buffer); if (u6) for (let p = 0; p < d.length; p++)d[p] = h6(d[p]); return d } else return l } function h6(t) { return (t & 255) << 8 | t >> 8 & 255 } const f6 = new Uint16Array([255]), p6 = new Uint8Array(f6.buffer), g6 = p6[0] === 255, m6 = new Uint8Array(0); function r2(t) { const { data: e, width: r, height: n, channels: s, depth: a } = t, A = Math.ceil(a / 8) * s, o = Math.ceil(a / 8 * s * r), l = new Uint8Array(n * o); let c = m6, d = 0, p, g; for (let h = 0; h < n; h++) { switch (p = e.subarray(d + 1, d + 1 + o), g = l.subarray(h * o, (h + 1) * o), e[d]) { case 0: I4(p, g, o); break; case 1: Q4(p, g, o, A); break; case 2: T4(p, g, c, o); break; case 3: L4(p, g, c, o, A); break; case 4: O4(p, g, c, o, A); break; default: throw new Error(`Unsupported filter: ${e[d]}`) }c = g, d += o + 1 } if (a === 16) { const h = new Uint16Array(l.buffer); if (g6) for (let b = 0; b < h.length; b++)h[b] = x6(h[b]); return h } else return l } function x6(t) { return (t & 255) << 8 | t >> 8 & 255 } const hf = Uint8Array.of(137, 80, 78, 71, 13, 10, 26, 10); function n2(t) { if (!v6(t.readBytes(hf.length))) throw new Error("wrong PNG signature") } function v6(t) { if (t.length < hf.length) return !1; for (let e = 0; e < hf.length; e++)if (t[e] !== hf[e]) return !1; return !0 } const w6 = "tEXt", y6 = 0, P4 = new TextDecoder("latin1"); function b6(t) { if (C6(t), t.length === 0 || t.length > 79) throw new Error("keyword length must be between 1 and 79") } const B6 = /^[\u0000-\u00FF]*$/; function C6(t) { if (!B6.test(t)) throw new Error("invalid latin1 text") } function N6(t, e, r) { const n = D4(e); t[n] = S6(e, r - n.length - 1) } function D4(t) { for (t.mark(); t.readByte() !== y6;); const e = t.offset; t.reset(); const r = P4.decode(t.readBytes(e - t.offset - 1)); return t.skip(1), b6(r), r } function S6(t, e) { return P4.decode(t.readBytes(e)) } const ii = { UNKNOWN: -1, GREYSCALE: 0, TRUECOLOUR: 2, INDEXED_COLOUR: 3, GREYSCALE_ALPHA: 4, TRUECOLOUR_ALPHA: 6 }, cg = { UNKNOWN: -1, DEFLATE: 0 }, s2 = { UNKNOWN: -1, ADAPTIVE: 0 }, ug = { UNKNOWN: -1, NO_INTERLACE: 0, ADAM7: 1 }, Vh = { NONE: 0, BACKGROUND: 1, PREVIOUS: 2 }, dg = { SOURCE: 0, OVER: 1 }; class j6 extends p1 { constructor(r, n = {}) { super(r); Or(this, "_checkCrc"); Or(this, "_inflator"); Or(this, "_png"); Or(this, "_apng"); Or(this, "_end"); Or(this, "_hasPalette"); Or(this, "_palette"); Or(this, "_hasTransparency"); Or(this, "_transparency"); Or(this, "_compressionMethod"); Or(this, "_filterMethod"); Or(this, "_interlaceMethod"); Or(this, "_colorType"); Or(this, "_isAnimated"); Or(this, "_numberOfFrames"); Or(this, "_numberOfPlays"); Or(this, "_frames"); Or(this, "_writingDataChunks"); const { checkCrc: s = !1 } = n; this._checkCrc = s, this._inflator = new Zy, this._png = { width: -1, height: -1, channels: -1, data: new Uint8Array(0), depth: 1, text: {} }, this._apng = { width: -1, height: -1, channels: -1, depth: 1, numberOfFrames: 1, numberOfPlays: 0, text: {}, frames: [] }, this._end = !1, this._hasPalette = !1, this._palette = [], this._hasTransparency = !1, this._transparency = new Uint16Array(0), this._compressionMethod = cg.UNKNOWN, this._filterMethod = s2.UNKNOWN, this._interlaceMethod = ug.UNKNOWN, this._colorType = ii.UNKNOWN, this._isAnimated = !1, this._numberOfFrames = 1, this._numberOfPlays = 0, this._frames = [], this._writingDataChunks = !1, this.setBigEndian() } decode() { for (n2(this); !this._end;) { const r = this.readUint32(), n = this.readChars(4); this.decodeChunk(r, n) } return this.decodeImage(), this._png } decodeApng() { for (n2(this); !this._end;) { const r = this.readUint32(), n = this.readChars(4); this.decodeApngChunk(r, n) } return this.decodeApngImage(), this._apng } decodeChunk(r, n) { const s = this.offset; switch (n) { case "IHDR": this.decodeIHDR(); break; case "PLTE": this.decodePLTE(r); break; case "IDAT": this.decodeIDAT(r); break; case "IEND": this._end = !0; break; case "tRNS": this.decodetRNS(r); break; case "iCCP": this.decodeiCCP(r); break; case w6: N6(this._png.text, this, r); break; case "pHYs": this.decodepHYs(); break; default: this.skip(r); break }if (this.offset - s !== r) throw new Error(`Length mismatch while decoding chunk ${n}`); this._checkCrc ? t2(this, r + 4, n) : this.skip(4) } decodeApngChunk(r, n) { const s = this.offset; switch (n !== "fdAT" && n !== "IDAT" && this._writingDataChunks && this.pushDataToFrame(), n) { case "acTL": this.decodeACTL(); break; case "fcTL": this.decodeFCTL(); break; case "fdAT": this.decodeFDAT(r); break; default: this.decodeChunk(r, n), this.offset = s + r; break }if (this.offset - s !== r) throw new Error(`Length mismatch while decoding chunk ${n}`); this._checkCrc ? t2(this, r + 4, n) : this.skip(4) } decodeIHDR() { const r = this._png; r.width = this.readUint32(), r.height = this.readUint32(), r.depth = E6(this.readUint8()); const n = this.readUint8(); this._colorType = n; let s; switch (n) { case ii.GREYSCALE: s = 1; break; case ii.TRUECOLOUR: s = 3; break; case ii.INDEXED_COLOUR: s = 1; break; case ii.GREYSCALE_ALPHA: s = 2; break; case ii.TRUECOLOUR_ALPHA: s = 4; break; case ii.UNKNOWN: default: throw new Error(`Unknown color type: ${n}`) }if (this._png.channels = s, this._compressionMethod = this.readUint8(), this._compressionMethod !== cg.DEFLATE) throw new Error(`Unsupported compression method: ${this._compressionMethod}`); this._filterMethod = this.readUint8(), this._interlaceMethod = this.readUint8() } decodeACTL() { this._numberOfFrames = this.readUint32(), this._numberOfPlays = this.readUint32(), this._isAnimated = !0 } decodeFCTL() { const r = { sequenceNumber: this.readUint32(), width: this.readUint32(), height: this.readUint32(), xOffset: this.readUint32(), yOffset: this.readUint32(), delayNumber: this.readUint16(), delayDenominator: this.readUint16(), disposeOp: this.readUint8(), blendOp: this.readUint8(), data: new Uint8Array(0) }; this._frames.push(r) } decodePLTE(r) { if (r % 3 !== 0) throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`); const n = r / 3; this._hasPalette = !0; const s = []; this._palette = s; for (let a = 0; a < n; a++)s.push([this.readUint8(), this.readUint8(), this.readUint8()]) } decodeIDAT(r) { this._writingDataChunks = !0; const n = r, s = this.offset + this.byteOffset; if (this._inflator.push(new Uint8Array(this.buffer, s, n)), this._inflator.err) throw new Error(`Error while decompressing the data: ${this._inflator.err}`); this.skip(r) } decodeFDAT(r) { this._writingDataChunks = !0; let n = r, s = this.offset + this.byteOffset; if (s += 4, n -= 4, this._inflator.push(new Uint8Array(this.buffer, s, n)), this._inflator.err) throw new Error(`Error while decompressing the data: ${this._inflator.err}`); this.skip(r) } decodetRNS(r) { switch (this._colorType) { case ii.GREYSCALE: case ii.TRUECOLOUR: { if (r % 2 !== 0) throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`); if (r / 2 > this._png.width * this._png.height) throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r / 2} vs ${this._png.width * this._png.height})`); this._hasTransparency = !0, this._transparency = new Uint16Array(r / 2); for (let n = 0; n < r / 2; n++)this._transparency[n] = this.readUint16(); break } case ii.INDEXED_COLOUR: { if (r > this._palette.length) throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`); let n = 0; for (; n < r; n++) { const s = this.readByte(); this._palette[n].push(s) } for (; n < this._palette.length; n++)this._palette[n].push(255); break } case ii.UNKNOWN: case ii.GREYSCALE_ALPHA: case ii.TRUECOLOUR_ALPHA: default: throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`) } } decodeiCCP(r) { const n = D4(this), s = this.readUint8(); if (s !== cg.DEFLATE) throw new Error(`Unsupported iCCP compression method: ${s}`); const a = this.readBytes(r - n.length - 2); this._png.iccEmbeddedProfile = { name: n, profile: s6(a) } } decodepHYs() { const r = this.readUint32(), n = this.readUint32(), s = this.readByte(); this._png.resolution = { x: r, y: n, unit: s } } decodeApngImage() { this._apng.width = this._png.width, this._apng.height = this._png.height, this._apng.channels = this._png.channels, this._apng.depth = this._png.depth, this._apng.numberOfFrames = this._numberOfFrames, this._apng.numberOfPlays = this._numberOfPlays, this._apng.text = this._png.text, this._apng.resolution = this._png.resolution; for (let r = 0; r < this._numberOfFrames; r++) { const n = { sequenceNumber: this._frames[r].sequenceNumber, delayNumber: this._frames[r].delayNumber, delayDenominator: this._frames[r].delayDenominator, data: this._apng.depth === 8 ? new Uint8Array(this._apng.width * this._apng.height * this._apng.channels) : new Uint16Array(this._apng.width * this._apng.height * this._apng.channels) }, s = this._frames.at(r); if (s) { if (s.data = r2({ data: s.data, width: s.width, height: s.height, channels: this._apng.channels, depth: this._apng.depth }), this._hasPalette && (this._apng.palette = this._palette), this._hasTransparency && (this._apng.transparency = this._transparency), r === 0 || s.xOffset === 0 && s.yOffset === 0 && s.width === this._png.width && s.height === this._png.height) n.data = s.data; else { const a = this._apng.frames.at(r - 1); this.disposeFrame(s, a, n), this.addFrameDataToCanvas(n, s) } this._apng.frames.push(n) } } return this._apng } disposeFrame(r, n, s) { switch (r.disposeOp) { case Vh.NONE: break; case Vh.BACKGROUND: for (let a = 0; a < this._png.height; a++)for (let A = 0; A < this._png.width; A++) { const o = (a * r.width + A) * this._png.channels; for (let l = 0; l < this._png.channels; l++)s.data[o + l] = 0 } break; case Vh.PREVIOUS: s.data.set(n.data); break; default: throw new Error("Unknown disposeOp") } } addFrameDataToCanvas(r, n) { const s = 1 << this._png.depth, a = (A, o) => { const l = ((A + n.yOffset) * this._png.width + n.xOffset + o) * this._png.channels, c = (A * n.width + o) * this._png.channels; return { index: l, frameIndex: c } }; switch (n.blendOp) { case dg.SOURCE: for (let A = 0; A < n.height; A++)for (let o = 0; o < n.width; o++) { const { index: l, frameIndex: c } = a(A, o); for (let d = 0; d < this._png.channels; d++)r.data[l + d] = n.data[c + d] } break; case dg.OVER: for (let A = 0; A < n.height; A++)for (let o = 0; o < n.width; o++) { const { index: l, frameIndex: c } = a(A, o); for (let d = 0; d < this._png.channels; d++) { const p = n.data[c + this._png.channels - 1] / s, g = d % (this._png.channels - 1) === 0 ? 1 : n.data[c + d], h = Math.floor(p * g + (1 - p) * r.data[l + d]); r.data[l + d] += h } } break; default: throw new Error("Unknown blendOp") } } decodeImage() { var n; if (this._inflator.err) throw new Error(`Error while decompressing the data: ${this._inflator.err}`); const r = this._isAnimated ? ((n = this._frames) == null ? void 0 : n.at(0)).data : this._inflator.result; if (this._filterMethod !== s2.ADAPTIVE) throw new Error(`Filter method ${this._filterMethod} not supported`); if (this._interlaceMethod === ug.NO_INTERLACE) this._png.data = r2({ data: r, width: this._png.width, height: this._png.height, channels: this._png.channels, depth: this._png.depth }); else if (this._interlaceMethod === ug.ADAM7) this._png.data = d6({ data: r, width: this._png.width, height: this._png.height, channels: this._png.channels, depth: this._png.depth }); else throw new Error(`Interlace method ${this._interlaceMethod} not supported`); this._hasPalette && (this._png.palette = this._palette), this._hasTransparency && (this._png.transparency = this._transparency) } pushDataToFrame() { const r = this._inflator.result, n = this._frames.at(-1); n ? n.data = r : this._frames.push({ sequenceNumber: 0, width: this._png.width, height: this._png.height, xOffset: 0, yOffset: 0, delayNumber: 0, delayDenominator: 0, disposeOp: Vh.NONE, blendOp: dg.SOURCE, data: r }), this._inflator = new Zy, this._writingDataChunks = !1 } } function E6(t) { if (t !== 1 && t !== 2 && t !== 4 && t !== 8 && t !== 16) throw new Error(`invalid bit depth: ${t}`); return t } var i2; (function (t) { t[t.UNKNOWN = 0] = "UNKNOWN", t[t.METRE = 1] = "METRE" })(i2 || (i2 = {})); function F6(t, e) { return new j6(t, e).decode() } var Ar = function () { return typeof window < "u" ? window : typeof global < "u" ? global : typeof self < "u" ? self : this }(); function hg() { Ar.console && typeof Ar.console.log == "function" && Ar.console.log.apply(Ar.console, arguments) } var Gr = { log: hg, warn: function (t) { Ar.console && (typeof Ar.console.warn == "function" ? Ar.console.warn.apply(Ar.console, arguments) : hg.call(null, arguments)) }, error: function (t) { Ar.console && (typeof Ar.console.error == "function" ? Ar.console.error.apply(Ar.console, arguments) : hg(t)) } }; function fg(t, e, r) { var n = new XMLHttpRequest; n.open("GET", t), n.responseType = "blob", n.onload = function () { Zo(n.response, e, r) }, n.onerror = function () { Gr.error("could not download file") }, n.send() } function a2(t) { var e = new XMLHttpRequest; e.open("HEAD", t, !1); try { e.send() } catch { } return e.status >= 200 && e.status <= 299 } function zh(t) { try { t.dispatchEvent(new MouseEvent("click")) } catch { var e = document.createEvent("MouseEvents"); e.initMouseEvent("click", !0, !0, window, 0, 0, 0, 80, 20, !1, !1, !1, !1, 0, null), t.dispatchEvent(e) } } var Zo = Ar.saveAs || ((typeof window > "u" ? "undefined" : Pr(window)) !== "object" || window !== Ar ? function () { } : typeof HTMLAnchorElement < "u" && "download" in HTMLAnchorElement.prototype ? function (t, e, r) { var n = Ar.URL || Ar.webkitURL, s = document.createElement("a"); e = e || t.name || "download", s.download = e, s.rel = "noopener", typeof t == "string" ? (s.href = t, s.origin !== location.origin ? a2(s.href) ? fg(t, e, r) : zh(s, s.target = "_blank") : zh(s)) : (s.href = n.createObjectURL(t), setTimeout(function () { n.revokeObjectURL(s.href) }, 4e4), setTimeout(function () { zh(s) }, 0)) } : "msSaveOrOpenBlob" in navigator ? function (t, e, r) { if (e = e || t.name || "download", typeof t == "string") if (a2(t)) fg(t, e, r); else { var n = document.createElement("a"); n.href = t, n.target = "_blank", setTimeout(function () { zh(n) }) } else navigator.msSaveOrOpenBlob(function (s, a) { return a === void 0 ? a = { autoBom: !1 } : Pr(a) !== "object" && (Gr.warn("Deprecated: Expected third argument to be a object"), a = { autoBom: !a }), a.autoBom && /^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type) ? new Blob(["\uFEFF", s], { type: s.type }) : s }(t, r), e) } : function (t, e, r, n) { if ((n = n || open("", "_blank")) && (n.document.title = n.document.body.innerText = "downloading..."), typeof t == "string") return fg(t, e, r); var s = t.type === "application/octet-stream", a = /constructor/i.test(Ar.HTMLElement) || Ar.safari, A = /CriOS\/[\d]+/.test(navigator.userAgent); if ((A || s && a) && (typeof FileReader > "u" ? "undefined" : Pr(FileReader)) === "object") { var o = new FileReader; o.onloadend = function () { var d = o.result; d = A ? d : d.replace(/^data:[^;]*;/, "data:attachment/file;"), n ? n.location.href = d : location = d, n = null }, o.readAsDataURL(t) } else { var l = Ar.URL || Ar.webkitURL, c = l.createObjectURL(t); n ? n.location = c : location.href = c, n = null, setTimeout(function () { l.revokeObjectURL(c) }, 4e4) } });/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function R4(t) { var e; t = t || "", this.ok = !1, t.charAt(0) == "#" && (t = t.substr(1, 6)), t = { aliceblue: "f0f8ff", antiquewhite: "faebd7", aqua: "00ffff", aquamarine: "7fffd4", azure: "f0ffff", beige: "f5f5dc", bisque: "ffe4c4", black: "000000", blanchedalmond: "ffebcd", blue: "0000ff", blueviolet: "8a2be2", brown: "a52a2a", burlywood: "deb887", cadetblue: "5f9ea0", chartreuse: "7fff00", chocolate: "d2691e", coral: "ff7f50", cornflowerblue: "6495ed", cornsilk: "fff8dc", crimson: "dc143c", cyan: "00ffff", darkblue: "00008b", darkcyan: "008b8b", darkgoldenrod: "b8860b", darkgray: "a9a9a9", darkgreen: "006400", darkkhaki: "bdb76b", darkmagenta: "8b008b", darkolivegreen: "556b2f", darkorange: "ff8c00", darkorchid: "9932cc", darkred: "8b0000", darksalmon: "e9967a", darkseagreen: "8fbc8f", darkslateblue: "483d8b", darkslategray: "2f4f4f", darkturquoise: "00ced1", darkviolet: "9400d3", deeppink: "ff1493", deepskyblue: "00bfff", dimgray: "696969", dodgerblue: "1e90ff", feldspar: "d19275", firebrick: "b22222", floralwhite: "fffaf0", forestgreen: "228b22", fuchsia: "ff00ff", gainsboro: "dcdcdc", ghostwhite: "f8f8ff", gold: "ffd700", goldenrod: "daa520", gray: "808080", green: "008000", greenyellow: "adff2f", honeydew: "f0fff0", hotpink: "ff69b4", indianred: "cd5c5c", indigo: "4b0082", ivory: "fffff0", khaki: "f0e68c", lavender: "e6e6fa", lavenderblush: "fff0f5", lawngreen: "7cfc00", lemonchiffon: "fffacd", lightblue: "add8e6", lightcoral: "f08080", lightcyan: "e0ffff", lightgoldenrodyellow: "fafad2", lightgrey: "d3d3d3", lightgreen: "90ee90", lightpink: "ffb6c1", lightsalmon: "ffa07a", lightseagreen: "20b2aa", lightskyblue: "87cefa", lightslateblue: "8470ff", lightslategray: "778899", lightsteelblue: "b0c4de", lightyellow: "ffffe0", lime: "00ff00", limegreen: "32cd32", linen: "faf0e6", magenta: "ff00ff", maroon: "800000", mediumaquamarine: "66cdaa", mediumblue: "0000cd", mediumorchid: "ba55d3", mediumpurple: "9370d8", mediumseagreen: "3cb371", mediumslateblue: "7b68ee", mediumspringgreen: "00fa9a", mediumturquoise: "48d1cc", mediumvioletred: "c71585", midnightblue: "191970", mintcream: "f5fffa", mistyrose: "ffe4e1", moccasin: "ffe4b5", navajowhite: "ffdead", navy: "000080", oldlace: "fdf5e6", olive: "808000", olivedrab: "6b8e23", orange: "ffa500", orangered: "ff4500", orchid: "da70d6", palegoldenrod: "eee8aa", palegreen: "98fb98", paleturquoise: "afeeee", palevioletred: "d87093", papayawhip: "ffefd5", peachpuff: "ffdab9", peru: "cd853f", pink: "ffc0cb", plum: "dda0dd", powderblue: "b0e0e6", purple: "800080", red: "ff0000", rosybrown: "bc8f8f", royalblue: "4169e1", saddlebrown: "8b4513", salmon: "fa8072", sandybrown: "f4a460", seagreen: "2e8b57", seashell: "fff5ee", sienna: "a0522d", silver: "c0c0c0", skyblue: "87ceeb", slateblue: "6a5acd", slategray: "708090", snow: "fffafa", springgreen: "00ff7f", steelblue: "4682b4", tan: "d2b48c", teal: "008080", thistle: "d8bfd8", tomato: "ff6347", turquoise: "40e0d0", violet: "ee82ee", violetred: "d02090", wheat: "f5deb3", white: "ffffff", whitesmoke: "f5f5f5", yellow: "ffff00", yellowgreen: "9acd32" }[t = (t = t.replace(/ /g, "")).toLowerCase()] || t; for (var r = [{ re: /^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/, example: ["rgb(123, 234, 45)", "rgb(255,234,245)"], process: function (o) { return [parseInt(o[1]), parseInt(o[2]), parseInt(o[3])] } }, { re: /^(\w{2})(\w{2})(\w{2})$/, example: ["#00ff00", "336699"], process: function (o) { return [parseInt(o[1], 16), parseInt(o[2], 16), parseInt(o[3], 16)] } }, { re: /^(\w{1})(\w{1})(\w{1})$/, example: ["#fb0", "f0f"], process: function (o) { return [parseInt(o[1] + o[1], 16), parseInt(o[2] + o[2], 16), parseInt(o[3] + o[3], 16)] } }], n = 0; n < r.length; n++) { var s = r[n].re, a = r[n].process, A = s.exec(t); A && (e = a(A), this.r = e[0], this.g = e[1], this.b = e[2], this.ok = !0) } this.r = this.r < 0 || isNaN(this.r) ? 0 : this.r > 255 ? 255 : this.r, this.g = this.g < 0 || isNaN(this.g) ? 0 : this.g > 255 ? 255 : this.g, this.b = this.b < 0 || isNaN(this.b) ? 0 : this.b > 255 ? 255 : this.b, this.toRGB = function () { return "rgb(" + this.r + ", " + this.g + ", " + this.b + ")" }, this.toHex = function () { var o = this.r.toString(16), l = this.g.toString(16), c = this.b.toString(16); return o.length == 1 && (o = "0" + o), l.length == 1 && (l = "0" + l), c.length == 1 && (c = "0" + c), "#" + o + l + c } } var ff = Ar.atob.bind(Ar), A2 = Ar.btoa.bind(Ar);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function pg(t, e) { var r = t[0], n = t[1], s = t[2], a = t[3]; r = ws(r, n, s, a, e[0], 7, -680876936), a = ws(a, r, n, s, e[1], 12, -389564586), s = ws(s, a, r, n, e[2], 17, 606105819), n = ws(n, s, a, r, e[3], 22, -1044525330), r = ws(r, n, s, a, e[4], 7, -176418897), a = ws(a, r, n, s, e[5], 12, 1200080426), s = ws(s, a, r, n, e[6], 17, -1473231341), n = ws(n, s, a, r, e[7], 22, -45705983), r = ws(r, n, s, a, e[8], 7, 1770035416), a = ws(a, r, n, s, e[9], 12, -1958414417), s = ws(s, a, r, n, e[10], 17, -42063), n = ws(n, s, a, r, e[11], 22, -1990404162), r = ws(r, n, s, a, e[12], 7, 1804603682), a = ws(a, r, n, s, e[13], 12, -40341101), s = ws(s, a, r, n, e[14], 17, -1502002290), r = ys(r, n = ws(n, s, a, r, e[15], 22, 1236535329), s, a, e[1], 5, -165796510), a = ys(a, r, n, s, e[6], 9, -1069501632), s = ys(s, a, r, n, e[11], 14, 643717713), n = ys(n, s, a, r, e[0], 20, -373897302), r = ys(r, n, s, a, e[5], 5, -701558691), a = ys(a, r, n, s, e[10], 9, 38016083), s = ys(s, a, r, n, e[15], 14, -660478335), n = ys(n, s, a, r, e[4], 20, -405537848), r = ys(r, n, s, a, e[9], 5, 568446438), a = ys(a, r, n, s, e[14], 9, -1019803690), s = ys(s, a, r, n, e[3], 14, -187363961), n = ys(n, s, a, r, e[8], 20, 1163531501), r = ys(r, n, s, a, e[13], 5, -1444681467), a = ys(a, r, n, s, e[2], 9, -51403784), s = ys(s, a, r, n, e[7], 14, 1735328473), r = bs(r, n = ys(n, s, a, r, e[12], 20, -1926607734), s, a, e[5], 4, -378558), a = bs(a, r, n, s, e[8], 11, -2022574463), s = bs(s, a, r, n, e[11], 16, 1839030562), n = bs(n, s, a, r, e[14], 23, -35309556), r = bs(r, n, s, a, e[1], 4, -1530992060), a = bs(a, r, n, s, e[4], 11, 1272893353), s = bs(s, a, r, n, e[7], 16, -155497632), n = bs(n, s, a, r, e[10], 23, -1094730640), r = bs(r, n, s, a, e[13], 4, 681279174), a = bs(a, r, n, s, e[0], 11, -358537222), s = bs(s, a, r, n, e[3], 16, -722521979), n = bs(n, s, a, r, e[6], 23, 76029189), r = bs(r, n, s, a, e[9], 4, -640364487), a = bs(a, r, n, s, e[12], 11, -421815835), s = bs(s, a, r, n, e[15], 16, 530742520), r = Bs(r, n = bs(n, s, a, r, e[2], 23, -995338651), s, a, e[0], 6, -198630844), a = Bs(a, r, n, s, e[7], 10, 1126891415), s = Bs(s, a, r, n, e[14], 15, -1416354905), n = Bs(n, s, a, r, e[5], 21, -57434055), r = Bs(r, n, s, a, e[12], 6, 1700485571), a = Bs(a, r, n, s, e[3], 10, -1894986606), s = Bs(s, a, r, n, e[10], 15, -1051523), n = Bs(n, s, a, r, e[1], 21, -2054922799), r = Bs(r, n, s, a, e[8], 6, 1873313359), a = Bs(a, r, n, s, e[15], 10, -30611744), s = Bs(s, a, r, n, e[6], 15, -1560198380), n = Bs(n, s, a, r, e[13], 21, 1309151649), r = Bs(r, n, s, a, e[4], 6, -145523070), a = Bs(a, r, n, s, e[11], 10, -1120210379), s = Bs(s, a, r, n, e[2], 15, 718787259), n = Bs(n, s, a, r, e[9], 21, -343485551), t[0] = po(r, t[0]), t[1] = po(n, t[1]), t[2] = po(s, t[2]), t[3] = po(a, t[3]) } function O0(t, e, r, n, s, a) { return e = po(po(e, t), po(n, a)), po(e << s | e >>> 32 - s, r) } function ws(t, e, r, n, s, a, A) { return O0(e & r | ~e & n, t, e, s, a, A) } function ys(t, e, r, n, s, a, A) { return O0(e & n | r & ~n, t, e, s, a, A) } function bs(t, e, r, n, s, a, A) { return O0(e ^ r ^ n, t, e, s, a, A) } function Bs(t, e, r, n, s, a, A) { return O0(r ^ (e | ~n), t, e, s, a, A) } function H4(t) { var e, r = t.length, n = [1732584193, -271733879, -1732584194, 271733878]; for (e = 64; e <= t.length; e += 64)pg(n, _6(t.substring(e - 64, e))); t = t.substring(e - 64); var s = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]; for (e = 0; e < t.length; e++)s[e >> 2] |= t.charCodeAt(e) << (e % 4 << 3); if (s[e >> 2] |= 128 << (e % 4 << 3), e > 55) for (pg(n, s), e = 0; e < 16; e++)s[e] = 0; return s[14] = 8 * r, pg(n, s), n } function _6(t) { var e, r = []; for (e = 0; e < 64; e += 4)r[e >> 2] = t.charCodeAt(e) + (t.charCodeAt(e + 1) << 8) + (t.charCodeAt(e + 2) << 16) + (t.charCodeAt(e + 3) << 24); return r } var o2 = "0123456789abcdef".split(""); function k6(t) { for (var e = "", r = 0; r < 4; r++)e += o2[t >> 8 * r + 4 & 15] + o2[t >> 8 * r & 15]; return e } function U6(t) { return String.fromCharCode(255 & t, (65280 & t) >> 8, (16711680 & t) >> 16, (4278190080 & t) >> 24) } function tx(t) { return H4(t).map(U6).join("") } var I6 = function (t) { for (var e = 0; e < t.length; e++)t[e] = k6(t[e]); return t.join("") }(H4("hello")) != "5d41402abc4b2a76b9719d911017c592"; function po(t, e) { if (I6) { var r = (65535 & t) + (65535 & e); return (t >> 16) + (e >> 16) + (r >> 16) << 16 | 65535 & r } return t + e & 4294967295 }/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function rx(t, e) { var r, n, s, a; if (t !== r) { for (var A = (s = t, a = 1 + (256 / t.length | 0), new Array(a + 1).join(s)), o = [], l = 0; l < 256; l++)o[l] = l; var c = 0; for (l = 0; l < 256; l++) { var d = o[l]; c = (c + d + A.charCodeAt(l)) % 256, o[l] = o[c], o[c] = d } r = t, n = o } else o = n; var p = e.length, g = 0, h = 0, b = ""; for (l = 0; l < p; l++)h = (h + (d = o[g = (g + 1) % 256])) % 256, o[g] = o[h], o[h] = d, A = o[(o[g] + o[h]) % 256], b += String.fromCharCode(e.charCodeAt(l) ^ A); return b }/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var l2 = { print: 4, modify: 8, copy: 16, "annot-forms": 32 }; function lc(t, e, r, n) { this.v = 1, this.r = 2; var s = 192; t.forEach(function (o) { if (l2.perm !== void 0) throw new Error("Invalid permission: " + o); s += l2[o] }), this.padding = "(N^NuAd\0NV\b..\0h>/\fdSiz"; var a = (e + this.padding).substr(0, 32), A = (r + this.padding).substr(0, 32); this.O = this.processOwnerPassword(a, A), this.P = -(1 + (255 ^ s)), this.encryptionKey = tx(a + this.O + this.lsbFirstWord(this.P) + this.hexToBytes(n)).substr(0, 5), this.U = rx(this.encryptionKey, this.padding) } function cc(t) { if (/[^\u0000-\u00ff]/.test(t)) throw new Error("Invalid PDF Name Object: " + t + ", Only accept ASCII characters."); for (var e = "", r = t.length, n = 0; n < r; n++) { var s = t.charCodeAt(n); e += s < 33 || s === 35 || s === 37 || s === 40 || s === 41 || s === 47 || s === 60 || s === 62 || s === 91 || s === 93 || s === 123 || s === 125 || s > 126 ? "#" + ("0" + s.toString(16)).slice(-2) : t[n] } return e } function c2(t) { if (Pr(t) !== "object") throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)"); var e = {}; this.subscribe = function (r, n, s) { if (s = s || !1, typeof r != "string" || typeof n != "function" || typeof s != "boolean") throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)"); e.hasOwnProperty(r) || (e[r] = {}); var a = Math.random().toString(35); return e[r][a] = [n, !!s], a }, this.unsubscribe = function (r) { for (var n in e) if (e[n][r]) return delete e[n][r], Object.keys(e[n]).length === 0 && delete e[n], !0; return !1 }, this.publish = function (r) { if (e.hasOwnProperty(r)) { var n = Array.prototype.slice.call(arguments, 1), s = []; for (var a in e[r]) { var A = e[r][a]; try { A[0].apply(t, n) } catch (o) { Ar.console && Gr.error("jsPDF PubSub Error", o.message, o) } A[1] && s.push(a) } s.length && s.forEach(this.unsubscribe) } }, this.getTopics = function () { return e } } function s0(t) { if (!(this instanceof s0)) return new s0(t); var e = "opacity,stroke-opacity".split(","); for (var r in t) t.hasOwnProperty(r) && e.indexOf(r) >= 0 && (this[r] = t[r]); this.id = "", this.objectNumber = -1 } function M4(t, e) { this.gState = t, this.matrix = e, this.id = "", this.objectNumber = -1 } function nl(t, e, r, n, s) { if (!(this instanceof nl)) return new nl(t, e, r, n, s); this.type = t === "axial" ? 2 : 3, this.coords = e, this.colors = r, M4.call(this, n, s) } function Nc(t, e, r, n, s) { if (!(this instanceof Nc)) return new Nc(t, e, r, n, s); this.boundingBox = t, this.xStep = e, this.yStep = r, this.stream = "", this.cloneIndex = 0, M4.call(this, n, s) } function er(t) {
  var e, r = typeof arguments[0] == "string" ? arguments[0] : "p", n = arguments[1], s = arguments[2], a = arguments[3], A = [], o = 1, l = 16, c = "S", d = null; Pr(t = t || {}) === "object" && (r = t.orientation, n = t.unit || n, s = t.format || s, a = t.compress || t.compressPdf || a, (d = t.encryption || null) !== null && (d.userPassword = d.userPassword || "", d.ownerPassword = d.ownerPassword || "", d.userPermissions = d.userPermissions || []), o = typeof t.userUnit == "number" ? Math.abs(t.userUnit) : 1, t.precision !== void 0 && (e = t.precision), t.floatPrecision !== void 0 && (l = t.floatPrecision), c = t.defaultPathOperation || "S"), A = t.filters || (a === !0 ? ["FlateEncode"] : A), n = n || "mm", r = ("" + (r || "P")).toLowerCase(); var p = t.putOnlyUsedFonts || !1, g = {}, h = { internal: {}, __private__: {} }; h.__private__.PubSub = c2; var b = "1.3", w = h.__private__.getPdfVersion = function () { return b }; h.__private__.setPdfVersion = function (m) { b = m }; var j = { a0: [2383.94, 3370.39], a1: [1683.78, 2383.94], a2: [1190.55, 1683.78], a3: [841.89, 1190.55], a4: [595.28, 841.89], a5: [419.53, 595.28], a6: [297.64, 419.53], a7: [209.76, 297.64], a8: [147.4, 209.76], a9: [104.88, 147.4], a10: [73.7, 104.88], b0: [2834.65, 4008.19], b1: [2004.09, 2834.65], b2: [1417.32, 2004.09], b3: [1000.63, 1417.32], b4: [708.66, 1000.63], b5: [498.9, 708.66], b6: [354.33, 498.9], b7: [249.45, 354.33], b8: [175.75, 249.45], b9: [124.72, 175.75], b10: [87.87, 124.72], c0: [2599.37, 3676.54], c1: [1836.85, 2599.37], c2: [1298.27, 1836.85], c3: [918.43, 1298.27], c4: [649.13, 918.43], c5: [459.21, 649.13], c6: [323.15, 459.21], c7: [229.61, 323.15], c8: [161.57, 229.61], c9: [113.39, 161.57], c10: [79.37, 113.39], dl: [311.81, 623.62], letter: [612, 792], "government-letter": [576, 756], legal: [612, 1008], "junior-legal": [576, 360], ledger: [1224, 792], tabloid: [792, 1224], "credit-card": [153, 243] }; h.__private__.getPageFormats = function () { return j }; var x = h.__private__.getPageFormat = function (m) { return j[m] }; s = s || "a4"; var y = "compat", B = "advanced", E = y; function T() { this.saveGraphicsState(), F(new Ge(ye, 0, 0, -ye, 0, ya() * ye).toString() + " cm"), this.setFontSize(this.getFontSize() / ye), c = "n", E = B } function U() { this.restoreGraphicsState(), c = "S", E = y } var M = h.__private__.combineFontStyleAndFontWeight = function (m, Q) { if (m == "bold" && Q == "normal" || m == "bold" && Q == 400 || m == "normal" && Q == "italic" || m == "bold" && Q == "italic") throw new Error("Invalid Combination of fontweight and fontstyle"); return Q && (m = Q == 400 || Q === "normal" ? m === "italic" ? "italic" : "normal" : Q != 700 && Q !== "bold" || m !== "normal" ? (Q == 700 ? "bold" : Q) + "" + m : "bold"), m }; h.advancedAPI = function (m) { var Q = E === y; return Q && T.call(this), typeof m != "function" || (m(this), Q && U.call(this)), this }, h.compatAPI = function (m) { var Q = E === B; return Q && U.call(this), typeof m != "function" || (m(this), Q && T.call(this)), this }, h.isAdvancedAPI = function () { return E === B }; var G, N = function (m) { if (E !== B) throw new Error(m + " is only available in 'advanced' API mode. You need to call advancedAPI() first.") }, H = h.roundToPrecision = h.__private__.roundToPrecision = function (m, Q) { var ae = e || Q; if (isNaN(m) || isNaN(ae)) throw new Error("Invalid argument passed to jsPDF.roundToPrecision"); return m.toFixed(ae).replace(/0+$/, "") }; G = h.hpf = h.__private__.hpf = typeof l == "number" ? function (m) { if (isNaN(m)) throw new Error("Invalid argument passed to jsPDF.hpf"); return H(m, l) } : l === "smart" ? function (m) { if (isNaN(m)) throw new Error("Invalid argument passed to jsPDF.hpf"); return H(m, m > -1 && m < 1 ? 16 : 5) } : function (m) { if (isNaN(m)) throw new Error("Invalid argument passed to jsPDF.hpf"); return H(m, 16) }; var k = h.f2 = h.__private__.f2 = function (m) { if (isNaN(m)) throw new Error("Invalid argument passed to jsPDF.f2"); return H(m, 2) }, _ = h.__private__.f3 = function (m) { if (isNaN(m)) throw new Error("Invalid argument passed to jsPDF.f3"); return H(m, 3) }, V = h.scale = h.__private__.scale = function (m) { if (isNaN(m)) throw new Error("Invalid argument passed to jsPDF.scale"); return E === y ? m * ye : E === B ? m : void 0 }, P = function (m) { return V(function (Q) { return E === y ? ya() - Q : E === B ? Q : void 0 }(m)) }; h.__private__.setPrecision = h.setPrecision = function (m) { typeof parseInt(m, 10) == "number" && (e = parseInt(m, 10)) }; var te, ce = "00000000000000000000000000000000", he = h.__private__.getFileId = function () { return ce }, ie = h.__private__.setFileId = function (m) { return ce = m !== void 0 && /^[a-fA-F0-9]{32}$/.test(m) ? m.toUpperCase() : ce.split("").map(function () { return "ABCDEF0123456789".charAt(Math.floor(16 * Math.random())) }).join(""), d !== null && (Sn = new lc(d.userPermissions, d.userPassword, d.ownerPassword, ce)), ce }; h.setFileId = function (m) { return ie(m), this }, h.getFileId = function () { return he() }; var ue = h.__private__.convertDateToPDFDate = function (m) { var Q = m.getTimezoneOffset(), ae = Q < 0 ? "+" : "-", xe = Math.floor(Math.abs(Q / 60)), Ie = Math.abs(Q % 60), tt = [ae, re(xe), "'", re(Ie), "'"].join(""); return ["D:", m.getFullYear(), re(m.getMonth() + 1), re(m.getDate()), re(m.getHours()), re(m.getMinutes()), re(m.getSeconds()), tt].join("") }, pe = h.__private__.convertPDFDateToDate = function (m) { var Q = parseInt(m.substr(2, 4), 10), ae = parseInt(m.substr(6, 2), 10) - 1, xe = parseInt(m.substr(8, 2), 10), Ie = parseInt(m.substr(10, 2), 10), tt = parseInt(m.substr(12, 2), 10), lt = parseInt(m.substr(14, 2), 10); return new Date(Q, ae, xe, Ie, tt, lt, 0) }, ve = h.__private__.setCreationDate = function (m) { var Q; if (m === void 0 && (m = new Date), m instanceof Date) Q = ue(m); else { if (!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(m)) throw new Error("Invalid argument passed to jsPDF.setCreationDate"); Q = m } return te = Q }, I = h.__private__.getCreationDate = function (m) { var Q = te; return m === "jsDate" && (Q = pe(te)), Q }; h.setCreationDate = function (m) { return ve(m), this }, h.getCreationDate = function (m) { return I(m) }; var R, re = h.__private__.padd2 = function (m) { return ("0" + parseInt(m)).slice(-2) }, Y = h.__private__.padd2Hex = function (m) { return ("00" + (m = m.toString())).substr(m.length) }, le = 0, ge = [], ke = [], Fe = 0, Le = [], nt = [], ct = !1, de = ke; h.__private__.setCustomOutputDestination = function (m) { ct = !0, de = m }; var Ze = function (m) { ct || (de = m) }; h.__private__.resetCustomOutputDestination = function () { ct = !1, de = ke }; var F = h.__private__.out = function (m) { return m = m.toString(), Fe += m.length + 1, de.push(m), de }, se = h.__private__.write = function (m) { return F(arguments.length === 1 ? m.toString() : Array.prototype.join.call(arguments, " ")) }, qe = h.__private__.getArrayBuffer = function (m) { for (var Q = m.length, ae = new ArrayBuffer(Q), xe = new Uint8Array(ae); Q--;)xe[Q] = m.charCodeAt(Q); return ae }, X = [["Helvetica", "helvetica", "normal", "WinAnsiEncoding"], ["Helvetica-Bold", "helvetica", "bold", "WinAnsiEncoding"], ["Helvetica-Oblique", "helvetica", "italic", "WinAnsiEncoding"], ["Helvetica-BoldOblique", "helvetica", "bolditalic", "WinAnsiEncoding"], ["Courier", "courier", "normal", "WinAnsiEncoding"], ["Courier-Bold", "courier", "bold", "WinAnsiEncoding"], ["Courier-Oblique", "courier", "italic", "WinAnsiEncoding"], ["Courier-BoldOblique", "courier", "bolditalic", "WinAnsiEncoding"], ["Times-Roman", "times", "normal", "WinAnsiEncoding"], ["Times-Bold", "times", "bold", "WinAnsiEncoding"], ["Times-Italic", "times", "italic", "WinAnsiEncoding"], ["Times-BoldItalic", "times", "bolditalic", "WinAnsiEncoding"], ["ZapfDingbats", "zapfdingbats", "normal", null], ["Symbol", "symbol", "normal", null]]; h.__private__.getStandardFonts = function () { return X }; var ne = t.fontSize || 16; h.__private__.setFontSize = h.setFontSize = function (m) { return ne = E === B ? m / ye : m, this }; var Se, W = h.__private__.getFontSize = h.getFontSize = function () { return E === y ? ne : ne * ye }, $e = t.R2L || !1; h.__private__.setR2L = h.setR2L = function (m) { return $e = m, this }, h.__private__.getR2L = h.getR2L = function () { return $e }; var Ke, ze = h.__private__.setZoomMode = function (m) { if (/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(m)) Se = m; else if (isNaN(m)) { if ([void 0, null, "fullwidth", "fullheight", "fullpage", "original"].indexOf(m) === -1) throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "' + m + '" is not recognized.'); Se = m } else Se = parseInt(m, 10) }; h.__private__.getZoomMode = function () { return Se }; var We, ot = h.__private__.setPageMode = function (m) { if ([void 0, null, "UseNone", "UseOutlines", "UseThumbs", "FullScreen"].indexOf(m) == -1) throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "' + m + '" is not recognized.'); Ke = m }; h.__private__.getPageMode = function () { return Ke }; var be = h.__private__.setLayoutMode = function (m) { if ([void 0, null, "continuous", "single", "twoleft", "tworight", "two"].indexOf(m) == -1) throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "' + m + '" is not recognized.'); We = m }; h.__private__.getLayoutMode = function () { return We }, h.__private__.setDisplayMode = h.setDisplayMode = function (m, Q, ae) { return ze(m), be(Q), ot(ae), this }; var Ne = { title: "", subject: "", author: "", keywords: "", creator: "" }; h.__private__.getDocumentProperty = function (m) { if (Object.keys(Ne).indexOf(m) === -1) throw new Error("Invalid argument passed to jsPDF.getDocumentProperty"); return Ne[m] }, h.__private__.getDocumentProperties = function () { return Ne }, h.__private__.setDocumentProperties = h.setProperties = h.setDocumentProperties = function (m) { for (var Q in Ne) Ne.hasOwnProperty(Q) && m[Q] && (Ne[Q] = m[Q]); return this }, h.__private__.setDocumentProperty = function (m, Q) { if (Object.keys(Ne).indexOf(m) === -1) throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty"); return Ne[m] = Q }; var ee, ye, Ee, Ye, Xe, Be = {}, Te = {}, pt = [], At = {}, bt = {}, ht = {}, xt = {}, Ct = null, kt = 0, Qt = [], Ft = new c2(h), pr = t.hotfixes || [], O = {}, Ue = {}, st = [], Ge = function m(Q, ae, xe, Ie, tt, lt) { if (!(this instanceof m)) return new m(Q, ae, xe, Ie, tt, lt); isNaN(Q) && (Q = 1), isNaN(ae) && (ae = 0), isNaN(xe) && (xe = 0), isNaN(Ie) && (Ie = 1), isNaN(tt) && (tt = 0), isNaN(lt) && (lt = 0), this._matrix = [Q, ae, xe, Ie, tt, lt] }; Object.defineProperty(Ge.prototype, "sx", { get: function () { return this._matrix[0] }, set: function (m) { this._matrix[0] = m } }), Object.defineProperty(Ge.prototype, "shy", { get: function () { return this._matrix[1] }, set: function (m) { this._matrix[1] = m } }), Object.defineProperty(Ge.prototype, "shx", { get: function () { return this._matrix[2] }, set: function (m) { this._matrix[2] = m } }), Object.defineProperty(Ge.prototype, "sy", { get: function () { return this._matrix[3] }, set: function (m) { this._matrix[3] = m } }), Object.defineProperty(Ge.prototype, "tx", { get: function () { return this._matrix[4] }, set: function (m) { this._matrix[4] = m } }), Object.defineProperty(Ge.prototype, "ty", { get: function () { return this._matrix[5] }, set: function (m) { this._matrix[5] = m } }), Object.defineProperty(Ge.prototype, "a", { get: function () { return this._matrix[0] }, set: function (m) { this._matrix[0] = m } }), Object.defineProperty(Ge.prototype, "b", { get: function () { return this._matrix[1] }, set: function (m) { this._matrix[1] = m } }), Object.defineProperty(Ge.prototype, "c", { get: function () { return this._matrix[2] }, set: function (m) { this._matrix[2] = m } }), Object.defineProperty(Ge.prototype, "d", { get: function () { return this._matrix[3] }, set: function (m) { this._matrix[3] = m } }), Object.defineProperty(Ge.prototype, "e", { get: function () { return this._matrix[4] }, set: function (m) { this._matrix[4] = m } }), Object.defineProperty(Ge.prototype, "f", { get: function () { return this._matrix[5] }, set: function (m) { this._matrix[5] = m } }), Object.defineProperty(Ge.prototype, "rotation", { get: function () { return Math.atan2(this.shx, this.sx) } }), Object.defineProperty(Ge.prototype, "scaleX", { get: function () { return this.decompose().scale.sx } }), Object.defineProperty(Ge.prototype, "scaleY", { get: function () { return this.decompose().scale.sy } }), Object.defineProperty(Ge.prototype, "isIdentity", { get: function () { return this.sx === 1 && this.shy === 0 && this.shx === 0 && this.sy === 1 && this.tx === 0 && this.ty === 0 } }), Ge.prototype.join = function (m) { return [this.sx, this.shy, this.shx, this.sy, this.tx, this.ty].map(G).join(m) }, Ge.prototype.multiply = function (m) { var Q = m.sx * this.sx + m.shy * this.shx, ae = m.sx * this.shy + m.shy * this.sy, xe = m.shx * this.sx + m.sy * this.shx, Ie = m.shx * this.shy + m.sy * this.sy, tt = m.tx * this.sx + m.ty * this.shx + this.tx, lt = m.tx * this.shy + m.ty * this.sy + this.ty; return new Ge(Q, ae, xe, Ie, tt, lt) }, Ge.prototype.decompose = function () { var m = this.sx, Q = this.shy, ae = this.shx, xe = this.sy, Ie = this.tx, tt = this.ty, lt = Math.sqrt(m * m + Q * Q), Mt = (m /= lt) * ae + (Q /= lt) * xe; ae -= m * Mt, xe -= Q * Mt; var qt = Math.sqrt(ae * ae + xe * xe); return Mt /= qt, m * (xe /= qt) < Q * (ae /= qt) && (m = -m, Q = -Q, Mt = -Mt, lt = -lt), { scale: new Ge(lt, 0, 0, qt, 0, 0), translate: new Ge(1, 0, 0, 1, Ie, tt), rotate: new Ge(m, Q, -Q, m, 0, 0), skew: new Ge(1, 0, Mt, 1, 0, 0) } }, Ge.prototype.toString = function (m) { return this.join(" ") }, Ge.prototype.inversed = function () { var m = this.sx, Q = this.shy, ae = this.shx, xe = this.sy, Ie = this.tx, tt = this.ty, lt = 1 / (m * xe - Q * ae), Mt = xe * lt, qt = -Q * lt, ir = -ae * lt, lr = m * lt; return new Ge(Mt, qt, ir, lr, -Mt * Ie - ir * tt, -qt * Ie - lr * tt) }, Ge.prototype.applyToPoint = function (m) { var Q = m.x * this.sx + m.y * this.shx + this.tx, ae = m.x * this.shy + m.y * this.sy + this.ty; return new bi(Q, ae) }, Ge.prototype.applyToRectangle = function (m) { var Q = this.applyToPoint(m), ae = this.applyToPoint(new bi(m.x + m.w, m.y + m.h)); return new IA(Q.x, Q.y, ae.x - Q.x, ae.y - Q.y) }, Ge.prototype.clone = function () { var m = this.sx, Q = this.shy, ae = this.shx, xe = this.sy, Ie = this.tx, tt = this.ty; return new Ge(m, Q, ae, xe, Ie, tt) }, h.Matrix = Ge; var Et = h.matrixMult = function (m, Q) { return Q.multiply(m) }, Vt = new Ge(1, 0, 0, 1, 0, 0); h.unitMatrix = h.identityMatrix = Vt; var _t = function (m, Q) { if (!bt[m]) { var ae = (Q instanceof nl ? "Sh" : "P") + (Object.keys(At).length + 1).toString(10); Q.id = ae, bt[m] = ae, At[ae] = Q, Ft.publish("addPattern", Q) } }; h.ShadingPattern = nl, h.TilingPattern = Nc, h.addShadingPattern = function (m, Q) { return N("addShadingPattern()"), _t(m, Q), this }, h.beginTilingPattern = function (m) { N("beginTilingPattern()"), QA(m.boundingBox[0], m.boundingBox[1], m.boundingBox[2] - m.boundingBox[0], m.boundingBox[3] - m.boundingBox[1], m.matrix) }, h.endTilingPattern = function (m, Q) {
    N("endTilingPattern()"), Q.stream = nt[R].join(`
`), _t(m, Q), Ft.publish("endTilingPattern", Q), st.pop().restore()
  }; var fr, or = h.__private__.newObject = function () { var m = mt(); return ar(m, !0), m }, mt = h.__private__.newObjectDeferred = function () { return le++, ge[le] = function () { return Fe }, le }, ar = function (m, Q) { return Q = typeof Q == "boolean" && Q, ge[m] = Fe, Q && F(m + " 0 obj"), m }, Mr = h.__private__.newAdditionalObject = function () { var m = { objId: mt(), content: "" }; return Le.push(m), m }, cn = mt(), Vr = mt(), Jn = h.__private__.decodeColorString = function (m) { var Q = m.split(" "); if (Q.length !== 2 || Q[1] !== "g" && Q[1] !== "G") Q.length !== 5 || Q[4] !== "k" && Q[4] !== "K" || (Q = [(1 - Q[0]) * (1 - Q[3]), (1 - Q[1]) * (1 - Q[3]), (1 - Q[2]) * (1 - Q[3]), "r"]); else { var ae = parseFloat(Q[0]); Q = [ae, ae, ae, "r"] } for (var xe = "#", Ie = 0; Ie < 3; Ie++)xe += ("0" + Math.floor(255 * parseFloat(Q[Ie])).toString(16)).slice(-2); return xe }, Pt = h.__private__.encodeColorString = function (m) { var Q; typeof m == "string" && (m = { ch1: m }); var ae = m.ch1, xe = m.ch2, Ie = m.ch3, tt = m.ch4, lt = m.pdfColorType === "draw" ? ["G", "RG", "K"] : ["g", "rg", "k"]; if (typeof ae == "string" && ae.charAt(0) !== "#") { var Mt = new R4(ae); if (Mt.ok) ae = Mt.toHex(); else if (!/^\d*\.?\d*$/.test(ae)) throw new Error('Invalid color "' + ae + '" passed to jsPDF.encodeColorString.') } if (typeof ae == "string" && /^#[0-9A-Fa-f]{3}$/.test(ae) && (ae = "#" + ae[1] + ae[1] + ae[2] + ae[2] + ae[3] + ae[3]), typeof ae == "string" && /^#[0-9A-Fa-f]{6}$/.test(ae)) { var qt = parseInt(ae.substr(1), 16); ae = qt >> 16 & 255, xe = qt >> 8 & 255, Ie = 255 & qt } if (xe === void 0 || tt === void 0 && ae === xe && xe === Ie) Q = typeof ae == "string" ? ae + " " + lt[0] : m.precision === 2 ? k(ae / 255) + " " + lt[0] : _(ae / 255) + " " + lt[0]; else if (tt === void 0 || Pr(tt) === "object") { if (tt && !isNaN(tt.a) && tt.a === 0) return ["1.", "1.", "1.", lt[1]].join(" "); Q = typeof ae == "string" ? [ae, xe, Ie, lt[1]].join(" ") : m.precision === 2 ? [k(ae / 255), k(xe / 255), k(Ie / 255), lt[1]].join(" ") : [_(ae / 255), _(xe / 255), _(Ie / 255), lt[1]].join(" ") } else Q = typeof ae == "string" ? [ae, xe, Ie, tt, lt[2]].join(" ") : m.precision === 2 ? [k(ae), k(xe), k(Ie), k(tt), lt[2]].join(" ") : [_(ae), _(xe), _(Ie), _(tt), lt[2]].join(" "); return Q }, Mn = h.__private__.getFilters = function () { return A }, $r = h.__private__.putStream = function (m) { var Q = (m = m || {}).data || "", ae = m.filters || Mn(), xe = m.alreadyAppliedFilters || [], Ie = m.addLength1 || !1, tt = Q.length, lt = m.objectId, Mt = function (wn) { return wn }; if (d !== null && lt === void 0) throw new Error("ObjectId must be passed to putStream for file encryption"); d !== null && (Mt = Sn.encryptor(lt, 0)); var qt = {}; ae === !0 && (ae = ["FlateEncode"]); var ir = m.additionalKeyValues || [], lr = (qt = er.API.processDataByFilters !== void 0 ? er.API.processDataByFilters(Q, ae) : { data: Q, reverseChain: [] }).reverseChain + (Array.isArray(xe) ? xe.join(" ") : xe.toString()); if (qt.data.length !== 0 && (ir.push({ key: "Length", value: qt.data.length }), Ie === !0 && ir.push({ key: "Length1", value: tt })), lr.length != 0) if (lr.split("/").length - 1 == 1) ir.push({ key: "Filter", value: lr }); else { ir.push({ key: "Filter", value: "[" + lr + "]" }); for (var br = 0; br < ir.length; br += 1)if (ir[br].key === "DecodeParms") { for (var zr = [], un = 0; un < qt.reverseChain.split("/").length - 1; un += 1)zr.push("null"); zr.push(ir[br].value), ir[br].value = "[" + zr.join(" ") + "]" } } F("<<"); for (var Qr = 0; Qr < ir.length; Qr++)F("/" + ir[Qr].key + " " + ir[Qr].value); F(">>"), qt.data.length !== 0 && (F("stream"), F(Mt(qt.data)), F("endstream")) }, Os = h.__private__.putPage = function (m) {
    var Q = m.number, ae = m.data, xe = m.objId, Ie = m.contentsObjId; ar(xe, !0), F("<</Type /Page"), F("/Parent " + m.rootDictionaryObjId + " 0 R"), F("/Resources " + m.resourceDictionaryObjId + " 0 R"), F("/MediaBox [" + parseFloat(G(m.mediaBox.bottomLeftX)) + " " + parseFloat(G(m.mediaBox.bottomLeftY)) + " " + G(m.mediaBox.topRightX) + " " + G(m.mediaBox.topRightY) + "]"), m.cropBox !== null && F("/CropBox [" + G(m.cropBox.bottomLeftX) + " " + G(m.cropBox.bottomLeftY) + " " + G(m.cropBox.topRightX) + " " + G(m.cropBox.topRightY) + "]"), m.bleedBox !== null && F("/BleedBox [" + G(m.bleedBox.bottomLeftX) + " " + G(m.bleedBox.bottomLeftY) + " " + G(m.bleedBox.topRightX) + " " + G(m.bleedBox.topRightY) + "]"), m.trimBox !== null && F("/TrimBox [" + G(m.trimBox.bottomLeftX) + " " + G(m.trimBox.bottomLeftY) + " " + G(m.trimBox.topRightX) + " " + G(m.trimBox.topRightY) + "]"), m.artBox !== null && F("/ArtBox [" + G(m.artBox.bottomLeftX) + " " + G(m.artBox.bottomLeftY) + " " + G(m.artBox.topRightX) + " " + G(m.artBox.topRightY) + "]"), typeof m.userUnit == "number" && m.userUnit !== 1 && F("/UserUnit " + m.userUnit), Ft.publish("putPage", { objId: xe, pageContext: Qt[Q], pageNumber: Q, page: ae }), F("/Contents " + Ie + " 0 R"), F(">>"), F("endobj"); var tt = ae.join(`
`); return E === B && (tt += `
Q`), ar(Ie, !0), $r({ data: tt, filters: Mn(), objectId: Ie }), F("endobj"), xe
  }, Ys = h.__private__.putPages = function () { var m, Q, ae = []; for (m = 1; m <= kt; m++)Qt[m].objId = mt(), Qt[m].contentsObjId = mt(); for (m = 1; m <= kt; m++)ae.push(Os({ number: m, data: nt[m], objId: Qt[m].objId, contentsObjId: Qt[m].contentsObjId, mediaBox: Qt[m].mediaBox, cropBox: Qt[m].cropBox, bleedBox: Qt[m].bleedBox, trimBox: Qt[m].trimBox, artBox: Qt[m].artBox, userUnit: Qt[m].userUnit, rootDictionaryObjId: cn, resourceDictionaryObjId: Vr })); ar(cn, !0), F("<</Type /Pages"); var xe = "/Kids ["; for (Q = 0; Q < kt; Q++)xe += ae[Q] + " 0 R "; F(xe + "]"), F("/Count " + kt), F(">>"), F("endobj"), Ft.publish("postPutPages") }, $i = function (m) { Ft.publish("putFont", { font: m, out: F, newObject: or, putStream: $r }), m.isAlreadyPutted !== !0 && (m.objectNumber = or(), F("<<"), F("/Type /Font"), F("/BaseFont /" + cc(m.postScriptName)), F("/Subtype /Type1"), typeof m.encoding == "string" && F("/Encoding /" + m.encoding), F("/FirstChar 32"), F("/LastChar 255"), F(">>"), F("endobj")) }, mi = function (m) {
    m.objectNumber = or(); var Q = []; Q.push({ key: "Type", value: "/XObject" }), Q.push({ key: "Subtype", value: "/Form" }), Q.push({ key: "BBox", value: "[" + [G(m.x), G(m.y), G(m.x + m.width), G(m.y + m.height)].join(" ") + "]" }), Q.push({ key: "Matrix", value: "[" + m.matrix.toString() + "]" }); var ae = m.pages[1].join(`
`); $r({ data: ae, additionalKeyValues: Q, objectId: m.objectNumber }), F("endobj")
  }, SA = function (m, Q) { Q || (Q = 21); var ae = or(), xe = function (lt, Mt) { var qt, ir = [], lr = 1 / (Mt - 1); for (qt = 0; qt < 1; qt += lr)ir.push(qt); if (ir.push(1), lt[0].offset != 0) { var br = { offset: 0, color: lt[0].color }; lt.unshift(br) } if (lt[lt.length - 1].offset != 1) { var zr = { offset: 1, color: lt[lt.length - 1].color }; lt.push(zr) } for (var un = "", Qr = 0, wn = 0; wn < ir.length; wn++) { for (qt = ir[wn]; qt > lt[Qr + 1].offset;)Qr++; var dn = lt[Qr].offset, Ln = (qt - dn) / (lt[Qr + 1].offset - dn), Ni = lt[Qr].color, Hs = lt[Qr + 1].color; un += Y(Math.round((1 - Ln) * Ni[0] + Ln * Hs[0]).toString(16)) + Y(Math.round((1 - Ln) * Ni[1] + Ln * Hs[1]).toString(16)) + Y(Math.round((1 - Ln) * Ni[2] + Ln * Hs[2]).toString(16)) } return un.trim() }(m.colors, Q), Ie = []; Ie.push({ key: "FunctionType", value: "0" }), Ie.push({ key: "Domain", value: "[0.0 1.0]" }), Ie.push({ key: "Size", value: "[" + Q + "]" }), Ie.push({ key: "BitsPerSample", value: "8" }), Ie.push({ key: "Range", value: "[0.0 1.0 0.0 1.0 0.0 1.0]" }), Ie.push({ key: "Decode", value: "[0.0 1.0 0.0 1.0 0.0 1.0]" }), $r({ data: xe, additionalKeyValues: Ie, alreadyAppliedFilters: ["/ASCIIHexDecode"], objectId: ae }), F("endobj"), m.objectNumber = or(), F("<< /ShadingType " + m.type), F("/ColorSpace /DeviceRGB"); var tt = "/Coords [" + G(parseFloat(m.coords[0])) + " " + G(parseFloat(m.coords[1])) + " "; m.type === 2 ? tt += G(parseFloat(m.coords[2])) + " " + G(parseFloat(m.coords[3])) : tt += G(parseFloat(m.coords[2])) + " " + G(parseFloat(m.coords[3])) + " " + G(parseFloat(m.coords[4])) + " " + G(parseFloat(m.coords[5])), F(tt += "]"), m.matrix && F("/Matrix [" + m.matrix.toString() + "]"), F("/Function " + ae + " 0 R"), F("/Extend [true true]"), F(">>"), F("endobj") }, za = function (m, Q) { var ae = mt(), xe = or(); Q.push({ resourcesOid: ae, objectOid: xe }), m.objectNumber = xe; var Ie = []; Ie.push({ key: "Type", value: "/Pattern" }), Ie.push({ key: "PatternType", value: "1" }), Ie.push({ key: "PaintType", value: "1" }), Ie.push({ key: "TilingType", value: "1" }), Ie.push({ key: "BBox", value: "[" + m.boundingBox.map(G).join(" ") + "]" }), Ie.push({ key: "XStep", value: G(m.xStep) }), Ie.push({ key: "YStep", value: G(m.yStep) }), Ie.push({ key: "Resources", value: ae + " 0 R" }), m.matrix && Ie.push({ key: "Matrix", value: "[" + m.matrix.toString() + "]" }), $r({ data: m.stream, additionalKeyValues: Ie, objectId: m.objectNumber }), F("endobj") }, Zc = function (m) { for (var Q in m.objectNumber = or(), F("<<"), m) switch (Q) { case "opacity": F("/ca " + k(m[Q])); break; case "stroke-opacity": F("/CA " + k(m[Q])) }F(">>"), F("endobj") }, Io = function (m) { ar(m.resourcesOid, !0), F("<<"), F("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"), function () { for (var Q in F("/Font <<"), Be) Be.hasOwnProperty(Q) && (p === !1 || p === !0 && g.hasOwnProperty(Q)) && F("/" + Q + " " + Be[Q].objectNumber + " 0 R"); F(">>") }(), function () { if (Object.keys(At).length > 0) { for (var Q in F("/Shading <<"), At) At.hasOwnProperty(Q) && At[Q] instanceof nl && At[Q].objectNumber >= 0 && F("/" + Q + " " + At[Q].objectNumber + " 0 R"); Ft.publish("putShadingPatternDict"), F(">>") } }(), function (Q) { if (Object.keys(At).length > 0) { for (var ae in F("/Pattern <<"), At) At.hasOwnProperty(ae) && At[ae] instanceof h.TilingPattern && At[ae].objectNumber >= 0 && At[ae].objectNumber < Q && F("/" + ae + " " + At[ae].objectNumber + " 0 R"); Ft.publish("putTilingPatternDict"), F(">>") } }(m.objectOid), function () { if (Object.keys(ht).length > 0) { var Q; for (Q in F("/ExtGState <<"), ht) ht.hasOwnProperty(Q) && ht[Q].objectNumber >= 0 && F("/" + Q + " " + ht[Q].objectNumber + " 0 R"); Ft.publish("putGStateDict"), F(">>") } }(), function () { for (var Q in F("/XObject <<"), O) O.hasOwnProperty(Q) && O[Q].objectNumber >= 0 && F("/" + Q + " " + O[Q].objectNumber + " 0 R"); Ft.publish("putXobjectDict"), F(">>") }(), F(">>"), F("endobj") }, qa = function (m) { Te[m.fontName] = Te[m.fontName] || {}, Te[m.fontName][m.fontStyle] = m.id }, Nl = function (m, Q, ae, xe, Ie) { var tt = { id: "F" + (Object.keys(Be).length + 1).toString(10), postScriptName: m, fontName: Q, fontStyle: ae, encoding: xe, isStandardFont: Ie || !1, metadata: {} }; return Ft.publish("addFont", { font: tt, instance: this }), Be[tt.id] = tt, qa(tt), tt.id }, Ps = h.__private__.pdfEscape = h.pdfEscape = function (m, Q) { return function (ae, xe) { var Ie, tt, lt, Mt, qt, ir, lr, br, zr; if (lt = (xe = xe || {}).sourceEncoding || "Unicode", qt = xe.outputEncoding, (xe.autoencode || qt) && Be[ee].metadata && Be[ee].metadata[lt] && Be[ee].metadata[lt].encoding && (Mt = Be[ee].metadata[lt].encoding, !qt && Be[ee].encoding && (qt = Be[ee].encoding), !qt && Mt.codePages && (qt = Mt.codePages[0]), typeof qt == "string" && (qt = Mt[qt]), qt)) { for (lr = !1, ir = [], Ie = 0, tt = ae.length; Ie < tt; Ie++)(br = qt[ae.charCodeAt(Ie)]) ? ir.push(String.fromCharCode(br)) : ir.push(ae[Ie]), ir[Ie].charCodeAt(0) >> 8 && (lr = !0); ae = ir.join("") } for (Ie = ae.length; lr === void 0 && Ie !== 0;)ae.charCodeAt(Ie - 1) >> 8 && (lr = !0), Ie--; if (!lr) return ae; for (ir = xe.noBOM ? [] : [254, 255], Ie = 0, tt = ae.length; Ie < tt; Ie++) { if ((zr = (br = ae.charCodeAt(Ie)) >> 8) >> 8) throw new Error("Character at position " + Ie + " of string '" + ae + "' exceeds 16bits. Cannot be encoded into UCS-2 BE"); ir.push(zr), ir.push(br - (zr << 8)) } return String.fromCharCode.apply(void 0, ir) }(m, Q).replace(/\\/g, "\\\\").replace(/\(/g, "\\(").replace(/\)/g, "\\)") }, jA = h.__private__.beginPage = function (m) { nt[++kt] = [], Qt[kt] = { objId: 0, contentsObjId: 0, userUnit: Number(o), artBox: null, bleedBox: null, cropBox: null, trimBox: null, mediaBox: { bottomLeftX: 0, bottomLeftY: 0, topRightX: Number(m[0]), topRightY: Number(m[1]) } }, ma(kt), Ze(nt[R]) }, Qo = function (m, Q) { var ae, xe, Ie; switch (r = Q || r, typeof m == "string" && (ae = x(m.toLowerCase()), Array.isArray(ae) && (xe = ae[0], Ie = ae[1])), Array.isArray(m) && (xe = m[0] * ye, Ie = m[1] * ye), isNaN(xe) && (xe = s[0], Ie = s[1]), (xe > 14400 || Ie > 14400) && (Gr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"), xe = Math.min(14400, xe), Ie = Math.min(14400, Ie)), s = [xe, Ie], r.substr(0, 1)) { case "l": Ie > xe && (s = [Ie, xe]); break; case "p": xe > Ie && (s = [Ie, xe]) }jA(s), yt(Xa), F(Za), kA !== 0 && F(kA + " J"), UA !== 0 && F(UA + " j"), Ft.publish("addPage", { pageNumber: kt }) }, To = function (m) { m > 0 && m <= kt && (nt.splice(m, 1), Qt.splice(m, 1), kt--, R > kt && (R = kt), this.setPage(R)) }, ma = function (m) { m > 0 && m <= kt && (R = m) }, Wt = h.__private__.getNumberOfPages = h.getNumberOfPages = function () { return nt.length - 1 }, Lo = function (m, Q, ae) { var xe, Ie = void 0; return ae = ae || {}, m = m !== void 0 ? m : Be[ee].fontName, Q = Q !== void 0 ? Q : Be[ee].fontStyle, xe = m.toLowerCase(), Te[xe] !== void 0 && Te[xe][Q] !== void 0 ? Ie = Te[xe][Q] : Te[m] !== void 0 && Te[m][Q] !== void 0 ? Ie = Te[m][Q] : ae.disableWarning === !1 && Gr.warn("Unable to look up font label for font '" + m + "', '" + Q + "'. Refer to getFontList() for available fonts."), Ie || ae.noFallback || (Ie = Te.times[Q]) == null && (Ie = Te.times.normal), Ie }, xi = h.__private__.putInfo = function () { var m = or(), Q = function (xe) { return xe }; for (var ae in d !== null && (Q = Sn.encryptor(m, 0)), F("<<"), F("/Producer (" + Ps(Q("jsPDF " + er.version)) + ")"), Ne) Ne.hasOwnProperty(ae) && Ne[ae] && F("/" + ae.substr(0, 1).toUpperCase() + ae.substr(1) + " (" + Ps(Q(Ne[ae])) + ")"); F("/CreationDate (" + Ps(Q(te)) + ")"), F(">>"), F("endobj") }, Wa = h.__private__.putCatalog = function (m) { var Q = (m = m || {}).rootDictionaryObjId || cn; switch (or(), F("<<"), F("/Type /Catalog"), F("/Pages " + Q + " 0 R"), Se || (Se = "fullwidth"), Se) { case "fullwidth": F("/OpenAction [3 0 R /FitH null]"); break; case "fullheight": F("/OpenAction [3 0 R /FitV null]"); break; case "fullpage": F("/OpenAction [3 0 R /Fit]"); break; case "original": F("/OpenAction [3 0 R /XYZ null null 1]"); break; default: var ae = "" + Se; ae.substr(ae.length - 1) === "%" && (Se = parseInt(Se) / 100), typeof Se == "number" && F("/OpenAction [3 0 R /XYZ null null " + k(Se) + "]") }switch (We || (We = "continuous"), We) { case "continuous": F("/PageLayout /OneColumn"); break; case "single": F("/PageLayout /SinglePage"); break; case "two": case "twoleft": F("/PageLayout /TwoColumnLeft"); break; case "tworight": F("/PageLayout /TwoColumnRight") }Ke && F("/PageMode /" + Ke), Ft.publish("putCatalog"), F(">>"), F("endobj") }, Zr = h.__private__.putTrailer = function () { F("trailer"), F("<<"), F("/Size " + (le + 1)), F("/Root " + le + " 0 R"), F("/Info " + (le - 1) + " 0 R"), d !== null && F("/Encrypt " + Sn.oid + " 0 R"), F("/ID [ <" + ce + "> <" + ce + "> ]"), F(">>") }, vn = h.__private__.putHeader = function () { F("%PDF-" + b), F("%") }, Sl = h.__private__.putXRef = function () { var m = "0000000000"; F("xref"), F("0 " + (le + 1)), F("0000000000 65535 f "); for (var Q = 1; Q <= le; Q++)typeof ge[Q] == "function" ? F((m + ge[Q]()).slice(-10) + " 00000 n ") : ge[Q] !== void 0 ? F((m + ge[Q]).slice(-10) + " 00000 n ") : F("0000000000 00000 n ") }, hs = h.__private__.buildDocument = function () {
    var m; le = 0, Fe = 0, ke = [], ge = [], Le = [], cn = mt(), Vr = mt(), Ze(ke), Ft.publish("buildDocument"), vn(), Ys(), function () { Ft.publish("putAdditionalObjects"); for (var ae = 0; ae < Le.length; ae++) { var xe = Le[ae]; ar(xe.objId, !0), F(xe.content), F("endobj") } Ft.publish("postPutAdditionalObjects") }(), m = [], function () { for (var ae in Be) Be.hasOwnProperty(ae) && (p === !1 || p === !0 && g.hasOwnProperty(ae)) && $i(Be[ae]) }(), function () { var ae; for (ae in ht) ht.hasOwnProperty(ae) && Zc(ht[ae]) }(), function () { for (var ae in O) O.hasOwnProperty(ae) && mi(O[ae]) }(), function (ae) { var xe; for (xe in At) At.hasOwnProperty(xe) && (At[xe] instanceof nl ? SA(At[xe]) : At[xe] instanceof Nc && za(At[xe], ae)) }(m), Ft.publish("putResources"), m.forEach(Io), Io({ resourcesOid: Vr, objectOid: Number.MAX_SAFE_INTEGER }), Ft.publish("postPutResources"), d !== null && (Sn.oid = or(), F("<<"), F("/Filter /Standard"), F("/V " + Sn.v), F("/R " + Sn.r), F("/U <" + Sn.toHexString(Sn.U) + ">"), F("/O <" + Sn.toHexString(Sn.O) + ">"), F("/P " + Sn.P), F(">>"), F("endobj")), xi(), Wa(); var Q = Fe; return Sl(), Zr(), F("startxref"), F("" + Q), F("%%EOF"), Ze(nt[R]), ke.join(`
`)
  }, Ja = h.__private__.getBlob = function (m) { return new Blob([qe(m)], { type: "application/pdf" }) }, jl = h.output = h.__private__.output = (fr = function (m, Q) { switch (typeof (Q = Q || {}) == "string" ? Q = { filename: Q } : Q.filename = Q.filename || "generated.pdf", m) { case void 0: return hs(); case "save": h.save(Q.filename); break; case "arraybuffer": return qe(hs()); case "blob": return Ja(hs()); case "bloburi": case "bloburl": if (Ar.URL !== void 0 && typeof Ar.URL.createObjectURL == "function") return Ar.URL && Ar.URL.createObjectURL(Ja(hs())) || void 0; Gr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser."); break; case "datauristring": case "dataurlstring": var ae = "", xe = hs(); try { ae = A2(xe) } catch { ae = A2(unescape(encodeURIComponent(xe))) } return "data:application/pdf;filename=" + Q.filename + ";base64," + ae; case "pdfobjectnewwindow": if (Object.prototype.toString.call(Ar) === "[object Window]") { var Ie = "https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js", tt = ' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"'; Q.pdfObjectUrl && (Ie = Q.pdfObjectUrl, tt = ""); var lt = '<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="' + Ie + '"' + tt + '><\/script><script >PDFObject.embed("' + this.output("dataurlstring") + '", ' + JSON.stringify(Q) + ");<\/script></body></html>", Mt = Ar.open(); return Mt !== null && Mt.document.write(lt), Mt } throw new Error("The option pdfobjectnewwindow just works in a browser-environment."); case "pdfjsnewwindow": if (Object.prototype.toString.call(Ar) === "[object Window]") { var qt = '<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="' + (Q.pdfJsUrl || "examples/PDF.js/web/viewer.html") + "?file=&downloadName=" + Q.filename + '" width="500px" height="400px" /></body></html>', ir = Ar.open(); if (ir !== null) { ir.document.write(qt); var lr = this; ir.document.documentElement.querySelector("#pdfViewer").onload = function () { ir.document.title = Q.filename, ir.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(lr.output("bloburl")) } } return ir } throw new Error("The option pdfjsnewwindow just works in a browser-environment."); case "dataurlnewwindow": if (Object.prototype.toString.call(Ar) !== "[object Window]") throw new Error("The option dataurlnewwindow just works in a browser-environment."); var br = '<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="' + this.output("datauristring", Q) + '"></iframe></body></html>', zr = Ar.open(); if (zr !== null && (zr.document.write(br), zr.document.title = Q.filename), zr || typeof safari > "u") return zr; break; case "datauri": case "dataurl": return Ar.document.location.href = this.output("datauristring", Q); default: return null } }, fr.foo = function () {
    try { return fr.apply(this, arguments) } catch (ae) {
      var m = ae.stack || ""; ~m.indexOf(" at ") && (m = m.split(" at ")[1]); var Q = "Error in function " + m.split(`
`)[0].split("<")[0] + ": " + ae.message; if (!Ar.console) throw new Error(Q); Ar.console.error(Q, ae), Ar.alert && alert(Q)
    }
  }, fr.foo.bar = fr, fr.foo), Ds = function (m) { return Array.isArray(pr) === !0 && pr.indexOf(m) > -1 }; switch (n) { case "pt": ye = 1; break; case "mm": ye = 72 / 25.4; break; case "cm": ye = 72 / 2.54; break; case "in": ye = 72; break; case "px": ye = Ds("px_scaling") == 1 ? .75 : 96 / 72; break; case "pc": case "em": ye = 12; break; case "ex": ye = 6; break; default: if (typeof n != "number") throw new Error("Invalid unit: " + n); ye = n }var Sn = null; ve(), ie(); var Ki = h.__private__.getPageInfo = h.getPageInfo = function (m) { if (isNaN(m) || m % 1 != 0) throw new Error("Invalid argument passed to jsPDF.getPageInfo"); return { objId: Qt[m].objId, pageNumber: m, pageContext: Qt[m] } }, El = h.__private__.getPageInfoByObjId = function (m) { if (isNaN(m) || m % 1 != 0) throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId"); for (var Q in Qt) if (Qt[Q].objId === m) break; return Ki(Q) }, eu = h.__private__.getCurrentPageInfo = h.getCurrentPageInfo = function () { return { objId: Qt[R].objId, pageNumber: R, pageContext: Qt[R] } }; h.addPage = function () { return Qo.apply(this, arguments), this }, h.setPage = function () { return ma.apply(this, arguments), Ze.call(this, nt[R]), this }, h.insertPage = function (m) { return this.addPage(), this.movePage(R, m), this }, h.movePage = function (m, Q) { var ae, xe; if (m > Q) { ae = nt[m], xe = Qt[m]; for (var Ie = m; Ie > Q; Ie--)nt[Ie] = nt[Ie - 1], Qt[Ie] = Qt[Ie - 1]; nt[Q] = ae, Qt[Q] = xe, this.setPage(Q) } else if (m < Q) { ae = nt[m], xe = Qt[m]; for (var tt = m; tt < Q; tt++)nt[tt] = nt[tt + 1], Qt[tt] = Qt[tt + 1]; nt[Q] = ae, Qt[Q] = xe, this.setPage(Q) } return this }, h.deletePage = function () { return To.apply(this, arguments), this }, h.__private__.text = h.text = function (m, Q, ae, xe, Ie) {
    var tt, lt, Mt, qt, ir, lr, br, zr, un, Qr = (xe = xe || {}).scope || this; if (typeof m == "number" && typeof Q == "number" && (typeof ae == "string" || Array.isArray(ae))) { var wn = ae; ae = Q, Q = m, m = wn } if (arguments[3] instanceof Ge == 0 ? (Mt = arguments[4], qt = arguments[5], Pr(br = arguments[3]) === "object" && br !== null || (typeof Mt == "string" && (qt = Mt, Mt = null), typeof br == "string" && (qt = br, br = null), typeof br == "number" && (Mt = br, br = null), xe = { flags: br, angle: Mt, align: qt })) : (N("The transform parameter of text() with a Matrix value"), un = Ie), isNaN(Q) || isNaN(ae) || m == null) throw new Error("Invalid arguments passed to jsPDF.text"); if (m.length === 0) return Qr; var dn, Ln = "", Ni = typeof xe.lineHeightFactor == "number" ? xe.lineHeightFactor : wr, Hs = Qr.internal.scaleFactor; function Si(we) { return we = we.split("	").join(Array(xe.TabLen || 9).join(" ")), Ps(we, br) } function LA(we) { for (var ft, Nt = we.concat(), Ve = [], Ut = Nt.length; Ut--;)typeof (ft = Nt.shift()) == "string" ? Ve.push(ft) : Array.isArray(we) && (ft.length === 1 || ft[1] === void 0 && ft[2] === void 0) ? Ve.push(ft[0]) : Ve.push([ft[0], ft[1], ft[2]]); return Ve } function tA(we, ft) { var Nt; if (typeof we == "string") Nt = ft(we)[0]; else if (Array.isArray(we)) { for (var Ve, Ut, Rt = we.concat(), $t = [], Ht = Rt.length; Ht--;)typeof (Ve = Rt.shift()) == "string" ? $t.push(ft(Ve)[0]) : Array.isArray(Ve) && typeof Ve[0] == "string" && (Ut = ft(Ve[0], Ve[1], Ve[2]), $t.push([Ut[0], Ut[1], Ut[2]])); Nt = $t } return Nt } var Gi = !1, ba = !0; if (typeof m == "string") Gi = !0; else if (Array.isArray(m)) { var Ba = m.concat(); lt = []; for (var Vi, On = Ba.length; On--;)(typeof (Vi = Ba.shift()) != "string" || Array.isArray(Vi) && typeof Vi[0] != "string") && (ba = !1); Gi = ba } if (Gi === !1) throw new Error('Type of text must be string or Array. "' + m + '" is not recognized.'); typeof m == "string" && (m = m.match(/[\r?\n]/) ? m.split(/\r\n|\r|\n/g) : [m]); var Ca = ne / Qr.internal.scaleFactor, Na = Ca * (Ni - 1); switch (xe.baseline) { case "bottom": ae -= Na; break; case "top": ae += Ca - Na; break; case "hanging": ae += Ca - 2 * Na; break; case "middle": ae += Ca / 2 - Na }if ((lr = xe.maxWidth || 0) > 0 && (typeof m == "string" ? m = Qr.splitTextToSize(m, lr) : Object.prototype.toString.call(m) === "[object Array]" && (m = m.reduce(function (we, ft) { return we.concat(Qr.splitTextToSize(ft, lr)) }, []))), tt = { text: m, x: Q, y: ae, options: xe, mutex: { pdfEscape: Ps, activeFontKey: ee, fonts: Be, activeFontSize: ne } }, Ft.publish("preProcessText", tt), m = tt.text, Mt = (xe = tt.options).angle, un instanceof Ge == 0 && Mt && typeof Mt == "number") { Mt *= Math.PI / 180, xe.rotationDirection === 0 && (Mt = -Mt), E === B && (Mt = -Mt); var OA = Math.cos(Mt), PA = Math.sin(Mt); un = new Ge(OA, PA, -PA, OA, 0, 0) } else Mt && Mt instanceof Ge && (un = Mt); E !== B || un || (un = Vt), (ir = xe.charSpace || yi) !== void 0 && (Ln += G(V(ir)) + ` Tc
`, this.setCharSpace(this.getCharSpace() || 0)), (zr = xe.horizontalScale) !== void 0 && (Ln += G(100 * zr) + ` Tz
`), xe.lang; var Yn = -1, ji = xe.renderingMode !== void 0 ? xe.renderingMode : xe.stroke, rA = Qr.internal.getCurrentPageInfo().pageContext; switch (ji) { case 0: case !1: case "fill": Yn = 0; break; case 1: case !0: case "stroke": Yn = 1; break; case 2: case "fillThenStroke": Yn = 2; break; case 3: case "invisible": Yn = 3; break; case 4: case "fillAndAddForClipping": Yn = 4; break; case 5: case "strokeAndAddPathForClipping": Yn = 5; break; case 6: case "fillThenStrokeAndAddToPathForClipping": Yn = 6; break; case 7: case "addToPathForClipping": Yn = 7 }var Go = rA.usedRenderingMode !== void 0 ? rA.usedRenderingMode : -1; Yn !== -1 ? Ln += Yn + ` Tr
`: Go !== -1 && (Ln += `0 Tr
`), Yn !== -1 && (rA.usedRenderingMode = Yn), qt = xe.align || "left"; var Es, Sa = ne * Ni, DA = Qr.internal.pageSize.getWidth(), RA = Be[ee]; ir = xe.charSpace || yi, lr = xe.maxWidth || 0, br = Object.assign({ autoencode: !0, noBOM: !0 }, xe.flags); var zi = [], ja = function (we) { return Qr.getStringUnitWidth(we, { font: RA, charSpace: ir, fontSize: ne, doKerning: !1 }) * ne / Hs }; if (Object.prototype.toString.call(m) === "[object Array]") { var fs; lt = LA(m), qt !== "left" && (Es = lt.map(ja)); var ps, qi = 0; if (qt === "right") { Q -= Es[0], m = [], On = lt.length; for (var Ei = 0; Ei < On; Ei++)Ei === 0 ? (ps = vi(Q), fs = wi(ae)) : (ps = V(qi - Es[Ei]), fs = -Sa), m.push([lt[Ei], ps, fs]), qi = Es[Ei] } else if (qt === "center") { Q -= Es[0] / 2, m = [], On = lt.length; for (var Wi = 0; Wi < On; Wi++)Wi === 0 ? (ps = vi(Q), fs = wi(ae)) : (ps = V((qi - Es[Wi]) / 2), fs = -Sa), m.push([lt[Wi], ps, fs]), qi = Es[Wi] } else if (qt === "left") { m = [], On = lt.length; for (var HA = 0; HA < On; HA++)m.push(lt[HA]) } else if (qt === "justify" && RA.encoding === "Identity-H") { m = [], On = lt.length, lr = lr !== 0 ? lr : DA; for (var nA = 0, sn = 0; sn < On; sn++)if (fs = sn === 0 ? wi(ae) : -Sa, ps = sn === 0 ? vi(Q) : nA, sn < On - 1) { var S = V((lr - Es[sn]) / (lt[sn].split(" ").length - 1)), K = lt[sn].split(" "); m.push([K[0] + " ", ps, fs]), nA = 0; for (var J = 1; J < K.length; J++) { var fe = (ja(K[J - 1] + " " + K[J]) - ja(K[J])) * Hs + S; J == K.length - 1 ? m.push([K[J], fe, 0]) : m.push([K[J] + " ", fe, 0]), nA -= fe } } else m.push([lt[sn], ps, fs]); m.push(["", nA, 0]) } else { if (qt !== "justify") throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".'); for (m = [], On = lt.length, lr = lr !== 0 ? lr : DA, sn = 0; sn < On; sn++) { fs = sn === 0 ? wi(ae) : -Sa, ps = sn === 0 ? vi(Q) : 0; var me = lt[sn].split(" ").length - 1, Oe = me > 0 ? (lr - Es[sn]) / me : 0; sn < On - 1 ? zi.push(G(V(Oe))) : zi.push(0), m.push([lt[sn], ps, fs]) } } } (typeof xe.R2L == "boolean" ? xe.R2L : $e) === !0 && (m = tA(m, function (we, ft, Nt) { return [we.split("").reverse().join(""), ft, Nt] })), tt = { text: m, x: Q, y: ae, options: xe, mutex: { pdfEscape: Ps, activeFontKey: ee, fonts: Be, activeFontSize: ne } }, Ft.publish("postProcessText", tt), m = tt.text, dn = tt.mutex.isHex || !1; var Qe = Be[ee].encoding; Qe !== "WinAnsiEncoding" && Qe !== "StandardEncoding" || (m = tA(m, function (we, ft, Nt) { return [Si(we), ft, Nt] })), lt = LA(m), m = []; for (var Re, je, De, at = Array.isArray(lt[0]) ? 1 : 0, Je = "", Ot = function (we, ft, Nt) {
      var Ve = ""; return Nt instanceof Ge ? (Nt = typeof xe.angle == "number" ? Et(Nt, new Ge(1, 0, 0, 1, we, ft)) : Et(new Ge(1, 0, 0, 1, we, ft), Nt), E === B && (Nt = Et(new Ge(1, 0, 0, -1, 0, 0), Nt)), Ve = Nt.join(" ") + ` Tm
`) : Ve = G(we) + " " + G(ft) + ` Td
`, Ve
    }, vt = 0; vt < lt.length; vt++) {
      switch (Je = "", at) { case 1: De = (dn ? "<" : "(") + lt[vt][0] + (dn ? ">" : ")"), Re = parseFloat(lt[vt][1]), je = parseFloat(lt[vt][2]); break; case 0: De = (dn ? "<" : "(") + lt[vt] + (dn ? ">" : ")"), Re = vi(Q), je = wi(ae) }zi !== void 0 && zi[vt] !== void 0 && (Je = zi[vt] + ` Tw
`), vt === 0 ? m.push(Je + Ot(Re, je, un) + De) : at === 0 ? m.push(Je + De) : at === 1 && m.push(Je + Ot(Re, je, un) + De)
    } m = at === 0 ? m.join(` Tj
T* `) : m.join(` Tj
`), m += ` Tj
`; var Lt = `BT
/`; return Lt += ee + " " + ne + ` Tf
`, Lt += G(ne * Ni) + ` TL
`, Lt += va + `
`, Lt += Ln, Lt += m, F(Lt += "ET"), g[ee] = !0, Qr
  }; var ur = h.__private__.clip = h.clip = function (m) { return F(m === "evenodd" ? "W*" : "W"), this }; h.clipEvenOdd = function () { return ur("evenodd") }, h.__private__.discardPath = h.discardPath = function () { return F("n"), this }; var Xs = h.__private__.isValidStyle = function (m) { var Q = !1; return [void 0, null, "S", "D", "F", "DF", "FD", "f", "f*", "B", "B*", "n"].indexOf(m) !== -1 && (Q = !0), Q }; h.__private__.setDefaultPathOperation = h.setDefaultPathOperation = function (m) { return Xs(m) && (c = m), this }; var EA = h.__private__.getStyle = h.getStyle = function (m) { var Q = c; switch (m) { case "D": case "S": Q = "S"; break; case "F": Q = "f"; break; case "FD": case "DF": Q = "B"; break; case "f": case "f*": case "B": case "B*": Q = m }return Q }, Oo = h.close = function () { return F("h"), this }; h.stroke = function () { return F("S"), this }, h.fill = function (m) { return FA("f", m), this }, h.fillEvenOdd = function (m) { return FA("f*", m), this }, h.fillStroke = function (m) { return FA("B", m), this }, h.fillStrokeEvenOdd = function (m) { return FA("B*", m), this }; var FA = function (m, Q) { Pr(Q) === "object" ? Ya(Q, m) : F(m) }, xa = function (m) { m === null || E === B && m === void 0 || (m = EA(m), F(m)) }; function kr(m, Q, ae, xe, Ie) { var tt = new Nc(Q || this.boundingBox, ae || this.xStep, xe || this.yStep, this.gState, Ie || this.matrix); tt.stream = this.stream; var lt = m + "$$" + this.cloneIndex++ + "$$"; return _t(lt, tt), tt } var Ya = function (m, Q) { var ae = bt[m.key], xe = At[ae]; if (xe instanceof nl) F("q"), F(tu(Q)), xe.gState && h.setGState(xe.gState), F(m.matrix.toString() + " cm"), F("/" + ae + " sh"), F("Q"); else if (xe instanceof Nc) { var Ie = new Ge(1, 0, 0, -1, 0, ya()); m.matrix && (Ie = Ie.multiply(m.matrix || Vt), ae = kr.call(xe, m.key, m.boundingBox, m.xStep, m.yStep, Ie).id), F("q"), F("/Pattern cs"), F("/" + ae + " scn"), xe.gState && h.setGState(xe.gState), F(Q), F("Q") } }, tu = function (m) { switch (m) { case "f": case "F": case "n": return "W n"; case "f*": return "W* n"; case "B": case "S": return "W S"; case "B*": return "W* S" } }, Po = h.moveTo = function (m, Q) { return F(G(V(m)) + " " + G(P(Q)) + " m"), this }, Fl = h.lineTo = function (m, Q) { return F(G(V(m)) + " " + G(P(Q)) + " l"), this }, Zs = h.curveTo = function (m, Q, ae, xe, Ie, tt) { return F([G(V(m)), G(P(Q)), G(V(ae)), G(P(xe)), G(V(Ie)), G(P(tt)), "c"].join(" ")), this }; h.__private__.line = h.line = function (m, Q, ae, xe, Ie) { if (isNaN(m) || isNaN(Q) || isNaN(ae) || isNaN(xe) || !Xs(Ie)) throw new Error("Invalid arguments passed to jsPDF.line"); return E === y ? this.lines([[ae - m, xe - Q]], m, Q, [1, 1], Ie || "S") : this.lines([[ae - m, xe - Q]], m, Q, [1, 1]).stroke() }, h.__private__.lines = h.lines = function (m, Q, ae, xe, Ie, tt) { var lt, Mt, qt, ir, lr, br, zr, un, Qr, wn, dn, Ln; if (typeof m == "number" && (Ln = ae, ae = Q, Q = m, m = Ln), xe = xe || [1, 1], tt = tt || !1, isNaN(Q) || isNaN(ae) || !Array.isArray(m) || !Array.isArray(xe) || !Xs(Ie) || typeof tt != "boolean") throw new Error("Invalid arguments passed to jsPDF.lines"); for (Po(Q, ae), lt = xe[0], Mt = xe[1], ir = m.length, wn = Q, dn = ae, qt = 0; qt < ir; qt++)(lr = m[qt]).length === 2 ? (wn = lr[0] * lt + wn, dn = lr[1] * Mt + dn, Fl(wn, dn)) : (br = lr[0] * lt + wn, zr = lr[1] * Mt + dn, un = lr[2] * lt + wn, Qr = lr[3] * Mt + dn, wn = lr[4] * lt + wn, dn = lr[5] * Mt + dn, Zs(br, zr, un, Qr, wn, dn)); return tt && Oo(), xa(Ie), this }, h.path = function (m) { for (var Q = 0; Q < m.length; Q++) { var ae = m[Q], xe = ae.c; switch (ae.op) { case "m": Po(xe[0], xe[1]); break; case "l": Fl(xe[0], xe[1]); break; case "c": Zs.apply(this, xe); break; case "h": Oo() } } return this }, h.__private__.rect = h.rect = function (m, Q, ae, xe, Ie) { if (isNaN(m) || isNaN(Q) || isNaN(ae) || isNaN(xe) || !Xs(Ie)) throw new Error("Invalid arguments passed to jsPDF.rect"); return E === y && (xe = -xe), F([G(V(m)), G(P(Q)), G(V(ae)), G(V(xe)), "re"].join(" ")), xa(Ie), this }, h.__private__.triangle = h.triangle = function (m, Q, ae, xe, Ie, tt, lt) { if (isNaN(m) || isNaN(Q) || isNaN(ae) || isNaN(xe) || isNaN(Ie) || isNaN(tt) || !Xs(lt)) throw new Error("Invalid arguments passed to jsPDF.triangle"); return this.lines([[ae - m, xe - Q], [Ie - ae, tt - xe], [m - Ie, Q - tt]], m, Q, [1, 1], lt, !0), this }, h.__private__.roundedRect = h.roundedRect = function (m, Q, ae, xe, Ie, tt, lt) { if (isNaN(m) || isNaN(Q) || isNaN(ae) || isNaN(xe) || isNaN(Ie) || isNaN(tt) || !Xs(lt)) throw new Error("Invalid arguments passed to jsPDF.roundedRect"); var Mt = 4 / 3 * (Math.SQRT2 - 1); return Ie = Math.min(Ie, .5 * ae), tt = Math.min(tt, .5 * xe), this.lines([[ae - 2 * Ie, 0], [Ie * Mt, 0, Ie, tt - tt * Mt, Ie, tt], [0, xe - 2 * tt], [0, tt * Mt, -Ie * Mt, tt, -Ie, tt], [2 * Ie - ae, 0], [-Ie * Mt, 0, -Ie, -tt * Mt, -Ie, -tt], [0, 2 * tt - xe], [0, -tt * Mt, Ie * Mt, -tt, Ie, -tt]], m + Ie, Q, [1, 1], lt, !0), this }, h.__private__.ellipse = h.ellipse = function (m, Q, ae, xe, Ie) { if (isNaN(m) || isNaN(Q) || isNaN(ae) || isNaN(xe) || !Xs(Ie)) throw new Error("Invalid arguments passed to jsPDF.ellipse"); var tt = 4 / 3 * (Math.SQRT2 - 1) * ae, lt = 4 / 3 * (Math.SQRT2 - 1) * xe; return Po(m + ae, Q), Zs(m + ae, Q - lt, m + tt, Q - xe, m, Q - xe), Zs(m - tt, Q - xe, m - ae, Q - lt, m - ae, Q), Zs(m - ae, Q + lt, m - tt, Q + xe, m, Q + xe), Zs(m + tt, Q + xe, m + ae, Q + lt, m + ae, Q), xa(Ie), this }, h.__private__.circle = h.circle = function (m, Q, ae, xe) { if (isNaN(m) || isNaN(Q) || isNaN(ae) || !Xs(xe)) throw new Error("Invalid arguments passed to jsPDF.circle"); return this.ellipse(m, Q, ae, ae, xe) }, h.setFont = function (m, Q, ae) { return ae && (Q = M(Q, ae)), ee = Lo(m, Q, { disableWarning: !1 }), this }; var Do = h.__private__.getFont = h.getFont = function () { return Be[Lo.apply(h, arguments)] }; h.__private__.getFontList = h.getFontList = function () { var m, Q, ae = {}; for (m in Te) if (Te.hasOwnProperty(m)) for (Q in ae[m] = [], Te[m]) Te[m].hasOwnProperty(Q) && ae[m].push(Q); return ae }, h.addFont = function (m, Q, ae, xe, Ie) { var tt = ["StandardEncoding", "MacRomanEncoding", "Identity-H", "WinAnsiEncoding"]; return arguments[3] && tt.indexOf(arguments[3]) !== -1 ? Ie = arguments[3] : arguments[3] && tt.indexOf(arguments[3]) == -1 && (ae = M(ae, xe)), Nl.call(this, m, Q, ae, Ie = Ie || "Identity-H") }; var wr, Xa = t.lineWidth || .200025, ru = h.__private__.getLineWidth = h.getLineWidth = function () { return Xa }, yt = h.__private__.setLineWidth = h.setLineWidth = function (m) { return Xa = m, F(G(V(m)) + " w"), this }; h.__private__.setLineDash = er.API.setLineDash = er.API.setLineDashPattern = function (m, Q) { if (m = m || [], Q = Q || 0, isNaN(Q) || !Array.isArray(m)) throw new Error("Invalid arguments passed to jsPDF.setLineDash"); return m = m.map(function (ae) { return G(V(ae)) }).join(" "), Q = G(V(Q)), F("[" + m + "] " + Q + " d"), this }; var Rs = h.__private__.getLineHeight = h.getLineHeight = function () { return ne * wr }; h.__private__.getLineHeight = h.getLineHeight = function () { return ne * wr }; var _l = h.__private__.setLineHeightFactor = h.setLineHeightFactor = function (m) { return typeof (m = m || 1.15) == "number" && (wr = m), this }, kl = h.__private__.getLineHeightFactor = h.getLineHeightFactor = function () { return wr }; _l(t.lineHeight); var vi = h.__private__.getHorizontalCoordinate = function (m) { return V(m) }, wi = h.__private__.getVerticalCoordinate = function (m) { return E === B ? m : Qt[R].mediaBox.topRightY - Qt[R].mediaBox.bottomLeftY - V(m) }, Ul = h.__private__.getHorizontalCoordinateString = h.getHorizontalCoordinateString = function (m) { return G(vi(m)) }, Il = h.__private__.getVerticalCoordinateString = h.getVerticalCoordinateString = function (m) { return G(wi(m)) }, Za = t.strokeColor || "0 G"; h.__private__.getStrokeColor = h.getDrawColor = function () { return Jn(Za) }, h.__private__.setStrokeColor = h.setDrawColor = function (m, Q, ae, xe) { return Za = Pt({ ch1: m, ch2: Q, ch3: ae, ch4: xe, pdfColorType: "draw", precision: 2 }), F(Za), this }; var _A = t.fillColor || "0 g"; h.__private__.getFillColor = h.getFillColor = function () { return Jn(_A) }, h.__private__.setFillColor = h.setFillColor = function (m, Q, ae, xe) { return _A = Pt({ ch1: m, ch2: Q, ch3: ae, ch4: xe, pdfColorType: "fill", precision: 2 }), F(_A), this }; var va = t.textColor || "0 g", Ql = h.__private__.getTextColor = h.getTextColor = function () { return Jn(va) }; h.__private__.setTextColor = h.setTextColor = function (m, Q, ae, xe) { return va = Pt({ ch1: m, ch2: Q, ch3: ae, ch4: xe, pdfColorType: "text", precision: 3 }), this }; var yi = t.charSpace, Tl = h.__private__.getCharSpace = h.getCharSpace = function () { return parseFloat(yi || 0) }; h.__private__.setCharSpace = h.setCharSpace = function (m) { if (isNaN(m)) throw new Error("Invalid argument passed to jsPDF.setCharSpace"); return yi = m, this }; var kA = 0; h.CapJoinStyles = { 0: 0, butt: 0, but: 0, miter: 0, 1: 1, round: 1, rounded: 1, circle: 1, 2: 2, projecting: 2, project: 2, square: 2, bevel: 2 }, h.__private__.setLineCap = h.setLineCap = function (m) { var Q = h.CapJoinStyles[m]; if (Q === void 0) throw new Error("Line cap style of '" + m + "' is not recognized. See or extend .CapJoinStyles property for valid styles"); return kA = Q, F(Q + " J"), this }; var UA = 0; h.__private__.setLineJoin = h.setLineJoin = function (m) { var Q = h.CapJoinStyles[m]; if (Q === void 0) throw new Error("Line join style of '" + m + "' is not recognized. See or extend .CapJoinStyles property for valid styles"); return UA = Q, F(Q + " j"), this }, h.__private__.setLineMiterLimit = h.__private__.setMiterLimit = h.setLineMiterLimit = h.setMiterLimit = function (m) { if (m = m || 0, isNaN(m)) throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit"); return F(G(V(m)) + " M"), this }, h.GState = s0, h.setGState = function (m) { (m = typeof m == "string" ? ht[xt[m]] : Ro(null, m)).equals(Ct) || (F("/" + m.id + " gs"), Ct = m) }; var Ro = function (m, Q) { if (!m || !xt[m]) { var ae = !1; for (var xe in ht) if (ht.hasOwnProperty(xe) && ht[xe].equals(Q)) { ae = !0; break } if (ae) Q = ht[xe]; else { var Ie = "GS" + (Object.keys(ht).length + 1).toString(10); ht[Ie] = Q, Q.id = Ie } return m && (xt[m] = Q.id), Ft.publish("addGState", Q), Q } }; h.addGState = function (m, Q) { return Ro(m, Q), this }, h.saveGraphicsState = function () { return F("q"), pt.push({ key: ee, size: ne, color: va }), this }, h.restoreGraphicsState = function () { F("Q"); var m = pt.pop(); return ee = m.key, ne = m.size, va = m.color, Ct = null, this }, h.setCurrentTransformationMatrix = function (m) { return F(m.toString() + " cm"), this }, h.comment = function (m) { return F("#" + m), this }; var bi = function (m, Q) { var ae = m || 0; Object.defineProperty(this, "x", { enumerable: !0, get: function () { return ae }, set: function (tt) { isNaN(tt) || (ae = parseFloat(tt)) } }); var xe = Q || 0; Object.defineProperty(this, "y", { enumerable: !0, get: function () { return xe }, set: function (tt) { isNaN(tt) || (xe = parseFloat(tt)) } }); var Ie = "pt"; return Object.defineProperty(this, "type", { enumerable: !0, get: function () { return Ie }, set: function (tt) { Ie = tt.toString() } }), this }, IA = function (m, Q, ae, xe) { bi.call(this, m, Q), this.type = "rect"; var Ie = ae || 0; Object.defineProperty(this, "w", { enumerable: !0, get: function () { return Ie }, set: function (lt) { isNaN(lt) || (Ie = parseFloat(lt)) } }); var tt = xe || 0; return Object.defineProperty(this, "h", { enumerable: !0, get: function () { return tt }, set: function (lt) { isNaN(lt) || (tt = parseFloat(lt)) } }), this }, eA = function () { this.page = kt, this.currentPage = R, this.pages = nt.slice(0), this.pagesContext = Qt.slice(0), this.x = Ee, this.y = Ye, this.matrix = Xe, this.width = TA(R), this.height = Mo(R), this.outputDestination = de, this.id = "", this.objectNumber = -1 }; eA.prototype.restore = function () { kt = this.page, R = this.currentPage, Qt = this.pagesContext, nt = this.pages, Ee = this.x, Ye = this.y, Xe = this.matrix, Ho(R, this.width), Bi(R, this.height), de = this.outputDestination }; var QA = function (m, Q, ae, xe, Ie) { st.push(new eA), kt = R = 0, nt = [], Ee = m, Ye = Q, Xe = Ie, jA([ae, xe]) }; for (var wa in h.beginFormObject = function (m, Q, ae, xe, Ie) { return QA(m, Q, ae, xe, Ie), this }, h.endFormObject = function (m) { return function (Q) { if (Ue[Q]) st.pop().restore(); else { var ae = new eA, xe = "Xo" + (Object.keys(O).length + 1).toString(10); ae.id = xe, Ue[Q] = xe, O[xe] = ae, Ft.publish("addFormObject", ae), st.pop().restore() } }(m), this }, h.doFormObject = function (m, Q) { var ae = O[Ue[m]]; return F("q"), F(Q.toString() + " cm"), F("/" + ae.id + " Do"), F("Q"), this }, h.getFormObject = function (m) { var Q = O[Ue[m]]; return { x: Q.x, y: Q.y, width: Q.width, height: Q.height, matrix: Q.matrix } }, h.save = function (m, Q) { return m = m || "generated.pdf", (Q = Q || {}).returnPromise = Q.returnPromise || !1, Q.returnPromise === !1 ? (Zo(Ja(hs()), m), typeof Zo.unload == "function" && Ar.setTimeout && setTimeout(Zo.unload, 911), this) : new Promise(function (ae, xe) { try { var Ie = Zo(Ja(hs()), m); typeof Zo.unload == "function" && Ar.setTimeout && setTimeout(Zo.unload, 911), ae(Ie) } catch (tt) { xe(tt.message) } }) }, er.API) er.API.hasOwnProperty(wa) && (wa === "events" && er.API.events.length ? function (m, Q) { var ae, xe, Ie; for (Ie = Q.length - 1; Ie !== -1; Ie--)ae = Q[Ie][0], xe = Q[Ie][1], m.subscribe.apply(m, [ae].concat(typeof xe == "function" ? [xe] : xe)) }(Ft, er.API.events) : h[wa] = er.API[wa]); function TA(m) { return Qt[m].mediaBox.topRightX - Qt[m].mediaBox.bottomLeftX } function Ho(m, Q) { Qt[m].mediaBox.topRightX = Q + Qt[m].mediaBox.bottomLeftX } function Mo(m) { return Qt[m].mediaBox.topRightY - Qt[m].mediaBox.bottomLeftY } function Bi(m, Q) { Qt[m].mediaBox.topRightY = Q + Qt[m].mediaBox.bottomLeftY } var Ci = h.getPageWidth = function (m) { return TA(m = m || R) / ye }, $o = h.setPageWidth = function (m, Q) { Ho(m, Q * ye) }, ya = h.getPageHeight = function (m) { return Mo(m = m || R) / ye }, Ko = h.setPageHeight = function (m, Q) { Bi(m, Q * ye) }; return h.internal = { pdfEscape: Ps, getStyle: EA, getFont: Do, getFontSize: W, getCharSpace: Tl, getTextColor: Ql, getLineHeight: Rs, getLineHeightFactor: kl, getLineWidth: ru, write: se, getHorizontalCoordinate: vi, getVerticalCoordinate: wi, getCoordinateString: Ul, getVerticalCoordinateString: Il, collections: {}, newObject: or, newAdditionalObject: Mr, newObjectDeferred: mt, newObjectDeferredBegin: ar, getFilters: Mn, putStream: $r, events: Ft, scaleFactor: ye, pageSize: { getWidth: function () { return Ci(R) }, setWidth: function (m) { $o(R, m) }, getHeight: function () { return ya(R) }, setHeight: function (m) { Ko(R, m) } }, encryptionOptions: d, encryption: Sn, getEncryptor: function (m) { return d !== null ? Sn.encryptor(m, 0) : function (Q) { return Q } }, output: jl, getNumberOfPages: Wt, get pages() { return nt }, out: F, f2: k, f3: _, getPageInfo: Ki, getPageInfoByObjId: El, getCurrentPageInfo: eu, getPDFVersion: w, Point: bi, Rectangle: IA, Matrix: Ge, hasHotfix: Ds }, Object.defineProperty(h.internal.pageSize, "width", { get: function () { return Ci(R) }, set: function (m) { $o(R, m) }, enumerable: !0, configurable: !0 }), Object.defineProperty(h.internal.pageSize, "height", { get: function () { return ya(R) }, set: function (m) { Ko(R, m) }, enumerable: !0, configurable: !0 }), (function (m) { for (var Q = 0, ae = X.length; Q < ae; Q++) { var xe = Nl.call(this, m[Q][0], m[Q][1], m[Q][2], X[Q][3], !0); p === !1 && (g[xe] = !0); var Ie = m[Q][0].split("-"); qa({ id: xe, fontName: Ie[0], fontStyle: Ie[1] || "" }) } Ft.publish("addFonts", { fonts: Be, dictionary: Te }) }).call(h, X), ee = "F1", Qo(s, r), Ft.publish("initialized"), h
} lc.prototype.lsbFirstWord = function (t) { return String.fromCharCode(255 & t, t >> 8 & 255, t >> 16 & 255, t >> 24 & 255) }, lc.prototype.toHexString = function (t) { return t.split("").map(function (e) { return ("0" + (255 & e.charCodeAt(0)).toString(16)).slice(-2) }).join("") }, lc.prototype.hexToBytes = function (t) { for (var e = [], r = 0; r < t.length; r += 2)e.push(String.fromCharCode(parseInt(t.substr(r, 2), 16))); return e.join("") }, lc.prototype.processOwnerPassword = function (t, e) { return rx(tx(e).substr(0, 5), t) }, lc.prototype.encryptor = function (t, e) { var r = tx(this.encryptionKey + String.fromCharCode(255 & t, t >> 8 & 255, t >> 16 & 255, 255 & e, e >> 8 & 255)).substr(0, 10); return function (n) { return rx(r, n) } }, s0.prototype.equals = function (t) { var e, r = "id,objectNumber,equals"; if (!t || Pr(t) !== Pr(this)) return !1; var n = 0; for (e in this) if (!(r.indexOf(e) >= 0)) { if (this.hasOwnProperty(e) && !t.hasOwnProperty(e) || this[e] !== t[e]) return !1; n++ } for (e in t) t.hasOwnProperty(e) && r.indexOf(e) < 0 && n--; return n === 0 }, er.API = { events: [] }, er.version = "4.1.0"; var Bn = er.API, g1 = 1, Cl = function (t) { return t.replace(/\\/g, "\\\\").replace(/\(/g, "\\(").replace(/\)/g, "\\)") }, rc = function (t) { return t.replace(/\\\\/g, "\\").replace(/\\\(/g, "(").replace(/\\\)/g, ")") }, i0 = function (t) { return t.toString().replace(/#/g, "#23").replace(/[\s\n\r()<>[\]{}\/%]/g, function (e) { var r = e.charCodeAt(0).toString(16).toUpperCase(); return "#" + (r.length === 1 ? "0" + r : r) }) }, dr = function (t) { return t.toFixed(2) }, ZA = function (t) { return t.toFixed(5) }; Bn.__acroform__ = {}; var Js = function (t, e) { t.prototype = Object.create(e.prototype), t.prototype.constructor = t }, u2 = function (t) { return t * g1 }, Pa = function (t) { var e = new K4, r = zt.internal.getHeight(t) || 0, n = zt.internal.getWidth(t) || 0; return e.BBox = [0, 0, Number(dr(n)), Number(dr(r))], e }, Q6 = Bn.__acroform__.setBit = function (t, e) { if (t = t || 0, e = e || 0, isNaN(t) || isNaN(e)) throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit"); return t | 1 << e }, T6 = Bn.__acroform__.clearBit = function (t, e) { if (t = t || 0, e = e || 0, isNaN(t) || isNaN(e)) throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit"); return t & ~(1 << e) }, L6 = Bn.__acroform__.getBit = function (t, e) { if (isNaN(t) || isNaN(e)) throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit"); return t & 1 << e ? 1 : 0 }, In = Bn.__acroform__.getBitForPdf = function (t, e) { if (isNaN(t) || isNaN(e)) throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf"); return L6(t, e - 1) }, Qn = Bn.__acroform__.setBitForPdf = function (t, e) { if (isNaN(t) || isNaN(e)) throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf"); return Q6(t, e - 1) }, Tn = Bn.__acroform__.clearBitForPdf = function (t, e) { if (isNaN(t) || isNaN(e)) throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf"); return T6(t, e - 1) }, O6 = Bn.__acroform__.calculateCoordinates = function (t, e) { var r = e.internal.getHorizontalCoordinate, n = e.internal.getVerticalCoordinate, s = t[0], a = t[1], A = t[2], o = t[3], l = {}; return l.lowerLeft_X = r(s) || 0, l.lowerLeft_Y = n(a + o) || 0, l.upperRight_X = r(s + A) || 0, l.upperRight_Y = n(a) || 0, [Number(dr(l.lowerLeft_X)), Number(dr(l.lowerLeft_Y)), Number(dr(l.upperRight_X)), Number(dr(l.upperRight_Y))] }, P6 = function (t) {
  if (t.appearanceStreamContent) return t.appearanceStreamContent; if (t.V || t.DV) {
    var e = [], r = t._V || t.DV, n = nx(t, r), s = t.scope.internal.getFont(t.fontName, t.fontStyle).id; e.push("/Tx BMC"), e.push("q"), e.push("BT"), e.push(t.scope.__private__.encodeColorString(t.color)), e.push("/" + s + " " + dr(n.fontSize) + " Tf"), e.push("1 0 0 1 0 0 Tm"), e.push(n.text), e.push("ET"), e.push("Q"), e.push("EMC"); var a = Pa(t); return a.scope = t.scope, a.stream = e.join(`
`), a
  }
}, nx = function (t, e) {
  var r = t.fontSize === 0 ? t.maxFontSize : t.fontSize, n = { text: "", fontSize: "" }, s = (e = (e = e.substr(0, 1) == "(" ? e.substr(1) : e).substr(e.length - 1) == ")" ? e.substr(0, e.length - 1) : e).split(" "); s = t.multiline ? s.map(function (k) {
    return k.split(`
`)
  }) : s.map(function (k) { return [k] }); var a = r, A = zt.internal.getHeight(t) || 0; A = A < 0 ? -A : A; var o = zt.internal.getWidth(t) || 0; o = o < 0 ? -o : o; var l = function (k, _, V) { if (k + 1 < s.length) { var P = _ + " " + s[k + 1][0]; return qh(P, t, V).width <= o - 4 } return !1 }; a++; e: for (; a > 0;) {
    e = "", a--; var c, d, p = qh("3", t, a).height, g = t.multiline ? A - a : (A - p) / 2, h = g += 2, b = 0, w = 0, j = 0; if (a <= 0) {
      e = `(...) Tj
`, e += "% Width of Text: " + qh(e, t, a = 12).width + ", FieldWidth:" + o + `
`; break
    } for (var x = "", y = 0, B = 0; B < s.length; B++)if (s.hasOwnProperty(B)) {
      var E = !1; if (s[B].length !== 1 && j !== s[B].length - 1) { if ((p + 2) * (y + 2) + 2 > A) continue e; x += s[B][j], E = !0, w = B, B-- } else { x = (x += s[B][j] + " ").substr(x.length - 1) == " " ? x.substr(0, x.length - 1) : x; var T = parseInt(B), U = l(T, x, a), M = B >= s.length - 1; if (U && !M) { x += " ", j = 0; continue } if (U || M) { if (M) w = T; else if (t.multiline && (p + 2) * (y + 2) + 2 > A) continue e } else { if (!t.multiline || (p + 2) * (y + 2) + 2 > A) continue e; w = T } } for (var G = "", N = b; N <= w; N++) { var H = s[N]; if (t.multiline) { if (N === w) { G += H[j] + " ", j = (j + 1) % H.length; continue } if (N === b) { G += H[H.length - 1] + " "; continue } } G += H[0] + " " } switch (G = G.substr(G.length - 1) == " " ? G.substr(0, G.length - 1) : G, d = qh(G, t, a).width, t.textAlign) { case "right": c = o - d - 2; break; case "center": c = (o - d) / 2; break; default: c = 2 }e += dr(c) + " " + dr(h) + ` Td
`, e += "(" + Cl(G) + `) Tj
`, e += -dr(c) + ` 0 Td
`, h = -(a + 2), d = 0, b = E ? w : w + 1, y++, x = ""
    } break
  } return n.text = e, n.fontSize = a, n
}, qh = function (t, e, r) { var n = e.scope.internal.getFont(e.fontName, e.fontStyle), s = e.scope.getStringUnitWidth(t, { font: n, fontSize: parseFloat(r), charSpace: 0 }) * parseFloat(r); return { height: e.scope.getStringUnitWidth("3", { font: n, fontSize: parseFloat(r), charSpace: 0 }) * parseFloat(r) * 1.5, width: s } }, D6 = { fields: [], xForms: [], acroFormDictionaryRoot: null, printedOut: !1, internal: null, isInitialized: !1 }, R6 = function (t, e) { var r = { type: "reference", object: t }; e.internal.getPageInfo(t.page).pageContext.annotations.find(function (n) { return n.type === r.type && n.object === r.object }) === void 0 && e.internal.getPageInfo(t.page).pageContext.annotations.push(r) }, H6 = function (t, e) {
  if (e.scope = t, t.internal !== void 0 && (t.internal.acroformPlugin === void 0 || t.internal.acroformPlugin.isInitialized === !1)) {
    if (pa.FieldNum = 0, t.internal.acroformPlugin = JSON.parse(JSON.stringify(D6)), t.internal.acroformPlugin.acroFormDictionaryRoot) throw new Error("Exception while creating AcroformDictionary"); g1 = t.internal.scaleFactor, t.internal.acroformPlugin.acroFormDictionaryRoot = new G4, t.internal.acroformPlugin.acroFormDictionaryRoot.scope = t, t.internal.acroformPlugin.acroFormDictionaryRoot._eventID = t.internal.events.subscribe("postPutResources", function () { (function (r) { r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID), delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID, r.internal.acroformPlugin.printedOut = !0 })(t) }), t.internal.events.subscribe("buildDocument", function () { (function (r) { r.internal.acroformPlugin.acroFormDictionaryRoot.objId = void 0; var n = r.internal.acroformPlugin.acroFormDictionaryRoot.Fields; for (var s in n) if (n.hasOwnProperty(s)) { var a = n[s]; a.objId = void 0, a.hasAnnotation && R6(a, r) } })(t) }), t.internal.events.subscribe("putCatalog", function () { (function (r) { if (r.internal.acroformPlugin.acroFormDictionaryRoot === void 0) throw new Error("putCatalogCallback: Root missing."); r.internal.write("/AcroForm " + r.internal.acroformPlugin.acroFormDictionaryRoot.objId + " 0 R") })(t) }), t.internal.events.subscribe("postPutPages", function (r) {
      (function (n, s) {
        var a = !n; for (var A in n || (s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId, !0), s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()), n = n || s.internal.acroformPlugin.acroFormDictionaryRoot.Kids) if (n.hasOwnProperty(A)) {
          var o = n[A], l = [], c = o.Rect; if (o.Rect && (o.Rect = O6(o.Rect, s)), s.internal.newObjectDeferredBegin(o.objId, !0), o.DA = zt.createDefaultAppearanceStream(o), Pr(o) === "object" && typeof o.getKeyValueListForStream == "function" && (l = o.getKeyValueListForStream()), o.Rect = c, o.hasAppearanceStream && !o.appearanceStreamContent) { var d = P6(o); l.push({ key: "AP", value: "<</N " + d + ">>" }), s.internal.acroformPlugin.xForms.push(d) } if (o.appearanceStreamContent) {
            var p = ""; for (var g in o.appearanceStreamContent) if (o.appearanceStreamContent.hasOwnProperty(g)) { var h = o.appearanceStreamContent[g]; if (p += "/" + g + " ", p += "<<", Object.keys(h).length >= 1 || Array.isArray(h)) { for (var A in h) if (h.hasOwnProperty(A)) { var b = h[A]; typeof b == "function" && (b = b.call(s, o)), p += "/" + A + " " + b + " ", s.internal.acroformPlugin.xForms.indexOf(b) >= 0 || s.internal.acroformPlugin.xForms.push(b) } } else typeof (b = h) == "function" && (b = b.call(s, o)), p += "/" + A + " " + b, s.internal.acroformPlugin.xForms.indexOf(b) >= 0 || s.internal.acroformPlugin.xForms.push(b); p += ">>" } l.push({
              key: "AP", value: `<<
`+ p + ">>"
            })
          } s.internal.putStream({ additionalKeyValues: l, objectId: o.objId }), s.internal.out("endobj")
        } a && function (w, j) { for (var x in w) if (w.hasOwnProperty(x)) { var y = x, B = w[x]; j.internal.newObjectDeferredBegin(B.objId, !0), Pr(B) === "object" && typeof B.putStream == "function" && B.putStream(), delete w[y] } }(s.internal.acroformPlugin.xForms, s)
      })(r, t)
    }), t.internal.acroformPlugin.isInitialized = !0
  }
}, $4 = Bn.__acroform__.arrayToPdfArray = function (t, e, r) { var n = function (A) { return A }; if (Array.isArray(t)) { for (var s = "[", a = 0; a < t.length; a++)switch (a !== 0 && (s += " "), Pr(t[a])) { case "boolean": case "number": case "object": s += t[a].toString(); break; case "string": t[a].substr(0, 1) === "/" ? s += "/" + i0(t[a].substr(1)) : (e !== void 0 && r && (n = r.internal.getEncryptor(e)), s += "(" + Cl(n(t[a].toString())) + ")") }return s + "]" } throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray") }, gg = function (t, e, r) { var n = function (s) { return s }; return e !== void 0 && r && (n = r.internal.getEncryptor(e)), (t = t || "").toString(), "(" + Cl(n(t)) + ")" }, Ha = function () { this._objId = void 0, this._scope = void 0, Object.defineProperty(this, "objId", { get: function () { if (this._objId === void 0) { if (this.scope === void 0) return; this._objId = this.scope.internal.newObjectDeferred() } return this._objId }, set: function (t) { this._objId = t } }), Object.defineProperty(this, "scope", { value: this._scope, writable: !0 }) }; Ha.prototype.toString = function () { return this.objId + " 0 R" }, Ha.prototype.putStream = function () { var t = this.getKeyValueListForStream(); this.scope.internal.putStream({ data: this.stream, additionalKeyValues: t, objectId: this.objId }), this.scope.internal.out("endobj") }, Ha.prototype.getKeyValueListForStream = function () { var t = [], e = Object.getOwnPropertyNames(this).filter(function (a) { return a != "content" && a != "appearanceStreamContent" && a != "scope" && a != "objId" && a.substring(0, 1) != "_" }); for (var r in e) if (Object.getOwnPropertyDescriptor(this, e[r]).configurable === !1) { var n = e[r], s = this[n]; s && (Array.isArray(s) ? t.push({ key: n, value: $4(s, this.objId, this.scope) }) : s instanceof Ha ? (s.scope = this.scope, t.push({ key: n, value: s.objId + " 0 R" })) : typeof s != "function" && t.push({ key: n, value: s })) } return t }; var K4 = function () { Ha.call(this), Object.defineProperty(this, "Type", { value: "/XObject", configurable: !1, writable: !0 }), Object.defineProperty(this, "Subtype", { value: "/Form", configurable: !1, writable: !0 }), Object.defineProperty(this, "FormType", { value: 1, configurable: !1, writable: !0 }); var t, e = []; Object.defineProperty(this, "BBox", { configurable: !1, get: function () { return e }, set: function (r) { e = r } }), Object.defineProperty(this, "Resources", { value: "2 0 R", configurable: !1, writable: !0 }), Object.defineProperty(this, "stream", { enumerable: !1, configurable: !0, set: function (r) { t = r.trim() }, get: function () { return t || null } }) }; Js(K4, Ha); var G4 = function () { Ha.call(this); var t, e = []; Object.defineProperty(this, "Kids", { enumerable: !1, configurable: !0, get: function () { return e.length > 0 ? e : void 0 } }), Object.defineProperty(this, "Fields", { enumerable: !1, configurable: !1, get: function () { return e } }), Object.defineProperty(this, "DA", { enumerable: !1, configurable: !1, get: function () { if (t) { var r = function (n) { return n }; return this.scope && (r = this.scope.internal.getEncryptor(this.objId)), "(" + Cl(r(t)) + ")" } }, set: function (r) { t = r } }) }; Js(G4, Ha); var pa = function t() { Ha.call(this); var e = 4; Object.defineProperty(this, "F", { enumerable: !1, configurable: !1, get: function () { return e }, set: function (x) { if (isNaN(x)) throw new Error('Invalid value "' + x + '" for attribute F supplied.'); e = x } }), Object.defineProperty(this, "showWhenPrinted", { enumerable: !0, configurable: !0, get: function () { return !!In(e, 3) }, set: function (x) { x ? this.F = Qn(e, 3) : this.F = Tn(e, 3) } }); var r = 0; Object.defineProperty(this, "Ff", { enumerable: !1, configurable: !1, get: function () { return r }, set: function (x) { if (isNaN(x)) throw new Error('Invalid value "' + x + '" for attribute Ff supplied.'); r = x } }); var n = []; Object.defineProperty(this, "Rect", { enumerable: !1, configurable: !1, get: function () { if (n.length !== 0) return n }, set: function (x) { n = x !== void 0 ? x : [] } }), Object.defineProperty(this, "x", { enumerable: !0, configurable: !0, get: function () { return !n || isNaN(n[0]) ? 0 : n[0] }, set: function (x) { n[0] = x } }), Object.defineProperty(this, "y", { enumerable: !0, configurable: !0, get: function () { return !n || isNaN(n[1]) ? 0 : n[1] }, set: function (x) { n[1] = x } }), Object.defineProperty(this, "width", { enumerable: !0, configurable: !0, get: function () { return !n || isNaN(n[2]) ? 0 : n[2] }, set: function (x) { n[2] = x } }), Object.defineProperty(this, "height", { enumerable: !0, configurable: !0, get: function () { return !n || isNaN(n[3]) ? 0 : n[3] }, set: function (x) { n[3] = x } }); var s = ""; Object.defineProperty(this, "FT", { enumerable: !0, configurable: !1, get: function () { return s }, set: function (x) { switch (x) { case "/Btn": case "/Tx": case "/Ch": case "/Sig": s = x; break; default: throw new Error('Invalid value "' + x + '" for attribute FT supplied.') } } }); var a = null; Object.defineProperty(this, "T", { enumerable: !0, configurable: !1, get: function () { if (!a || a.length < 1) { if (this instanceof a0) return; a = "FieldObject" + t.FieldNum++ } var x = function (y) { return y }; return this.scope && (x = this.scope.internal.getEncryptor(this.objId)), "(" + Cl(x(a)) + ")" }, set: function (x) { a = x.toString() } }), Object.defineProperty(this, "fieldName", { configurable: !0, enumerable: !0, get: function () { return a }, set: function (x) { a = x } }); var A = "helvetica"; Object.defineProperty(this, "fontName", { enumerable: !0, configurable: !0, get: function () { return A }, set: function (x) { A = x } }); var o = "normal"; Object.defineProperty(this, "fontStyle", { enumerable: !0, configurable: !0, get: function () { return o }, set: function (x) { o = x } }); var l = 0; Object.defineProperty(this, "fontSize", { enumerable: !0, configurable: !0, get: function () { return l }, set: function (x) { l = x } }); var c = void 0; Object.defineProperty(this, "maxFontSize", { enumerable: !0, configurable: !0, get: function () { return c === void 0 ? 50 / g1 : c }, set: function (x) { c = x } }); var d = "black"; Object.defineProperty(this, "color", { enumerable: !0, configurable: !0, get: function () { return d }, set: function (x) { d = x } }); var p = "/F1 0 Tf 0 g"; Object.defineProperty(this, "DA", { enumerable: !0, configurable: !1, get: function () { if (!(!p || this instanceof a0 || this instanceof hl)) return gg(p, this.objId, this.scope) }, set: function (x) { x = x.toString(), p = x } }); var g = null; Object.defineProperty(this, "DV", { enumerable: !1, configurable: !1, get: function () { if (g) return this instanceof es == 0 ? gg(g, this.objId, this.scope) : g }, set: function (x) { x = x.toString(), g = this instanceof es == 0 ? x.substr(0, 1) === "(" ? rc(x.substr(1, x.length - 2)) : rc(x) : x } }), Object.defineProperty(this, "defaultValue", { enumerable: !0, configurable: !0, get: function () { return this instanceof es == 1 ? rc(g.substr(1, g.length - 1)) : g }, set: function (x) { x = x.toString(), g = this instanceof es == 1 ? "/" + i0(x) : x } }); var h = null; Object.defineProperty(this, "_V", { enumerable: !1, configurable: !1, get: function () { if (h) return h }, set: function (x) { this.V = x } }), Object.defineProperty(this, "V", { enumerable: !1, configurable: !1, get: function () { if (h) return this instanceof es == 0 ? gg(h, this.objId, this.scope) : h }, set: function (x) { x = x.toString(), h = this instanceof es == 0 ? x.substr(0, 1) === "(" ? rc(x.substr(1, x.length - 2)) : rc(x) : x } }), Object.defineProperty(this, "value", { enumerable: !0, configurable: !0, get: function () { return this instanceof es == 1 ? rc(h.substr(1, h.length - 1)) : h }, set: function (x) { x = x.toString(), h = this instanceof es == 1 ? "/" + i0(x) : x } }), Object.defineProperty(this, "hasAnnotation", { enumerable: !0, configurable: !0, get: function () { return this.Rect } }), Object.defineProperty(this, "Type", { enumerable: !0, configurable: !1, get: function () { return this.hasAnnotation ? "/Annot" : null } }), Object.defineProperty(this, "Subtype", { enumerable: !0, configurable: !1, get: function () { return this.hasAnnotation ? "/Widget" : null } }); var b, w = !1; Object.defineProperty(this, "hasAppearanceStream", { enumerable: !0, configurable: !0, get: function () { return w }, set: function (x) { x = !!x, w = x } }), Object.defineProperty(this, "page", { enumerable: !0, configurable: !0, get: function () { if (b) return b }, set: function (x) { b = x } }), Object.defineProperty(this, "readOnly", { enumerable: !0, configurable: !0, get: function () { return !!In(this.Ff, 1) }, set: function (x) { x ? this.Ff = Qn(this.Ff, 1) : this.Ff = Tn(this.Ff, 1) } }), Object.defineProperty(this, "required", { enumerable: !0, configurable: !0, get: function () { return !!In(this.Ff, 2) }, set: function (x) { x ? this.Ff = Qn(this.Ff, 2) : this.Ff = Tn(this.Ff, 2) } }), Object.defineProperty(this, "noExport", { enumerable: !0, configurable: !0, get: function () { return !!In(this.Ff, 3) }, set: function (x) { x ? this.Ff = Qn(this.Ff, 3) : this.Ff = Tn(this.Ff, 3) } }); var j = null; Object.defineProperty(this, "Q", { enumerable: !0, configurable: !1, get: function () { if (j !== null) return j }, set: function (x) { if ([0, 1, 2].indexOf(x) === -1) throw new Error('Invalid value "' + x + '" for attribute Q supplied.'); j = x } }), Object.defineProperty(this, "textAlign", { get: function () { var x; switch (j) { case 0: default: x = "left"; break; case 1: x = "center"; break; case 2: x = "right" }return x }, configurable: !0, enumerable: !0, set: function (x) { switch (x) { case "right": case 2: j = 2; break; case "center": case 1: j = 1; break; default: j = 0 } } }) }; Js(pa, Ha); var Qc = function () { pa.call(this), this.FT = "/Ch", this.V = "()", this.fontName = "zapfdingbats"; var t = 0; Object.defineProperty(this, "TI", { enumerable: !0, configurable: !1, get: function () { return t }, set: function (r) { t = r } }), Object.defineProperty(this, "topIndex", { enumerable: !0, configurable: !0, get: function () { return t }, set: function (r) { t = r } }); var e = []; Object.defineProperty(this, "Opt", { enumerable: !0, configurable: !1, get: function () { return $4(e, this.objId, this.scope) }, set: function (r) { var n, s; s = [], typeof (n = r) == "string" && (s = function (a, A, o) { o || (o = 1); for (var l, c = []; l = A.exec(a);)c.push(l[o]); return c }(n, /\((.*?)\)/g)), e = s } }), this.getOptions = function () { return e }, this.setOptions = function (r) { e = r, this.sort && e.sort() }, this.addOption = function (r) { r = (r = r || "").toString(), e.push(r), this.sort && e.sort() }, this.removeOption = function (r, n) { for (n = n || !1, r = (r = r || "").toString(); e.indexOf(r) !== -1 && (e.splice(e.indexOf(r), 1), n !== !1);); }, Object.defineProperty(this, "combo", { enumerable: !0, configurable: !0, get: function () { return !!In(this.Ff, 18) }, set: function (r) { r ? this.Ff = Qn(this.Ff, 18) : this.Ff = Tn(this.Ff, 18) } }), Object.defineProperty(this, "edit", { enumerable: !0, configurable: !0, get: function () { return !!In(this.Ff, 19) }, set: function (r) { this.combo === !0 && (r ? this.Ff = Qn(this.Ff, 19) : this.Ff = Tn(this.Ff, 19)) } }), Object.defineProperty(this, "sort", { enumerable: !0, configurable: !0, get: function () { return !!In(this.Ff, 20) }, set: function (r) { r ? (this.Ff = Qn(this.Ff, 20), e.sort()) : this.Ff = Tn(this.Ff, 20) } }), Object.defineProperty(this, "multiSelect", { enumerable: !0, configurable: !0, get: function () { return !!In(this.Ff, 22) }, set: function (r) { r ? this.Ff = Qn(this.Ff, 22) : this.Ff = Tn(this.Ff, 22) } }), Object.defineProperty(this, "doNotSpellCheck", { enumerable: !0, configurable: !0, get: function () { return !!In(this.Ff, 23) }, set: function (r) { r ? this.Ff = Qn(this.Ff, 23) : this.Ff = Tn(this.Ff, 23) } }), Object.defineProperty(this, "commitOnSelChange", { enumerable: !0, configurable: !0, get: function () { return !!In(this.Ff, 27) }, set: function (r) { r ? this.Ff = Qn(this.Ff, 27) : this.Ff = Tn(this.Ff, 27) } }), this.hasAppearanceStream = !1 }; Js(Qc, pa); var Tc = function () { Qc.call(this), this.fontName = "helvetica", this.combo = !1 }; Js(Tc, Qc); var Lc = function () { Tc.call(this), this.combo = !0 }; Js(Lc, Tc); var pf = function () { Lc.call(this), this.edit = !0 }; Js(pf, Lc); var es = function () {
  pa.call(this), this.FT = "/Btn", Object.defineProperty(this, "noToggleToOff", { enumerable: !0, configurable: !0, get: function () { return !!In(this.Ff, 15) }, set: function (r) { r ? this.Ff = Qn(this.Ff, 15) : this.Ff = Tn(this.Ff, 15) } }), Object.defineProperty(this, "radio", { enumerable: !0, configurable: !0, get: function () { return !!In(this.Ff, 16) }, set: function (r) { r ? this.Ff = Qn(this.Ff, 16) : this.Ff = Tn(this.Ff, 16) } }), Object.defineProperty(this, "pushButton", { enumerable: !0, configurable: !0, get: function () { return !!In(this.Ff, 17) }, set: function (r) { r ? this.Ff = Qn(this.Ff, 17) : this.Ff = Tn(this.Ff, 17) } }), Object.defineProperty(this, "radioIsUnison", { enumerable: !0, configurable: !0, get: function () { return !!In(this.Ff, 26) }, set: function (r) { r ? this.Ff = Qn(this.Ff, 26) : this.Ff = Tn(this.Ff, 26) } }); var t, e = {}; Object.defineProperty(this, "MK", {
    enumerable: !1, configurable: !1, get: function () {
      var r = function (a) { return a }; if (this.scope && (r = this.scope.internal.getEncryptor(this.objId)), Object.keys(e).length !== 0) {
        var n, s = []; for (n in s.push("<<"), e) s.push("/" + n + " (" + Cl(r(e[n])) + ")"); return s.push(">>"), s.join(`
`)
      }
    }, set: function (r) { Pr(r) === "object" && (e = r) }
  }), Object.defineProperty(this, "caption", { enumerable: !0, configurable: !0, get: function () { return e.CA || "" }, set: function (r) { typeof r == "string" && (e.CA = r) } }), Object.defineProperty(this, "AS", { enumerable: !1, configurable: !1, get: function () { return t }, set: function (r) { t = r } }), Object.defineProperty(this, "appearanceState", { enumerable: !0, configurable: !0, get: function () { return t.substr(1, t.length - 1) }, set: function (r) { t = "/" + i0(r) } })
}; Js(es, pa); var gf = function () { es.call(this), this.pushButton = !0 }; Js(gf, es); var Oc = function () { es.call(this), this.radio = !0, this.pushButton = !1; var t = []; Object.defineProperty(this, "Kids", { enumerable: !0, configurable: !1, get: function () { return t }, set: function (e) { t = e !== void 0 ? e : [] } }) }; Js(Oc, es); var a0 = function () {
  var t, e; pa.call(this), Object.defineProperty(this, "Parent", { enumerable: !1, configurable: !1, get: function () { return t }, set: function (s) { t = s } }), Object.defineProperty(this, "optionName", { enumerable: !1, configurable: !0, get: function () { return e }, set: function (s) { e = s } }); var r, n = {}; Object.defineProperty(this, "MK", {
    enumerable: !1, configurable: !1, get: function () {
      var s = function (o) { return o }; this.scope && (s = this.scope.internal.getEncryptor(this.objId)); var a, A = []; for (a in A.push("<<"), n) A.push("/" + a + " (" + Cl(s(n[a])) + ")"); return A.push(">>"), A.join(`
`)
    }, set: function (s) { Pr(s) === "object" && (n = s) }
  }), Object.defineProperty(this, "caption", { enumerable: !0, configurable: !0, get: function () { return n.CA || "" }, set: function (s) { typeof s == "string" && (n.CA = s) } }), Object.defineProperty(this, "AS", { enumerable: !1, configurable: !1, get: function () { return r }, set: function (s) { r = s } }), Object.defineProperty(this, "appearanceState", { enumerable: !0, configurable: !0, get: function () { return r.substr(1, r.length - 1) }, set: function (s) { r = "/" + s } }), this.caption = "l", this.appearanceState = "Off", this._AppearanceType = zt.RadioButton.Circle, this.appearanceStreamContent = this._AppearanceType.createAppearanceStream(this.optionName)
}; Js(a0, pa), Oc.prototype.setAppearance = function (t) { if (!("createAppearanceStream" in t) || !("getCA" in t)) throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!"); for (var e in this.Kids) if (this.Kids.hasOwnProperty(e)) { var r = this.Kids[e]; r.appearanceStreamContent = t.createAppearanceStream(r.optionName), r.caption = t.getCA() } }, Oc.prototype.createOption = function (t) { var e = new a0; return e.Parent = this, e.optionName = t, this.Kids.push(e), M6.call(this.scope, e), e }; var mf = function () { es.call(this), this.fontName = "zapfdingbats", this.caption = "3", this.appearanceState = "On", this.value = "On", this.textAlign = "center", this.appearanceStreamContent = zt.CheckBox.createAppearanceStream() }; Js(mf, es); var hl = function () { pa.call(this), this.FT = "/Tx", Object.defineProperty(this, "multiline", { enumerable: !0, configurable: !0, get: function () { return !!In(this.Ff, 13) }, set: function (e) { e ? this.Ff = Qn(this.Ff, 13) : this.Ff = Tn(this.Ff, 13) } }), Object.defineProperty(this, "fileSelect", { enumerable: !0, configurable: !0, get: function () { return !!In(this.Ff, 21) }, set: function (e) { e ? this.Ff = Qn(this.Ff, 21) : this.Ff = Tn(this.Ff, 21) } }), Object.defineProperty(this, "doNotSpellCheck", { enumerable: !0, configurable: !0, get: function () { return !!In(this.Ff, 23) }, set: function (e) { e ? this.Ff = Qn(this.Ff, 23) : this.Ff = Tn(this.Ff, 23) } }), Object.defineProperty(this, "doNotScroll", { enumerable: !0, configurable: !0, get: function () { return !!In(this.Ff, 24) }, set: function (e) { e ? this.Ff = Qn(this.Ff, 24) : this.Ff = Tn(this.Ff, 24) } }), Object.defineProperty(this, "comb", { enumerable: !0, configurable: !0, get: function () { return !!In(this.Ff, 25) }, set: function (e) { e ? this.Ff = Qn(this.Ff, 25) : this.Ff = Tn(this.Ff, 25) } }), Object.defineProperty(this, "richText", { enumerable: !0, configurable: !0, get: function () { return !!In(this.Ff, 26) }, set: function (e) { e ? this.Ff = Qn(this.Ff, 26) : this.Ff = Tn(this.Ff, 26) } }); var t = null; Object.defineProperty(this, "MaxLen", { enumerable: !0, configurable: !1, get: function () { return t }, set: function (e) { t = e } }), Object.defineProperty(this, "maxLength", { enumerable: !0, configurable: !0, get: function () { return t }, set: function (e) { Number.isInteger(e) && (t = e) } }), Object.defineProperty(this, "hasAppearanceStream", { enumerable: !0, configurable: !0, get: function () { return this.V || this.DV } }) }; Js(hl, pa); var xf = function () { hl.call(this), Object.defineProperty(this, "password", { enumerable: !0, configurable: !0, get: function () { return !!In(this.Ff, 14) }, set: function (t) { t ? this.Ff = Qn(this.Ff, 14) : this.Ff = Tn(this.Ff, 14) } }), this.password = !0 }; Js(xf, hl); var zt = {
  CheckBox: {
    createAppearanceStream: function () { return { N: { On: zt.CheckBox.YesNormal }, D: { On: zt.CheckBox.YesPushDown, Off: zt.CheckBox.OffPushDown } } }, YesPushDown: function (t) {
      var e = Pa(t); e.scope = t.scope; var r = [], n = t.scope.internal.getFont(t.fontName, t.fontStyle).id, s = t.scope.__private__.encodeColorString(t.color), a = nx(t, t.caption); return r.push("0.749023 g"), r.push("0 0 " + dr(zt.internal.getWidth(t)) + " " + dr(zt.internal.getHeight(t)) + " re"), r.push("f"), r.push("BMC"), r.push("q"), r.push("0 0 1 rg"), r.push("/" + n + " " + dr(a.fontSize) + " Tf " + s), r.push("BT"), r.push(a.text), r.push("ET"), r.push("Q"), r.push("EMC"), e.stream = r.join(`
`), e
    }, YesNormal: function (t) {
      var e = Pa(t); e.scope = t.scope; var r = t.scope.internal.getFont(t.fontName, t.fontStyle).id, n = t.scope.__private__.encodeColorString(t.color), s = [], a = zt.internal.getHeight(t), A = zt.internal.getWidth(t), o = nx(t, t.caption); return s.push("1 g"), s.push("0 0 " + dr(A) + " " + dr(a) + " re"), s.push("f"), s.push("q"), s.push("0 0 1 rg"), s.push("0 0 " + dr(A - 1) + " " + dr(a - 1) + " re"), s.push("W"), s.push("n"), s.push("0 g"), s.push("BT"), s.push("/" + r + " " + dr(o.fontSize) + " Tf " + n), s.push(o.text), s.push("ET"), s.push("Q"), e.stream = s.join(`
`), e
    }, OffPushDown: function (t) {
      var e = Pa(t); e.scope = t.scope; var r = []; return r.push("0.749023 g"), r.push("0 0 " + dr(zt.internal.getWidth(t)) + " " + dr(zt.internal.getHeight(t)) + " re"), r.push("f"), e.stream = r.join(`
`), e
    }
  }, RadioButton: {
    Circle: {
      createAppearanceStream: function (t) { var e = { D: { Off: zt.RadioButton.Circle.OffPushDown }, N: {} }; return e.N[t] = zt.RadioButton.Circle.YesNormal, e.D[t] = zt.RadioButton.Circle.YesPushDown, e }, getCA: function () { return "l" }, YesNormal: function (t) {
        var e = Pa(t); e.scope = t.scope; var r = [], n = zt.internal.getWidth(t) <= zt.internal.getHeight(t) ? zt.internal.getWidth(t) / 4 : zt.internal.getHeight(t) / 4; n = Number((.9 * n).toFixed(5)); var s = zt.internal.Bezier_C, a = Number((n * s).toFixed(5)); return r.push("q"), r.push("1 0 0 1 " + ZA(zt.internal.getWidth(t) / 2) + " " + ZA(zt.internal.getHeight(t) / 2) + " cm"), r.push(n + " 0 m"), r.push(n + " " + a + " " + a + " " + n + " 0 " + n + " c"), r.push("-" + a + " " + n + " -" + n + " " + a + " -" + n + " 0 c"), r.push("-" + n + " -" + a + " -" + a + " -" + n + " 0 -" + n + " c"), r.push(a + " -" + n + " " + n + " -" + a + " " + n + " 0 c"), r.push("f"), r.push("Q"), e.stream = r.join(`
`), e
      }, YesPushDown: function (t) {
        var e = Pa(t); e.scope = t.scope; var r = [], n = zt.internal.getWidth(t) <= zt.internal.getHeight(t) ? zt.internal.getWidth(t) / 4 : zt.internal.getHeight(t) / 4; n = Number((.9 * n).toFixed(5)); var s = Number((2 * n).toFixed(5)), a = Number((s * zt.internal.Bezier_C).toFixed(5)), A = Number((n * zt.internal.Bezier_C).toFixed(5)); return r.push("0.749023 g"), r.push("q"), r.push("1 0 0 1 " + ZA(zt.internal.getWidth(t) / 2) + " " + ZA(zt.internal.getHeight(t) / 2) + " cm"), r.push(s + " 0 m"), r.push(s + " " + a + " " + a + " " + s + " 0 " + s + " c"), r.push("-" + a + " " + s + " -" + s + " " + a + " -" + s + " 0 c"), r.push("-" + s + " -" + a + " -" + a + " -" + s + " 0 -" + s + " c"), r.push(a + " -" + s + " " + s + " -" + a + " " + s + " 0 c"), r.push("f"), r.push("Q"), r.push("0 g"), r.push("q"), r.push("1 0 0 1 " + ZA(zt.internal.getWidth(t) / 2) + " " + ZA(zt.internal.getHeight(t) / 2) + " cm"), r.push(n + " 0 m"), r.push(n + " " + A + " " + A + " " + n + " 0 " + n + " c"), r.push("-" + A + " " + n + " -" + n + " " + A + " -" + n + " 0 c"), r.push("-" + n + " -" + A + " -" + A + " -" + n + " 0 -" + n + " c"), r.push(A + " -" + n + " " + n + " -" + A + " " + n + " 0 c"), r.push("f"), r.push("Q"), e.stream = r.join(`
`), e
      }, OffPushDown: function (t) {
        var e = Pa(t); e.scope = t.scope; var r = [], n = zt.internal.getWidth(t) <= zt.internal.getHeight(t) ? zt.internal.getWidth(t) / 4 : zt.internal.getHeight(t) / 4; n = Number((.9 * n).toFixed(5)); var s = Number((2 * n).toFixed(5)), a = Number((s * zt.internal.Bezier_C).toFixed(5)); return r.push("0.749023 g"), r.push("q"), r.push("1 0 0 1 " + ZA(zt.internal.getWidth(t) / 2) + " " + ZA(zt.internal.getHeight(t) / 2) + " cm"), r.push(s + " 0 m"), r.push(s + " " + a + " " + a + " " + s + " 0 " + s + " c"), r.push("-" + a + " " + s + " -" + s + " " + a + " -" + s + " 0 c"), r.push("-" + s + " -" + a + " -" + a + " -" + s + " 0 -" + s + " c"), r.push(a + " -" + s + " " + s + " -" + a + " " + s + " 0 c"), r.push("f"), r.push("Q"), e.stream = r.join(`
`), e
      }
    }, Cross: {
      createAppearanceStream: function (t) { var e = { D: { Off: zt.RadioButton.Cross.OffPushDown }, N: {} }; return e.N[t] = zt.RadioButton.Cross.YesNormal, e.D[t] = zt.RadioButton.Cross.YesPushDown, e }, getCA: function () { return "8" }, YesNormal: function (t) {
        var e = Pa(t); e.scope = t.scope; var r = [], n = zt.internal.calculateCross(t); return r.push("q"), r.push("1 1 " + dr(zt.internal.getWidth(t) - 2) + " " + dr(zt.internal.getHeight(t) - 2) + " re"), r.push("W"), r.push("n"), r.push(dr(n.x1.x) + " " + dr(n.x1.y) + " m"), r.push(dr(n.x2.x) + " " + dr(n.x2.y) + " l"), r.push(dr(n.x4.x) + " " + dr(n.x4.y) + " m"), r.push(dr(n.x3.x) + " " + dr(n.x3.y) + " l"), r.push("s"), r.push("Q"), e.stream = r.join(`
`), e
      }, YesPushDown: function (t) {
        var e = Pa(t); e.scope = t.scope; var r = zt.internal.calculateCross(t), n = []; return n.push("0.749023 g"), n.push("0 0 " + dr(zt.internal.getWidth(t)) + " " + dr(zt.internal.getHeight(t)) + " re"), n.push("f"), n.push("q"), n.push("1 1 " + dr(zt.internal.getWidth(t) - 2) + " " + dr(zt.internal.getHeight(t) - 2) + " re"), n.push("W"), n.push("n"), n.push(dr(r.x1.x) + " " + dr(r.x1.y) + " m"), n.push(dr(r.x2.x) + " " + dr(r.x2.y) + " l"), n.push(dr(r.x4.x) + " " + dr(r.x4.y) + " m"), n.push(dr(r.x3.x) + " " + dr(r.x3.y) + " l"), n.push("s"), n.push("Q"), e.stream = n.join(`
`), e
      }, OffPushDown: function (t) {
        var e = Pa(t); e.scope = t.scope; var r = []; return r.push("0.749023 g"), r.push("0 0 " + dr(zt.internal.getWidth(t)) + " " + dr(zt.internal.getHeight(t)) + " re"), r.push("f"), e.stream = r.join(`
`), e
      }
    }
  }, createDefaultAppearanceStream: function (t) { var e = t.scope.internal.getFont(t.fontName, t.fontStyle).id, r = t.scope.__private__.encodeColorString(t.color); return "/" + e + " " + t.fontSize + " Tf " + r }
}; zt.internal = { Bezier_C: .551915024494, calculateCross: function (t) { var e = zt.internal.getWidth(t), r = zt.internal.getHeight(t), n = Math.min(e, r); return { x1: { x: (e - n) / 2, y: (r - n) / 2 + n }, x2: { x: (e - n) / 2 + n, y: (r - n) / 2 }, x3: { x: (e - n) / 2, y: (r - n) / 2 }, x4: { x: (e - n) / 2 + n, y: (r - n) / 2 + n } } } }, zt.internal.getWidth = function (t) { var e = 0; return Pr(t) === "object" && (e = u2(t.Rect[2])), e }, zt.internal.getHeight = function (t) { var e = 0; return Pr(t) === "object" && (e = u2(t.Rect[3])), e }; var M6 = Bn.addField = function (t) { if (H6(this, t), !(t instanceof pa)) throw new Error("Invalid argument passed to jsPDF.addField."); var e; return (e = t).scope.internal.acroformPlugin.printedOut && (e.scope.internal.acroformPlugin.printedOut = !1, e.scope.internal.acroformPlugin.acroFormDictionaryRoot = null), e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e), t.page = t.scope.internal.getCurrentPageInfo().pageNumber, this }; Bn.AcroFormChoiceField = Qc, Bn.AcroFormListBox = Tc, Bn.AcroFormComboBox = Lc, Bn.AcroFormEditBox = pf, Bn.AcroFormButton = es, Bn.AcroFormPushButton = gf, Bn.AcroFormRadioButton = Oc, Bn.AcroFormCheckBox = mf, Bn.AcroFormTextField = hl, Bn.AcroFormPasswordField = xf, Bn.AcroFormAppearance = zt, Bn.AcroForm = { ChoiceField: Qc, ListBox: Tc, ComboBox: Lc, EditBox: pf, Button: es, PushButton: gf, RadioButton: Oc, CheckBox: mf, TextField: hl, PasswordField: xf, Appearance: zt }, er.AcroForm = { ChoiceField: Qc, ListBox: Tc, ComboBox: Lc, EditBox: pf, Button: es, PushButton: gf, RadioButton: Oc, CheckBox: mf, TextField: hl, PasswordField: xf, Appearance: zt }; er.AcroForm; function V4(t) { return t.reduce(function (e, r, n) { return e[r] = n, e }, {}) } (function (t) { var e = "addImage_"; t.__addimage__ = {}; var r = "UNKNOWN", n = { PNG: [[137, 80, 78, 71]], TIFF: [[77, 77, 0, 42], [73, 73, 42, 0]], JPEG: [[255, 216, 255, 224, void 0, void 0, 74, 70, 73, 70, 0], [255, 216, 255, 225, void 0, void 0, 69, 120, 105, 102, 0, 0], [255, 216, 255, 219], [255, 216, 255, 238]], JPEG2000: [[0, 0, 0, 12, 106, 80, 32, 32]], GIF87a: [[71, 73, 70, 56, 55, 97]], GIF89a: [[71, 73, 70, 56, 57, 97]], WEBP: [[82, 73, 70, 70, void 0, void 0, void 0, void 0, 87, 69, 66, 80]], BMP: [[66, 77], [66, 65], [67, 73], [67, 80], [73, 67], [80, 84]] }, s = t.__addimage__.getImageFileTypeByImageData = function (k, _) { var V, P, te, ce, he, ie = r; if ((_ = _ || r) === "RGBA" || k.data !== void 0 && k.data instanceof Uint8ClampedArray && "height" in k && "width" in k) return "RGBA"; if (U(k)) for (he in n) for (te = n[he], V = 0; V < te.length; V += 1) { for (ce = !0, P = 0; P < te[V].length; P += 1)if (te[V][P] !== void 0 && te[V][P] !== k[P]) { ce = !1; break } if (ce === !0) { ie = he; break } } else for (he in n) for (te = n[he], V = 0; V < te.length; V += 1) { for (ce = !0, P = 0; P < te[V].length; P += 1)if (te[V][P] !== void 0 && te[V][P] !== k.charCodeAt(P)) { ce = !1; break } if (ce === !0) { ie = he; break } } return ie === r && _ !== r && (ie = _), ie }, a = function k(_) { for (var V = this.internal.write, P = this.internal.putStream, te = (0, this.internal.getFilters)(); te.indexOf("FlateEncode") !== -1;)te.splice(te.indexOf("FlateEncode"), 1); _.objectId = this.internal.newObject(); var ce = []; if (ce.push({ key: "Type", value: "/XObject" }), ce.push({ key: "Subtype", value: "/Image" }), ce.push({ key: "Width", value: _.width }), ce.push({ key: "Height", value: _.height }), _.colorSpace === x.INDEXED ? ce.push({ key: "ColorSpace", value: "[/Indexed /DeviceRGB " + (_.palette.length / 3 - 1) + " " + ("sMask" in _ && _.sMask !== void 0 ? _.objectId + 2 : _.objectId + 1) + " 0 R]" }) : (ce.push({ key: "ColorSpace", value: "/" + _.colorSpace }), _.colorSpace === x.DEVICE_CMYK && ce.push({ key: "Decode", value: "[1 0 1 0 1 0 1 0]" })), ce.push({ key: "BitsPerComponent", value: _.bitsPerComponent }), "decodeParameters" in _ && _.decodeParameters !== void 0 && ce.push({ key: "DecodeParms", value: "<<" + _.decodeParameters + ">>" }), "transparency" in _ && Array.isArray(_.transparency) && _.transparency.length > 0) { for (var he = "", ie = 0, ue = _.transparency.length; ie < ue; ie++)he += _.transparency[ie] + " " + _.transparency[ie] + " "; ce.push({ key: "Mask", value: "[" + he + "]" }) } _.sMask !== void 0 && ce.push({ key: "SMask", value: _.objectId + 1 + " 0 R" }); var pe = _.filter !== void 0 ? ["/" + _.filter] : void 0; if (P({ data: _.data, additionalKeyValues: ce, alreadyAppliedFilters: pe, objectId: _.objectId }), V("endobj"), "sMask" in _ && _.sMask !== void 0) { var ve, I = (ve = _.sMaskBitsPerComponent) !== null && ve !== void 0 ? ve : _.bitsPerComponent, R = { width: _.width, height: _.height, colorSpace: "DeviceGray", bitsPerComponent: I, data: _.sMask }; "filter" in _ && (R.decodeParameters = "/Predictor ".concat(_.predictor, " /Colors 1 /BitsPerComponent ").concat(I, " /Columns ").concat(_.width), R.filter = _.filter), k.call(this, R) } if (_.colorSpace === x.INDEXED) { var re = this.internal.newObject(); P({ data: G(new Uint8Array(_.palette)), objectId: re }), V("endobj") } }, A = function () { var k = this.internal.collections[e + "images"]; for (var _ in k) a.call(this, k[_]) }, o = function () { var k, _ = this.internal.collections[e + "images"], V = this.internal.write; for (var P in _) V("/I" + (k = _[P]).index, k.objectId, "0", "R") }, l = function () { this.internal.collections[e + "images"] || (this.internal.collections[e + "images"] = {}, this.internal.events.subscribe("putResources", A), this.internal.events.subscribe("putXobjectDict", o)) }, c = function () { var k = this.internal.collections[e + "images"]; return l.call(this), k }, d = function () { return Object.keys(this.internal.collections[e + "images"]).length }, p = function (k) { return typeof t["process" + k.toUpperCase()] == "function" }, g = function (k) { return Pr(k) === "object" && k.nodeType === 1 }, h = function (k, _) { if (k.nodeName === "IMG" && k.hasAttribute("src")) { var V = "" + k.getAttribute("src"); if (V.indexOf("data:image/") === 0) return ff(unescape(V).split("base64,").pop()); var P = t.loadFile(V, !0); if (P !== void 0) return P } if (k.nodeName === "CANVAS") { if (k.width === 0 || k.height === 0) throw new Error("Given canvas must have data. Canvas width: " + k.width + ", height: " + k.height); var te; switch (_) { case "PNG": te = "image/png"; break; case "WEBP": te = "image/webp"; break; default: te = "image/jpeg" }return ff(k.toDataURL(te, 1).split("base64,").pop()) } }, b = function (k) { var _ = this.internal.collections[e + "images"]; if (_) { for (var V in _) if (k === _[V].alias) return _[V] } }, w = function (k, _, V) { return k || _ || (k = -96, _ = -96), k < 0 && (k = -1 * V.width * 72 / k / this.internal.scaleFactor), _ < 0 && (_ = -1 * V.height * 72 / _ / this.internal.scaleFactor), k === 0 && (k = _ * V.width / V.height), _ === 0 && (_ = k * V.height / V.width), [k, _] }, j = function (k, _, V, P, te, ce) { var he = w.call(this, V, P, te), ie = this.internal.getCoordinateString, ue = this.internal.getVerticalCoordinateString, pe = c.call(this); if (V = he[0], P = he[1], pe[te.index] = te, ce) { ce *= Math.PI / 180; var ve = Math.cos(ce), I = Math.sin(ce), R = function (Y) { return Y.toFixed(4) }, re = [R(ve), R(I), R(-1 * I), R(ve), 0, 0, "cm"] } this.internal.write("q"), ce ? (this.internal.write([1, "0", "0", 1, ie(k), ue(_ + P), "cm"].join(" ")), this.internal.write(re.join(" ")), this.internal.write([ie(V), "0", "0", ie(P), "0", "0", "cm"].join(" "))) : this.internal.write([ie(V), "0", "0", ie(P), ie(k), ue(_ + P), "cm"].join(" ")), this.isAdvancedAPI() && this.internal.write([1, 0, 0, -1, 0, 0, "cm"].join(" ")), this.internal.write("/I" + te.index + " Do"), this.internal.write("Q") }, x = t.color_spaces = { DEVICE_RGB: "DeviceRGB", DEVICE_GRAY: "DeviceGray", DEVICE_CMYK: "DeviceCMYK", CAL_GREY: "CalGray", CAL_RGB: "CalRGB", LAB: "Lab", ICC_BASED: "ICCBased", INDEXED: "Indexed", PATTERN: "Pattern", SEPARATION: "Separation", DEVICE_N: "DeviceN" }; t.decode = { DCT_DECODE: "DCTDecode", FLATE_DECODE: "FlateDecode", LZW_DECODE: "LZWDecode", JPX_DECODE: "JPXDecode", JBIG2_DECODE: "JBIG2Decode", ASCII85_DECODE: "ASCII85Decode", ASCII_HEX_DECODE: "ASCIIHexDecode", RUN_LENGTH_DECODE: "RunLengthDecode", CCITT_FAX_DECODE: "CCITTFaxDecode" }; var y = t.image_compression = { NONE: "NONE", FAST: "FAST", MEDIUM: "MEDIUM", SLOW: "SLOW" }, B = t.__addimage__.sHashCode = function (k) { var _, V, P = 0; if (typeof k == "string") for (V = k.length, _ = 0; _ < V; _++)P = (P << 5) - P + k.charCodeAt(_), P |= 0; else if (U(k)) for (V = k.byteLength / 2, _ = 0; _ < V; _++)P = (P << 5) - P + k[_], P |= 0; return P }, E = t.__addimage__.validateStringAsBase64 = function (k) { (k = k || "").toString().trim(); var _ = !0; return k.length === 0 && (_ = !1), k.length % 4 != 0 && (_ = !1), /^[A-Za-z0-9+/]+$/.test(k.substr(0, k.length - 2)) === !1 && (_ = !1), /^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2)) === !1 && (_ = !1), _ }, T = t.__addimage__.extractImageFromDataUrl = function (k) { if (k == null || !(k = k.trim()).startsWith("data:")) return null; var _ = k.indexOf(","); return _ < 0 ? null : k.substring(0, _).trim().endsWith("base64") ? k.substring(_ + 1) : null }; t.__addimage__.isArrayBuffer = function (k) { return k instanceof ArrayBuffer }; var U = t.__addimage__.isArrayBufferView = function (k) { return k instanceof Int8Array || k instanceof Uint8Array || k instanceof Uint8ClampedArray || k instanceof Int16Array || k instanceof Uint16Array || k instanceof Int32Array || k instanceof Uint32Array || k instanceof Float32Array || k instanceof Float64Array }, M = t.__addimage__.binaryStringToUint8Array = function (k) { for (var _ = k.length, V = new Uint8Array(_), P = 0; P < _; P++)V[P] = k.charCodeAt(P); return V }, G = t.__addimage__.arrayBufferToBinaryString = function (k) { for (var _ = "", V = U(k) ? k : new Uint8Array(k), P = 0; P < V.length; P += 8192)_ += String.fromCharCode.apply(null, V.subarray(P, P + 8192)); return _ }; t.addImage = function () { var k, _, V, P, te, ce, he, ie, ue; if (typeof arguments[1] == "number" ? (_ = r, V = arguments[1], P = arguments[2], te = arguments[3], ce = arguments[4], he = arguments[5], ie = arguments[6], ue = arguments[7]) : (_ = arguments[1], V = arguments[2], P = arguments[3], te = arguments[4], ce = arguments[5], he = arguments[6], ie = arguments[7], ue = arguments[8]), Pr(k = arguments[0]) === "object" && !g(k) && "imageData" in k) { var pe = k; k = pe.imageData, _ = pe.format || _ || r, V = pe.x || V || 0, P = pe.y || P || 0, te = pe.w || pe.width || te, ce = pe.h || pe.height || ce, he = pe.alias || he, ie = pe.compression || ie, ue = pe.rotation || pe.angle || ue } var ve = this.internal.getFilters(); if (ie === void 0 && ve.indexOf("FlateEncode") !== -1 && (ie = "SLOW"), isNaN(V) || isNaN(P)) throw new Error("Invalid coordinates passed to jsPDF.addImage"); l.call(this); var I = N.call(this, k, _, he, ie); return j.call(this, V, P, te, ce, I, ue), this }; var N = function (k, _, V, P) { var te, ce, he; if (typeof k == "string" && s(k) === r) { k = unescape(k); var ie = H(k, !1); (ie !== "" || (ie = t.loadFile(k, !0)) !== void 0) && (k = ie) } if (g(k) && (k = h(k, _)), _ = s(k, _), !p(_)) throw new Error("addImage does not support files of type '" + _ + "', please ensure that a plugin for '" + _ + "' support is added."); if (((he = V) == null || he.length === 0) && (V = function (ue) { return typeof ue == "string" || U(ue) ? B(ue) : U(ue.data) ? B(ue.data) : null }(k)), (te = b.call(this, V)) || (k instanceof Uint8Array || _ === "RGBA" || (ce = k, k = M(k)), te = this["process" + _.toUpperCase()](k, d.call(this), V, function (ue) { return ue && typeof ue == "string" && (ue = ue.toUpperCase()), ue in t.image_compression ? ue : y.NONE }(P), ce)), !te) throw new Error("An unknown error occurred whilst processing the image."); return te }, H = t.__addimage__.convertBase64ToBinaryString = function (k, _) { _ = typeof _ != "boolean" || _; var V, P = ""; if (typeof k == "string") { var te; V = (te = T(k)) !== null && te !== void 0 ? te : k; try { P = ff(V) } catch (ce) { if (_) throw E(V) ? new Error("atob-Error in jsPDF.convertBase64ToBinaryString " + ce.message) : new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ") } } return P }; t.getImageProperties = function (k) { var _, V, P = ""; if (g(k) && (k = h(k)), typeof k == "string" && s(k) === r && ((P = H(k, !1)) === "" && (P = t.loadFile(k) || ""), k = P), V = s(k), !p(V)) throw new Error("addImage does not support files of type '" + V + "', please ensure that a plugin for '" + V + "' support is added."); if (k instanceof Uint8Array || (k = M(k)), !(_ = this["process" + V.toUpperCase()](k))) throw new Error("An unknown error occurred whilst processing the image"); return _.fileType = V, _ } })(er.API), function (t) { var e = function (r) { if (r !== void 0 && r != "") return !0 }; er.API.events.push(["addPage", function (r) { this.internal.getPageInfo(r.pageNumber).pageContext.annotations = [] }]), t.events.push(["putPage", function (r) { for (var n, s, a, A = this.internal.getCoordinateString, o = this.internal.getVerticalCoordinateString, l = this.internal.getPageInfoByObjId(r.objId), c = r.pageContext.annotations, d = !1, p = 0; p < c.length && !d; p++)switch ((n = c[p]).type) { case "link": (e(n.options.url) || e(n.options.pageNumber)) && (d = !0); break; case "reference": case "text": case "freetext": d = !0 }if (d != 0) { this.internal.write("/Annots ["); for (var g = 0; g < c.length; g++) { n = c[g]; var h = this.internal.pdfEscape, b = this.internal.getEncryptor(r.objId); switch (n.type) { case "reference": this.internal.write(" " + n.object.objId + " 0 R "); break; case "text": var w = this.internal.newAdditionalObject(), j = this.internal.newAdditionalObject(), x = this.internal.getEncryptor(w.objId), y = n.title || "Note"; a = "<</Type /Annot /Subtype /Text " + (s = "/Rect [" + A(n.bounds.x) + " " + o(n.bounds.y + n.bounds.h) + " " + A(n.bounds.x + n.bounds.w) + " " + o(n.bounds.y) + "] ") + "/Contents (" + h(x(n.contents)) + ")", a += " /Popup " + j.objId + " 0 R", a += " /P " + l.objId + " 0 R", a += " /T (" + h(x(y)) + ") >>", w.content = a; var B = w.objId + " 0 R"; a = "<</Type /Annot /Subtype /Popup " + (s = "/Rect [" + A(n.bounds.x + 30) + " " + o(n.bounds.y + n.bounds.h) + " " + A(n.bounds.x + n.bounds.w + 30) + " " + o(n.bounds.y) + "] ") + " /Parent " + B, n.open && (a += " /Open true"), a += " >>", j.content = a, this.internal.write(w.objId, "0 R", j.objId, "0 R"); break; case "freetext": s = "/Rect [" + A(n.bounds.x) + " " + o(n.bounds.y) + " " + A(n.bounds.x + n.bounds.w) + " " + o(n.bounds.y + n.bounds.h) + "] "; var E = n.color || "#000000"; a = "<</Type /Annot /Subtype /FreeText " + s + "/Contents (" + h(b(n.contents)) + ")", a += " /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#" + E + ")", a += " /Border [0 0 0]", a += " >>", this.internal.write(a); break; case "link": if (n.options.name) { var T = this.annotations._nameMap[n.options.name]; n.options.pageNumber = T.page, n.options.top = T.y } else n.options.top || (n.options.top = 0); if (s = "/Rect [" + n.finalBounds.x + " " + n.finalBounds.y + " " + n.finalBounds.w + " " + n.finalBounds.h + "] ", a = "", n.options.url) a = "<</Type /Annot /Subtype /Link " + s + "/Border [0 0 0] /A <</S /URI /URI (" + h(b(n.options.url)) + ") >>"; else if (n.options.pageNumber) switch (a = "<</Type /Annot /Subtype /Link " + s + "/Border [0 0 0] /Dest [" + this.internal.getPageInfo(n.options.pageNumber).objId + " 0 R", n.options.magFactor = n.options.magFactor || "XYZ", n.options.magFactor) { case "Fit": a += " /Fit]"; break; case "FitH": a += " /FitH " + n.options.top + "]"; break; case "FitV": n.options.left = n.options.left || 0, a += " /FitV " + n.options.left + "]"; break; default: var U = o(n.options.top); n.options.left = n.options.left || 0, n.options.zoom === void 0 && (n.options.zoom = 0), a += " /XYZ " + n.options.left + " " + U + " " + n.options.zoom + "]" }a != "" && (a += " >>", this.internal.write(a)) } } this.internal.write("]") } }]), t.createAnnotation = function (r) { var n = this.internal.getCurrentPageInfo(); switch (r.type) { case "link": this.link(r.bounds.x, r.bounds.y, r.bounds.w, r.bounds.h, r); break; case "text": case "freetext": n.pageContext.annotations.push(r) } }, t.link = function (r, n, s, a, A) { var o = this.internal.getCurrentPageInfo(), l = this.internal.getCoordinateString, c = this.internal.getVerticalCoordinateString; o.pageContext.annotations.push({ finalBounds: { x: l(r), y: c(n), w: l(r + s), h: c(n + a) }, options: A, type: "link" }) }, t.textWithLink = function (r, n, s, a) { var A, o, l = this.getTextWidth(r), c = this.internal.getLineHeight() / this.internal.scaleFactor; if (a.maxWidth !== void 0) { o = a.maxWidth; var d = this.splitTextToSize(r, o).length; A = Math.ceil(c * d) } else o = l, A = c; return this.text(r, n, s, a), s += .2 * c, a.align === "center" && (n -= l / 2), a.align === "right" && (n -= l), this.link(n, s - c, o, A, a), l }, t.getTextWidth = function (r) { var n = this.internal.getFontSize(); return this.getStringUnitWidth(r) * n / this.internal.scaleFactor } }(er.API), function (t) { var e = { 1569: [65152], 1570: [65153, 65154], 1571: [65155, 65156], 1572: [65157, 65158], 1573: [65159, 65160], 1574: [65161, 65162, 65163, 65164], 1575: [65165, 65166], 1576: [65167, 65168, 65169, 65170], 1577: [65171, 65172], 1578: [65173, 65174, 65175, 65176], 1579: [65177, 65178, 65179, 65180], 1580: [65181, 65182, 65183, 65184], 1581: [65185, 65186, 65187, 65188], 1582: [65189, 65190, 65191, 65192], 1583: [65193, 65194], 1584: [65195, 65196], 1585: [65197, 65198], 1586: [65199, 65200], 1587: [65201, 65202, 65203, 65204], 1588: [65205, 65206, 65207, 65208], 1589: [65209, 65210, 65211, 65212], 1590: [65213, 65214, 65215, 65216], 1591: [65217, 65218, 65219, 65220], 1592: [65221, 65222, 65223, 65224], 1593: [65225, 65226, 65227, 65228], 1594: [65229, 65230, 65231, 65232], 1601: [65233, 65234, 65235, 65236], 1602: [65237, 65238, 65239, 65240], 1603: [65241, 65242, 65243, 65244], 1604: [65245, 65246, 65247, 65248], 1605: [65249, 65250, 65251, 65252], 1606: [65253, 65254, 65255, 65256], 1607: [65257, 65258, 65259, 65260], 1608: [65261, 65262], 1609: [65263, 65264, 64488, 64489], 1610: [65265, 65266, 65267, 65268], 1649: [64336, 64337], 1655: [64477], 1657: [64358, 64359, 64360, 64361], 1658: [64350, 64351, 64352, 64353], 1659: [64338, 64339, 64340, 64341], 1662: [64342, 64343, 64344, 64345], 1663: [64354, 64355, 64356, 64357], 1664: [64346, 64347, 64348, 64349], 1667: [64374, 64375, 64376, 64377], 1668: [64370, 64371, 64372, 64373], 1670: [64378, 64379, 64380, 64381], 1671: [64382, 64383, 64384, 64385], 1672: [64392, 64393], 1676: [64388, 64389], 1677: [64386, 64387], 1678: [64390, 64391], 1681: [64396, 64397], 1688: [64394, 64395], 1700: [64362, 64363, 64364, 64365], 1702: [64366, 64367, 64368, 64369], 1705: [64398, 64399, 64400, 64401], 1709: [64467, 64468, 64469, 64470], 1711: [64402, 64403, 64404, 64405], 1713: [64410, 64411, 64412, 64413], 1715: [64406, 64407, 64408, 64409], 1722: [64414, 64415], 1723: [64416, 64417, 64418, 64419], 1726: [64426, 64427, 64428, 64429], 1728: [64420, 64421], 1729: [64422, 64423, 64424, 64425], 1733: [64480, 64481], 1734: [64473, 64474], 1735: [64471, 64472], 1736: [64475, 64476], 1737: [64482, 64483], 1739: [64478, 64479], 1740: [64508, 64509, 64510, 64511], 1744: [64484, 64485, 64486, 64487], 1746: [64430, 64431], 1747: [64432, 64433] }, r = { 65247: { 65154: 65269, 65156: 65271, 65160: 65273, 65166: 65275 }, 65248: { 65154: 65270, 65156: 65272, 65160: 65274, 65166: 65276 }, 65165: { 65247: { 65248: { 65258: 65010 } } }, 1617: { 1612: 64606, 1613: 64607, 1614: 64608, 1615: 64609, 1616: 64610 } }, n = { 1612: 64606, 1613: 64607, 1614: 64608, 1615: 64609, 1616: 64610 }, s = [1570, 1571, 1573, 1575]; t.__arabicParser__ = {}; var a = t.__arabicParser__.isInArabicSubstitutionA = function (w) { return e[w.charCodeAt(0)] !== void 0 }, A = t.__arabicParser__.isArabicLetter = function (w) { return typeof w == "string" && /^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w) }, o = t.__arabicParser__.isArabicEndLetter = function (w) { return A(w) && a(w) && e[w.charCodeAt(0)].length <= 2 }, l = t.__arabicParser__.isArabicAlfLetter = function (w) { return A(w) && s.indexOf(w.charCodeAt(0)) >= 0 }; t.__arabicParser__.arabicLetterHasIsolatedForm = function (w) { return A(w) && a(w) && e[w.charCodeAt(0)].length >= 1 }; var c = t.__arabicParser__.arabicLetterHasFinalForm = function (w) { return A(w) && a(w) && e[w.charCodeAt(0)].length >= 2 }; t.__arabicParser__.arabicLetterHasInitialForm = function (w) { return A(w) && a(w) && e[w.charCodeAt(0)].length >= 3 }; var d = t.__arabicParser__.arabicLetterHasMedialForm = function (w) { return A(w) && a(w) && e[w.charCodeAt(0)].length == 4 }, p = t.__arabicParser__.resolveLigatures = function (w) { var j = 0, x = r, y = "", B = 0; for (j = 0; j < w.length; j += 1)x[w.charCodeAt(j)] !== void 0 ? (B++, typeof (x = x[w.charCodeAt(j)]) == "number" && (y += String.fromCharCode(x), x = r, B = 0), j === w.length - 1 && (x = r, y += w.charAt(j - (B - 1)), j -= B - 1, B = 0)) : (x = r, y += w.charAt(j - B), j -= B, B = 0); return y }; t.__arabicParser__.isArabicDiacritic = function (w) { return w !== void 0 && n[w.charCodeAt(0)] !== void 0 }; var g = t.__arabicParser__.getCorrectForm = function (w, j, x) { return A(w) ? a(w) === !1 ? -1 : !c(w) || !A(j) && !A(x) || !A(x) && o(j) || o(w) && !A(j) || o(w) && l(j) || o(w) && o(j) ? 0 : d(w) && A(j) && !o(j) && A(x) && c(x) ? 3 : o(w) || !A(x) ? 1 : 2 : -1 }, h = function (w) { var j = 0, x = 0, y = 0, B = "", E = "", T = "", U = (w = w || "").split("\\s+"), M = []; for (j = 0; j < U.length; j += 1) { for (M.push(""), x = 0; x < U[j].length; x += 1)B = U[j][x], E = U[j][x - 1], T = U[j][x + 1], A(B) ? (y = g(B, E, T), M[j] += y !== -1 ? String.fromCharCode(e[B.charCodeAt(0)][y]) : B) : M[j] += B; M[j] = p(M[j]) } return M.join(" ") }, b = t.__arabicParser__.processArabic = t.processArabic = function () { var w, j = typeof arguments[0] == "string" ? arguments[0] : arguments[0].text, x = []; if (Array.isArray(j)) { var y = 0; for (x = [], y = 0; y < j.length; y += 1)Array.isArray(j[y]) ? x.push([h(j[y][0]), j[y][1], j[y][2]]) : x.push([h(j[y])]); w = x } else w = h(j); return typeof arguments[0] == "string" ? w : (arguments[0].text = w, arguments[0]) }; t.events.push(["preProcessText", b]) }(er.API), er.API.autoPrint = function (t) { var e; return (t = t || {}).variant = t.variant || "non-conform", t.variant === "javascript" ? this.addJS("print({});") : (this.internal.events.subscribe("postPutResources", function () { e = this.internal.newObject(), this.internal.out("<<"), this.internal.out("/S /Named"), this.internal.out("/Type /Action"), this.internal.out("/N /Print"), this.internal.out(">>"), this.internal.out("endobj") }), this.internal.events.subscribe("putCatalog", function () { this.internal.out("/OpenAction " + e + " 0 R") })), this }, function (t) { var e = function () { var r = void 0; Object.defineProperty(this, "pdf", { get: function () { return r }, set: function (o) { r = o } }); var n = 150; Object.defineProperty(this, "width", { get: function () { return n }, set: function (o) { n = isNaN(o) || Number.isInteger(o) === !1 || o < 0 ? 150 : o, this.getContext("2d").pageWrapXEnabled && (this.getContext("2d").pageWrapX = n + 1) } }); var s = 300; Object.defineProperty(this, "height", { get: function () { return s }, set: function (o) { s = isNaN(o) || Number.isInteger(o) === !1 || o < 0 ? 300 : o, this.getContext("2d").pageWrapYEnabled && (this.getContext("2d").pageWrapY = s + 1) } }); var a = []; Object.defineProperty(this, "childNodes", { get: function () { return a }, set: function (o) { a = o } }); var A = {}; Object.defineProperty(this, "style", { get: function () { return A }, set: function (o) { A = o } }), Object.defineProperty(this, "parentNode", {}) }; e.prototype.getContext = function (r, n) { var s; if ((r = r || "2d") !== "2d") return null; for (s in n) this.pdf.context2d.hasOwnProperty(s) && (this.pdf.context2d[s] = n[s]); return this.pdf.context2d._canvas = this, this.pdf.context2d }, e.prototype.toDataURL = function () { throw new Error("toDataURL is not implemented.") }, t.events.push(["initialized", function () { this.canvas = new e, this.canvas.pdf = this }]) }(er.API), function (t) { var e = { left: 0, top: 0, bottom: 0, right: 0 }, r = !1, n = function () { this.internal.__cell__ === void 0 && (this.internal.__cell__ = {}, this.internal.__cell__.padding = 3, this.internal.__cell__.headerFunction = void 0, this.internal.__cell__.margins = Object.assign({}, e), this.internal.__cell__.margins.width = this.getPageWidth(), s.call(this)) }, s = function () { this.internal.__cell__.lastCell = new a, this.internal.__cell__.pages = 1 }, a = function () { var l = arguments[0]; Object.defineProperty(this, "x", { enumerable: !0, get: function () { return l }, set: function (w) { l = w } }); var c = arguments[1]; Object.defineProperty(this, "y", { enumerable: !0, get: function () { return c }, set: function (w) { c = w } }); var d = arguments[2]; Object.defineProperty(this, "width", { enumerable: !0, get: function () { return d }, set: function (w) { d = w } }); var p = arguments[3]; Object.defineProperty(this, "height", { enumerable: !0, get: function () { return p }, set: function (w) { p = w } }); var g = arguments[4]; Object.defineProperty(this, "text", { enumerable: !0, get: function () { return g }, set: function (w) { g = w } }); var h = arguments[5]; Object.defineProperty(this, "lineNumber", { enumerable: !0, get: function () { return h }, set: function (w) { h = w } }); var b = arguments[6]; return Object.defineProperty(this, "align", { enumerable: !0, get: function () { return b }, set: function (w) { b = w } }), this }; a.prototype.clone = function () { return new a(this.x, this.y, this.width, this.height, this.text, this.lineNumber, this.align) }, a.prototype.toArray = function () { return [this.x, this.y, this.width, this.height, this.text, this.lineNumber, this.align] }, t.setHeaderFunction = function (l) { return n.call(this), this.internal.__cell__.headerFunction = typeof l == "function" ? l : void 0, this }, t.getTextDimensions = function (l, c) { n.call(this); var d = (c = c || {}).fontSize || this.getFontSize(), p = c.font || this.getFont(), g = c.scaleFactor || this.internal.scaleFactor, h = 0, b = 0, w = 0, j = this; if (!Array.isArray(l) && typeof l != "string") { if (typeof l != "number") throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings."); l = String(l) } var x = c.maxWidth; x > 0 ? typeof l == "string" ? l = this.splitTextToSize(l, x) : Object.prototype.toString.call(l) === "[object Array]" && (l = l.reduce(function (B, E) { return B.concat(j.splitTextToSize(E, x)) }, [])) : l = Array.isArray(l) ? l : [l]; for (var y = 0; y < l.length; y++)h < (w = this.getStringUnitWidth(l[y], { font: p }) * d) && (h = w); return h !== 0 && (b = l.length), { w: h /= g, h: Math.max((b * d * this.getLineHeightFactor() - d * (this.getLineHeightFactor() - 1)) / g, 0) } }, t.cellAddPage = function () { n.call(this), this.addPage(); var l = this.internal.__cell__.margins || e; return this.internal.__cell__.lastCell = new a(l.left, l.top, void 0, void 0), this.internal.__cell__.pages += 1, this }; var A = t.cell = function () { var l; l = arguments[0] instanceof a ? arguments[0] : new a(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4], arguments[5], arguments[6]), n.call(this); var c = this.internal.__cell__.lastCell, d = this.internal.__cell__.padding, p = this.internal.__cell__.margins || e, g = this.internal.__cell__.tableHeaderRow, h = this.internal.__cell__.printHeaders; return c.lineNumber !== void 0 && (c.lineNumber === l.lineNumber ? (l.x = (c.x || 0) + (c.width || 0), l.y = c.y || 0) : c.y + c.height + l.height + p.bottom > this.getPageHeight() ? (this.cellAddPage(), l.y = p.top, h && g && (this.printHeaderRow(l.lineNumber, !0), l.y += g[0].height)) : l.y = c.y + c.height || l.y), l.text[0] !== void 0 && (this.rect(l.x, l.y, l.width, l.height, r === !0 ? "FD" : void 0), l.align === "right" ? this.text(l.text, l.x + l.width - d, l.y + d, { align: "right", baseline: "top" }) : l.align === "center" ? this.text(l.text, l.x + l.width / 2, l.y + d, { align: "center", baseline: "top", maxWidth: l.width - d - d }) : this.text(l.text, l.x + d, l.y + d, { align: "left", baseline: "top", maxWidth: l.width - d - d })), this.internal.__cell__.lastCell = l, this }; t.table = function (l, c, d, p, g) { if (n.call(this), !d) throw new Error("No data for PDF table."); var h, b, w, j, x = [], y = [], B = [], E = {}, T = {}, U = [], M = [], G = (g = g || {}).autoSize || !1, N = g.printHeaders !== !1, H = g.css && g.css["font-size"] !== void 0 ? 16 * g.css["font-size"] : g.fontSize || 12, k = g.margins || Object.assign({ width: this.getPageWidth() }, e), _ = typeof g.padding == "number" ? g.padding : 3, V = g.headerBackgroundColor || "#c8c8c8", P = g.headerTextColor || "#000"; if (s.call(this), this.internal.__cell__.printHeaders = N, this.internal.__cell__.margins = k, this.internal.__cell__.table_font_size = H, this.internal.__cell__.padding = _, this.internal.__cell__.headerBackgroundColor = V, this.internal.__cell__.headerTextColor = P, this.setFontSize(H), p == null) y = x = Object.keys(d[0]), B = x.map(function () { return "left" }); else if (Array.isArray(p) && Pr(p[0]) === "object") for (x = p.map(function (pe) { return pe.name }), y = p.map(function (pe) { return pe.prompt || pe.name || "" }), B = p.map(function (pe) { return pe.align || "left" }), h = 0; h < p.length; h += 1)T[p[h].name] = .7499990551181103 * p[h].width; else Array.isArray(p) && typeof p[0] == "string" && (y = x = p, B = x.map(function () { return "left" })); if (G || Array.isArray(p) && typeof p[0] == "string") for (h = 0; h < x.length; h += 1) { for (E[j = x[h]] = d.map(function (pe) { return pe[j] }), this.setFont(void 0, "bold"), U.push(this.getTextDimensions(y[h], { fontSize: this.internal.__cell__.table_font_size, scaleFactor: this.internal.scaleFactor }).w), b = E[j], this.setFont(void 0, "normal"), w = 0; w < b.length; w += 1)U.push(this.getTextDimensions(b[w], { fontSize: this.internal.__cell__.table_font_size, scaleFactor: this.internal.scaleFactor }).w); T[j] = Math.max.apply(null, U) + _ + _, U = [] } if (N) { var te = {}; for (h = 0; h < x.length; h += 1)te[x[h]] = {}, te[x[h]].text = y[h], te[x[h]].align = B[h]; var ce = o.call(this, te, T); M = x.map(function (pe) { return new a(l, c, T[pe], ce, te[pe].text, void 0, te[pe].align) }), this.setTableHeaderRow(M), this.printHeaderRow(1, !1) } var he = p.reduce(function (pe, ve) { return pe[ve.name] = ve.align, pe }, {}); for (h = 0; h < d.length; h += 1) { "rowStart" in g && g.rowStart instanceof Function && g.rowStart({ row: h, data: d[h] }, this); var ie = o.call(this, d[h], T); for (w = 0; w < x.length; w += 1) { var ue = d[h][x[w]]; "cellStart" in g && g.cellStart instanceof Function && g.cellStart({ row: h, col: w, data: ue }, this), A.call(this, new a(l, c, T[x[w]], ie, ue, h + 2, he[x[w]])) } } return this.internal.__cell__.table_x = l, this.internal.__cell__.table_y = c, this }; var o = function (l, c) { var d = this.internal.__cell__.padding, p = this.internal.__cell__.table_font_size, g = this.internal.scaleFactor; return Object.keys(l).map(function (h) { var b = l[h]; return this.splitTextToSize(b.hasOwnProperty("text") ? b.text : b, c[h] - d - d) }, this).map(function (h) { return this.getLineHeightFactor() * h.length * p / g + d + d }, this).reduce(function (h, b) { return Math.max(h, b) }, 0) }; t.setTableHeaderRow = function (l) { n.call(this), this.internal.__cell__.tableHeaderRow = l }, t.printHeaderRow = function (l, c) { if (n.call(this), !this.internal.__cell__.tableHeaderRow) throw new Error("Property tableHeaderRow does not exist."); var d; if (r = !0, typeof this.internal.__cell__.headerFunction == "function") { var p = this.internal.__cell__.headerFunction(this, this.internal.__cell__.pages); this.internal.__cell__.lastCell = new a(p[0], p[1], p[2], p[3], void 0, -1) } this.setFont(void 0, "bold"); for (var g = [], h = 0; h < this.internal.__cell__.tableHeaderRow.length; h += 1) { d = this.internal.__cell__.tableHeaderRow[h].clone(), c && (d.y = this.internal.__cell__.margins.top || 0, g.push(d)), d.lineNumber = l; var b = this.getTextColor(); this.setTextColor(this.internal.__cell__.headerTextColor), this.setFillColor(this.internal.__cell__.headerBackgroundColor), A.call(this, d), this.setTextColor(b) } g.length > 0 && this.setTableHeaderRow(g), this.setFont(void 0, "normal"), r = !1 } }(er.API); var z4 = { italic: ["italic", "oblique", "normal"], oblique: ["oblique", "italic", "normal"], normal: ["normal", "oblique", "italic"] }, q4 = ["ultra-condensed", "extra-condensed", "condensed", "semi-condensed", "normal", "semi-expanded", "expanded", "extra-expanded", "ultra-expanded"], sx = V4(q4), W4 = [100, 200, 300, 400, 500, 600, 700, 800, 900], $6 = V4(W4); function mg(t) { var e = t.family.replace(/"|'/g, "").toLowerCase(), r = function (a) { return z4[a = a || "normal"] ? a : "normal" }(t.style), n = function (a) { return a ? typeof a == "number" ? a >= 100 && a <= 900 && a % 100 == 0 ? a : 400 : /^\d00$/.test(a) ? parseInt(a) : a === "bold" ? 700 : 400 : 400 }(t.weight), s = function (a) { return typeof sx[a = a || "normal"] == "number" ? a : "normal" }(t.stretch); return { family: e, style: r, weight: n, stretch: s, src: t.src || [], ref: t.ref || { name: e, style: [s, r, n].join(" ") } } } function d2(t, e, r, n) { var s; for (s = r; s >= 0 && s < e.length; s += n)if (t[e[s]]) return t[e[s]]; for (s = r; s >= 0 && s < e.length; s -= n)if (t[e[s]]) return t[e[s]] } var K6 = { "sans-serif": "helvetica", fixed: "courier", monospace: "courier", terminal: "courier", cursive: "times", fantasy: "times", serif: "times" }, h2 = { caption: "times", icon: "times", menu: "times", "message-box": "times", "small-caption": "times", "status-bar": "times" }; function f2(t) { return [t.stretch, t.style, t.weight, t.family].join(" ") } function p2(t) { return t.trimLeft() } function G6(t, e) { for (var r = 0; r < t.length;) { if (t.charAt(r) === e) return [t.substring(0, r), t.substring(r + 1)]; r += 1 } return null } function V6(t) { var e = t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i); return e === null ? null : [e[0], t.substring(e[0].length)] } var nc, Wh, g2, m2, x2, xg = ["times"]; function v2(t, e, r, n, s) { var a = 4, A = y2; switch (s) { case er.API.image_compression.FAST: a = 1, A = w2; break; case er.API.image_compression.MEDIUM: a = 6, A = b2; break; case er.API.image_compression.SLOW: a = 9, A = B2 }t = function (l, c, d, p) { for (var g, h = l.length / c, b = new Uint8Array(l.length + h), w = [z6, w2, y2, b2, B2], j = 0; j < h; j += 1) { var x = j * c, y = l.subarray(x, x + c); if (p) b.set(p(y, d, g), x + j); else { for (var B = w.length, E = [], T = 0; T < B; T += 1)E[T] = w[T](y, d, g); var U = W6(E.concat()); b.set(E[U], x + j) } g = y } return b }(t, e, Math.ceil(r * n / 8), A); var o = Ym(t, { level: a }); return er.API.__addimage__.arrayBufferToBinaryString(o) } function z6(t) { var e = Array.apply([], t); return e.unshift(0), e } function w2(t, e) { var r = t.length, n = []; n[0] = 1; for (var s = 0; s < r; s += 1) { var a = t[s - e] || 0; n[s + 1] = t[s] - a + 256 & 255 } return n } function y2(t, e, r) { var n = t.length, s = []; s[0] = 2; for (var a = 0; a < n; a += 1) { var A = r && r[a] || 0; s[a + 1] = t[a] - A + 256 & 255 } return s } function b2(t, e, r) { var n = t.length, s = []; s[0] = 3; for (var a = 0; a < n; a += 1) { var A = t[a - e] || 0, o = r && r[a] || 0; s[a + 1] = t[a] + 256 - (A + o >>> 1) & 255 } return s } function B2(t, e, r) { var n = t.length, s = []; s[0] = 4; for (var a = 0; a < n; a += 1) { var A = q6(t[a - e] || 0, r && r[a] || 0, r && r[a - e] || 0); s[a + 1] = t[a] - A + 256 & 255 } return s } function q6(t, e, r) { if (t === e && e === r) return t; var n = Math.abs(e - r), s = Math.abs(t - r), a = Math.abs(t + e - r - r); return n <= s && n <= a ? t : s <= a ? e : r } function W6(t) { var e = t.map(function (r) { return r.reduce(function (n, s) { return n + Math.abs(s) }, 0) }); return e.indexOf(Math.min.apply(null, e)) } function vg(t, e, r) { var n = e * r, s = Math.floor(n / 8), a = 16 - (n - 8 * s + r), A = (1 << r) - 1; return J4(t, s) >> a & A } function C2(t, e, r, n) { var s = r * n, a = Math.floor(s / 8), A = 16 - (s - 8 * a + n), o = (1 << n) - 1, l = (e & o) << A; (function (c, d, p) { if (d + 1 < c.byteLength) c.setUint16(d, p, !1); else { var g = p >> 8 & 255; c.setUint8(d, g) } })(t, a, J4(t, a) & ~(o << A) & 65535 | l) } function J4(t, e) { return e + 1 < t.byteLength ? t.getUint16(e, !1) : t.getUint8(e) << 8 } function J6(t) { var e = 0; if (t[e++] !== 71 || t[e++] !== 73 || t[e++] !== 70 || t[e++] !== 56 || (t[e++] + 1 & 253) != 56 || t[e++] !== 97) throw new Error("Invalid GIF 87a/89a header."); var r = t[e++] | t[e++] << 8, n = t[e++] | t[e++] << 8, s = t[e++], a = s >> 7, A = 1 << 1 + (7 & s); t[e++], t[e++]; var o = null, l = null; a && (o = e, l = A, e += 3 * A); var c = !0, d = [], p = 0, g = null, h = 0, b = null; for (this.width = r, this.height = n; c && e < t.length;)switch (t[e++]) { case 33: switch (t[e++]) { case 255: if (t[e] !== 11 || t[e + 1] == 78 && t[e + 2] == 69 && t[e + 3] == 84 && t[e + 4] == 83 && t[e + 5] == 67 && t[e + 6] == 65 && t[e + 7] == 80 && t[e + 8] == 69 && t[e + 9] == 50 && t[e + 10] == 46 && t[e + 11] == 48 && t[e + 12] == 3 && t[e + 13] == 1 && t[e + 16] == 0) e += 14, b = t[e++] | t[e++] << 8, e++; else for (e += 12; ;) { if (!((k = t[e++]) >= 0)) throw Error("Invalid block size"); if (k === 0) break; e += k } break; case 249: if (t[e++] !== 4 || t[e + 4] !== 0) throw new Error("Invalid graphics extension block."); var w = t[e++]; p = t[e++] | t[e++] << 8, g = t[e++], 1 & w || (g = null), h = w >> 2 & 7, e++; break; case 254: for (; ;) { if (!((k = t[e++]) >= 0)) throw Error("Invalid block size"); if (k === 0) break; e += k } break; default: throw new Error("Unknown graphic control label: 0x" + t[e - 1].toString(16)) }break; case 44: var j = t[e++] | t[e++] << 8, x = t[e++] | t[e++] << 8, y = t[e++] | t[e++] << 8, B = t[e++] | t[e++] << 8, E = t[e++], T = E >> 6 & 1, U = 1 << 1 + (7 & E), M = o, G = l, N = !1; E >> 7 && (N = !0, M = e, G = U, e += 3 * U); var H = e; for (e++; ;) { var k; if (!((k = t[e++]) >= 0)) throw Error("Invalid block size"); if (k === 0) break; e += k } d.push({ x: j, y: x, width: y, height: B, has_local_palette: N, palette_offset: M, palette_size: G, data_offset: H, data_length: e - H, transparent_index: g, interlaced: !!T, delay: p, disposal: h }); break; case 59: c = !1; break; default: throw new Error("Unknown gif block: 0x" + t[e - 1].toString(16)) }this.numFrames = function () { return d.length }, this.loopCount = function () { return b }, this.frameInfo = function (_) { if (_ < 0 || _ >= d.length) throw new Error("Frame index out of range."); return d[_] }, this.decodeAndBlitFrameBGRA = function (_, V) { var P = this.frameInfo(_), te = P.width * P.height, ce = new Uint8Array(te); N2(t, P.data_offset, ce, te); var he = P.palette_offset, ie = P.transparent_index; ie === null && (ie = 256); var ue = P.width, pe = r - ue, ve = ue, I = 4 * (P.y * r + P.x), R = 4 * ((P.y + P.height) * r + P.x), re = I, Y = 4 * pe; P.interlaced === !0 && (Y += 4 * r * 7); for (var le = 8, ge = 0, ke = ce.length; ge < ke; ++ge) { var Fe = ce[ge]; if (ve === 0 && (ve = ue, (re += Y) >= R && (Y = 4 * pe + 4 * r * (le - 1), re = I + (ue + pe) * (le << 1), le >>= 1)), Fe === ie) re += 4; else { var Le = t[he + 3 * Fe], nt = t[he + 3 * Fe + 1], ct = t[he + 3 * Fe + 2]; V[re++] = ct, V[re++] = nt, V[re++] = Le, V[re++] = 255 } --ve } }, this.decodeAndBlitFrameRGBA = function (_, V) { var P = this.frameInfo(_), te = P.width * P.height, ce = new Uint8Array(te); N2(t, P.data_offset, ce, te); var he = P.palette_offset, ie = P.transparent_index; ie === null && (ie = 256); var ue = P.width, pe = r - ue, ve = ue, I = 4 * (P.y * r + P.x), R = 4 * ((P.y + P.height) * r + P.x), re = I, Y = 4 * pe; P.interlaced === !0 && (Y += 4 * r * 7); for (var le = 8, ge = 0, ke = ce.length; ge < ke; ++ge) { var Fe = ce[ge]; if (ve === 0 && (ve = ue, (re += Y) >= R && (Y = 4 * pe + 4 * r * (le - 1), re = I + (ue + pe) * (le << 1), le >>= 1)), Fe === ie) re += 4; else { var Le = t[he + 3 * Fe], nt = t[he + 3 * Fe + 1], ct = t[he + 3 * Fe + 2]; V[re++] = Le, V[re++] = nt, V[re++] = ct, V[re++] = 255 } --ve } } } function N2(t, e, r, n) { for (var s = t[e++], a = 1 << s, A = a + 1, o = A + 1, l = s + 1, c = (1 << l) - 1, d = 0, p = 0, g = 0, h = t[e++], b = new Int32Array(4096), w = null; ;) { for (; d < 16 && h !== 0;)p |= t[e++] << d, d += 8, h === 1 ? h = t[e++] : --h; if (d < l) break; var j = p & c; if (p >>= l, d -= l, j !== a) { if (j === A) break; for (var x = j < o ? j : w, y = 0, B = x; B > a;)B = b[B] >> 8, ++y; var E = B; if (g + y + (x !== j ? 1 : 0) > n) return void Gr.log("Warning, gif stream longer than expected."); r[g++] = E; var T = g += y; for (x !== j && (r[g++] = E), B = x; y--;)B = b[B], r[--T] = 255 & B, B >>= 8; w !== null && o < 4096 && (b[o++] = w << 8 | E, o >= c + 1 && l < 12 && (++l, c = c << 1 | 1)), w = j } else o = A + 1, c = (1 << (l = s + 1)) - 1, w = null } return g !== n && Gr.log("Warning, gif stream shorter than expected."), r }/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function wg(t) { var e, r, n, s, a, A = Math.floor, o = new Array(64), l = new Array(64), c = new Array(64), d = new Array(64), p = new Array(65535), g = new Array(65535), h = new Array(64), b = new Array(64), w = [], j = 0, x = 7, y = new Array(64), B = new Array(64), E = new Array(64), T = new Array(256), U = new Array(2048), M = [0, 1, 5, 6, 14, 15, 27, 28, 2, 4, 7, 13, 16, 26, 29, 42, 3, 8, 12, 17, 25, 30, 41, 43, 9, 11, 18, 24, 31, 40, 44, 53, 10, 19, 23, 32, 39, 45, 52, 54, 20, 22, 33, 38, 46, 51, 55, 60, 21, 34, 37, 47, 50, 56, 59, 61, 35, 36, 48, 49, 57, 58, 62, 63], G = [0, 0, 1, 5, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0], N = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11], H = [0, 0, 2, 1, 3, 3, 2, 4, 3, 5, 5, 4, 4, 0, 0, 1, 125], k = [1, 2, 3, 0, 4, 17, 5, 18, 33, 49, 65, 6, 19, 81, 97, 7, 34, 113, 20, 50, 129, 145, 161, 8, 35, 66, 177, 193, 21, 82, 209, 240, 36, 51, 98, 114, 130, 9, 10, 22, 23, 24, 25, 26, 37, 38, 39, 40, 41, 42, 52, 53, 54, 55, 56, 57, 58, 67, 68, 69, 70, 71, 72, 73, 74, 83, 84, 85, 86, 87, 88, 89, 90, 99, 100, 101, 102, 103, 104, 105, 106, 115, 116, 117, 118, 119, 120, 121, 122, 131, 132, 133, 134, 135, 136, 137, 138, 146, 147, 148, 149, 150, 151, 152, 153, 154, 162, 163, 164, 165, 166, 167, 168, 169, 170, 178, 179, 180, 181, 182, 183, 184, 185, 186, 194, 195, 196, 197, 198, 199, 200, 201, 202, 210, 211, 212, 213, 214, 215, 216, 217, 218, 225, 226, 227, 228, 229, 230, 231, 232, 233, 234, 241, 242, 243, 244, 245, 246, 247, 248, 249, 250], _ = [0, 0, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0], V = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11], P = [0, 0, 2, 1, 2, 4, 4, 3, 4, 7, 5, 4, 4, 0, 1, 2, 119], te = [0, 1, 2, 3, 17, 4, 5, 33, 49, 6, 18, 65, 81, 7, 97, 113, 19, 34, 50, 129, 8, 20, 66, 145, 161, 177, 193, 9, 35, 51, 82, 240, 21, 98, 114, 209, 10, 22, 36, 52, 225, 37, 241, 23, 24, 25, 26, 38, 39, 40, 41, 42, 53, 54, 55, 56, 57, 58, 67, 68, 69, 70, 71, 72, 73, 74, 83, 84, 85, 86, 87, 88, 89, 90, 99, 100, 101, 102, 103, 104, 105, 106, 115, 116, 117, 118, 119, 120, 121, 122, 130, 131, 132, 133, 134, 135, 136, 137, 138, 146, 147, 148, 149, 150, 151, 152, 153, 154, 162, 163, 164, 165, 166, 167, 168, 169, 170, 178, 179, 180, 181, 182, 183, 184, 185, 186, 194, 195, 196, 197, 198, 199, 200, 201, 202, 210, 211, 212, 213, 214, 215, 216, 217, 218, 226, 227, 228, 229, 230, 231, 232, 233, 234, 242, 243, 244, 245, 246, 247, 248, 249, 250]; function ce(I, R) { for (var re = 0, Y = 0, le = new Array, ge = 1; ge <= 16; ge++) { for (var ke = 1; ke <= I[ge]; ke++)le[R[Y]] = [], le[R[Y]][0] = re, le[R[Y]][1] = ge, Y++, re++; re *= 2 } return le } function he(I) { for (var R = I[0], re = I[1] - 1; re >= 0;)R & 1 << re && (j |= 1 << x), re--, --x < 0 && (j == 255 ? (ie(255), ie(0)) : ie(j), x = 7, j = 0) } function ie(I) { w.push(I) } function ue(I) { ie(I >> 8 & 255), ie(255 & I) } function pe(I, R, re, Y, le) { for (var ge, ke = le[0], Fe = le[240], Le = function (ne, Se) { var W, $e, Ke, ze, We, ot, be, Ne, ee, ye, Ee = 0; for (ee = 0; ee < 8; ++ee) { W = ne[Ee], $e = ne[Ee + 1], Ke = ne[Ee + 2], ze = ne[Ee + 3], We = ne[Ee + 4], ot = ne[Ee + 5], be = ne[Ee + 6]; var Ye = W + (Ne = ne[Ee + 7]), Xe = W - Ne, Be = $e + be, Te = $e - be, pt = Ke + ot, At = Ke - ot, bt = ze + We, ht = ze - We, xt = Ye + bt, Ct = Ye - bt, kt = Be + pt, Qt = Be - pt; ne[Ee] = xt + kt, ne[Ee + 4] = xt - kt; var Ft = .707106781 * (Qt + Ct); ne[Ee + 2] = Ct + Ft, ne[Ee + 6] = Ct - Ft; var pr = .382683433 * ((xt = ht + At) - (Qt = Te + Xe)), O = .5411961 * xt + pr, Ue = 1.306562965 * Qt + pr, st = .707106781 * (kt = At + Te), Ge = Xe + st, Et = Xe - st; ne[Ee + 5] = Et + O, ne[Ee + 3] = Et - O, ne[Ee + 1] = Ge + Ue, ne[Ee + 7] = Ge - Ue, Ee += 8 } for (Ee = 0, ee = 0; ee < 8; ++ee) { W = ne[Ee], $e = ne[Ee + 8], Ke = ne[Ee + 16], ze = ne[Ee + 24], We = ne[Ee + 32], ot = ne[Ee + 40], be = ne[Ee + 48]; var Vt = W + (Ne = ne[Ee + 56]), _t = W - Ne, fr = $e + be, or = $e - be, mt = Ke + ot, ar = Ke - ot, Mr = ze + We, cn = ze - We, Vr = Vt + Mr, Jn = Vt - Mr, Pt = fr + mt, Mn = fr - mt; ne[Ee] = Vr + Pt, ne[Ee + 32] = Vr - Pt; var $r = .707106781 * (Mn + Jn); ne[Ee + 16] = Jn + $r, ne[Ee + 48] = Jn - $r; var Os = .382683433 * ((Vr = cn + ar) - (Mn = or + _t)), Ys = .5411961 * Vr + Os, $i = 1.306562965 * Mn + Os, mi = .707106781 * (Pt = ar + or), SA = _t + mi, za = _t - mi; ne[Ee + 40] = za + Ys, ne[Ee + 24] = za - Ys, ne[Ee + 8] = SA + $i, ne[Ee + 56] = SA - $i, Ee++ } for (ee = 0; ee < 64; ++ee)ye = ne[ee] * Se[ee], h[ee] = ye > 0 ? ye + .5 | 0 : ye - .5 | 0; return h }(I, R), nt = 0; nt < 64; ++nt)b[M[nt]] = Le[nt]; var ct = b[0] - re; re = b[0], ct == 0 ? he(Y[0]) : (he(Y[g[ge = 32767 + ct]]), he(p[ge])); for (var de = 63; de > 0 && b[de] == 0;)de--; if (de == 0) return he(ke), re; for (var Ze, F = 1; F <= de;) { for (var se = F; b[F] == 0 && F <= de;)++F; var qe = F - se; if (qe >= 16) { Ze = qe >> 4; for (var X = 1; X <= Ze; ++X)he(Fe); qe &= 15 } ge = 32767 + b[F], he(le[(qe << 4) + g[ge]]), he(p[ge]), F++ } return de != 63 && he(ke), re } function ve(I) { I = Math.min(Math.max(I, 1), 100), a != I && (function (R) { for (var re = [16, 11, 10, 16, 24, 40, 51, 61, 12, 12, 14, 19, 26, 58, 60, 55, 14, 13, 16, 24, 40, 57, 69, 56, 14, 17, 22, 29, 51, 87, 80, 62, 18, 22, 37, 56, 68, 109, 103, 77, 24, 35, 55, 64, 81, 104, 113, 92, 49, 64, 78, 87, 103, 121, 120, 101, 72, 92, 95, 98, 112, 100, 103, 99], Y = 0; Y < 64; Y++) { var le = A((re[Y] * R + 50) / 100); le = Math.min(Math.max(le, 1), 255), o[M[Y]] = le } for (var ge = [17, 18, 24, 47, 99, 99, 99, 99, 18, 21, 26, 66, 99, 99, 99, 99, 24, 26, 56, 99, 99, 99, 99, 99, 47, 66, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99, 99], ke = 0; ke < 64; ke++) { var Fe = A((ge[ke] * R + 50) / 100); Fe = Math.min(Math.max(Fe, 1), 255), l[M[ke]] = Fe } for (var Le = [1, 1.387039845, 1.306562965, 1.175875602, 1, .785694958, .5411961, .275899379], nt = 0, ct = 0; ct < 8; ct++)for (var de = 0; de < 8; de++)c[nt] = 1 / (o[M[nt]] * Le[ct] * Le[de] * 8), d[nt] = 1 / (l[M[nt]] * Le[ct] * Le[de] * 8), nt++ }(I < 50 ? Math.floor(5e3 / I) : Math.floor(200 - 2 * I)), a = I) } this.encode = function (I, R) { R && ve(R), w = new Array, j = 0, x = 7, ue(65496), ue(65504), ue(16), ie(74), ie(70), ie(73), ie(70), ie(0), ie(1), ie(1), ie(0), ue(1), ue(1), ie(0), ie(0), function () { ue(65499), ue(132), ie(0); for (var $e = 0; $e < 64; $e++)ie(o[$e]); ie(1); for (var Ke = 0; Ke < 64; Ke++)ie(l[Ke]) }(), function ($e, Ke) { ue(65472), ue(17), ie(8), ue(Ke), ue($e), ie(3), ie(1), ie(17), ie(0), ie(2), ie(17), ie(1), ie(3), ie(17), ie(1) }(I.width, I.height), function () { ue(65476), ue(418), ie(0); for (var $e = 0; $e < 16; $e++)ie(G[$e + 1]); for (var Ke = 0; Ke <= 11; Ke++)ie(N[Ke]); ie(16); for (var ze = 0; ze < 16; ze++)ie(H[ze + 1]); for (var We = 0; We <= 161; We++)ie(k[We]); ie(1); for (var ot = 0; ot < 16; ot++)ie(_[ot + 1]); for (var be = 0; be <= 11; be++)ie(V[be]); ie(17); for (var Ne = 0; Ne < 16; Ne++)ie(P[Ne + 1]); for (var ee = 0; ee <= 161; ee++)ie(te[ee]) }(), ue(65498), ue(12), ie(3), ie(1), ie(0), ie(2), ie(17), ie(3), ie(17), ie(0), ie(63), ie(0); var re = 0, Y = 0, le = 0; j = 0, x = 7, this.encode.displayName = "_encode_"; for (var ge, ke, Fe, Le, nt, ct, de, Ze, F, se = I.data, qe = I.width, X = I.height, ne = 4 * qe, Se = 0; Se < X;) { for (ge = 0; ge < ne;) { for (nt = ne * Se + ge, de = -1, Ze = 0, F = 0; F < 64; F++)ct = nt + (Ze = F >> 3) * ne + (de = 4 * (7 & F)), Se + Ze >= X && (ct -= ne * (Se + 1 + Ze - X)), ge + de >= ne && (ct -= ge + de - ne + 4), ke = se[ct++], Fe = se[ct++], Le = se[ct++], y[F] = (U[ke] + U[Fe + 256 | 0] + U[Le + 512 | 0] >> 16) - 128, B[F] = (U[ke + 768 | 0] + U[Fe + 1024 | 0] + U[Le + 1280 | 0] >> 16) - 128, E[F] = (U[ke + 1280 | 0] + U[Fe + 1536 | 0] + U[Le + 1792 | 0] >> 16) - 128; re = pe(y, c, re, e, n), Y = pe(B, d, Y, r, s), le = pe(E, d, le, r, s), ge += 32 } Se += 8 } if (x >= 0) { var W = []; W[1] = x + 1, W[0] = (1 << x + 1) - 1, he(W) } return ue(65497), new Uint8Array(w) }, t = t || 50, function () { for (var I = String.fromCharCode, R = 0; R < 256; R++)T[R] = I(R) }(), e = ce(G, N), r = ce(_, V), n = ce(H, k), s = ce(P, te), function () { for (var I = 1, R = 2, re = 1; re <= 15; re++) { for (var Y = I; Y < R; Y++)g[32767 + Y] = re, p[32767 + Y] = [], p[32767 + Y][1] = re, p[32767 + Y][0] = Y; for (var le = -(R - 1); le <= -I; le++)g[32767 + le] = re, p[32767 + le] = [], p[32767 + le][1] = re, p[32767 + le][0] = R - 1 + le; I <<= 1, R <<= 1 } }(), function () { for (var I = 0; I < 256; I++)U[I] = 19595 * I, U[I + 256 | 0] = 38470 * I, U[I + 512 | 0] = 7471 * I + 32768, U[I + 768 | 0] = -11059 * I, U[I + 1024 | 0] = -21709 * I, U[I + 1280 | 0] = 32768 * I + 8421375, U[I + 1536 | 0] = -27439 * I, U[I + 1792 | 0] = -5329 * I }(), ve(t) }/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ra(t, e) { if (this.pos = 0, this.buffer = t, this.datav = new DataView(t.buffer), this.is_with_alpha = !!e, this.bottom_up = !0, this.flag = String.fromCharCode(this.buffer[0]) + String.fromCharCode(this.buffer[1]), this.pos += 2, ["BM", "BA", "CI", "CP", "IC", "PT"].indexOf(this.flag) === -1) throw new Error("Invalid BMP File"); this.parseHeader(), this.parseBGR() } function S2(t) { function e(N) { if (!N) throw Error("assert :P") } function r(N, H, k) { for (var _ = 0; 4 > _; _++)if (N[H + _] != k.charCodeAt(_)) return !0; return !1 } function n(N, H, k, _, V) { for (var P = 0; P < V; P++)N[H + P] = k[_ + P] } function s(N, H, k, _) { for (var V = 0; V < _; V++)N[H + V] = k } function a(N) { return new Int32Array(N) } function A(N, H) { for (var k = [], _ = 0; _ < N; _++)k.push(new H); return k } function o(N, H) { var k = []; return function _(V, P, te) { for (var ce = te[P], he = 0; he < ce && (V.push(te.length > P + 1 ? [] : new H), !(te.length < P + 1)); he++)_(V[he], P + 1, te) }(k, 0, N), k } var l = function () { var N = this; function H(u, f) { for (var v = 1 << f - 1 >>> 0; u & v;)v >>>= 1; return v ? (u & v - 1) + v : u } function k(u, f, v, C, L) { e(!(C % v)); do u[f + (C -= v)] = L; while (0 < C) } function _(u, f, v, C, L) { if (e(2328 >= L), 512 >= L) var D = a(512); else if ((D = a(L)) == null) return 0; return function ($, q, Z, Ae, Ce, Me) { var oe, _e, Pe = q, et = 1 << Z, He = a(16), rt = a(16); for (e(Ce != 0), e(Ae != null), e($ != null), e(0 < Z), _e = 0; _e < Ce; ++_e) { if (15 < Ae[_e]) return 0; ++He[Ae[_e]] } if (He[0] == Ce) return 0; for (rt[1] = 0, oe = 1; 15 > oe; ++oe) { if (He[oe] > 1 << oe) return 0; rt[oe + 1] = rt[oe] + He[oe] } for (_e = 0; _e < Ce; ++_e)oe = Ae[_e], 0 < Ae[_e] && (Me[rt[oe]++] = _e); if (rt[15] == 1) return (Ae = new V).g = 0, Ae.value = Me[0], k($, Pe, 1, et, Ae), et; var it, gt = -1, ut = et - 1, Xt = 0, Gt = 1, gr = 1, Jt = 1 << Z; for (_e = 0, oe = 1, Ce = 2; oe <= Z; ++oe, Ce <<= 1) { if (Gt += gr <<= 1, 0 > (gr -= He[oe])) return 0; for (; 0 < He[oe]; --He[oe])(Ae = new V).g = oe, Ae.value = Me[_e++], k($, Pe + Xt, Ce, Jt, Ae), Xt = H(Xt, oe) } for (oe = Z + 1, Ce = 2; 15 >= oe; ++oe, Ce <<= 1) { if (Gt += gr <<= 1, 0 > (gr -= He[oe])) return 0; for (; 0 < He[oe]; --He[oe]) { if (Ae = new V, (Xt & ut) != gt) { for (Pe += Jt, it = 1 << (gt = oe) - Z; 15 > gt && !(0 >= (it -= He[gt]));)++gt, it <<= 1; et += Jt = 1 << (it = gt - Z), $[q + (gt = Xt & ut)].g = it + Z, $[q + gt].value = Pe - q - gt } Ae.g = oe - Z, Ae.value = Me[_e++], k($, Pe + (Xt >> Z), Ce, Jt, Ae), Xt = H(Xt, oe) } } return Gt != 2 * rt[15] - 1 ? 0 : et }(u, f, v, C, L, D) } function V() { this.value = this.g = 0 } function P() { this.value = this.g = 0 } function te() { this.G = A(5, V), this.H = a(5), this.jc = this.Qb = this.qb = this.nd = 0, this.pd = A(ja, P) } function ce(u, f, v, C) { e(u != null), e(f != null), e(2147483648 > C), u.Ca = 254, u.I = 0, u.b = -8, u.Ka = 0, u.oa = f, u.pa = v, u.Jd = f, u.Yc = v + C, u.Zc = 4 <= C ? v + C - 4 + 1 : v, ke(u) } function he(u, f) { for (var v = 0; 0 < f--;)v |= Le(u, 128) << f; return v } function ie(u, f) { var v = he(u, f); return Fe(u) ? -v : v } function ue(u, f, v, C) { var L, D = 0; for (e(u != null), e(f != null), e(4294967288 > C), u.Sb = C, u.Ra = 0, u.u = 0, u.h = 0, 4 < C && (C = 4), L = 0; L < C; ++L)D += f[v + L] << 8 * L; u.Ra = D, u.bb = C, u.oa = f, u.pa = v } function pe(u) { for (; 8 <= u.u && u.bb < u.Sb;)u.Ra >>>= 8, u.Ra += u.oa[u.pa + u.bb] << qi - 8 >>> 0, ++u.bb, u.u -= 8; Y(u) && (u.h = 1, u.u = 0) } function ve(u, f) { if (e(0 <= f), !u.h && f <= ps) { var v = re(u) & fs[f]; return u.u += f, pe(u), v } return u.h = 1, u.u = 0 } function I() { this.b = this.Ca = this.I = 0, this.oa = [], this.pa = 0, this.Jd = [], this.Yc = 0, this.Zc = [], this.Ka = 0 } function R() { this.Ra = 0, this.oa = [], this.h = this.u = this.bb = this.Sb = this.pa = 0 } function re(u) { return u.Ra >>> (u.u & qi - 1) >>> 0 } function Y(u) { return e(u.bb <= u.Sb), u.h || u.bb == u.Sb && u.u > qi } function le(u, f) { u.u = f, u.h = Y(u) } function ge(u) { u.u >= Ei && (e(u.u >= Ei), pe(u)) } function ke(u) { e(u != null && u.oa != null), u.pa < u.Zc ? (u.I = (u.oa[u.pa++] | u.I << 8) >>> 0, u.b += 8) : (e(u != null && u.oa != null), u.pa < u.Yc ? (u.b += 8, u.I = u.oa[u.pa++] | u.I << 8) : u.Ka ? u.b = 0 : (u.I <<= 8, u.b += 8, u.Ka = 1)) } function Fe(u) { return he(u, 1) } function Le(u, f) { var v = u.Ca; 0 > u.b && ke(u); var C = u.b, L = v * f >>> 8, D = (u.I >>> C > L) + 0; for (D ? (v -= L, u.I -= L + 1 << C >>> 0) : v = L + 1, C = v, L = 0; 256 <= C;)L += 8, C >>= 8; return C = 7 ^ L + Wi[C], u.b -= C, u.Ca = (v << C) - 1, D } function nt(u, f, v) { u[f + 0] = v >> 24 & 255, u[f + 1] = v >> 16 & 255, u[f + 2] = v >> 8 & 255, u[f + 3] = 255 & v } function ct(u, f) { return u[f + 0] | u[f + 1] << 8 } function de(u, f) { return ct(u, f) | u[f + 2] << 16 } function Ze(u, f) { return ct(u, f) | ct(u, f + 2) << 16 } function F(u, f) { var v = 1 << f; return e(u != null), e(0 < f), u.X = a(v), u.X == null ? 0 : (u.Mb = 32 - f, u.Xa = f, 1) } function se(u, f) { e(u != null), e(f != null), e(u.Xa == f.Xa), n(f.X, 0, u.X, 0, 1 << f.Xa) } function qe() { this.X = [], this.Xa = this.Mb = 0 } function X(u, f, v, C) { e(v != null), e(C != null); var L = v[0], D = C[0]; return L == 0 && (L = (u * D + f / 2) / f), D == 0 && (D = (f * L + u / 2) / u), 0 >= L || 0 >= D ? 0 : (v[0] = L, C[0] = D, 1) } function ne(u, f) { return u + (1 << f) - 1 >>> f } function Se(u, f) { return ((4278255360 & u) + (4278255360 & f) >>> 0 & 4278255360) + ((16711935 & u) + (16711935 & f) >>> 0 & 16711935) >>> 0 } function W(u, f) { N[f] = function (v, C, L, D, $, q, Z) { var Ae; for (Ae = 0; Ae < $; ++Ae) { var Ce = N[u](q[Z + Ae - 1], L, D + Ae); q[Z + Ae] = Se(v[C + Ae], Ce) } } } function $e() { this.ud = this.hd = this.jd = 0 } function Ke(u, f) { return ((4278124286 & (u ^ f)) >>> 1) + (u & f) >>> 0 } function ze(u) { return 0 <= u && 256 > u ? u : 0 > u ? 0 : 255 < u ? 255 : void 0 } function We(u, f) { return ze(u + (u - f + .5 >> 1)) } function ot(u, f, v) { return Math.abs(f - v) - Math.abs(u - v) } function be(u, f, v, C, L, D, $) { for (C = D[$ - 1], v = 0; v < L; ++v)D[$ + v] = C = Se(u[f + v], C) } function Ne(u, f, v, C, L) { var D; for (D = 0; D < v; ++D) { var $ = u[f + D], q = $ >> 8 & 255, Z = 16711935 & (Z = (Z = 16711935 & $) + ((q << 16) + q)); C[L + D] = (4278255360 & $) + Z >>> 0 } } function ee(u, f) { f.jd = 255 & u, f.hd = u >> 8 & 255, f.ud = u >> 16 & 255 } function ye(u, f, v, C, L, D) { var $; for ($ = 0; $ < C; ++$) { var q = f[v + $], Z = q >>> 8, Ae = q, Ce = 255 & (Ce = (Ce = q >>> 16) + ((u.jd << 24 >> 24) * (Z << 24 >> 24) >>> 5)); Ae = 255 & (Ae = (Ae += (u.hd << 24 >> 24) * (Z << 24 >> 24) >>> 5) + ((u.ud << 24 >> 24) * (Ce << 24 >> 24) >>> 5)), L[D + $] = (4278255360 & q) + (Ce << 16) + Ae } } function Ee(u, f, v, C, L) { N[f] = function (D, $, q, Z, Ae, Ce, Me, oe, _e) { for (Z = Me; Z < oe; ++Z)for (Me = 0; Me < _e; ++Me)Ae[Ce++] = L(q[C(D[$++])]) }, N[u] = function (D, $, q, Z, Ae, Ce, Me) { var oe = 8 >> D.b, _e = D.Ea, Pe = D.K[0], et = D.w; if (8 > oe) for (D = (1 << D.b) - 1, et = (1 << oe) - 1; $ < q; ++$) { var He, rt = 0; for (He = 0; He < _e; ++He)He & D || (rt = C(Z[Ae++])), Ce[Me++] = L(Pe[rt & et]), rt >>= oe } else N["VP8LMapColor" + v](Z, Ae, Pe, et, Ce, Me, $, q, _e) } } function Ye(u, f, v, C, L) { for (v = f + v; f < v;) { var D = u[f++]; C[L++] = D >> 16 & 255, C[L++] = D >> 8 & 255, C[L++] = 255 & D } } function Xe(u, f, v, C, L) { for (v = f + v; f < v;) { var D = u[f++]; C[L++] = D >> 16 & 255, C[L++] = D >> 8 & 255, C[L++] = 255 & D, C[L++] = D >> 24 & 255 } } function Be(u, f, v, C, L) { for (v = f + v; f < v;) { var D = ($ = u[f++]) >> 16 & 240 | $ >> 12 & 15, $ = 240 & $ | $ >> 28 & 15; C[L++] = D, C[L++] = $ } } function Te(u, f, v, C, L) { for (v = f + v; f < v;) { var D = ($ = u[f++]) >> 16 & 248 | $ >> 13 & 7, $ = $ >> 5 & 224 | $ >> 3 & 31; C[L++] = D, C[L++] = $ } } function pt(u, f, v, C, L) { for (v = f + v; f < v;) { var D = u[f++]; C[L++] = 255 & D, C[L++] = D >> 8 & 255, C[L++] = D >> 16 & 255 } } function At(u, f, v, C, L, D) { if (D == 0) for (v = f + v; f < v;)nt(C, ((D = u[f++])[0] >> 24 | D[1] >> 8 & 65280 | D[2] << 8 & 16711680 | D[3] << 24) >>> 0), L += 32; else n(C, L, u, f, v) } function bt(u, f) { N[f][0] = N[u + "0"], N[f][1] = N[u + "1"], N[f][2] = N[u + "2"], N[f][3] = N[u + "3"], N[f][4] = N[u + "4"], N[f][5] = N[u + "5"], N[f][6] = N[u + "6"], N[f][7] = N[u + "7"], N[f][8] = N[u + "8"], N[f][9] = N[u + "9"], N[f][10] = N[u + "10"], N[f][11] = N[u + "11"], N[f][12] = N[u + "12"], N[f][13] = N[u + "13"], N[f][14] = N[u + "0"], N[f][15] = N[u + "0"] } function ht(u) { return u == nu || u == Dl || u == Rl || u == su } function xt() { this.eb = [], this.size = this.A = this.fb = 0 } function Ct() { this.y = [], this.f = [], this.ea = [], this.F = [], this.Tc = this.Ed = this.Cd = this.Fd = this.lb = this.Db = this.Ab = this.fa = this.J = this.W = this.N = this.O = 0 } function kt() { this.Rd = this.height = this.width = this.S = 0, this.f = {}, this.f.RGBA = new xt, this.f.kb = new Ct, this.sd = null } function Qt() { this.width = [0], this.height = [0], this.Pd = [0], this.Qd = [0], this.format = [0] } function Ft() { this.Id = this.fd = this.Md = this.hb = this.ib = this.da = this.bd = this.cd = this.j = this.v = this.Da = this.Sd = this.ob = 0 } function pr(u) { return alert("todo:WebPSamplerProcessPlane"), u.T } function O(u, f) { var v = u.T, C = f.ba.f.RGBA, L = C.eb, D = C.fb + u.ka * C.A, $ = _i[f.ba.S], q = u.y, Z = u.O, Ae = u.f, Ce = u.N, Me = u.ea, oe = u.W, _e = f.cc, Pe = f.dc, et = f.Mc, He = f.Nc, rt = u.ka, it = u.ka + u.T, gt = u.U, ut = gt + 1 >> 1; for (rt == 0 ? $(q, Z, null, null, Ae, Ce, Me, oe, Ae, Ce, Me, oe, L, D, null, null, gt) : ($(f.ec, f.fc, q, Z, _e, Pe, et, He, Ae, Ce, Me, oe, L, D - C.A, L, D, gt), ++v); rt + 2 < it; rt += 2)_e = Ae, Pe = Ce, et = Me, He = oe, Ce += u.Rc, oe += u.Rc, D += 2 * C.A, $(q, (Z += 2 * u.fa) - u.fa, q, Z, _e, Pe, et, He, Ae, Ce, Me, oe, L, D - C.A, L, D, gt); return Z += u.fa, u.j + it < u.o ? (n(f.ec, f.fc, q, Z, gt), n(f.cc, f.dc, Ae, Ce, ut), n(f.Mc, f.Nc, Me, oe, ut), v--) : 1 & it || $(q, Z, null, null, Ae, Ce, Me, oe, Ae, Ce, Me, oe, L, D + C.A, null, null, gt), v } function Ue(u, f, v) { var C = u.F, L = [u.J]; if (C != null) { var D = u.U, $ = f.ba.S, q = $ == Ol || $ == Rl; f = f.ba.f.RGBA; var Z = [0], Ae = u.ka; Z[0] = u.T, u.Kb && (Ae == 0 ? --Z[0] : (--Ae, L[0] -= u.width), u.j + u.ka + u.T == u.o && (Z[0] = u.o - u.j - Ae)); var Ce = f.eb; Ae = f.fb + Ae * f.A, u = Ea(C, L[0], u.width, D, Z, Ce, Ae + (q ? 0 : 3), f.A), e(v == Z), u && ht($) && _r(Ce, Ae, q, D, Z, f.A) } return 0 } function st(u) { var f = u.ma, v = f.ba.S, C = 11 > v, L = v == Fi || v == Ll || v == Ol || v == Pl || v == 12 || ht(v); if (f.memory = null, f.Ib = null, f.Jb = null, f.Nd = null, !DA(f.Oa, u, L ? 11 : 12)) return 0; if (L && ht(v) && LA(), u.da) alert("todo:use_scaling"); else { if (C) { if (f.Ib = pr, u.Kb) { if (v = u.U + 1 >> 1, f.memory = a(u.U + 2 * v), f.memory == null) return 0; f.ec = f.memory, f.fc = 0, f.cc = f.ec, f.dc = f.fc + u.U, f.Mc = f.cc, f.Nc = f.dc + v, f.Ib = O, LA() } } else alert("todo:EmitYUV"); L && (f.Jb = Ue, C && Hs()) } if (C && !C1) { for (u = 0; 256 > u; ++u)pC[u] = 89858 * (u - 128) + Md >> Hd, xC[u] = -22014 * (u - 128) + Md, mC[u] = -45773 * (u - 128), gC[u] = 113618 * (u - 128) + Md >> Hd; for (u = au; u < M0; ++u)f = 76283 * (u - 16) + Md >> Hd, vC[u - au] = xi(f, 255), wC[u - au] = xi(f + 8 >> 4, 15); C1 = 1 } return 1 } function Ge(u) { var f = u.ma, v = u.U, C = u.T; return e(!(1 & u.ka)), 0 >= v || 0 >= C ? 0 : (v = f.Ib(u, f), f.Jb != null && f.Jb(u, f, v), f.Dc += v, 1) } function Et(u) { u.ma.memory = null } function Vt(u, f, v, C) { return ve(u, 8) != 47 ? 0 : (f[0] = ve(u, 14) + 1, v[0] = ve(u, 14) + 1, C[0] = ve(u, 1), ve(u, 3) != 0 ? 0 : !u.h) } function _t(u, f) { if (4 > u) return u + 1; var v = u - 2 >> 1; return (2 + (1 & u) << v) + ve(f, v) + 1 } function fr(u, f) { return 120 < f ? f - 120 : 1 <= (v = ((v = tC[f - 1]) >> 4) * u + (8 - (15 & v))) ? v : 1; var v } function or(u, f, v) { var C = re(v), L = u[f += 255 & C].g - 8; return 0 < L && (le(v, v.u + 8), C = re(v), f += u[f].value, f += C & (1 << L) - 1), le(v, v.u + u[f].g), u[f].value } function mt(u, f, v) { return v.g += u.g, v.value += u.value << f >>> 0, e(8 >= v.g), u.g } function ar(u, f, v) { var C = u.xc; return e((f = C == 0 ? 0 : u.vc[u.md * (v >> C) + (f >> C)]) < u.Wb), u.Ya[f] } function Mr(u, f, v, C) { var L = u.ab, D = u.c * f, $ = u.C; f = $ + f; var q = v, Z = C; for (C = u.Ta, v = u.Ua; 0 < L--;) { var Ae = u.gc[L], Ce = $, Me = f, oe = q, _e = Z, Pe = (Z = C, q = v, Ae.Ea); switch (e(Ce < Me), e(Me <= Ae.nc), Ae.hc) { case 2: sn(oe, _e, (Me - Ce) * Pe, Z, q); break; case 0: var et = Ce, He = Me, rt = Z, it = q, gt = (Jt = Ae).Ea; et == 0 && (HA(oe, _e, null, null, 1, rt, it), be(oe, _e + 1, 0, 0, gt - 1, rt, it + 1), _e += gt, it += gt, ++et); for (var ut = 1 << Jt.b, Xt = ut - 1, Gt = ne(gt, Jt.b), gr = Jt.K, Jt = Jt.w + (et >> Jt.b) * Gt; et < He;) { var Nr = gr, $n = Jt, mr = 1; for (nA(oe, _e, rt, it - gt, 1, rt, it); mr < gt;) { var Yt = (mr & ~Xt) + ut; Yt > gt && (Yt = gt), (0, me[Nr[$n++] >> 8 & 15])(oe, _e + +mr, rt, it + mr - gt, Yt - mr, rt, it + mr), mr = Yt } _e += gt, it += gt, ++et & Xt || (Jt += Gt) } Me != Ae.nc && n(Z, q - Pe, Z, q + (Me - Ce - 1) * Pe, Pe); break; case 1: for (Pe = oe, He = _e, gt = (oe = Ae.Ea) - (it = oe & ~(rt = (_e = 1 << Ae.b) - 1)), et = ne(oe, Ae.b), ut = Ae.K, Ae = Ae.w + (Ce >> Ae.b) * et; Ce < Me;) { for (Xt = ut, Gt = Ae, gr = new $e, Jt = He + it, Nr = He + oe; He < Jt;)ee(Xt[Gt++], gr), Oe(gr, Pe, He, _e, Z, q), He += _e, q += _e; He < Nr && (ee(Xt[Gt++], gr), Oe(gr, Pe, He, gt, Z, q), He += gt, q += gt), ++Ce & rt || (Ae += et) } break; case 3: if (oe == Z && _e == q && 0 < Ae.b) { for (He = Z, oe = Pe = q + (Me - Ce) * Pe - (it = (Me - Ce) * ne(Ae.Ea, Ae.b)), _e = Z, rt = q, et = [], it = (gt = it) - 1; 0 <= it; --it)et[it] = _e[rt + it]; for (it = gt - 1; 0 <= it; --it)He[oe + it] = et[it]; S(Ae, Ce, Me, Z, Pe, Z, q) } else S(Ae, Ce, Me, oe, _e, Z, q) }q = C, Z = v } Z != v && n(C, v, q, Z, D) } function cn(u, f) { var v = u.V, C = u.Ba + u.c * u.C, L = f - u.C; if (e(f <= u.l.o), e(16 >= L), 0 < L) { var D = u.l, $ = u.Ta, q = u.Ua, Z = D.width; if (Mr(u, L, v, C), L = q = [q], e((v = u.C) < (C = f)), e(D.v < D.va), C > D.o && (C = D.o), v < D.j) { var Ae = D.j - v; v = D.j, L[0] += Ae * Z } if (v >= C ? v = 0 : (L[0] += 4 * D.v, D.ka = v - D.j, D.U = D.va - D.v, D.T = C - v, v = 1), v) { if (q = q[0], 11 > (v = u.ca).S) { var Ce = v.f.RGBA, Me = (C = v.S, L = D.U, D = D.T, Ae = Ce.eb, Ce.A), oe = D; for (Ce = Ce.fb + u.Ma * Ce.A; 0 < oe--;) { var _e = $, Pe = q, et = L, He = Ae, rt = Ce; switch (C) { case an: Qe(_e, Pe, et, He, rt); break; case Fi: Re(_e, Pe, et, He, rt); break; case nu: Re(_e, Pe, et, He, rt), _r(He, rt, 0, et, 1, 0); break; case Rd: at(_e, Pe, et, He, rt); break; case Ll: At(_e, Pe, et, He, rt, 1); break; case Dl: At(_e, Pe, et, He, rt, 1), _r(He, rt, 0, et, 1, 0); break; case Ol: At(_e, Pe, et, He, rt, 0); break; case Rl: At(_e, Pe, et, He, rt, 0), _r(He, rt, 1, et, 1, 0); break; case Pl: je(_e, Pe, et, He, rt); break; case su: je(_e, Pe, et, He, rt), Pn(He, rt, et, 1, 0); break; case KA: De(_e, Pe, et, He, rt); break; default: e(0) }q += Z, Ce += Me } u.Ma += D } else alert("todo:EmitRescaledRowsYUVA"); e(u.Ma <= v.height) } } u.C = f, e(u.C <= u.i) } function Vr(u) { var f; if (0 < u.ua) return 0; for (f = 0; f < u.Wb; ++f) { var v = u.Ya[f].G, C = u.Ya[f].H; if (0 < v[1][C[1] + 0].g || 0 < v[2][C[2] + 0].g || 0 < v[3][C[3] + 0].g) return 0 } return 1 } function Jn(u, f, v, C, L, D) { if (u.Z != 0) { var $ = u.qd, q = u.rd; for (e(VA[u.Z] != null); f < v; ++f)VA[u.Z]($, q, C, L, C, L, D), $ = C, q = L, L += D; u.qd = $, u.rd = q } } function Pt(u, f) { var v = u.l.ma, C = v.Z == 0 || v.Z == 1 ? u.l.j : u.C; if (C = u.C < C ? C : u.C, e(f <= u.l.o), f > C) { var L = u.l.width, D = v.ca, $ = v.tb + L * C, q = u.V, Z = u.Ba + u.c * C, Ae = u.gc; e(u.ab == 1), e(Ae[0].hc == 3), J(Ae[0], C, f, q, Z, D, $), Jn(v, C, f, D, $, L) } u.C = u.Ma = f } function Mn(u, f, v, C, L, D, $) { var q = u.$ / C, Z = u.$ % C, Ae = u.m, Ce = u.s, Me = v + u.$, oe = Me; L = v + C * L; var _e = v + C * D, Pe = 280 + Ce.ua, et = u.Pb ? q : 16777216, He = 0 < Ce.ua ? Ce.Wa : null, rt = Ce.wc, it = Me < _e ? ar(Ce, Z, q) : null; e(u.C < D), e(_e <= L); var gt = !1; e: for (; ;) { for (; gt || Me < _e;) { var ut = 0; if (q >= et) { var Xt = Me - v; e((et = u).Pb), et.wd = et.m, et.xd = Xt, 0 < et.s.ua && se(et.s.Wa, et.s.vb), et = q + nC } if (Z & rt || (it = ar(Ce, Z, q)), e(it != null), it.Qb && (f[Me] = it.qb, gt = !0), !gt) if (ge(Ae), it.jc) { ut = Ae, Xt = f; var Gt = Me, gr = it.pd[re(ut) & ja - 1]; e(it.jc), 256 > gr.g ? (le(ut, ut.u + gr.g), Xt[Gt] = gr.value, ut = 0) : (le(ut, ut.u + gr.g - 256), e(256 <= gr.value), ut = gr.value), ut == 0 && (gt = !0) } else ut = or(it.G[0], it.H[0], Ae); if (Ae.h) break; if (gt || 256 > ut) { if (!gt) if (it.nd) f[Me] = (it.qb | ut << 8) >>> 0; else { if (ge(Ae), gt = or(it.G[1], it.H[1], Ae), ge(Ae), Xt = or(it.G[2], it.H[2], Ae), Gt = or(it.G[3], it.H[3], Ae), Ae.h) break; f[Me] = (Gt << 24 | gt << 16 | ut << 8 | Xt) >>> 0 } if (gt = !1, ++Me, ++Z >= C && (Z = 0, ++q, $ != null && q <= D && !(q % 16) && $(u, q), He != null)) for (; oe < Me;)ut = f[oe++], He.X[(506832829 * ut & 4294967295) >>> He.Mb] = ut } else if (280 > ut) { if (ut = _t(ut - 256, Ae), Xt = or(it.G[4], it.H[4], Ae), ge(Ae), Xt = fr(C, Xt = _t(Xt, Ae)), Ae.h) break; if (Me - v < Xt || L - Me < ut) break e; for (Gt = 0; Gt < ut; ++Gt)f[Me + Gt] = f[Me + Gt - Xt]; for (Me += ut, Z += ut; Z >= C;)Z -= C, ++q, $ != null && q <= D && !(q % 16) && $(u, q); if (e(Me <= L), Z & rt && (it = ar(Ce, Z, q)), He != null) for (; oe < Me;)ut = f[oe++], He.X[(506832829 * ut & 4294967295) >>> He.Mb] = ut } else { if (!(ut < Pe)) break e; for (gt = ut - 280, e(He != null); oe < Me;)ut = f[oe++], He.X[(506832829 * ut & 4294967295) >>> He.Mb] = ut; ut = Me, e(!(gt >>> (Xt = He).Xa)), f[ut] = Xt.X[gt], gt = !0 } gt || e(Ae.h == Y(Ae)) } if (u.Pb && Ae.h && Me < L) e(u.m.h), u.a = 5, u.m = u.wd, u.$ = u.xd, 0 < u.s.ua && se(u.s.vb, u.s.Wa); else { if (Ae.h) break e; $ != null && $(u, q > D ? D : q), u.a = 0, u.$ = Me - v } return 1 } return u.a = 3, 0 } function $r(u) { e(u != null), u.vc = null, u.yc = null, u.Ya = null; var f = u.Wa; f != null && (f.X = null), u.vb = null, e(u != null) } function Os() { var u = new ir; return u == null ? null : (u.a = 0, u.xb = v1, bt("Predictor", "VP8LPredictors"), bt("Predictor", "VP8LPredictors_C"), bt("PredictorAdd", "VP8LPredictorsAdd"), bt("PredictorAdd", "VP8LPredictorsAdd_C"), sn = Ne, Oe = ye, Qe = Ye, Re = Xe, je = Be, De = Te, at = pt, N.VP8LMapColor32b = K, N.VP8LMapColor8b = fe, u) } function Ys(u, f, v, C, L) { var D = 1, $ = [u], q = [f], Z = C.m, Ae = C.s, Ce = null, Me = 0; e: for (; ;) { if (v) for (; D && ve(Z, 1);) { var oe = $, _e = q, Pe = C, et = 1, He = Pe.m, rt = Pe.gc[Pe.ab], it = ve(He, 2); if (Pe.Oc & 1 << it) D = 0; else { switch (Pe.Oc |= 1 << it, rt.hc = it, rt.Ea = oe[0], rt.nc = _e[0], rt.K = [null], ++Pe.ab, e(4 >= Pe.ab), it) { case 0: case 1: rt.b = ve(He, 3) + 2, et = Ys(ne(rt.Ea, rt.b), ne(rt.nc, rt.b), 0, Pe, rt.K), rt.K = rt.K[0]; break; case 3: var gt, ut = ve(He, 8) + 1, Xt = 16 < ut ? 0 : 4 < ut ? 1 : 2 < ut ? 2 : 3; if (oe[0] = ne(rt.Ea, Xt), rt.b = Xt, gt = et = Ys(ut, 1, 0, Pe, rt.K)) { var Gt, gr = ut, Jt = rt, Nr = 1 << (8 >> Jt.b), $n = a(Nr); if ($n == null) gt = 0; else { var mr = Jt.K[0], Yt = Jt.w; for ($n[0] = Jt.K[0][0], Gt = 1; Gt < 1 * gr; ++Gt)$n[Gt] = Se(mr[Yt + Gt], $n[Gt - 1]); for (; Gt < 4 * Nr; ++Gt)$n[Gt] = 0; Jt.K[0] = null, Jt.K[0] = $n, gt = 1 } } et = gt; break; case 2: break; default: e(0) }D = et } } if ($ = $[0], q = q[0], D && ve(Z, 1) && !(D = 1 <= (Me = ve(Z, 4)) && 11 >= Me)) { C.a = 3; break e } var St; if (St = D) t: { var jn, hr, jr, en = C, rs = $, Fs = q, yn = Me, ms = v, _s = en.m, Kn = en.s, Er = [null], Tr = 1, bn = 0, Lr = rC[yn]; r: for (; ;) { if (ms && ve(_s, 1)) { var ns = ve(_s, 3) + 2, Xi = ne(rs, ns), En = ne(Fs, ns), Ms = Xi * En; if (!Ys(Xi, En, 0, en, Er)) break r; for (Er = Er[0], Kn.xc = ns, jn = 0; jn < Ms; ++jn) { var Kr = Er[jn] >> 8 & 65535; Er[jn] = Kr, Kr >= Tr && (Tr = Kr + 1) } } if (_s.h) break r; for (hr = 0; 5 > hr; ++hr) { var Gn = m1[hr]; !hr && 0 < yn && (Gn += 1 << yn), bn < Gn && (bn = Gn) } var ei = A(Tr * Lr, V), ks = Tr, ti = A(ks, te); if (ti == null) var ri = null; else e(65536 >= ks), ri = ti; var $s = a(bn); if (ri == null || $s == null || ei == null) { en.a = 1; break r } var ni = ei; for (jn = jr = 0; jn < Tr; ++jn) { var Wr = ri[jn], si = Wr.G, Zi = Wr.H, Vo = 0, iA = 1, ss = 0; for (hr = 0; 5 > hr; ++hr) { Gn = m1[hr], si[hr] = ni, Zi[hr] = jr, !hr && 0 < yn && (Gn += 1 << yn); s: { var Kd, $0 = Gn, Gd = en, Au = $s, BC = ni, CC = jr, K0 = 0, zA = Gd.m, NC = ve(zA, 1); if (s(Au, 0, 0, $0), NC) { var SC = ve(zA, 1) + 1, jC = ve(zA, 1), j1 = ve(zA, jC == 0 ? 1 : 8); Au[j1] = 1, SC == 2 && (Au[j1 = ve(zA, 8)] = 1); var Vd = 1 } else { var E1 = a(19), F1 = ve(zA, 4) + 4; if (19 < F1) { Gd.a = 3; var zd = 0; break s } for (Kd = 0; Kd < F1; ++Kd)E1[eC[Kd]] = ve(zA, 3); var G0 = void 0, ou = void 0, _1 = Gd, EC = E1, qd = $0, k1 = Au, V0 = 0, qA = _1.m, U1 = 8, I1 = A(128, V); n: for (; _(I1, 0, 7, EC, 19);) { if (ve(qA, 1)) { var FC = 2 + 2 * ve(qA, 3); if ((G0 = 2 + ve(qA, FC)) > qd) break n } else G0 = qd; for (ou = 0; ou < qd && G0--;) { ge(qA); var Q1 = I1[0 + (127 & re(qA))]; le(qA, qA.u + Q1.g); var Hl = Q1.value; if (16 > Hl) k1[ou++] = Hl, Hl != 0 && (U1 = Hl); else { var _C = Hl == 16, T1 = Hl - 16, kC = D0[T1], L1 = ve(qA, P0[T1]) + kC; if (ou + L1 > qd) break n; for (var UC = _C ? U1 : 0; 0 < L1--;)k1[ou++] = UC } } V0 = 1; break n } V0 || (_1.a = 3), Vd = V0 } (Vd = Vd && !zA.h) && (K0 = _(BC, CC, 8, Au, $0)), Vd && K0 != 0 ? zd = K0 : (Gd.a = 3, zd = 0) } if (zd == 0) break r; if (iA && Z4[hr] == 1 && (iA = ni[jr].g == 0), Vo += ni[jr].g, jr += zd, 3 >= hr) { var lu, z0 = $s[0]; for (lu = 1; lu < Gn; ++lu)$s[lu] > z0 && (z0 = $s[lu]); ss += z0 } } if (Wr.nd = iA, Wr.Qb = 0, iA && (Wr.qb = (si[3][Zi[3] + 0].value << 24 | si[1][Zi[1] + 0].value << 16 | si[2][Zi[2] + 0].value) >>> 0, Vo == 0 && 256 > si[0][Zi[0] + 0].value && (Wr.Qb = 1, Wr.qb += si[0][Zi[0] + 0].value << 8)), Wr.jc = !Wr.Qb && 6 > ss, Wr.jc) { var Wd, aA = Wr; for (Wd = 0; Wd < ja; ++Wd) { var WA = Wd, JA = aA.pd[WA], Jd = aA.G[0][aA.H[0] + WA]; 256 <= Jd.value ? (JA.g = Jd.g + 256, JA.value = Jd.value) : (JA.g = 0, JA.value = 0, WA >>= mt(Jd, 8, JA), WA >>= mt(aA.G[1][aA.H[1] + WA], 16, JA), WA >>= mt(aA.G[2][aA.H[2] + WA], 0, JA), mt(aA.G[3][aA.H[3] + WA], 24, JA)) } } } Kn.vc = Er, Kn.Wb = Tr, Kn.Ya = ri, Kn.yc = ei, St = 1; break t } St = 0 } if (!(D = St)) { C.a = 3; break e } if (0 < Me) { if (Ae.ua = 1 << Me, !F(Ae.Wa, Me)) { C.a = 1, D = 0; break e } } else Ae.ua = 0; var q0 = C, O1 = $, IC = q, W0 = q0.s, J0 = W0.xc; if (q0.c = O1, q0.i = IC, W0.md = ne(O1, J0), W0.wc = J0 == 0 ? -1 : (1 << J0) - 1, v) { C.xb = cC; break e } if ((Ce = a($ * q)) == null) { C.a = 1, D = 0; break e } D = (D = Mn(C, Ce, 0, $, q, q, null)) && !Z.h; break e } return D ? (L != null ? L[0] = Ce : (e(Ce == null), e(v)), C.$ = 0, v || $r(Ae)) : $r(Ae), D } function $i(u, f) { var v = u.c * u.i, C = v + f + 16 * f; return e(u.c <= f), u.V = a(C), u.V == null ? (u.Ta = null, u.Ua = 0, u.a = 1, 0) : (u.Ta = u.V, u.Ua = u.Ba + v + f, 1) } function mi(u, f) { var v = u.C, C = f - v, L = u.V, D = u.Ba + u.c * v; for (e(f <= u.l.o); 0 < C;) { var $ = 16 < C ? 16 : C, q = u.l.ma, Z = u.l.width, Ae = Z * $, Ce = q.ca, Me = q.tb + Z * v, oe = u.Ta, _e = u.Ua; Mr(u, $, L, D), Ji(oe, _e, Ce, Me, Ae), Jn(q, v, v + $, Ce, Me, Z), C -= $, L += $ * u.c, v += $ } e(v == f), u.C = u.Ma = f } function SA() { this.ub = this.yd = this.td = this.Rb = 0 } function za() { this.Kd = this.Ld = this.Ud = this.Td = this.i = this.c = 0 } function Zc() { this.Fb = this.Bb = this.Cb = 0, this.Zb = a(4), this.Lb = a(4) } function Io() { this.Yb = function () { var u = []; return function f(v, C, L) { for (var D = L[C], $ = 0; $ < D && (v.push(L.length > C + 1 ? [] : 0), !(L.length < C + 1)); $++)f(v[$], C + 1, L) }(u, 0, [3, 11]), u }() } function qa() { this.jb = a(3), this.Wc = o([4, 8], Io), this.Xc = o([4, 17], Io) } function Nl() { this.Pc = this.wb = this.Tb = this.zd = 0, this.vd = new a(4), this.od = new a(4) } function Ps() { this.ld = this.La = this.dd = this.tc = 0 } function jA() { this.Na = this.la = 0 } function Qo() { this.Sc = [0, 0], this.Eb = [0, 0], this.Qc = [0, 0], this.ia = this.lc = 0 } function To() { this.ad = a(384), this.Za = 0, this.Ob = a(16), this.$b = this.Ad = this.ia = this.Gc = this.Hc = this.Dd = 0 } function ma() { this.uc = this.M = this.Nb = 0, this.wa = Array(new Ps), this.Y = 0, this.ya = Array(new To), this.aa = 0, this.l = new Wa } function Wt() { this.y = a(16), this.f = a(8), this.ea = a(8) } function Lo() { this.cb = this.a = 0, this.sc = "", this.m = new I, this.Od = new SA, this.Kc = new za, this.ed = new Nl, this.Qa = new Zc, this.Ic = this.$c = this.Aa = 0, this.D = new ma, this.Xb = this.Va = this.Hb = this.zb = this.yb = this.Ub = this.za = 0, this.Jc = A(8, I), this.ia = 0, this.pb = A(4, Qo), this.Pa = new qa, this.Bd = this.kc = 0, this.Ac = [], this.Bc = 0, this.zc = [0, 0, 0, 0], this.Gd = Array(new Wt), this.Hd = 0, this.rb = Array(new jA), this.sb = 0, this.wa = Array(new Ps), this.Y = 0, this.oc = [], this.pc = 0, this.sa = [], this.ta = 0, this.qa = [], this.ra = 0, this.Ha = [], this.B = this.R = this.Ia = 0, this.Ec = [], this.M = this.ja = this.Vb = this.Fc = 0, this.ya = Array(new To), this.L = this.aa = 0, this.gd = o([4, 2], Ps), this.ga = null, this.Fa = [], this.Cc = this.qc = this.P = 0, this.Gb = [], this.Uc = 0, this.mb = [], this.nb = 0, this.rc = [], this.Ga = this.Vc = 0 } function xi(u, f) { return 0 > u ? 0 : u > f ? f : u } function Wa() { this.T = this.U = this.ka = this.height = this.width = 0, this.y = [], this.f = [], this.ea = [], this.Rc = this.fa = this.W = this.N = this.O = 0, this.ma = "void", this.put = "VP8IoPutHook", this.ac = "VP8IoSetupHook", this.bc = "VP8IoTeardownHook", this.ha = this.Kb = 0, this.data = [], this.hb = this.ib = this.da = this.o = this.j = this.va = this.v = this.Da = this.ob = this.w = 0, this.F = [], this.J = 0 } function Zr() { var u = new Lo; return u != null && (u.a = 0, u.sc = "OK", u.cb = 0, u.Xb = 0, iu || (iu = Ja)), u } function vn(u, f, v) { return u.a == 0 && (u.a = f, u.sc = v, u.cb = 0), 0 } function Sl(u, f, v) { return 3 <= v && u[f + 0] == 157 && u[f + 1] == 1 && u[f + 2] == 42 } function hs(u, f) { if (u == null) return 0; if (u.a = 0, u.sc = "OK", f == null) return vn(u, 2, "null VP8Io passed to VP8GetHeaders()"); var v = f.data, C = f.w, L = f.ha; if (4 > L) return vn(u, 7, "Truncated header."); var D = v[C + 0] | v[C + 1] << 8 | v[C + 2] << 16, $ = u.Od; if ($.Rb = !(1 & D), $.td = D >> 1 & 7, $.yd = D >> 4 & 1, $.ub = D >> 5, 3 < $.td) return vn(u, 3, "Incorrect keyframe parameters."); if (!$.yd) return vn(u, 4, "Frame not displayable."); C += 3, L -= 3; var q = u.Kc; if ($.Rb) { if (7 > L) return vn(u, 7, "cannot parse picture header"); if (!Sl(v, C, L)) return vn(u, 3, "Bad code word"); q.c = 16383 & (v[C + 4] << 8 | v[C + 3]), q.Td = v[C + 4] >> 6, q.i = 16383 & (v[C + 6] << 8 | v[C + 5]), q.Ud = v[C + 6] >> 6, C += 7, L -= 7, u.za = q.c + 15 >> 4, u.Ub = q.i + 15 >> 4, f.width = q.c, f.height = q.i, f.Da = 0, f.j = 0, f.v = 0, f.va = f.width, f.o = f.height, f.da = 0, f.ib = f.width, f.hb = f.height, f.U = f.width, f.T = f.height, s((D = u.Pa).jb, 0, 255, D.jb.length), e((D = u.Qa) != null), D.Cb = 0, D.Bb = 0, D.Fb = 1, s(D.Zb, 0, 0, D.Zb.length), s(D.Lb, 0, 0, D.Lb) } if ($.ub > L) return vn(u, 7, "bad partition length"); ce(D = u.m, v, C, $.ub), C += $.ub, L -= $.ub, $.Rb && (q.Ld = Fe(D), q.Kd = Fe(D)), q = u.Qa; var Z, Ae = u.Pa; if (e(D != null), e(q != null), q.Cb = Fe(D), q.Cb) { if (q.Bb = Fe(D), Fe(D)) { for (q.Fb = Fe(D), Z = 0; 4 > Z; ++Z)q.Zb[Z] = Fe(D) ? ie(D, 7) : 0; for (Z = 0; 4 > Z; ++Z)q.Lb[Z] = Fe(D) ? ie(D, 6) : 0 } if (q.Bb) for (Z = 0; 3 > Z; ++Z)Ae.jb[Z] = Fe(D) ? he(D, 8) : 255 } else q.Bb = 0; if (D.Ka) return vn(u, 3, "cannot parse segment header"); if ((q = u.ed).zd = Fe(D), q.Tb = he(D, 6), q.wb = he(D, 3), q.Pc = Fe(D), q.Pc && Fe(D)) { for (Ae = 0; 4 > Ae; ++Ae)Fe(D) && (q.vd[Ae] = ie(D, 6)); for (Ae = 0; 4 > Ae; ++Ae)Fe(D) && (q.od[Ae] = ie(D, 6)) } if (u.L = q.Tb == 0 ? 0 : q.zd ? 1 : 2, D.Ka) return vn(u, 3, "cannot parse filter header"); var Ce = L; if (L = Z = C, C = Z + Ce, q = Ce, u.Xb = (1 << he(u.m, 2)) - 1, Ce < 3 * (Ae = u.Xb)) v = 7; else { for (Z += 3 * Ae, q -= 3 * Ae, Ce = 0; Ce < Ae; ++Ce) { var Me = v[L + 0] | v[L + 1] << 8 | v[L + 2] << 16; Me > q && (Me = q), ce(u.Jc[+Ce], v, Z, Me), Z += Me, q -= Me, L += 3 } ce(u.Jc[+Ae], v, Z, q), v = Z < C ? 0 : 5 } if (v != 0) return vn(u, v, "cannot parse partitions"); for (v = he(Z = u.m, 7), L = Fe(Z) ? ie(Z, 4) : 0, C = Fe(Z) ? ie(Z, 4) : 0, q = Fe(Z) ? ie(Z, 4) : 0, Ae = Fe(Z) ? ie(Z, 4) : 0, Z = Fe(Z) ? ie(Z, 4) : 0, Ce = u.Qa, Me = 0; 4 > Me; ++Me) { if (Ce.Cb) { var oe = Ce.Zb[Me]; Ce.Fb || (oe += v) } else { if (0 < Me) { u.pb[Me] = u.pb[0]; continue } oe = v } var _e = u.pb[Me]; _e.Sc[0] = R0[xi(oe + L, 127)], _e.Sc[1] = H0[xi(oe + 0, 127)], _e.Eb[0] = 2 * R0[xi(oe + C, 127)], _e.Eb[1] = 101581 * H0[xi(oe + q, 127)] >> 16, 8 > _e.Eb[1] && (_e.Eb[1] = 8), _e.Qc[0] = R0[xi(oe + Ae, 117)], _e.Qc[1] = H0[xi(oe + Z, 127)], _e.lc = oe + Z } if (!$.Rb) return vn(u, 4, "Not a key frame."); for (Fe(D), $ = u.Pa, v = 0; 4 > v; ++v) { for (L = 0; 8 > L; ++L)for (C = 0; 3 > C; ++C)for (q = 0; 11 > q; ++q)Ae = Le(D, oC[v][L][C][q]) ? he(D, 8) : aC[v][L][C][q], $.Wc[v][L].Yb[C][q] = Ae; for (L = 0; 17 > L; ++L)$.Xc[v][L] = $.Wc[v][lC[L]] } return u.kc = Fe(D), u.kc && (u.Bd = he(D, 8)), u.cb = 1 } function Ja(u, f, v, C, L, D, $) { var q = f[L].Yb[v]; for (v = 0; 16 > L; ++L) { if (!Le(u, q[v + 0])) return L; for (; !Le(u, q[v + 1]);)if (q = f[++L].Yb[0], v = 0, L == 16) return 16; var Z = f[L + 1].Yb; if (Le(u, q[v + 2])) { var Ae = u, Ce = 0; if (Le(Ae, (oe = q)[(Me = v) + 3])) if (Le(Ae, oe[Me + 6])) { for (q = 0, Me = 2 * (Ce = Le(Ae, oe[Me + 8])) + (oe = Le(Ae, oe[Me + 9 + Ce])), Ce = 0, oe = sC[Me]; oe[q]; ++q)Ce += Ce + Le(Ae, oe[q]); Ce += 3 + (8 << Me) } else Le(Ae, oe[Me + 7]) ? (Ce = 7 + 2 * Le(Ae, 165), Ce += Le(Ae, 145)) : Ce = 5 + Le(Ae, 159); else Ce = Le(Ae, oe[Me + 4]) ? 3 + Le(Ae, oe[Me + 5]) : 2; q = Z[2] } else Ce = 1, q = Z[1]; Z = $ + iC[L], 0 > (Ae = u).b && ke(Ae); var Me, oe = Ae.b, _e = (Me = Ae.Ca >> 1) - (Ae.I >> oe) >> 31; --Ae.b, Ae.Ca += _e, Ae.Ca |= 1, Ae.I -= (Me + 1 & _e) << oe, D[Z] = ((Ce ^ _e) - _e) * C[(0 < L) + 0] } return 16 } function jl(u) { var f = u.rb[u.sb - 1]; f.la = 0, f.Na = 0, s(u.zc, 0, 0, u.zc.length), u.ja = 0 } function Ds(u, f, v, C, L) { L = u[f + v + 32 * C] + (L >> 3), u[f + v + 32 * C] = -256 & L ? 0 > L ? 0 : 255 : L } function Sn(u, f, v, C, L, D) { Ds(u, f, 0, v, C + L), Ds(u, f, 1, v, C + D), Ds(u, f, 2, v, C - D), Ds(u, f, 3, v, C - L) } function Ki(u) { return (20091 * u >> 16) + u } function El(u, f, v, C) { var L, D = 0, $ = a(16); for (L = 0; 4 > L; ++L) { var q = u[f + 0] + u[f + 8], Z = u[f + 0] - u[f + 8], Ae = (35468 * u[f + 4] >> 16) - Ki(u[f + 12]), Ce = Ki(u[f + 4]) + (35468 * u[f + 12] >> 16); $[D + 0] = q + Ce, $[D + 1] = Z + Ae, $[D + 2] = Z - Ae, $[D + 3] = q - Ce, D += 4, f++ } for (L = D = 0; 4 > L; ++L)q = (u = $[D + 0] + 4) + $[D + 8], Z = u - $[D + 8], Ae = (35468 * $[D + 4] >> 16) - Ki($[D + 12]), Ds(v, C, 0, 0, q + (Ce = Ki($[D + 4]) + (35468 * $[D + 12] >> 16))), Ds(v, C, 1, 0, Z + Ae), Ds(v, C, 2, 0, Z - Ae), Ds(v, C, 3, 0, q - Ce), D++, C += 32 } function eu(u, f, v, C) { var L = u[f + 0] + 4, D = 35468 * u[f + 4] >> 16, $ = Ki(u[f + 4]), q = 35468 * u[f + 1] >> 16; Sn(v, C, 0, L + $, u = Ki(u[f + 1]), q), Sn(v, C, 1, L + D, u, q), Sn(v, C, 2, L - D, u, q), Sn(v, C, 3, L - $, u, q) } function ur(u, f, v, C, L) { El(u, f, v, C), L && El(u, f + 16, v, C + 4) } function Xs(u, f, v, C) { Ot(u, f + 0, v, C, 1), Ot(u, f + 32, v, C + 128, 1) } function EA(u, f, v, C) { var L; for (u = u[f + 0] + 4, L = 0; 4 > L; ++L)for (f = 0; 4 > f; ++f)Ds(v, C, f, L, u) } function Oo(u, f, v, C) { u[f + 0] && we(u, f + 0, v, C), u[f + 16] && we(u, f + 16, v, C + 4), u[f + 32] && we(u, f + 32, v, C + 128), u[f + 48] && we(u, f + 48, v, C + 128 + 4) } function FA(u, f, v, C) { var L, D = a(16); for (L = 0; 4 > L; ++L) { var $ = u[f + 0 + L] + u[f + 12 + L], q = u[f + 4 + L] + u[f + 8 + L], Z = u[f + 4 + L] - u[f + 8 + L], Ae = u[f + 0 + L] - u[f + 12 + L]; D[0 + L] = $ + q, D[8 + L] = $ - q, D[4 + L] = Ae + Z, D[12 + L] = Ae - Z } for (L = 0; 4 > L; ++L)$ = (u = D[0 + 4 * L] + 3) + D[3 + 4 * L], q = D[1 + 4 * L] + D[2 + 4 * L], Z = D[1 + 4 * L] - D[2 + 4 * L], Ae = u - D[3 + 4 * L], v[C + 0] = $ + q >> 3, v[C + 16] = Ae + Z >> 3, v[C + 32] = $ - q >> 3, v[C + 48] = Ae - Z >> 3, C += 64 } function xa(u, f, v) { var C, L = f - 32, D = Rr, $ = 255 - u[L - 1]; for (C = 0; C < v; ++C) { var q, Z = D, Ae = $ + u[f - 1]; for (q = 0; q < v; ++q)u[f + q] = Z[Ae + u[L + q]]; f += 32 } } function kr(u, f) { xa(u, f, 4) } function Ya(u, f) { xa(u, f, 8) } function tu(u, f) { xa(u, f, 16) } function Po(u, f) { var v; for (v = 0; 16 > v; ++v)n(u, f + 32 * v, u, f - 32, 16) } function Fl(u, f) { var v; for (v = 16; 0 < v; --v)s(u, f, u[f - 1], 16), f += 32 } function Zs(u, f, v) { var C; for (C = 0; 16 > C; ++C)s(f, v + 32 * C, u, 16) } function Do(u, f) { var v, C = 16; for (v = 0; 16 > v; ++v)C += u[f - 1 + 32 * v] + u[f + v - 32]; Zs(C >> 5, u, f) } function wr(u, f) { var v, C = 8; for (v = 0; 16 > v; ++v)C += u[f - 1 + 32 * v]; Zs(C >> 4, u, f) } function Xa(u, f) { var v, C = 8; for (v = 0; 16 > v; ++v)C += u[f + v - 32]; Zs(C >> 4, u, f) } function ru(u, f) { Zs(128, u, f) } function yt(u, f, v) { return u + 2 * f + v + 2 >> 2 } function Rs(u, f) { var v, C = f - 32; for (C = new Uint8Array([yt(u[C - 1], u[C + 0], u[C + 1]), yt(u[C + 0], u[C + 1], u[C + 2]), yt(u[C + 1], u[C + 2], u[C + 3]), yt(u[C + 2], u[C + 3], u[C + 4])]), v = 0; 4 > v; ++v)n(u, f + 32 * v, C, 0, C.length) } function _l(u, f) { var v = u[f - 1], C = u[f - 1 + 32], L = u[f - 1 + 64], D = u[f - 1 + 96]; nt(u, f + 0, 16843009 * yt(u[f - 1 - 32], v, C)), nt(u, f + 32, 16843009 * yt(v, C, L)), nt(u, f + 64, 16843009 * yt(C, L, D)), nt(u, f + 96, 16843009 * yt(L, D, D)) } function kl(u, f) { var v, C = 4; for (v = 0; 4 > v; ++v)C += u[f + v - 32] + u[f - 1 + 32 * v]; for (C >>= 3, v = 0; 4 > v; ++v)s(u, f + 32 * v, C, 4) } function vi(u, f) { var v = u[f - 1 + 0], C = u[f - 1 + 32], L = u[f - 1 + 64], D = u[f - 1 - 32], $ = u[f + 0 - 32], q = u[f + 1 - 32], Z = u[f + 2 - 32], Ae = u[f + 3 - 32]; u[f + 0 + 96] = yt(C, L, u[f - 1 + 96]), u[f + 1 + 96] = u[f + 0 + 64] = yt(v, C, L), u[f + 2 + 96] = u[f + 1 + 64] = u[f + 0 + 32] = yt(D, v, C), u[f + 3 + 96] = u[f + 2 + 64] = u[f + 1 + 32] = u[f + 0 + 0] = yt($, D, v), u[f + 3 + 64] = u[f + 2 + 32] = u[f + 1 + 0] = yt(q, $, D), u[f + 3 + 32] = u[f + 2 + 0] = yt(Z, q, $), u[f + 3 + 0] = yt(Ae, Z, q) } function wi(u, f) { var v = u[f + 1 - 32], C = u[f + 2 - 32], L = u[f + 3 - 32], D = u[f + 4 - 32], $ = u[f + 5 - 32], q = u[f + 6 - 32], Z = u[f + 7 - 32]; u[f + 0 + 0] = yt(u[f + 0 - 32], v, C), u[f + 1 + 0] = u[f + 0 + 32] = yt(v, C, L), u[f + 2 + 0] = u[f + 1 + 32] = u[f + 0 + 64] = yt(C, L, D), u[f + 3 + 0] = u[f + 2 + 32] = u[f + 1 + 64] = u[f + 0 + 96] = yt(L, D, $), u[f + 3 + 32] = u[f + 2 + 64] = u[f + 1 + 96] = yt(D, $, q), u[f + 3 + 64] = u[f + 2 + 96] = yt($, q, Z), u[f + 3 + 96] = yt(q, Z, Z) } function Ul(u, f) { var v = u[f - 1 + 0], C = u[f - 1 + 32], L = u[f - 1 + 64], D = u[f - 1 - 32], $ = u[f + 0 - 32], q = u[f + 1 - 32], Z = u[f + 2 - 32], Ae = u[f + 3 - 32]; u[f + 0 + 0] = u[f + 1 + 64] = D + $ + 1 >> 1, u[f + 1 + 0] = u[f + 2 + 64] = $ + q + 1 >> 1, u[f + 2 + 0] = u[f + 3 + 64] = q + Z + 1 >> 1, u[f + 3 + 0] = Z + Ae + 1 >> 1, u[f + 0 + 96] = yt(L, C, v), u[f + 0 + 64] = yt(C, v, D), u[f + 0 + 32] = u[f + 1 + 96] = yt(v, D, $), u[f + 1 + 32] = u[f + 2 + 96] = yt(D, $, q), u[f + 2 + 32] = u[f + 3 + 96] = yt($, q, Z), u[f + 3 + 32] = yt(q, Z, Ae) } function Il(u, f) { var v = u[f + 0 - 32], C = u[f + 1 - 32], L = u[f + 2 - 32], D = u[f + 3 - 32], $ = u[f + 4 - 32], q = u[f + 5 - 32], Z = u[f + 6 - 32], Ae = u[f + 7 - 32]; u[f + 0 + 0] = v + C + 1 >> 1, u[f + 1 + 0] = u[f + 0 + 64] = C + L + 1 >> 1, u[f + 2 + 0] = u[f + 1 + 64] = L + D + 1 >> 1, u[f + 3 + 0] = u[f + 2 + 64] = D + $ + 1 >> 1, u[f + 0 + 32] = yt(v, C, L), u[f + 1 + 32] = u[f + 0 + 96] = yt(C, L, D), u[f + 2 + 32] = u[f + 1 + 96] = yt(L, D, $), u[f + 3 + 32] = u[f + 2 + 96] = yt(D, $, q), u[f + 3 + 64] = yt($, q, Z), u[f + 3 + 96] = yt(q, Z, Ae) } function Za(u, f) { var v = u[f - 1 + 0], C = u[f - 1 + 32], L = u[f - 1 + 64], D = u[f - 1 + 96]; u[f + 0 + 0] = v + C + 1 >> 1, u[f + 2 + 0] = u[f + 0 + 32] = C + L + 1 >> 1, u[f + 2 + 32] = u[f + 0 + 64] = L + D + 1 >> 1, u[f + 1 + 0] = yt(v, C, L), u[f + 3 + 0] = u[f + 1 + 32] = yt(C, L, D), u[f + 3 + 32] = u[f + 1 + 64] = yt(L, D, D), u[f + 3 + 64] = u[f + 2 + 64] = u[f + 0 + 96] = u[f + 1 + 96] = u[f + 2 + 96] = u[f + 3 + 96] = D } function _A(u, f) { var v = u[f - 1 + 0], C = u[f - 1 + 32], L = u[f - 1 + 64], D = u[f - 1 + 96], $ = u[f - 1 - 32], q = u[f + 0 - 32], Z = u[f + 1 - 32], Ae = u[f + 2 - 32]; u[f + 0 + 0] = u[f + 2 + 32] = v + $ + 1 >> 1, u[f + 0 + 32] = u[f + 2 + 64] = C + v + 1 >> 1, u[f + 0 + 64] = u[f + 2 + 96] = L + C + 1 >> 1, u[f + 0 + 96] = D + L + 1 >> 1, u[f + 3 + 0] = yt(q, Z, Ae), u[f + 2 + 0] = yt($, q, Z), u[f + 1 + 0] = u[f + 3 + 32] = yt(v, $, q), u[f + 1 + 32] = u[f + 3 + 64] = yt(C, v, $), u[f + 1 + 64] = u[f + 3 + 96] = yt(L, C, v), u[f + 1 + 96] = yt(D, L, C) } function va(u, f) { var v; for (v = 0; 8 > v; ++v)n(u, f + 32 * v, u, f - 32, 8) } function Ql(u, f) { var v; for (v = 0; 8 > v; ++v)s(u, f, u[f - 1], 8), f += 32 } function yi(u, f, v) { var C; for (C = 0; 8 > C; ++C)s(f, v + 32 * C, u, 8) } function Tl(u, f) { var v, C = 8; for (v = 0; 8 > v; ++v)C += u[f + v - 32] + u[f - 1 + 32 * v]; yi(C >> 4, u, f) } function kA(u, f) { var v, C = 4; for (v = 0; 8 > v; ++v)C += u[f + v - 32]; yi(C >> 3, u, f) } function UA(u, f) { var v, C = 4; for (v = 0; 8 > v; ++v)C += u[f - 1 + 32 * v]; yi(C >> 3, u, f) } function Ro(u, f) { yi(128, u, f) } function bi(u, f, v) { var C = u[f - v], L = u[f + 0], D = 3 * (L - C) + qr[1020 + u[f - 2 * v] - u[f + v]], $ = gs[112 + (D + 4 >> 3)]; u[f - v] = Rr[255 + C + gs[112 + (D + 3 >> 3)]], u[f + 0] = Rr[255 + L - $] } function IA(u, f, v, C) { var L = u[f + 0], D = u[f + v]; return vr[255 + u[f - 2 * v] - u[f - v]] > C || vr[255 + D - L] > C } function eA(u, f, v, C) { return 4 * vr[255 + u[f - v] - u[f + 0]] + vr[255 + u[f - 2 * v] - u[f + v]] <= C } function QA(u, f, v, C, L) { var D = u[f - 3 * v], $ = u[f - 2 * v], q = u[f - v], Z = u[f + 0], Ae = u[f + v], Ce = u[f + 2 * v], Me = u[f + 3 * v]; return 4 * vr[255 + q - Z] + vr[255 + $ - Ae] > C ? 0 : vr[255 + u[f - 4 * v] - D] <= L && vr[255 + D - $] <= L && vr[255 + $ - q] <= L && vr[255 + Me - Ce] <= L && vr[255 + Ce - Ae] <= L && vr[255 + Ae - Z] <= L } function wa(u, f, v, C) { var L = 2 * C + 1; for (C = 0; 16 > C; ++C)eA(u, f + C, v, L) && bi(u, f + C, v) } function TA(u, f, v, C) { var L = 2 * C + 1; for (C = 0; 16 > C; ++C)eA(u, f + C * v, 1, L) && bi(u, f + C * v, 1) } function Ho(u, f, v, C) { var L; for (L = 3; 0 < L; --L)wa(u, f += 4 * v, v, C) } function Mo(u, f, v, C) { var L; for (L = 3; 0 < L; --L)TA(u, f += 4, v, C) } function Bi(u, f, v, C, L, D, $, q) { for (D = 2 * D + 1; 0 < L--;) { if (QA(u, f, v, D, $)) if (IA(u, f, v, q)) bi(u, f, v); else { var Z = u, Ae = f, Ce = v, Me = Z[Ae - 2 * Ce], oe = Z[Ae - Ce], _e = Z[Ae + 0], Pe = Z[Ae + Ce], et = Z[Ae + 2 * Ce], He = 27 * (it = qr[1020 + 3 * (_e - oe) + qr[1020 + Me - Pe]]) + 63 >> 7, rt = 18 * it + 63 >> 7, it = 9 * it + 63 >> 7; Z[Ae - 3 * Ce] = Rr[255 + Z[Ae - 3 * Ce] + it], Z[Ae - 2 * Ce] = Rr[255 + Me + rt], Z[Ae - Ce] = Rr[255 + oe + He], Z[Ae + 0] = Rr[255 + _e - He], Z[Ae + Ce] = Rr[255 + Pe - rt], Z[Ae + 2 * Ce] = Rr[255 + et - it] } f += C } } function Ci(u, f, v, C, L, D, $, q) { for (D = 2 * D + 1; 0 < L--;) { if (QA(u, f, v, D, $)) if (IA(u, f, v, q)) bi(u, f, v); else { var Z = u, Ae = f, Ce = v, Me = Z[Ae - Ce], oe = Z[Ae + 0], _e = Z[Ae + Ce], Pe = gs[112 + (4 + (et = 3 * (oe - Me)) >> 3)], et = gs[112 + (et + 3 >> 3)], He = Pe + 1 >> 1; Z[Ae - 2 * Ce] = Rr[255 + Z[Ae - 2 * Ce] + He], Z[Ae - Ce] = Rr[255 + Me + et], Z[Ae + 0] = Rr[255 + oe - Pe], Z[Ae + Ce] = Rr[255 + _e - He] } f += C } } function $o(u, f, v, C, L, D) { Bi(u, f, v, 1, 16, C, L, D) } function ya(u, f, v, C, L, D) { Bi(u, f, 1, v, 16, C, L, D) } function Ko(u, f, v, C, L, D) { var $; for ($ = 3; 0 < $; --$)Ci(u, f += 4 * v, v, 1, 16, C, L, D) } function m(u, f, v, C, L, D) { var $; for ($ = 3; 0 < $; --$)Ci(u, f += 4, 1, v, 16, C, L, D) } function Q(u, f, v, C, L, D, $, q) { Bi(u, f, L, 1, 8, D, $, q), Bi(v, C, L, 1, 8, D, $, q) } function ae(u, f, v, C, L, D, $, q) { Bi(u, f, 1, L, 8, D, $, q), Bi(v, C, 1, L, 8, D, $, q) } function xe(u, f, v, C, L, D, $, q) { Ci(u, f + 4 * L, L, 1, 8, D, $, q), Ci(v, C + 4 * L, L, 1, 8, D, $, q) } function Ie(u, f, v, C, L, D, $, q) { Ci(u, f + 4, 1, L, 8, D, $, q), Ci(v, C + 4, 1, L, 8, D, $, q) } function tt() { this.ba = new kt, this.ec = [], this.cc = [], this.Mc = [], this.Dc = this.Nc = this.dc = this.fc = 0, this.Oa = new Ft, this.memory = 0, this.Ib = "OutputFunc", this.Jb = "OutputAlphaFunc", this.Nd = "OutputRowFunc" } function lt() { this.data = [], this.offset = this.kd = this.ha = this.w = 0, this.na = [], this.xa = this.gb = this.Ja = this.Sa = this.P = 0 } function Mt() { this.nc = this.Ea = this.b = this.hc = 0, this.K = [], this.w = 0 } function qt() { this.ua = 0, this.Wa = new qe, this.vb = new qe, this.md = this.xc = this.wc = 0, this.vc = [], this.Wb = 0, this.Ya = new te, this.yc = new V } function ir() { this.xb = this.a = 0, this.l = new Wa, this.ca = new kt, this.V = [], this.Ba = 0, this.Ta = [], this.Ua = 0, this.m = new R, this.Pb = 0, this.wd = new R, this.Ma = this.$ = this.C = this.i = this.c = this.xd = 0, this.s = new qt, this.ab = 0, this.gc = A(4, Mt), this.Oc = 0 } function lr() { this.Lc = this.Z = this.$a = this.i = this.c = 0, this.l = new Wa, this.ic = 0, this.ca = [], this.tb = 0, this.qd = null, this.rd = 0 } function br(u, f, v, C, L, D, $) { for (u = u == null ? 0 : u[f + 0], f = 0; f < $; ++f)L[D + f] = u + v[C + f] & 255, u = L[D + f] } function zr(u, f, v, C, L, D, $) { var q; if (u == null) br(null, null, v, C, L, D, $); else for (q = 0; q < $; ++q)L[D + q] = u[f + q] + v[C + q] & 255 } function un(u, f, v, C, L, D, $) { if (u == null) br(null, null, v, C, L, D, $); else { var q, Z = u[f + 0], Ae = Z, Ce = Z; for (q = 0; q < $; ++q)Ae = Ce + (Z = u[f + q]) - Ae, Ce = v[C + q] + (-256 & Ae ? 0 > Ae ? 0 : 255 : Ae) & 255, Ae = Z, L[D + q] = Ce } } function Qr(u, f, v, C) { var L = f.width, D = f.o; if (e(u != null && f != null), 0 > v || 0 >= C || v + C > D) return null; if (!u.Cc) { if (u.ga == null) { var $; if (u.ga = new lr, ($ = u.ga == null) || ($ = f.width * f.o, e(u.Gb.length == 0), u.Gb = a($), u.Uc = 0, u.Gb == null ? $ = 0 : (u.mb = u.Gb, u.nb = u.Uc, u.rc = null, $ = 1), $ = !$), !$) { $ = u.ga; var q = u.Fa, Z = u.P, Ae = u.qc, Ce = u.mb, Me = u.nb, oe = Z + 1, _e = Ae - 1, Pe = $.l; if (e(q != null && Ce != null && f != null), VA[0] = null, VA[1] = br, VA[2] = zr, VA[3] = un, $.ca = Ce, $.tb = Me, $.c = f.width, $.i = f.height, e(0 < $.c && 0 < $.i), 1 >= Ae) f = 0; else if ($.$a = 3 & q[Z + 0], $.Z = q[Z + 0] >> 2 & 3, $.Lc = q[Z + 0] >> 4 & 3, Z = q[Z + 0] >> 6 & 3, 0 > $.$a || 1 < $.$a || 4 <= $.Z || 1 < $.Lc || Z) f = 0; else if (Pe.put = Ge, Pe.ac = st, Pe.bc = Et, Pe.ma = $, Pe.width = f.width, Pe.height = f.height, Pe.Da = f.Da, Pe.v = f.v, Pe.va = f.va, Pe.j = f.j, Pe.o = f.o, $.$a) e: { e($.$a == 1), f = Os(); t: for (; ;) { if (f == null) { f = 0; break e } if (e($ != null), $.mc = f, f.c = $.c, f.i = $.i, f.l = $.l, f.l.ma = $, f.l.width = $.c, f.l.height = $.i, f.a = 0, ue(f.m, q, oe, _e), !Ys($.c, $.i, 1, f, null) || (f.ab == 1 && f.gc[0].hc == 3 && Vr(f.s) ? ($.ic = 1, q = f.c * f.i, f.Ta = null, f.Ua = 0, f.V = a(q), f.Ba = 0, f.V == null ? (f.a = 1, f = 0) : f = 1) : ($.ic = 0, f = $i(f, $.c)), !f)) break t; f = 1; break e } $.mc = null, f = 0 } else f = _e >= $.c * $.i; $ = !f } if ($) return null; u.ga.Lc != 1 ? u.Ga = 0 : C = D - v } e(u.ga != null), e(v + C <= D); e: { if (f = (q = u.ga).c, D = q.l.o, q.$a == 0) { if (oe = u.rc, _e = u.Vc, Pe = u.Fa, Z = u.P + 1 + v * f, Ae = u.mb, Ce = u.nb + v * f, e(Z <= u.P + u.qc), q.Z != 0) for (e(VA[q.Z] != null), $ = 0; $ < C; ++$)VA[q.Z](oe, _e, Pe, Z, Ae, Ce, f), oe = Ae, _e = Ce, Ce += f, Z += f; else for ($ = 0; $ < C; ++$)n(Ae, Ce, Pe, Z, f), oe = Ae, _e = Ce, Ce += f, Z += f; u.rc = oe, u.Vc = _e } else { if (e(q.mc != null), f = v + C, e(($ = q.mc) != null), e(f <= $.i), $.C >= f) f = 1; else if (q.ic || Hs(), q.ic) { q = $.V, oe = $.Ba, _e = $.c; var et = $.i, He = (Pe = 1, Z = $.$ / _e, Ae = $.$ % _e, Ce = $.m, Me = $.s, $.$), rt = _e * et, it = _e * f, gt = Me.wc, ut = He < it ? ar(Me, Ae, Z) : null; e(He <= rt), e(f <= et), e(Vr(Me)); t: for (; ;) { for (; !Ce.h && He < it;) { if (Ae & gt || (ut = ar(Me, Ae, Z)), e(ut != null), ge(Ce), 256 > (et = or(ut.G[0], ut.H[0], Ce))) q[oe + He] = et, ++He, ++Ae >= _e && (Ae = 0, ++Z <= f && !(Z % 16) && Pt($, Z)); else { if (!(280 > et)) { Pe = 0; break t } et = _t(et - 256, Ce); var Xt, Gt = or(ut.G[4], ut.H[4], Ce); if (ge(Ce), !(He >= (Gt = fr(_e, Gt = _t(Gt, Ce))) && rt - He >= et)) { Pe = 0; break t } for (Xt = 0; Xt < et; ++Xt)q[oe + He + Xt] = q[oe + He + Xt - Gt]; for (He += et, Ae += et; Ae >= _e;)Ae -= _e, ++Z <= f && !(Z % 16) && Pt($, Z); He < it && Ae & gt && (ut = ar(Me, Ae, Z)) } e(Ce.h == Y(Ce)) } Pt($, Z > f ? f : Z); break t } !Pe || Ce.h && He < rt ? (Pe = 0, $.a = Ce.h ? 5 : 3) : $.$ = He, f = Pe } else f = Mn($, $.V, $.Ba, $.c, $.i, f, mi); if (!f) { C = 0; break e } } v + C >= D && (u.Cc = 1), C = 1 } if (!C) return null; if (u.Cc && ((C = u.ga) != null && (C.mc = null), u.ga = null, 0 < u.Ga)) return alert("todo:WebPDequantizeLevels"), null } return u.nb + v * L } function wn(u, f, v, C, L, D) { for (; 0 < L--;) { var $, q = u, Z = f + (v ? 1 : 0), Ae = u, Ce = f + (v ? 0 : 3); for ($ = 0; $ < C; ++$) { var Me = Ae[Ce + 4 * $]; Me != 255 && (Me *= 32897, q[Z + 4 * $ + 0] = q[Z + 4 * $ + 0] * Me >> 23, q[Z + 4 * $ + 1] = q[Z + 4 * $ + 1] * Me >> 23, q[Z + 4 * $ + 2] = q[Z + 4 * $ + 2] * Me >> 23) } f += D } } function dn(u, f, v, C, L) { for (; 0 < C--;) { var D; for (D = 0; D < v; ++D) { var $ = u[f + 2 * D + 0], q = 15 & (Ae = u[f + 2 * D + 1]), Z = 4369 * q, Ae = (240 & Ae | Ae >> 4) * Z >> 16; u[f + 2 * D + 0] = (240 & $ | $ >> 4) * Z >> 16 & 240 | (15 & $ | $ << 4) * Z >> 16 >> 4 & 15, u[f + 2 * D + 1] = 240 & Ae | q } f += L } } function Ln(u, f, v, C, L, D, $, q) { var Z, Ae, Ce = 255; for (Ae = 0; Ae < L; ++Ae) { for (Z = 0; Z < C; ++Z) { var Me = u[f + Z]; D[$ + 4 * Z] = Me, Ce &= Me } f += v, $ += q } return Ce != 255 } function Ni(u, f, v, C, L) { var D; for (D = 0; D < L; ++D)v[C + D] = u[f + D] >> 8 } function Hs() { _r = wn, Pn = dn, Ea = Ln, Ji = Ni } function Si(u, f, v) { N[u] = function (C, L, D, $, q, Z, Ae, Ce, Me, oe, _e, Pe, et, He, rt, it, gt) { var ut, Xt = gt - 1 >> 1, Gt = q[Z + 0] | Ae[Ce + 0] << 16, gr = Me[oe + 0] | _e[Pe + 0] << 16; e(C != null); var Jt = 3 * Gt + gr + 131074 >> 2; for (f(C[L + 0], 255 & Jt, Jt >> 16, et, He), D != null && (Jt = 3 * gr + Gt + 131074 >> 2, f(D[$ + 0], 255 & Jt, Jt >> 16, rt, it)), ut = 1; ut <= Xt; ++ut) { var Nr = q[Z + ut] | Ae[Ce + ut] << 16, $n = Me[oe + ut] | _e[Pe + ut] << 16, mr = Gt + Nr + gr + $n + 524296, Yt = mr + 2 * (Nr + gr) >> 3; Jt = Yt + Gt >> 1, Gt = (mr = mr + 2 * (Gt + $n) >> 3) + Nr >> 1, f(C[L + 2 * ut - 1], 255 & Jt, Jt >> 16, et, He + (2 * ut - 1) * v), f(C[L + 2 * ut - 0], 255 & Gt, Gt >> 16, et, He + (2 * ut - 0) * v), D != null && (Jt = mr + gr >> 1, Gt = Yt + $n >> 1, f(D[$ + 2 * ut - 1], 255 & Jt, Jt >> 16, rt, it + (2 * ut - 1) * v), f(D[$ + 2 * ut + 0], 255 & Gt, Gt >> 16, rt, it + (2 * ut + 0) * v)), Gt = Nr, gr = $n } 1 & gt || (Jt = 3 * Gt + gr + 131074 >> 2, f(C[L + gt - 1], 255 & Jt, Jt >> 16, et, He + (gt - 1) * v), D != null && (Jt = 3 * gr + Gt + 131074 >> 2, f(D[$ + gt - 1], 255 & Jt, Jt >> 16, rt, it + (gt - 1) * v))) } } function LA() { _i[an] = uC, _i[Fi] = w1, _i[Rd] = dC, _i[Ll] = y1, _i[Ol] = b1, _i[Pl] = B1, _i[KA] = hC, _i[nu] = w1, _i[Dl] = y1, _i[Rl] = b1, _i[su] = B1 } function tA(u) { return u & -16384 ? 0 > u ? 0 : 255 : u >> fC } function Gi(u, f) { return tA((19077 * u >> 8) + (26149 * f >> 8) - 14234) } function ba(u, f, v) { return tA((19077 * u >> 8) - (6419 * f >> 8) - (13320 * v >> 8) + 8708) } function Ba(u, f) { return tA((19077 * u >> 8) + (33050 * f >> 8) - 17685) } function Vi(u, f, v, C, L) { C[L + 0] = Gi(u, v), C[L + 1] = ba(u, f, v), C[L + 2] = Ba(u, f) } function On(u, f, v, C, L) { C[L + 0] = Ba(u, f), C[L + 1] = ba(u, f, v), C[L + 2] = Gi(u, v) } function Ca(u, f, v, C, L) { var D = ba(u, f, v); f = D << 3 & 224 | Ba(u, f) >> 3, C[L + 0] = 248 & Gi(u, v) | D >> 5, C[L + 1] = f } function Na(u, f, v, C, L) { var D = 240 & Ba(u, f) | 15; C[L + 0] = 240 & Gi(u, v) | ba(u, f, v) >> 4, C[L + 1] = D } function OA(u, f, v, C, L) { C[L + 0] = 255, Vi(u, f, v, C, L + 1) } function PA(u, f, v, C, L) { On(u, f, v, C, L), C[L + 3] = 255 } function Yn(u, f, v, C, L) { Vi(u, f, v, C, L), C[L + 3] = 255 } function ji(u, f, v) { N[u] = function (C, L, D, $, q, Z, Ae, Ce, Me) { for (var oe = Ce + (-2 & Me) * v; Ce != oe;)f(C[L + 0], D[$ + 0], q[Z + 0], Ae, Ce), f(C[L + 1], D[$ + 0], q[Z + 0], Ae, Ce + v), L += 2, ++$, ++Z, Ce += 2 * v; 1 & Me && f(C[L + 0], D[$ + 0], q[Z + 0], Ae, Ce) } } function rA(u, f, v) { return v == 0 ? u == 0 ? f == 0 ? 6 : 5 : f == 0 ? 4 : 0 : v } function Go(u, f, v, C, L) { switch (u >>> 30) { case 3: Ot(f, v, C, L, 0); break; case 2: vt(f, v, C, L); break; case 1: we(f, v, C, L) } } function Es(u, f) { var v, C, L = f.M, D = f.Nb, $ = u.oc, q = u.pc + 40, Z = u.oc, Ae = u.pc + 584, Ce = u.oc, Me = u.pc + 600; for (v = 0; 16 > v; ++v)$[q + 32 * v - 1] = 129; for (v = 0; 8 > v; ++v)Z[Ae + 32 * v - 1] = 129, Ce[Me + 32 * v - 1] = 129; for (0 < L ? $[q - 1 - 32] = Z[Ae - 1 - 32] = Ce[Me - 1 - 32] = 129 : (s($, q - 32 - 1, 127, 21), s(Z, Ae - 32 - 1, 127, 9), s(Ce, Me - 32 - 1, 127, 9)), C = 0; C < u.za; ++C) { var oe = f.ya[f.aa + C]; if (0 < C) { for (v = -1; 16 > v; ++v)n($, q + 32 * v - 4, $, q + 32 * v + 12, 4); for (v = -1; 8 > v; ++v)n(Z, Ae + 32 * v - 4, Z, Ae + 32 * v + 4, 4), n(Ce, Me + 32 * v - 4, Ce, Me + 32 * v + 4, 4) } var _e = u.Gd, Pe = u.Hd + C, et = oe.ad, He = oe.Hc; if (0 < L && (n($, q - 32, _e[Pe].y, 0, 16), n(Z, Ae - 32, _e[Pe].f, 0, 8), n(Ce, Me - 32, _e[Pe].ea, 0, 8)), oe.Za) { var rt = $, it = q - 32 + 16; for (0 < L && (C >= u.za - 1 ? s(rt, it, _e[Pe].y[15], 4) : n(rt, it, _e[Pe + 1].y, 0, 4)), v = 0; 4 > v; v++)rt[it + 128 + v] = rt[it + 256 + v] = rt[it + 384 + v] = rt[it + 0 + v]; for (v = 0; 16 > v; ++v, He <<= 2)rt = $, it = q + N1[v], Yi[oe.Ob[v]](rt, it), Go(He, et, 16 * +v, rt, it) } else if (rt = rA(C, L, oe.Ob[0]), GA[rt]($, q), He != 0) for (v = 0; 16 > v; ++v, He <<= 2)Go(He, et, 16 * +v, $, q + N1[v]); for (v = oe.Gc, rt = rA(C, L, oe.Dd), sA[rt](Z, Ae), sA[rt](Ce, Me), He = et, rt = Z, it = Ae, 255 & (oe = 0 | v) && (170 & oe ? Lt(He, 256, rt, it) : ft(He, 256, rt, it)), oe = Ce, He = Me, 255 & (v >>= 8) && (170 & v ? Lt(et, 320, oe, He) : ft(et, 320, oe, He)), L < u.Ub - 1 && (n(_e[Pe].y, 0, $, q + 480, 16), n(_e[Pe].f, 0, Z, Ae + 224, 8), n(_e[Pe].ea, 0, Ce, Me + 224, 8)), v = 8 * D * u.B, _e = u.sa, Pe = u.ta + 16 * C + 16 * D * u.R, et = u.qa, oe = u.ra + 8 * C + v, He = u.Ha, rt = u.Ia + 8 * C + v, v = 0; 16 > v; ++v)n(_e, Pe + v * u.R, $, q + 32 * v, 16); for (v = 0; 8 > v; ++v)n(et, oe + v * u.B, Z, Ae + 32 * v, 8), n(He, rt + v * u.B, Ce, Me + 32 * v, 8) } } function Sa(u, f, v, C, L, D, $, q, Z) { var Ae = [0], Ce = [0], Me = 0, oe = Z != null ? Z.kd : 0, _e = Z ?? new lt; if (u == null || 12 > v) return 7; _e.data = u, _e.w = f, _e.ha = v, f = [f], v = [v], _e.gb = [_e.gb]; e: { var Pe = f, et = v, He = _e.gb; if (e(u != null), e(et != null), e(He != null), He[0] = 0, 12 <= et[0] && !r(u, Pe[0], "RIFF")) { if (r(u, Pe[0] + 8, "WEBP")) { He = 3; break e } var rt = Ze(u, Pe[0] + 4); if (12 > rt || 4294967286 < rt) { He = 3; break e } if (oe && rt > et[0] - 8) { He = 7; break e } He[0] = rt, Pe[0] += 12, et[0] -= 12 } He = 0 } if (He != 0) return He; for (rt = 0 < _e.gb[0], v = v[0]; ;) { e: { var it = u; et = f, He = v; var gt = Ae, ut = Ce, Xt = Pe = [0]; if ((Jt = Me = [Me])[0] = 0, 8 > He[0]) He = 7; else { if (!r(it, et[0], "VP8X")) { if (Ze(it, et[0] + 4) != 10) { He = 3; break e } if (18 > He[0]) { He = 7; break e } var Gt = Ze(it, et[0] + 8), gr = 1 + de(it, et[0] + 12); if (2147483648 <= gr * (it = 1 + de(it, et[0] + 15))) { He = 3; break e } Xt != null && (Xt[0] = Gt), gt != null && (gt[0] = gr), ut != null && (ut[0] = it), et[0] += 18, He[0] -= 18, Jt[0] = 1 } He = 0 } } if (Me = Me[0], Pe = Pe[0], He != 0) return He; if (et = !!(2 & Pe), !rt && Me) return 3; if (D != null && (D[0] = !!(16 & Pe)), $ != null && ($[0] = et), q != null && (q[0] = 0), $ = Ae[0], Pe = Ce[0], Me && et && Z == null) { He = 0; break } if (4 > v) { He = 7; break } if (rt && Me || !rt && !Me && !r(u, f[0], "ALPH")) { v = [v], _e.na = [_e.na], _e.P = [_e.P], _e.Sa = [_e.Sa]; e: { Gt = u, He = f, rt = v; var Jt = _e.gb; gt = _e.na, ut = _e.P, Xt = _e.Sa, gr = 22, e(Gt != null), e(rt != null), it = He[0]; var Nr = rt[0]; for (e(gt != null), e(Xt != null), gt[0] = null, ut[0] = null, Xt[0] = 0; ;) { if (He[0] = it, rt[0] = Nr, 8 > Nr) { He = 7; break e } var $n = Ze(Gt, it + 4); if (4294967286 < $n) { He = 3; break e } var mr = 8 + $n + 1 & -2; if (gr += mr, 0 < Jt && gr > Jt) { He = 3; break e } if (!r(Gt, it, "VP8 ") || !r(Gt, it, "VP8L")) { He = 0; break e } if (Nr[0] < mr) { He = 7; break e } r(Gt, it, "ALPH") || (gt[0] = Gt, ut[0] = it + 8, Xt[0] = $n), it += mr, Nr -= mr } } if (v = v[0], _e.na = _e.na[0], _e.P = _e.P[0], _e.Sa = _e.Sa[0], He != 0) break } v = [v], _e.Ja = [_e.Ja], _e.xa = [_e.xa]; e: if (Jt = u, He = f, rt = v, gt = _e.gb[0], ut = _e.Ja, Xt = _e.xa, Gt = He[0], it = !r(Jt, Gt, "VP8 "), gr = !r(Jt, Gt, "VP8L"), e(Jt != null), e(rt != null), e(ut != null), e(Xt != null), 8 > rt[0]) He = 7; else { if (it || gr) { if (Jt = Ze(Jt, Gt + 4), 12 <= gt && Jt > gt - 12) { He = 3; break e } if (oe && Jt > rt[0] - 8) { He = 7; break e } ut[0] = Jt, He[0] += 8, rt[0] -= 8, Xt[0] = gr } else Xt[0] = 5 <= rt[0] && Jt[Gt + 0] == 47 && !(Jt[Gt + 4] >> 5), ut[0] = rt[0]; He = 0 } if (v = v[0], _e.Ja = _e.Ja[0], _e.xa = _e.xa[0], f = f[0], He != 0) break; if (4294967286 < _e.Ja) return 3; if (q == null || et || (q[0] = _e.xa ? 2 : 1), $ = [$], Pe = [Pe], _e.xa) { if (5 > v) { He = 7; break } q = $, oe = Pe, et = D, u == null || 5 > v ? u = 0 : 5 <= v && u[f + 0] == 47 && !(u[f + 4] >> 5) ? (rt = [0], Jt = [0], gt = [0], ue(ut = new R, u, f, v), Vt(ut, rt, Jt, gt) ? (q != null && (q[0] = rt[0]), oe != null && (oe[0] = Jt[0]), et != null && (et[0] = gt[0]), u = 1) : u = 0) : u = 0 } else { if (10 > v) { He = 7; break } q = Pe, u == null || 10 > v || !Sl(u, f + 3, v - 3) ? u = 0 : (oe = u[f + 0] | u[f + 1] << 8 | u[f + 2] << 16, et = 16383 & (u[f + 7] << 8 | u[f + 6]), u = 16383 & (u[f + 9] << 8 | u[f + 8]), 1 & oe || 3 < (oe >> 1 & 7) || !(oe >> 4 & 1) || oe >> 5 >= _e.Ja || !et || !u ? u = 0 : ($ && ($[0] = et), q && (q[0] = u), u = 1)) } if (!u || ($ = $[0], Pe = Pe[0], Me && (Ae[0] != $ || Ce[0] != Pe))) return 3; Z != null && (Z[0] = _e, Z.offset = f - Z.w, e(4294967286 > f - Z.w), e(Z.offset == Z.ha - v)); break } return He == 0 || He == 7 && Me && Z == null ? (D != null && (D[0] |= _e.na != null && 0 < _e.na.length), C != null && (C[0] = $), L != null && (L[0] = Pe), 0) : He } function DA(u, f, v) { var C = f.width, L = f.height, D = 0, $ = 0, q = C, Z = L; if (f.Da = u != null && 0 < u.Da, f.Da && (q = u.cd, Z = u.bd, D = u.v, $ = u.j, 11 > v || (D &= -2, $ &= -2), 0 > D || 0 > $ || 0 >= q || 0 >= Z || D + q > C || $ + Z > L)) return 0; if (f.v = D, f.j = $, f.va = D + q, f.o = $ + Z, f.U = q, f.T = Z, f.da = u != null && 0 < u.da, f.da) { if (!X(q, Z, v = [u.ib], D = [u.hb])) return 0; f.ib = v[0], f.hb = D[0] } return f.ob = u != null && u.ob, f.Kb = u == null || !u.Sd, f.da && (f.ob = f.ib < 3 * C / 4 && f.hb < 3 * L / 4, f.Kb = 0), 1 } function RA(u) { if (u == null) return 2; if (11 > u.S) { var f = u.f.RGBA; f.fb += (u.height - 1) * f.A, f.A = -f.A } else f = u.f.kb, u = u.height, f.O += (u - 1) * f.fa, f.fa = -f.fa, f.N += (u - 1 >> 1) * f.Ab, f.Ab = -f.Ab, f.W += (u - 1 >> 1) * f.Db, f.Db = -f.Db, f.F != null && (f.J += (u - 1) * f.lb, f.lb = -f.lb); return 0 } function zi(u, f, v, C) { if (C == null || 0 >= u || 0 >= f) return 2; if (v != null) { if (v.Da) { var L = v.cd, D = v.bd, $ = -2 & v.v, q = -2 & v.j; if (0 > $ || 0 > q || 0 >= L || 0 >= D || $ + L > u || q + D > f) return 2; u = L, f = D } if (v.da) { if (!X(u, f, L = [v.ib], D = [v.hb])) return 2; u = L[0], f = D[0] } } C.width = u, C.height = f; e: { var Z = C.width, Ae = C.height; if (u = C.S, 0 >= Z || 0 >= Ae || !(u >= an && 13 > u)) u = 2; else { if (0 >= C.Rd && C.sd == null) { $ = D = L = f = 0; var Ce = (q = Z * S1[u]) * Ae; if (11 > u || (D = (Ae + 1) / 2 * (f = (Z + 1) / 2), u == 12 && ($ = (L = Z) * Ae)), (Ae = a(Ce + 2 * D + $)) == null) { u = 1; break e } C.sd = Ae, 11 > u ? ((Z = C.f.RGBA).eb = Ae, Z.fb = 0, Z.A = q, Z.size = Ce) : ((Z = C.f.kb).y = Ae, Z.O = 0, Z.fa = q, Z.Fd = Ce, Z.f = Ae, Z.N = 0 + Ce, Z.Ab = f, Z.Cd = D, Z.ea = Ae, Z.W = 0 + Ce + D, Z.Db = f, Z.Ed = D, u == 12 && (Z.F = Ae, Z.J = 0 + Ce + 2 * D), Z.Tc = $, Z.lb = L) } if (f = 1, L = C.S, D = C.width, $ = C.height, L >= an && 13 > L) if (11 > L) u = C.f.RGBA, f &= (q = Math.abs(u.A)) * ($ - 1) + D <= u.size, f &= q >= D * S1[L], f &= u.eb != null; else { u = C.f.kb, q = (D + 1) / 2, Ce = ($ + 1) / 2, Z = Math.abs(u.fa), Ae = Math.abs(u.Ab); var Me = Math.abs(u.Db), oe = Math.abs(u.lb), _e = oe * ($ - 1) + D; f &= Z * ($ - 1) + D <= u.Fd, f &= Ae * (Ce - 1) + q <= u.Cd, f = (f &= Me * (Ce - 1) + q <= u.Ed) & Z >= D & Ae >= q & Me >= q, f &= u.y != null, f &= u.f != null, f &= u.ea != null, L == 12 && (f &= oe >= D, f &= _e <= u.Tc, f &= u.F != null) } else f = 0; u = f ? 0 : 2 } } return u != 0 || v != null && v.fd && (u = RA(C)), u } var ja = 64, fs = [0, 1, 3, 7, 15, 31, 63, 127, 255, 511, 1023, 2047, 4095, 8191, 16383, 32767, 65535, 131071, 262143, 524287, 1048575, 2097151, 4194303, 8388607, 16777215], ps = 24, qi = 32, Ei = 8, Wi = [0, 0, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7]; W("Predictor0", "PredictorAdd0"), N.Predictor0 = function () { return 4278190080 }, N.Predictor1 = function (u) { return u }, N.Predictor2 = function (u, f, v) { return f[v + 0] }, N.Predictor3 = function (u, f, v) { return f[v + 1] }, N.Predictor4 = function (u, f, v) { return f[v - 1] }, N.Predictor5 = function (u, f, v) { return Ke(Ke(u, f[v + 1]), f[v + 0]) }, N.Predictor6 = function (u, f, v) { return Ke(u, f[v - 1]) }, N.Predictor7 = function (u, f, v) { return Ke(u, f[v + 0]) }, N.Predictor8 = function (u, f, v) { return Ke(f[v - 1], f[v + 0]) }, N.Predictor9 = function (u, f, v) { return Ke(f[v + 0], f[v + 1]) }, N.Predictor10 = function (u, f, v) { return Ke(Ke(u, f[v - 1]), Ke(f[v + 0], f[v + 1])) }, N.Predictor11 = function (u, f, v) { var C = f[v + 0]; return 0 >= ot(C >> 24 & 255, u >> 24 & 255, (f = f[v - 1]) >> 24 & 255) + ot(C >> 16 & 255, u >> 16 & 255, f >> 16 & 255) + ot(C >> 8 & 255, u >> 8 & 255, f >> 8 & 255) + ot(255 & C, 255 & u, 255 & f) ? C : u }, N.Predictor12 = function (u, f, v) { var C = f[v + 0]; return (ze((u >> 24 & 255) + (C >> 24 & 255) - ((f = f[v - 1]) >> 24 & 255)) << 24 | ze((u >> 16 & 255) + (C >> 16 & 255) - (f >> 16 & 255)) << 16 | ze((u >> 8 & 255) + (C >> 8 & 255) - (f >> 8 & 255)) << 8 | ze((255 & u) + (255 & C) - (255 & f))) >>> 0 }, N.Predictor13 = function (u, f, v) { var C = f[v - 1]; return (We((u = Ke(u, f[v + 0])) >> 24 & 255, C >> 24 & 255) << 24 | We(u >> 16 & 255, C >> 16 & 255) << 16 | We(u >> 8 & 255, C >> 8 & 255) << 8 | We(255 & u, 255 & C)) >>> 0 }; var HA = N.PredictorAdd0; N.PredictorAdd1 = be, W("Predictor2", "PredictorAdd2"), W("Predictor3", "PredictorAdd3"), W("Predictor4", "PredictorAdd4"), W("Predictor5", "PredictorAdd5"), W("Predictor6", "PredictorAdd6"), W("Predictor7", "PredictorAdd7"), W("Predictor8", "PredictorAdd8"), W("Predictor9", "PredictorAdd9"), W("Predictor10", "PredictorAdd10"), W("Predictor11", "PredictorAdd11"), W("Predictor12", "PredictorAdd12"), W("Predictor13", "PredictorAdd13"); var nA = N.PredictorAdd2; Ee("ColorIndexInverseTransform", "MapARGB", "32b", function (u) { return u >> 8 & 255 }, function (u) { return u }), Ee("VP8LColorIndexInverseTransformAlpha", "MapAlpha", "8b", function (u) { return u }, function (u) { return u >> 8 & 255 }); var sn, S = N.ColorIndexInverseTransform, K = N.MapARGB, J = N.VP8LColorIndexInverseTransformAlpha, fe = N.MapAlpha, me = N.VP8LPredictorsAdd = []; me.length = 16, (N.VP8LPredictors = []).length = 16, (N.VP8LPredictorsAdd_C = []).length = 16, (N.VP8LPredictors_C = []).length = 16; var Oe, Qe, Re, je, De, at, Je, Ot, vt, Lt, we, ft, Nt, Ve, Ut, Rt, $t, Ht, jt, rr, xr, Sr, hn, cr, _r, Pn, Ea, Ji, MA = a(511), $A = a(2041), Ur = a(225), fn = a(767), Br = 0, qr = $A, gs = Ur, Rr = fn, vr = MA, an = 0, Fi = 1, Rd = 2, Ll = 3, Ol = 4, Pl = 5, KA = 6, nu = 7, Dl = 8, Rl = 9, su = 10, P0 = [2, 3, 7], D0 = [3, 3, 11], m1 = [280, 256, 256, 256, 40], Z4 = [0, 1, 1, 1, 0], eC = [17, 18, 0, 1, 2, 3, 4, 5, 16, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15], tC = [24, 7, 23, 25, 40, 6, 39, 41, 22, 26, 38, 42, 56, 5, 55, 57, 21, 27, 54, 58, 37, 43, 72, 4, 71, 73, 20, 28, 53, 59, 70, 74, 36, 44, 88, 69, 75, 52, 60, 3, 87, 89, 19, 29, 86, 90, 35, 45, 68, 76, 85, 91, 51, 61, 104, 2, 103, 105, 18, 30, 102, 106, 34, 46, 84, 92, 67, 77, 101, 107, 50, 62, 120, 1, 119, 121, 83, 93, 17, 31, 100, 108, 66, 78, 118, 122, 33, 47, 117, 123, 49, 63, 99, 109, 82, 94, 0, 116, 124, 65, 79, 16, 32, 98, 110, 48, 115, 125, 81, 95, 64, 114, 126, 97, 111, 80, 113, 127, 96, 112], rC = [2954, 2956, 2958, 2962, 2970, 2986, 3018, 3082, 3212, 3468, 3980, 5004], nC = 8, R0 = [4, 5, 6, 7, 8, 9, 10, 10, 11, 12, 13, 14, 15, 16, 17, 17, 18, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 25, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 91, 93, 95, 96, 98, 100, 101, 102, 104, 106, 108, 110, 112, 114, 116, 118, 122, 124, 126, 128, 130, 132, 134, 136, 138, 140, 143, 145, 148, 151, 154, 157], H0 = [4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 60, 62, 64, 66, 68, 70, 72, 74, 76, 78, 80, 82, 84, 86, 88, 90, 92, 94, 96, 98, 100, 102, 104, 106, 108, 110, 112, 114, 116, 119, 122, 125, 128, 131, 134, 137, 140, 143, 146, 149, 152, 155, 158, 161, 164, 167, 170, 173, 177, 181, 185, 189, 193, 197, 201, 205, 209, 213, 217, 221, 225, 229, 234, 239, 245, 249, 254, 259, 264, 269, 274, 279, 284], iu = null, sC = [[173, 148, 140, 0], [176, 155, 140, 135, 0], [180, 157, 141, 134, 130, 0], [254, 254, 243, 230, 196, 177, 153, 140, 133, 130, 129, 0]], iC = [0, 1, 4, 8, 5, 2, 3, 6, 9, 12, 13, 10, 7, 11, 14, 15], x1 = [-0, 1, -1, 2, -2, 3, 4, 6, -3, 5, -4, -5, -6, 7, -7, 8, -8, -9], aC = [[[[128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128], [128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128], [128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128]], [[253, 136, 254, 255, 228, 219, 128, 128, 128, 128, 128], [189, 129, 242, 255, 227, 213, 255, 219, 128, 128, 128], [106, 126, 227, 252, 214, 209, 255, 255, 128, 128, 128]], [[1, 98, 248, 255, 236, 226, 255, 255, 128, 128, 128], [181, 133, 238, 254, 221, 234, 255, 154, 128, 128, 128], [78, 134, 202, 247, 198, 180, 255, 219, 128, 128, 128]], [[1, 185, 249, 255, 243, 255, 128, 128, 128, 128, 128], [184, 150, 247, 255, 236, 224, 128, 128, 128, 128, 128], [77, 110, 216, 255, 236, 230, 128, 128, 128, 128, 128]], [[1, 101, 251, 255, 241, 255, 128, 128, 128, 128, 128], [170, 139, 241, 252, 236, 209, 255, 255, 128, 128, 128], [37, 116, 196, 243, 228, 255, 255, 255, 128, 128, 128]], [[1, 204, 254, 255, 245, 255, 128, 128, 128, 128, 128], [207, 160, 250, 255, 238, 128, 128, 128, 128, 128, 128], [102, 103, 231, 255, 211, 171, 128, 128, 128, 128, 128]], [[1, 152, 252, 255, 240, 255, 128, 128, 128, 128, 128], [177, 135, 243, 255, 234, 225, 128, 128, 128, 128, 128], [80, 129, 211, 255, 194, 224, 128, 128, 128, 128, 128]], [[1, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128], [246, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128], [255, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128]]], [[[198, 35, 237, 223, 193, 187, 162, 160, 145, 155, 62], [131, 45, 198, 221, 172, 176, 220, 157, 252, 221, 1], [68, 47, 146, 208, 149, 167, 221, 162, 255, 223, 128]], [[1, 149, 241, 255, 221, 224, 255, 255, 128, 128, 128], [184, 141, 234, 253, 222, 220, 255, 199, 128, 128, 128], [81, 99, 181, 242, 176, 190, 249, 202, 255, 255, 128]], [[1, 129, 232, 253, 214, 197, 242, 196, 255, 255, 128], [99, 121, 210, 250, 201, 198, 255, 202, 128, 128, 128], [23, 91, 163, 242, 170, 187, 247, 210, 255, 255, 128]], [[1, 200, 246, 255, 234, 255, 128, 128, 128, 128, 128], [109, 178, 241, 255, 231, 245, 255, 255, 128, 128, 128], [44, 130, 201, 253, 205, 192, 255, 255, 128, 128, 128]], [[1, 132, 239, 251, 219, 209, 255, 165, 128, 128, 128], [94, 136, 225, 251, 218, 190, 255, 255, 128, 128, 128], [22, 100, 174, 245, 186, 161, 255, 199, 128, 128, 128]], [[1, 182, 249, 255, 232, 235, 128, 128, 128, 128, 128], [124, 143, 241, 255, 227, 234, 128, 128, 128, 128, 128], [35, 77, 181, 251, 193, 211, 255, 205, 128, 128, 128]], [[1, 157, 247, 255, 236, 231, 255, 255, 128, 128, 128], [121, 141, 235, 255, 225, 227, 255, 255, 128, 128, 128], [45, 99, 188, 251, 195, 217, 255, 224, 128, 128, 128]], [[1, 1, 251, 255, 213, 255, 128, 128, 128, 128, 128], [203, 1, 248, 255, 255, 128, 128, 128, 128, 128, 128], [137, 1, 177, 255, 224, 255, 128, 128, 128, 128, 128]]], [[[253, 9, 248, 251, 207, 208, 255, 192, 128, 128, 128], [175, 13, 224, 243, 193, 185, 249, 198, 255, 255, 128], [73, 17, 171, 221, 161, 179, 236, 167, 255, 234, 128]], [[1, 95, 247, 253, 212, 183, 255, 255, 128, 128, 128], [239, 90, 244, 250, 211, 209, 255, 255, 128, 128, 128], [155, 77, 195, 248, 188, 195, 255, 255, 128, 128, 128]], [[1, 24, 239, 251, 218, 219, 255, 205, 128, 128, 128], [201, 51, 219, 255, 196, 186, 128, 128, 128, 128, 128], [69, 46, 190, 239, 201, 218, 255, 228, 128, 128, 128]], [[1, 191, 251, 255, 255, 128, 128, 128, 128, 128, 128], [223, 165, 249, 255, 213, 255, 128, 128, 128, 128, 128], [141, 124, 248, 255, 255, 128, 128, 128, 128, 128, 128]], [[1, 16, 248, 255, 255, 128, 128, 128, 128, 128, 128], [190, 36, 230, 255, 236, 255, 128, 128, 128, 128, 128], [149, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128]], [[1, 226, 255, 128, 128, 128, 128, 128, 128, 128, 128], [247, 192, 255, 128, 128, 128, 128, 128, 128, 128, 128], [240, 128, 255, 128, 128, 128, 128, 128, 128, 128, 128]], [[1, 134, 252, 255, 255, 128, 128, 128, 128, 128, 128], [213, 62, 250, 255, 255, 128, 128, 128, 128, 128, 128], [55, 93, 255, 128, 128, 128, 128, 128, 128, 128, 128]], [[128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128], [128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128], [128, 128, 128, 128, 128, 128, 128, 128, 128, 128, 128]]], [[[202, 24, 213, 235, 186, 191, 220, 160, 240, 175, 255], [126, 38, 182, 232, 169, 184, 228, 174, 255, 187, 128], [61, 46, 138, 219, 151, 178, 240, 170, 255, 216, 128]], [[1, 112, 230, 250, 199, 191, 247, 159, 255, 255, 128], [166, 109, 228, 252, 211, 215, 255, 174, 128, 128, 128], [39, 77, 162, 232, 172, 180, 245, 178, 255, 255, 128]], [[1, 52, 220, 246, 198, 199, 249, 220, 255, 255, 128], [124, 74, 191, 243, 183, 193, 250, 221, 255, 255, 128], [24, 71, 130, 219, 154, 170, 243, 182, 255, 255, 128]], [[1, 182, 225, 249, 219, 240, 255, 224, 128, 128, 128], [149, 150, 226, 252, 216, 205, 255, 171, 128, 128, 128], [28, 108, 170, 242, 183, 194, 254, 223, 255, 255, 128]], [[1, 81, 230, 252, 204, 203, 255, 192, 128, 128, 128], [123, 102, 209, 247, 188, 196, 255, 233, 128, 128, 128], [20, 95, 153, 243, 164, 173, 255, 203, 128, 128, 128]], [[1, 222, 248, 255, 216, 213, 128, 128, 128, 128, 128], [168, 175, 246, 252, 235, 205, 255, 255, 128, 128, 128], [47, 116, 215, 255, 211, 212, 255, 255, 128, 128, 128]], [[1, 121, 236, 253, 212, 214, 255, 255, 128, 128, 128], [141, 84, 213, 252, 201, 202, 255, 219, 128, 128, 128], [42, 80, 160, 240, 162, 185, 255, 205, 128, 128, 128]], [[1, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128], [244, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128], [238, 1, 255, 128, 128, 128, 128, 128, 128, 128, 128]]]], AC = [[[231, 120, 48, 89, 115, 113, 120, 152, 112], [152, 179, 64, 126, 170, 118, 46, 70, 95], [175, 69, 143, 80, 85, 82, 72, 155, 103], [56, 58, 10, 171, 218, 189, 17, 13, 152], [114, 26, 17, 163, 44, 195, 21, 10, 173], [121, 24, 80, 195, 26, 62, 44, 64, 85], [144, 71, 10, 38, 171, 213, 144, 34, 26], [170, 46, 55, 19, 136, 160, 33, 206, 71], [63, 20, 8, 114, 114, 208, 12, 9, 226], [81, 40, 11, 96, 182, 84, 29, 16, 36]], [[134, 183, 89, 137, 98, 101, 106, 165, 148], [72, 187, 100, 130, 157, 111, 32, 75, 80], [66, 102, 167, 99, 74, 62, 40, 234, 128], [41, 53, 9, 178, 241, 141, 26, 8, 107], [74, 43, 26, 146, 73, 166, 49, 23, 157], [65, 38, 105, 160, 51, 52, 31, 115, 128], [104, 79, 12, 27, 217, 255, 87, 17, 7], [87, 68, 71, 44, 114, 51, 15, 186, 23], [47, 41, 14, 110, 182, 183, 21, 17, 194], [66, 45, 25, 102, 197, 189, 23, 18, 22]], [[88, 88, 147, 150, 42, 46, 45, 196, 205], [43, 97, 183, 117, 85, 38, 35, 179, 61], [39, 53, 200, 87, 26, 21, 43, 232, 171], [56, 34, 51, 104, 114, 102, 29, 93, 77], [39, 28, 85, 171, 58, 165, 90, 98, 64], [34, 22, 116, 206, 23, 34, 43, 166, 73], [107, 54, 32, 26, 51, 1, 81, 43, 31], [68, 25, 106, 22, 64, 171, 36, 225, 114], [34, 19, 21, 102, 132, 188, 16, 76, 124], [62, 18, 78, 95, 85, 57, 50, 48, 51]], [[193, 101, 35, 159, 215, 111, 89, 46, 111], [60, 148, 31, 172, 219, 228, 21, 18, 111], [112, 113, 77, 85, 179, 255, 38, 120, 114], [40, 42, 1, 196, 245, 209, 10, 25, 109], [88, 43, 29, 140, 166, 213, 37, 43, 154], [61, 63, 30, 155, 67, 45, 68, 1, 209], [100, 80, 8, 43, 154, 1, 51, 26, 71], [142, 78, 78, 16, 255, 128, 34, 197, 171], [41, 40, 5, 102, 211, 183, 4, 1, 221], [51, 50, 17, 168, 209, 192, 23, 25, 82]], [[138, 31, 36, 171, 27, 166, 38, 44, 229], [67, 87, 58, 169, 82, 115, 26, 59, 179], [63, 59, 90, 180, 59, 166, 93, 73, 154], [40, 40, 21, 116, 143, 209, 34, 39, 175], [47, 15, 16, 183, 34, 223, 49, 45, 183], [46, 17, 33, 183, 6, 98, 15, 32, 183], [57, 46, 22, 24, 128, 1, 54, 17, 37], [65, 32, 73, 115, 28, 128, 23, 128, 205], [40, 3, 9, 115, 51, 192, 18, 6, 223], [87, 37, 9, 115, 59, 77, 64, 21, 47]], [[104, 55, 44, 218, 9, 54, 53, 130, 226], [64, 90, 70, 205, 40, 41, 23, 26, 57], [54, 57, 112, 184, 5, 41, 38, 166, 213], [30, 34, 26, 133, 152, 116, 10, 32, 134], [39, 19, 53, 221, 26, 114, 32, 73, 255], [31, 9, 65, 234, 2, 15, 1, 118, 73], [75, 32, 12, 51, 192, 255, 160, 43, 51], [88, 31, 35, 67, 102, 85, 55, 186, 85], [56, 21, 23, 111, 59, 205, 45, 37, 192], [55, 38, 70, 124, 73, 102, 1, 34, 98]], [[125, 98, 42, 88, 104, 85, 117, 175, 82], [95, 84, 53, 89, 128, 100, 113, 101, 45], [75, 79, 123, 47, 51, 128, 81, 171, 1], [57, 17, 5, 71, 102, 57, 53, 41, 49], [38, 33, 13, 121, 57, 73, 26, 1, 85], [41, 10, 67, 138, 77, 110, 90, 47, 114], [115, 21, 2, 10, 102, 255, 166, 23, 6], [101, 29, 16, 10, 85, 128, 101, 196, 26], [57, 18, 10, 102, 102, 213, 34, 20, 43], [117, 20, 15, 36, 163, 128, 68, 1, 26]], [[102, 61, 71, 37, 34, 53, 31, 243, 192], [69, 60, 71, 38, 73, 119, 28, 222, 37], [68, 45, 128, 34, 1, 47, 11, 245, 171], [62, 17, 19, 70, 146, 85, 55, 62, 70], [37, 43, 37, 154, 100, 163, 85, 160, 1], [63, 9, 92, 136, 28, 64, 32, 201, 85], [75, 15, 9, 9, 64, 255, 184, 119, 16], [86, 6, 28, 5, 64, 255, 25, 248, 1], [56, 8, 17, 132, 137, 255, 55, 116, 128], [58, 15, 20, 82, 135, 57, 26, 121, 40]], [[164, 50, 31, 137, 154, 133, 25, 35, 218], [51, 103, 44, 131, 131, 123, 31, 6, 158], [86, 40, 64, 135, 148, 224, 45, 183, 128], [22, 26, 17, 131, 240, 154, 14, 1, 209], [45, 16, 21, 91, 64, 222, 7, 1, 197], [56, 21, 39, 155, 60, 138, 23, 102, 213], [83, 12, 13, 54, 192, 255, 68, 47, 28], [85, 26, 85, 85, 128, 128, 32, 146, 171], [18, 11, 7, 63, 144, 171, 4, 4, 246], [35, 27, 10, 146, 174, 171, 12, 26, 128]], [[190, 80, 35, 99, 180, 80, 126, 54, 45], [85, 126, 47, 87, 176, 51, 41, 20, 32], [101, 75, 128, 139, 118, 146, 116, 128, 85], [56, 41, 15, 176, 236, 85, 37, 9, 62], [71, 30, 17, 119, 118, 255, 17, 18, 138], [101, 38, 60, 138, 55, 70, 43, 26, 142], [146, 36, 19, 30, 171, 255, 97, 27, 20], [138, 45, 61, 62, 219, 1, 81, 188, 64], [32, 41, 20, 117, 151, 142, 20, 21, 163], [112, 19, 12, 61, 195, 128, 48, 4, 24]]], oC = [[[[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[176, 246, 255, 255, 255, 255, 255, 255, 255, 255, 255], [223, 241, 252, 255, 255, 255, 255, 255, 255, 255, 255], [249, 253, 253, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 244, 252, 255, 255, 255, 255, 255, 255, 255, 255], [234, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [253, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 246, 254, 255, 255, 255, 255, 255, 255, 255, 255], [239, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 254, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 248, 254, 255, 255, 255, 255, 255, 255, 255, 255], [251, 255, 254, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [251, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 254, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 254, 253, 255, 254, 255, 255, 255, 255, 255, 255], [250, 255, 254, 255, 254, 255, 255, 255, 255, 255, 255], [254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]]], [[[217, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [225, 252, 241, 253, 255, 255, 254, 255, 255, 255, 255], [234, 250, 241, 250, 253, 255, 253, 254, 255, 255, 255]], [[255, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255], [223, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [238, 253, 254, 254, 255, 255, 255, 255, 255, 255, 255]], [[255, 248, 254, 255, 255, 255, 255, 255, 255, 255, 255], [249, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 253, 255, 255, 255, 255, 255, 255, 255, 255, 255], [247, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [252, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [253, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 254, 253, 255, 255, 255, 255, 255, 255, 255, 255], [250, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]]], [[[186, 251, 250, 255, 255, 255, 255, 255, 255, 255, 255], [234, 251, 244, 254, 255, 255, 255, 255, 255, 255, 255], [251, 251, 243, 253, 254, 255, 254, 255, 255, 255, 255]], [[255, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [236, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [251, 253, 253, 254, 254, 255, 255, 255, 255, 255, 255]], [[255, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [254, 254, 254, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255], [254, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]]], [[[248, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [250, 254, 252, 254, 255, 255, 255, 255, 255, 255, 255], [248, 254, 249, 253, 255, 255, 255, 255, 255, 255, 255]], [[255, 253, 253, 255, 255, 255, 255, 255, 255, 255, 255], [246, 253, 253, 255, 255, 255, 255, 255, 255, 255, 255], [252, 254, 251, 254, 254, 255, 255, 255, 255, 255, 255]], [[255, 254, 252, 255, 255, 255, 255, 255, 255, 255, 255], [248, 254, 253, 255, 255, 255, 255, 255, 255, 255, 255], [253, 255, 254, 254, 255, 255, 255, 255, 255, 255, 255]], [[255, 251, 254, 255, 255, 255, 255, 255, 255, 255, 255], [245, 251, 254, 255, 255, 255, 255, 255, 255, 255, 255], [253, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 251, 253, 255, 255, 255, 255, 255, 255, 255, 255], [252, 253, 254, 255, 255, 255, 255, 255, 255, 255, 255], [255, 254, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 252, 255, 255, 255, 255, 255, 255, 255, 255, 255], [249, 255, 254, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 254, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 253, 255, 255, 255, 255, 255, 255, 255, 255], [250, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]], [[255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [254, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255]]]], lC = [0, 1, 2, 3, 6, 4, 5, 6, 6, 6, 6, 6, 6, 6, 6, 7, 0], GA = [], Yi = [], sA = [], cC = 1, v1 = 2, VA = [], _i = []; Si("UpsampleRgbLinePair", Vi, 3), Si("UpsampleBgrLinePair", On, 3), Si("UpsampleRgbaLinePair", Yn, 4), Si("UpsampleBgraLinePair", PA, 4), Si("UpsampleArgbLinePair", OA, 4), Si("UpsampleRgba4444LinePair", Na, 2), Si("UpsampleRgb565LinePair", Ca, 2); var uC = N.UpsampleRgbLinePair, dC = N.UpsampleBgrLinePair, w1 = N.UpsampleRgbaLinePair, y1 = N.UpsampleBgraLinePair, b1 = N.UpsampleArgbLinePair, B1 = N.UpsampleRgba4444LinePair, hC = N.UpsampleRgb565LinePair, Hd = 16, Md = 1 << Hd - 1, au = -227, M0 = 482, fC = 6, C1 = 0, pC = a(256), gC = a(256), mC = a(256), xC = a(256), vC = a(M0 - au), wC = a(M0 - au); ji("YuvToRgbRow", Vi, 3), ji("YuvToBgrRow", On, 3), ji("YuvToRgbaRow", Yn, 4), ji("YuvToBgraRow", PA, 4), ji("YuvToArgbRow", OA, 4), ji("YuvToRgba4444Row", Na, 2), ji("YuvToRgb565Row", Ca, 2); var N1 = [0, 4, 8, 12, 128, 132, 136, 140, 256, 260, 264, 268, 384, 388, 392, 396], $d = [0, 2, 8], yC = [8, 7, 6, 4, 4, 2, 2, 2, 1, 1, 1, 1], bC = 1; this.WebPDecodeRGBA = function (u, f, v, C, L) { var D = Fi, $ = new tt, q = new kt; $.ba = q, q.S = D, q.width = [q.width], q.height = [q.height]; var Z = q.width, Ae = q.height, Ce = new Qt; if (Ce == null || u == null) var Me = 2; else e(Ce != null), Me = Sa(u, f, v, Ce.width, Ce.height, Ce.Pd, Ce.Qd, Ce.format, null); if (Me != 0 ? Z = 0 : (Z != null && (Z[0] = Ce.width[0]), Ae != null && (Ae[0] = Ce.height[0]), Z = 1), Z) { q.width = q.width[0], q.height = q.height[0], C != null && (C[0] = q.width), L != null && (L[0] = q.height); e: { if (C = new Wa, (L = new lt).data = u, L.w = f, L.ha = v, L.kd = 1, f = [0], e(L != null), ((u = Sa(L.data, L.w, L.ha, null, null, null, f, null, L)) == 0 || u == 7) && f[0] && (u = 4), (f = u) == 0) { if (e($ != null), C.data = L.data, C.w = L.w + L.offset, C.ha = L.ha - L.offset, C.put = Ge, C.ac = st, C.bc = Et, C.ma = $, L.xa) { if ((u = Os()) == null) { $ = 1; break e } if (function (oe, _e) { var Pe = [0], et = [0], He = [0]; t: for (; ;) { if (oe == null) return 0; if (_e == null) return oe.a = 2, 0; if (oe.l = _e, oe.a = 0, ue(oe.m, _e.data, _e.w, _e.ha), !Vt(oe.m, Pe, et, He)) { oe.a = 3; break t } if (oe.xb = v1, _e.width = Pe[0], _e.height = et[0], !Ys(Pe[0], et[0], 1, oe, null)) break t; return 1 } return e(oe.a != 0), 0 }(u, C)) { if (C = (f = zi(C.width, C.height, $.Oa, $.ba)) == 0) { t: { C = u; r: for (; ;) { if (C == null) { C = 0; break t } if (e(C.s.yc != null), e(C.s.Ya != null), e(0 < C.s.Wb), e((v = C.l) != null), e((L = v.ma) != null), C.xb != 0) { if (C.ca = L.ba, C.tb = L.tb, e(C.ca != null), !DA(L.Oa, v, Ll)) { C.a = 2; break r } if (!$i(C, v.width) || v.da) break r; if ((v.da || ht(C.ca.S)) && Hs(), 11 > C.ca.S || (alert("todo:WebPInitConvertARGBToYUV"), C.ca.f.kb.F != null && Hs()), C.Pb && 0 < C.s.ua && C.s.vb.X == null && !F(C.s.vb, C.s.Wa.Xa)) { C.a = 1; break r } C.xb = 0 } if (!Mn(C, C.V, C.Ba, C.c, C.i, v.o, cn)) break r; L.Dc = C.Ma, C = 1; break t } e(C.a != 0), C = 0 } C = !C } C && (f = u.a) } else f = u.a } else { if ((u = new Zr) == null) { $ = 1; break e } if (u.Fa = L.na, u.P = L.P, u.qc = L.Sa, hs(u, C)) { if ((f = zi(C.width, C.height, $.Oa, $.ba)) == 0) { if (u.Aa = 0, v = $.Oa, e((L = u) != null), v != null) { if (0 < (Z = 0 > (Z = v.Md) ? 0 : 100 < Z ? 255 : 255 * Z / 100)) { for (Ae = Ce = 0; 4 > Ae; ++Ae)12 > (Me = L.pb[Ae]).lc && (Me.ia = Z * yC[0 > Me.lc ? 0 : Me.lc] >> 3), Ce |= Me.ia; Ce && (alert("todo:VP8InitRandom"), L.ia = 1) } L.Ga = v.Id, 100 < L.Ga ? L.Ga = 100 : 0 > L.Ga && (L.Ga = 0) } (function (oe, _e) { if (oe == null) return 0; if (_e == null) return vn(oe, 2, "NULL VP8Io parameter in VP8Decode()."); if (!oe.cb && !hs(oe, _e)) return 0; if (e(oe.cb), _e.ac == null || _e.ac(_e)) { _e.ob && (oe.L = 0); var Pe = $d[oe.L]; if (oe.L == 2 ? (oe.yb = 0, oe.zb = 0) : (oe.yb = _e.v - Pe >> 4, oe.zb = _e.j - Pe >> 4, 0 > oe.yb && (oe.yb = 0), 0 > oe.zb && (oe.zb = 0)), oe.Va = _e.o + 15 + Pe >> 4, oe.Hb = _e.va + 15 + Pe >> 4, oe.Hb > oe.za && (oe.Hb = oe.za), oe.Va > oe.Ub && (oe.Va = oe.Ub), 0 < oe.L) { var et = oe.ed; for (Pe = 0; 4 > Pe; ++Pe) { var He; if (oe.Qa.Cb) { var rt = oe.Qa.Lb[Pe]; oe.Qa.Fb || (rt += et.Tb) } else rt = et.Tb; for (He = 0; 1 >= He; ++He) { var it = oe.gd[Pe][He], gt = rt; if (et.Pc && (gt += et.vd[0], He && (gt += et.od[0])), 0 < (gt = 0 > gt ? 0 : 63 < gt ? 63 : gt)) { var ut = gt; 0 < et.wb && (ut = 4 < et.wb ? ut >> 2 : ut >> 1) > 9 - et.wb && (ut = 9 - et.wb), 1 > ut && (ut = 1), it.dd = ut, it.tc = 2 * gt + ut, it.ld = 40 <= gt ? 2 : 15 <= gt ? 1 : 0 } else it.tc = 0; it.La = He } } } Pe = 0 } else vn(oe, 6, "Frame setup failed"), Pe = oe.a; if (Pe = Pe == 0) { if (Pe) { oe.$c = 0, 0 < oe.Aa || (oe.Ic = bC); t: { Pe = oe.Ic, et = 4 * (ut = oe.za); var Xt = 32 * ut, Gt = ut + 1, gr = 0 < oe.L ? ut * (0 < oe.Aa ? 2 : 1) : 0, Jt = (oe.Aa == 2 ? 2 : 1) * ut; if ((it = et + 832 + (He = 3 * (16 * Pe + $d[oe.L]) / 2 * Xt) + (rt = oe.Fa != null && 0 < oe.Fa.length ? oe.Kc.c * oe.Kc.i : 0)) != it) Pe = 0; else { if (it > oe.Vb) { if (oe.Vb = 0, oe.Ec = a(it), oe.Fc = 0, oe.Ec == null) { Pe = vn(oe, 1, "no memory during frame initialization."); break t } oe.Vb = it } it = oe.Ec, gt = oe.Fc, oe.Ac = it, oe.Bc = gt, gt += et, oe.Gd = A(Xt, Wt), oe.Hd = 0, oe.rb = A(Gt + 1, jA), oe.sb = 1, oe.wa = gr ? A(gr, Ps) : null, oe.Y = 0, oe.D.Nb = 0, oe.D.wa = oe.wa, oe.D.Y = oe.Y, 0 < oe.Aa && (oe.D.Y += ut), e(!0), oe.oc = it, oe.pc = gt, gt += 832, oe.ya = A(Jt, To), oe.aa = 0, oe.D.ya = oe.ya, oe.D.aa = oe.aa, oe.Aa == 2 && (oe.D.aa += ut), oe.R = 16 * ut, oe.B = 8 * ut, ut = (Xt = $d[oe.L]) * oe.R, Xt = Xt / 2 * oe.B, oe.sa = it, oe.ta = gt + ut, oe.qa = oe.sa, oe.ra = oe.ta + 16 * Pe * oe.R + Xt, oe.Ha = oe.qa, oe.Ia = oe.ra + 8 * Pe * oe.B + Xt, oe.$c = 0, gt += He, oe.mb = rt ? it : null, oe.nb = rt ? gt : null, e(gt + rt <= oe.Fc + oe.Vb), jl(oe), s(oe.Ac, oe.Bc, 0, et), Pe = 1 } } if (Pe) { if (_e.ka = 0, _e.y = oe.sa, _e.O = oe.ta, _e.f = oe.qa, _e.N = oe.ra, _e.ea = oe.Ha, _e.Vd = oe.Ia, _e.fa = oe.R, _e.Rc = oe.B, _e.F = null, _e.J = 0, !Br) { for (Pe = -255; 255 >= Pe; ++Pe)MA[255 + Pe] = 0 > Pe ? -Pe : Pe; for (Pe = -1020; 1020 >= Pe; ++Pe)$A[1020 + Pe] = -128 > Pe ? -128 : 127 < Pe ? 127 : Pe; for (Pe = -112; 112 >= Pe; ++Pe)Ur[112 + Pe] = -16 > Pe ? -16 : 15 < Pe ? 15 : Pe; for (Pe = -255; 510 >= Pe; ++Pe)fn[255 + Pe] = 0 > Pe ? 0 : 255 < Pe ? 255 : Pe; Br = 1 } Je = FA, Ot = ur, Lt = Xs, we = EA, ft = Oo, vt = eu, Nt = $o, Ve = ya, Ut = Q, Rt = ae, $t = Ko, Ht = m, jt = xe, rr = Ie, xr = wa, Sr = TA, hn = Ho, cr = Mo, Yi[0] = kl, Yi[1] = kr, Yi[2] = Rs, Yi[3] = _l, Yi[4] = vi, Yi[5] = Ul, Yi[6] = wi, Yi[7] = Il, Yi[8] = _A, Yi[9] = Za, GA[0] = Do, GA[1] = tu, GA[2] = Po, GA[3] = Fl, GA[4] = wr, GA[5] = Xa, GA[6] = ru, sA[0] = Tl, sA[1] = Ya, sA[2] = va, sA[3] = Ql, sA[4] = UA, sA[5] = kA, sA[6] = Ro, Pe = 1 } else Pe = 0 } Pe && (Pe = function (Nr, $n) { for (Nr.M = 0; Nr.M < Nr.Va; ++Nr.M) { var mr, Yt = Nr.Jc[Nr.M & Nr.Xb], St = Nr.m, jn = Nr; for (mr = 0; mr < jn.za; ++mr) { var hr = St, jr = jn, en = jr.Ac, rs = jr.Bc + 4 * mr, Fs = jr.zc, yn = jr.ya[jr.aa + mr]; if (jr.Qa.Bb ? yn.$b = Le(hr, jr.Pa.jb[0]) ? 2 + Le(hr, jr.Pa.jb[2]) : Le(hr, jr.Pa.jb[1]) : yn.$b = 0, jr.kc && (yn.Ad = Le(hr, jr.Bd)), yn.Za = !Le(hr, 145) + 0, yn.Za) { var ms = yn.Ob, _s = 0; for (jr = 0; 4 > jr; ++jr) { var Kn, Er = Fs[0 + jr]; for (Kn = 0; 4 > Kn; ++Kn) { Er = AC[en[rs + Kn]][Er]; for (var Tr = x1[Le(hr, Er[0])]; 0 < Tr;)Tr = x1[2 * Tr + Le(hr, Er[Tr])]; Er = -Tr, en[rs + Kn] = Er } n(ms, _s, en, rs, 4), _s += 4, Fs[0 + jr] = Er } } else Er = Le(hr, 156) ? Le(hr, 128) ? 1 : 3 : Le(hr, 163) ? 2 : 0, yn.Ob[0] = Er, s(en, rs, Er, 4), s(Fs, 0, Er, 4); yn.Dd = Le(hr, 142) ? Le(hr, 114) ? Le(hr, 183) ? 1 : 3 : 2 : 0 } if (jn.m.Ka) return vn(Nr, 7, "Premature end-of-partition0 encountered."); for (; Nr.ja < Nr.za; ++Nr.ja) { if (jn = Yt, hr = (St = Nr).rb[St.sb - 1], en = St.rb[St.sb + St.ja], mr = St.ya[St.aa + St.ja], rs = St.kc ? mr.Ad : 0) hr.la = en.la = 0, mr.Za || (hr.Na = en.Na = 0), mr.Hc = 0, mr.Gc = 0, mr.ia = 0; else { var bn, Lr; if (hr = en, en = jn, rs = St.Pa.Xc, Fs = St.ya[St.aa + St.ja], yn = St.pb[Fs.$b], jr = Fs.ad, ms = 0, _s = St.rb[St.sb - 1], Er = Kn = 0, s(jr, ms, 0, 384), Fs.Za) var ns = 0, Xi = rs[3]; else { Tr = a(16); var En = hr.Na + _s.Na; if (En = iu(en, rs[1], En, yn.Eb, 0, Tr, 0), hr.Na = _s.Na = (0 < En) + 0, 1 < En) Je(Tr, 0, jr, ms); else { var Ms = Tr[0] + 3 >> 3; for (Tr = 0; 256 > Tr; Tr += 16)jr[ms + Tr] = Ms } ns = 1, Xi = rs[0] } var Kr = 15 & hr.la, Gn = 15 & _s.la; for (Tr = 0; 4 > Tr; ++Tr) { var ei = 1 & Gn; for (Ms = Lr = 0; 4 > Ms; ++Ms)Kr = Kr >> 1 | (ei = (En = iu(en, Xi, En = ei + (1 & Kr), yn.Sc, ns, jr, ms)) > ns) << 7, Lr = Lr << 2 | (3 < En ? 3 : 1 < En ? 2 : jr[ms + 0] != 0), ms += 16; Kr >>= 4, Gn = Gn >> 1 | ei << 7, Kn = (Kn << 8 | Lr) >>> 0 } for (Xi = Kr, ns = Gn >> 4, bn = 0; 4 > bn; bn += 2) { for (Lr = 0, Kr = hr.la >> 4 + bn, Gn = _s.la >> 4 + bn, Tr = 0; 2 > Tr; ++Tr) { for (ei = 1 & Gn, Ms = 0; 2 > Ms; ++Ms)En = ei + (1 & Kr), Kr = Kr >> 1 | (ei = 0 < (En = iu(en, rs[2], En, yn.Qc, 0, jr, ms))) << 3, Lr = Lr << 2 | (3 < En ? 3 : 1 < En ? 2 : jr[ms + 0] != 0), ms += 16; Kr >>= 2, Gn = Gn >> 1 | ei << 5 } Er |= Lr << 4 * bn, Xi |= Kr << 4 << bn, ns |= (240 & Gn) << bn } hr.la = Xi, _s.la = ns, Fs.Hc = Kn, Fs.Gc = Er, Fs.ia = 43690 & Er ? 0 : yn.ia, rs = !(Kn | Er) } if (0 < St.L && (St.wa[St.Y + St.ja] = St.gd[mr.$b][mr.Za], St.wa[St.Y + St.ja].La |= !rs), jn.Ka) return vn(Nr, 7, "Premature end-of-file encountered.") } if (jl(Nr), St = $n, jn = 1, mr = (Yt = Nr).D, hr = 0 < Yt.L && Yt.M >= Yt.zb && Yt.M <= Yt.Va, Yt.Aa == 0) t: { if (mr.M = Yt.M, mr.uc = hr, Es(Yt, mr), jn = 1, mr = (Lr = Yt.D).Nb, hr = (Er = $d[Yt.L]) * Yt.R, en = Er / 2 * Yt.B, Tr = 16 * mr * Yt.R, Ms = 8 * mr * Yt.B, rs = Yt.sa, Fs = Yt.ta - hr + Tr, yn = Yt.qa, jr = Yt.ra - en + Ms, ms = Yt.Ha, _s = Yt.Ia - en + Ms, Gn = (Kr = Lr.M) == 0, Kn = Kr >= Yt.Va - 1, Yt.Aa == 2 && Es(Yt, Lr), Lr.uc) for (ei = (En = Yt).D.M, e(En.D.uc), Lr = En.yb; Lr < En.Hb; ++Lr) { ns = Lr, Xi = ei; var ks = (ti = (ss = En).D).Nb; bn = ss.R; var ti = ti.wa[ti.Y + ns], ri = ss.sa, $s = ss.ta + 16 * ks * bn + 16 * ns, ni = ti.dd, Wr = ti.tc; if (Wr != 0) if (e(3 <= Wr), ss.L == 1) 0 < ns && Sr(ri, $s, bn, Wr + 4), ti.La && cr(ri, $s, bn, Wr), 0 < Xi && xr(ri, $s, bn, Wr + 4), ti.La && hn(ri, $s, bn, Wr); else { var si = ss.B, Zi = ss.qa, Vo = ss.ra + 8 * ks * si + 8 * ns, iA = ss.Ha, ss = ss.Ia + 8 * ks * si + 8 * ns; ks = ti.ld, 0 < ns && (Ve(ri, $s, bn, Wr + 4, ni, ks), Rt(Zi, Vo, iA, ss, si, Wr + 4, ni, ks)), ti.La && (Ht(ri, $s, bn, Wr, ni, ks), rr(Zi, Vo, iA, ss, si, Wr, ni, ks)), 0 < Xi && (Nt(ri, $s, bn, Wr + 4, ni, ks), Ut(Zi, Vo, iA, ss, si, Wr + 4, ni, ks)), ti.La && ($t(ri, $s, bn, Wr, ni, ks), jt(Zi, Vo, iA, ss, si, Wr, ni, ks)) } } if (Yt.ia && alert("todo:DitherRow"), St.put != null) { if (Lr = 16 * Kr, Kr = 16 * (Kr + 1), Gn ? (St.y = Yt.sa, St.O = Yt.ta + Tr, St.f = Yt.qa, St.N = Yt.ra + Ms, St.ea = Yt.Ha, St.W = Yt.Ia + Ms) : (Lr -= Er, St.y = rs, St.O = Fs, St.f = yn, St.N = jr, St.ea = ms, St.W = _s), Kn || (Kr -= Er), Kr > St.o && (Kr = St.o), St.F = null, St.J = null, Yt.Fa != null && 0 < Yt.Fa.length && Lr < Kr && (St.J = Qr(Yt, St, Lr, Kr - Lr), St.F = Yt.mb, St.F == null && St.F.length == 0)) { jn = vn(Yt, 3, "Could not decode alpha data."); break t } Lr < St.j && (Er = St.j - Lr, Lr = St.j, e(!(1 & Er)), St.O += Yt.R * Er, St.N += Yt.B * (Er >> 1), St.W += Yt.B * (Er >> 1), St.F != null && (St.J += St.width * Er)), Lr < Kr && (St.O += St.v, St.N += St.v >> 1, St.W += St.v >> 1, St.F != null && (St.J += St.v), St.ka = Lr - St.j, St.U = St.va - St.v, St.T = Kr - Lr, jn = St.put(St)) } mr + 1 != Yt.Ic || Kn || (n(Yt.sa, Yt.ta - hr, rs, Fs + 16 * Yt.R, hr), n(Yt.qa, Yt.ra - en, yn, jr + 8 * Yt.B, en), n(Yt.Ha, Yt.Ia - en, ms, _s + 8 * Yt.B, en)) } if (!jn) return vn(Nr, 6, "Output aborted.") } return 1 }(oe, _e)), _e.bc != null && _e.bc(_e), Pe &= 1 } return Pe ? (oe.cb = 0, Pe) : 0 })(u, C) || (f = u.a) } } else f = u.a } f == 0 && $.Oa != null && $.Oa.fd && (f = RA($.ba)) } $ = f } D = $ != 0 ? null : 11 > D ? q.f.RGBA.eb : q.f.kb.y } else D = null; return D }; var S1 = [3, 4, 3, 4, 4, 2, 2, 4, 4, 4, 2, 1, 1] }; function c(N, H) { for (var k = "", _ = 0; _ < 4; _++)k += String.fromCharCode(N[H++]); return k } function d(N, H) { return N[H + 0] | N[H + 1] << 8 } function p(N, H) { return (N[H + 0] | N[H + 1] << 8 | N[H + 2] << 16) >>> 0 } function g(N, H) { return (N[H + 0] | N[H + 1] << 8 | N[H + 2] << 16 | N[H + 3] << 24) >>> 0 } new l; var h = [0], b = [0], w = [], j = new l, x = t, y = function (N, H) { var k = {}, _ = 0, V = !1, P = 0, te = 0; if (k.frames = [], !function (I, R) { for (var re = 0; re < 4; re++)if (I[R + re] != "RIFF".charCodeAt(re)) return !0; return !1 }(N, H)) { for (g(N, H += 4), H += 8; H < N.length;) { var ce = c(N, H), he = g(N, H += 4); H += 4; var ie = he + (1 & he); switch (ce) { case "VP8 ": case "VP8L": k.frames[_] === void 0 && (k.frames[_] = {}), (ve = k.frames[_]).src_off = V ? te : H - 8, ve.src_size = P + he + 8, _++, V && (V = !1, P = 0, te = 0); break; case "VP8X": (ve = k.header = {}).feature_flags = N[H]; var ue = H + 4; ve.canvas_width = 1 + p(N, ue), ue += 3, ve.canvas_height = 1 + p(N, ue), ue += 3; break; case "ALPH": V = !0, P = ie + 8, te = H - 8; break; case "ANIM": (ve = k.header).bgcolor = g(N, H), ue = H + 4, ve.loop_count = d(N, ue), ue += 2; break; case "ANMF": var pe, ve; (ve = k.frames[_] = {}).offset_x = 2 * p(N, H), H += 3, ve.offset_y = 2 * p(N, H), H += 3, ve.width = 1 + p(N, H), H += 3, ve.height = 1 + p(N, H), H += 3, ve.duration = p(N, H), H += 3, pe = N[H++], ve.dispose = 1 & pe, ve.blend = pe >> 1 & 1 }ce != "ANMF" && (H += ie) } return k } }(x, 0); y.response = x, y.rgbaoutput = !0, y.dataurl = !1; var B = y.header ? y.header : null, E = y.frames ? y.frames : null; if (B) { B.loop_counter = B.loop_count, h = [B.canvas_height], b = [B.canvas_width]; for (var T = 0; T < E.length && E[T].blend != 0; T++); } var U = E[0], M = j.WebPDecodeRGBA(x, U.src_off, U.src_size, b, h); U.rgba = M, U.imgwidth = b[0], U.imgheight = h[0]; for (var G = 0; G < b[0] * h[0] * 4; G++)w[G] = M[G]; return this.width = b, this.height = h, this.data = w, this }/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */function Y6() { var t, e = this.internal.__metadata__.metadata, r = unescape(encodeURIComponent(e)); t = this.internal.__metadata__.rawXml ? r : '<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="' + this.internal.__metadata__.namespaceUri + '"><jspdf:metadata>' + r.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&apos;") + "</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>", this.internal.__metadata__.metadataObjectNumber = this.internal.newObject(), this.internal.write("<< /Type /Metadata /Subtype /XML /Length " + t.length + " >>"), this.internal.write("stream"), this.internal.write(t), this.internal.write("endstream"), this.internal.write("endobj") } function X6() { this.internal.__metadata__.metadataObjectNumber && this.internal.write("/Metadata " + this.internal.__metadata__.metadataObjectNumber + " 0 R") } (function (t) { var e, r, n, s, a, A, o, l, c, d = function (I) { return I = I || {}, this.isStrokeTransparent = I.isStrokeTransparent || !1, this.strokeOpacity = I.strokeOpacity || 1, this.strokeStyle = I.strokeStyle || "#000000", this.fillStyle = I.fillStyle || "#000000", this.isFillTransparent = I.isFillTransparent || !1, this.fillOpacity = I.fillOpacity || 1, this.font = I.font || "10px sans-serif", this.textBaseline = I.textBaseline || "alphabetic", this.textAlign = I.textAlign || "left", this.lineWidth = I.lineWidth || 1, this.lineJoin = I.lineJoin || "miter", this.lineCap = I.lineCap || "butt", this.path = I.path || [], this.transform = I.transform !== void 0 ? I.transform.clone() : new l, this.globalCompositeOperation = I.globalCompositeOperation || "normal", this.globalAlpha = I.globalAlpha || 1, this.clip_path = I.clip_path || [], this.currentPoint = I.currentPoint || new A, this.miterLimit = I.miterLimit || 10, this.lastPoint = I.lastPoint || new A, this.lineDashOffset = I.lineDashOffset || 0, this.lineDash = I.lineDash || [], this.margin = I.margin || [0, 0, 0, 0], this.prevPageLastElemOffset = I.prevPageLastElemOffset || 0, this.ignoreClearRect = typeof I.ignoreClearRect != "boolean" || I.ignoreClearRect, this }; t.events.push(["initialized", function () { this.context2d = new p(this), e = this.internal.f2, r = this.internal.getCoordinateString, n = this.internal.getVerticalCoordinateString, s = this.internal.getHorizontalCoordinate, a = this.internal.getVerticalCoordinate, A = this.internal.Point, o = this.internal.Rectangle, l = this.internal.Matrix, c = new d }]); var p = function (I) { Object.defineProperty(this, "canvas", { get: function () { return { parentNode: !1, style: !1 } } }); var R = I; Object.defineProperty(this, "pdf", { get: function () { return R } }); var re = !1; Object.defineProperty(this, "pageWrapXEnabled", { get: function () { return re }, set: function (F) { re = !!F } }); var Y = !1; Object.defineProperty(this, "pageWrapYEnabled", { get: function () { return Y }, set: function (F) { Y = !!F } }); var le = 0; Object.defineProperty(this, "posX", { get: function () { return le }, set: function (F) { isNaN(F) || (le = F) } }); var ge = 0; Object.defineProperty(this, "posY", { get: function () { return ge }, set: function (F) { isNaN(F) || (ge = F) } }), Object.defineProperty(this, "margin", { get: function () { return c.margin }, set: function (F) { var se; typeof F == "number" ? se = [F, F, F, F] : ((se = new Array(4))[0] = F[0], se[1] = F.length >= 2 ? F[1] : se[0], se[2] = F.length >= 3 ? F[2] : se[0], se[3] = F.length >= 4 ? F[3] : se[1]), c.margin = se } }); var ke = !1; Object.defineProperty(this, "autoPaging", { get: function () { return ke }, set: function (F) { ke = F } }); var Fe = 0; Object.defineProperty(this, "lastBreak", { get: function () { return Fe }, set: function (F) { Fe = F } }); var Le = []; Object.defineProperty(this, "pageBreaks", { get: function () { return Le }, set: function (F) { Le = F } }), Object.defineProperty(this, "ctx", { get: function () { return c }, set: function (F) { F instanceof d && (c = F) } }), Object.defineProperty(this, "path", { get: function () { return c.path }, set: function (F) { c.path = F } }); var nt = []; Object.defineProperty(this, "ctxStack", { get: function () { return nt }, set: function (F) { nt = F } }), Object.defineProperty(this, "fillStyle", { get: function () { return this.ctx.fillStyle }, set: function (F) { var se; se = g(F), this.ctx.fillStyle = se.style, this.ctx.isFillTransparent = se.a === 0, this.ctx.fillOpacity = se.a, this.pdf.setFillColor(se.r, se.g, se.b, { a: se.a }), this.pdf.setTextColor(se.r, se.g, se.b, { a: se.a }) } }), Object.defineProperty(this, "strokeStyle", { get: function () { return this.ctx.strokeStyle }, set: function (F) { var se = g(F); this.ctx.strokeStyle = se.style, this.ctx.isStrokeTransparent = se.a === 0, this.ctx.strokeOpacity = se.a, se.a === 0 ? this.pdf.setDrawColor(255, 255, 255) : (se.a, this.pdf.setDrawColor(se.r, se.g, se.b)) } }), Object.defineProperty(this, "lineCap", { get: function () { return this.ctx.lineCap }, set: function (F) { ["butt", "round", "square"].indexOf(F) !== -1 && (this.ctx.lineCap = F, this.pdf.setLineCap(F)) } }), Object.defineProperty(this, "lineWidth", { get: function () { return this.ctx.lineWidth }, set: function (F) { isNaN(F) || (this.ctx.lineWidth = F, this.pdf.setLineWidth(F)) } }), Object.defineProperty(this, "lineJoin", { get: function () { return this.ctx.lineJoin }, set: function (F) { ["bevel", "round", "miter"].indexOf(F) !== -1 && (this.ctx.lineJoin = F, this.pdf.setLineJoin(F)) } }), Object.defineProperty(this, "miterLimit", { get: function () { return this.ctx.miterLimit }, set: function (F) { isNaN(F) || (this.ctx.miterLimit = F, this.pdf.setMiterLimit(F)) } }), Object.defineProperty(this, "textBaseline", { get: function () { return this.ctx.textBaseline }, set: function (F) { this.ctx.textBaseline = F } }), Object.defineProperty(this, "textAlign", { get: function () { return this.ctx.textAlign }, set: function (F) { ["right", "end", "center", "left", "start"].indexOf(F) !== -1 && (this.ctx.textAlign = F) } }); var ct = null, de = null, Ze = null; Object.defineProperty(this, "fontFaces", { get: function () { return Ze }, set: function (F) { ct = null, de = null, Ze = F } }), Object.defineProperty(this, "font", { get: function () { return this.ctx.font }, set: function (F) { var se; if (this.ctx.font = F, (se = /^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(F)) !== null) { var qe = se[1]; se[2]; var X = se[3], ne = se[4]; se[5]; var Se = se[6], W = /^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ne)[2]; ne = Math.floor(W === "px" ? parseFloat(ne) * this.pdf.internal.scaleFactor : W === "em" ? parseFloat(ne) * this.pdf.getFontSize() : parseFloat(ne) * this.pdf.internal.scaleFactor), this.pdf.setFontSize(ne); var $e = function (Ee) { var Ye, Xe, Be = [], Te = Ee.trim(); if (Te === "") return xg; if (Te in h2) return [h2[Te]]; for (; Te !== "";) { switch (Xe = null, Ye = (Te = p2(Te)).charAt(0)) { case '"': case "'": Xe = G6(Te.substring(1), Ye); break; default: Xe = V6(Te) }if (Xe === null || (Be.push(Xe[0]), (Te = p2(Xe[1])) !== "" && Te.charAt(0) !== ",")) return xg; Te = Te.replace(/^,/, "") } return Be }(Se); if (this.fontFaces) { var Ke = function (Ee, Ye) { var Xe = Ee.getFontList(), Be = JSON.stringify(Xe); if (ct === null || de !== Be) { var Te = function (pt) { var At = []; return Object.keys(pt).forEach(function (bt) { pt[bt].forEach(function (ht) { var xt = null; switch (ht) { case "bold": xt = { family: bt, weight: "bold" }; break; case "italic": xt = { family: bt, style: "italic" }; break; case "bolditalic": xt = { family: bt, weight: "bold", style: "italic" }; break; case "": case "normal": xt = { family: bt } }xt !== null && (xt.ref = { name: bt, style: ht }, At.push(xt)) }) }), At }(Xe); ct = function (pt) { for (var At = {}, bt = 0; bt < pt.length; ++bt) { var ht = mg(pt[bt]), xt = ht.family, Ct = ht.stretch, kt = ht.style, Qt = ht.weight; At[xt] = At[xt] || {}, At[xt][Ct] = At[xt][Ct] || {}, At[xt][Ct][kt] = At[xt][Ct][kt] || {}, At[xt][Ct][kt][Qt] = ht } return At }(Te.concat(Ye)), de = Be } return ct }(this.pdf, this.fontFaces), ze = $e.map(function (Ee) { return { family: Ee, stretch: "normal", weight: X, style: qe } }), We = function (Ee, Ye, Xe) { for (var Be = (Xe = Xe || {}).defaultFontFamily || "times", Te = Object.assign({}, K6, Xe.genericFontFamilies || {}), pt = null, At = null, bt = 0; bt < Ye.length; ++bt)if (Te[(pt = mg(Ye[bt])).family] && (pt.family = Te[pt.family]), Ee.hasOwnProperty(pt.family)) { At = Ee[pt.family]; break } if (!(At = At || Ee[Be])) throw new Error("Could not find a font-family for the rule '" + f2(pt) + "' and default family '" + Be + "'."); if (At = function (ht, xt) { if (xt[ht]) return xt[ht]; var Ct = sx[ht], kt = Ct <= sx.normal ? -1 : 1, Qt = d2(xt, q4, Ct, kt); if (!Qt) throw new Error("Could not find a matching font-stretch value for " + ht); return Qt }(pt.stretch, At), At = function (ht, xt) { if (xt[ht]) return xt[ht]; for (var Ct = z4[ht], kt = 0; kt < Ct.length; ++kt)if (xt[Ct[kt]]) return xt[Ct[kt]]; throw new Error("Could not find a matching font-style for " + ht) }(pt.style, At), !(At = function (ht, xt) { if (xt[ht]) return xt[ht]; if (ht === 400 && xt[500]) return xt[500]; if (ht === 500 && xt[400]) return xt[400]; var Ct = $6[ht], kt = d2(xt, W4, Ct, ht < 400 ? -1 : 1); if (!kt) throw new Error("Could not find a matching font-weight for value " + ht); return kt }(pt.weight, At))) throw new Error("Failed to resolve a font for the rule '" + f2(pt) + "'."); return At }(Ke, ze); this.pdf.setFont(We.ref.name, We.ref.style) } else { var ot = ""; (X === "bold" || parseInt(X, 10) >= 700 || qe === "bold") && (ot = "bold"), qe === "italic" && (ot += "italic"), ot.length === 0 && (ot = "normal"); for (var be = "", Ne = { arial: "Helvetica", Arial: "Helvetica", verdana: "Helvetica", Verdana: "Helvetica", helvetica: "Helvetica", Helvetica: "Helvetica", "sans-serif": "Helvetica", fixed: "Courier", monospace: "Courier", terminal: "Courier", cursive: "Times", fantasy: "Times", serif: "Times" }, ee = 0; ee < $e.length; ee++) { if (this.pdf.internal.getFont($e[ee], ot, { noFallback: !0, disableWarning: !0 }) !== void 0) { be = $e[ee]; break } if (ot === "bolditalic" && this.pdf.internal.getFont($e[ee], "bold", { noFallback: !0, disableWarning: !0 }) !== void 0) be = $e[ee], ot = "bold"; else if (this.pdf.internal.getFont($e[ee], "normal", { noFallback: !0, disableWarning: !0 }) !== void 0) { be = $e[ee], ot = "normal"; break } } if (be === "") { for (var ye = 0; ye < $e.length; ye++)if (Ne[$e[ye]]) { be = Ne[$e[ye]]; break } } be = be === "" ? "Times" : be, this.pdf.setFont(be, ot) } } } }), Object.defineProperty(this, "globalCompositeOperation", { get: function () { return this.ctx.globalCompositeOperation }, set: function (F) { this.ctx.globalCompositeOperation = F } }), Object.defineProperty(this, "globalAlpha", { get: function () { return this.ctx.globalAlpha }, set: function (F) { this.ctx.globalAlpha = F } }), Object.defineProperty(this, "lineDashOffset", { get: function () { return this.ctx.lineDashOffset }, set: function (F) { this.ctx.lineDashOffset = F, ve.call(this) } }), Object.defineProperty(this, "lineDash", { get: function () { return this.ctx.lineDash }, set: function (F) { this.ctx.lineDash = F, ve.call(this) } }), Object.defineProperty(this, "ignoreClearRect", { get: function () { return this.ctx.ignoreClearRect }, set: function (F) { this.ctx.ignoreClearRect = !!F } }) }; p.prototype.setLineDash = function (I) { this.lineDash = I }, p.prototype.getLineDash = function () { return this.lineDash.length % 2 ? this.lineDash.concat(this.lineDash) : this.lineDash.slice() }, p.prototype.fill = function () { E.call(this, "fill", !1) }, p.prototype.stroke = function () { E.call(this, "stroke", !1) }, p.prototype.beginPath = function () { this.path = [{ type: "begin" }] }, p.prototype.moveTo = function (I, R) { if (isNaN(I) || isNaN(R)) throw Gr.error("jsPDF.context2d.moveTo: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.moveTo"); var re = this.ctx.transform.applyToPoint(new A(I, R)); this.path.push({ type: "mt", x: re.x, y: re.y }), this.ctx.lastPoint = new A(I, R) }, p.prototype.closePath = function () { var I = new A(0, 0), R = 0; for (R = this.path.length - 1; R !== -1; R--)if (this.path[R].type === "begin" && Pr(this.path[R + 1]) === "object" && typeof this.path[R + 1].x == "number") { I = new A(this.path[R + 1].x, this.path[R + 1].y); break } this.path.push({ type: "close" }), this.ctx.lastPoint = new A(I.x, I.y) }, p.prototype.lineTo = function (I, R) { if (isNaN(I) || isNaN(R)) throw Gr.error("jsPDF.context2d.lineTo: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.lineTo"); var re = this.ctx.transform.applyToPoint(new A(I, R)); this.path.push({ type: "lt", x: re.x, y: re.y }), this.ctx.lastPoint = new A(re.x, re.y) }, p.prototype.clip = function () { this.ctx.clip_path = JSON.parse(JSON.stringify(this.path)), E.call(this, null, !0) }, p.prototype.quadraticCurveTo = function (I, R, re, Y) { if (isNaN(re) || isNaN(Y) || isNaN(I) || isNaN(R)) throw Gr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo"); var le = this.ctx.transform.applyToPoint(new A(re, Y)), ge = this.ctx.transform.applyToPoint(new A(I, R)); this.path.push({ type: "qct", x1: ge.x, y1: ge.y, x: le.x, y: le.y }), this.ctx.lastPoint = new A(le.x, le.y) }, p.prototype.bezierCurveTo = function (I, R, re, Y, le, ge) { if (isNaN(le) || isNaN(ge) || isNaN(I) || isNaN(R) || isNaN(re) || isNaN(Y)) throw Gr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo"); var ke = this.ctx.transform.applyToPoint(new A(le, ge)), Fe = this.ctx.transform.applyToPoint(new A(I, R)), Le = this.ctx.transform.applyToPoint(new A(re, Y)); this.path.push({ type: "bct", x1: Fe.x, y1: Fe.y, x2: Le.x, y2: Le.y, x: ke.x, y: ke.y }), this.ctx.lastPoint = new A(ke.x, ke.y) }, p.prototype.arc = function (I, R, re, Y, le, ge) { if (isNaN(I) || isNaN(R) || isNaN(re) || isNaN(Y) || isNaN(le)) throw Gr.error("jsPDF.context2d.arc: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.arc"); if (ge = !!ge, !this.ctx.transform.isIdentity) { var ke = this.ctx.transform.applyToPoint(new A(I, R)); I = ke.x, R = ke.y; var Fe = this.ctx.transform.applyToPoint(new A(0, re)), Le = this.ctx.transform.applyToPoint(new A(0, 0)); re = Math.sqrt(Math.pow(Fe.x - Le.x, 2) + Math.pow(Fe.y - Le.y, 2)) } Math.abs(le - Y) >= 2 * Math.PI && (Y = 0, le = 2 * Math.PI), this.path.push({ type: "arc", x: I, y: R, radius: re, startAngle: Y, endAngle: le, counterclockwise: ge }) }, p.prototype.arcTo = function (I, R, re, Y, le) { throw new Error("arcTo not implemented.") }, p.prototype.rect = function (I, R, re, Y) { if (isNaN(I) || isNaN(R) || isNaN(re) || isNaN(Y)) throw Gr.error("jsPDF.context2d.rect: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.rect"); this.moveTo(I, R), this.lineTo(I + re, R), this.lineTo(I + re, R + Y), this.lineTo(I, R + Y), this.lineTo(I, R), this.lineTo(I + re, R), this.lineTo(I, R) }, p.prototype.fillRect = function (I, R, re, Y) { if (isNaN(I) || isNaN(R) || isNaN(re) || isNaN(Y)) throw Gr.error("jsPDF.context2d.fillRect: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.fillRect"); if (!h.call(this)) { var le = {}; this.lineCap !== "butt" && (le.lineCap = this.lineCap, this.lineCap = "butt"), this.lineJoin !== "miter" && (le.lineJoin = this.lineJoin, this.lineJoin = "miter"), this.beginPath(), this.rect(I, R, re, Y), this.fill(), le.hasOwnProperty("lineCap") && (this.lineCap = le.lineCap), le.hasOwnProperty("lineJoin") && (this.lineJoin = le.lineJoin) } }, p.prototype.strokeRect = function (I, R, re, Y) { if (isNaN(I) || isNaN(R) || isNaN(re) || isNaN(Y)) throw Gr.error("jsPDF.context2d.strokeRect: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.strokeRect"); b.call(this) || (this.beginPath(), this.rect(I, R, re, Y), this.stroke()) }, p.prototype.clearRect = function (I, R, re, Y) { if (isNaN(I) || isNaN(R) || isNaN(re) || isNaN(Y)) throw Gr.error("jsPDF.context2d.clearRect: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.clearRect"); this.ignoreClearRect || (this.fillStyle = "#ffffff", this.fillRect(I, R, re, Y)) }, p.prototype.save = function (I) { I = typeof I != "boolean" || I; for (var R = this.pdf.internal.getCurrentPageInfo().pageNumber, re = 0; re < this.pdf.internal.getNumberOfPages(); re++)this.pdf.setPage(re + 1), this.pdf.internal.out("q"); if (this.pdf.setPage(R), I) { this.ctx.fontSize = this.pdf.internal.getFontSize(); var Y = new d(this.ctx); this.ctxStack.push(this.ctx), this.ctx = Y } }, p.prototype.restore = function (I) { I = typeof I != "boolean" || I; for (var R = this.pdf.internal.getCurrentPageInfo().pageNumber, re = 0; re < this.pdf.internal.getNumberOfPages(); re++)this.pdf.setPage(re + 1), this.pdf.internal.out("Q"); this.pdf.setPage(R), I && this.ctxStack.length !== 0 && (this.ctx = this.ctxStack.pop(), this.fillStyle = this.ctx.fillStyle, this.strokeStyle = this.ctx.strokeStyle, this.font = this.ctx.font, this.lineCap = this.ctx.lineCap, this.lineWidth = this.ctx.lineWidth, this.lineJoin = this.ctx.lineJoin, this.lineDash = this.ctx.lineDash, this.lineDashOffset = this.ctx.lineDashOffset) }, p.prototype.toDataURL = function () { throw new Error("toDataUrl not implemented.") }; var g = function (I) { var R, re, Y, le; if (I.isCanvasGradient === !0 && (I = I.getColor()), !I) return { r: 0, g: 0, b: 0, a: 0, style: I }; if (/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I)) R = 0, re = 0, Y = 0, le = 0; else { var ge = /rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I); if (ge !== null) R = parseInt(ge[1]), re = parseInt(ge[2]), Y = parseInt(ge[3]), le = 1; else if ((ge = /rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I)) !== null) R = parseInt(ge[1]), re = parseInt(ge[2]), Y = parseInt(ge[3]), le = parseFloat(ge[4]); else { if (le = 1, typeof I == "string" && I.charAt(0) !== "#") { var ke = new R4(I); I = ke.ok ? ke.toHex() : "#000000" } I.length === 4 ? (R = I.substring(1, 2), R += R, re = I.substring(2, 3), re += re, Y = I.substring(3, 4), Y += Y) : (R = I.substring(1, 3), re = I.substring(3, 5), Y = I.substring(5, 7)), R = parseInt(R, 16), re = parseInt(re, 16), Y = parseInt(Y, 16) } } return { r: R, g: re, b: Y, a: le, style: I } }, h = function () { return this.ctx.isFillTransparent || this.globalAlpha == 0 }, b = function () { return !!(this.ctx.isStrokeTransparent || this.globalAlpha == 0) }; p.prototype.fillText = function (I, R, re, Y) { if (isNaN(R) || isNaN(re) || typeof I != "string") throw Gr.error("jsPDF.context2d.fillText: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.fillText"); if (Y = isNaN(Y) ? void 0 : Y, !h.call(this)) { var le = ie(this.ctx.transform.rotation), ge = this.ctx.transform.scaleX; _.call(this, { text: I, x: R, y: re, scale: ge, angle: le, align: this.textAlign, maxWidth: Y }) } }, p.prototype.strokeText = function (I, R, re, Y) { if (isNaN(R) || isNaN(re) || typeof I != "string") throw Gr.error("jsPDF.context2d.strokeText: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.strokeText"); if (!b.call(this)) { Y = isNaN(Y) ? void 0 : Y; var le = ie(this.ctx.transform.rotation), ge = this.ctx.transform.scaleX; _.call(this, { text: I, x: R, y: re, scale: ge, renderingMode: "stroke", angle: le, align: this.textAlign, maxWidth: Y }) } }, p.prototype.measureText = function (I) { if (typeof I != "string") throw Gr.error("jsPDF.context2d.measureText: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.measureText"); var R = this.pdf, re = this.pdf.internal.scaleFactor, Y = R.internal.getFontSize(), le = R.getStringUnitWidth(I) * Y / R.internal.scaleFactor; return new function (ge) { var ke = (ge = ge || {}).width || 0; return Object.defineProperty(this, "width", { get: function () { return ke } }), this }({ width: le *= Math.round(96 * re / 72 * 1e4) / 1e4 }) }, p.prototype.scale = function (I, R) { if (isNaN(I) || isNaN(R)) throw Gr.error("jsPDF.context2d.scale: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.scale"); var re = new l(I, 0, 0, R, 0, 0); this.ctx.transform = this.ctx.transform.multiply(re) }, p.prototype.rotate = function (I) { if (isNaN(I)) throw Gr.error("jsPDF.context2d.rotate: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.rotate"); var R = new l(Math.cos(I), Math.sin(I), -Math.sin(I), Math.cos(I), 0, 0); this.ctx.transform = this.ctx.transform.multiply(R) }, p.prototype.translate = function (I, R) { if (isNaN(I) || isNaN(R)) throw Gr.error("jsPDF.context2d.translate: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.translate"); var re = new l(1, 0, 0, 1, I, R); this.ctx.transform = this.ctx.transform.multiply(re) }, p.prototype.transform = function (I, R, re, Y, le, ge) { if (isNaN(I) || isNaN(R) || isNaN(re) || isNaN(Y) || isNaN(le) || isNaN(ge)) throw Gr.error("jsPDF.context2d.transform: Invalid arguments", arguments), new Error("Invalid arguments passed to jsPDF.context2d.transform"); var ke = new l(I, R, re, Y, le, ge); this.ctx.transform = this.ctx.transform.multiply(ke) }, p.prototype.setTransform = function (I, R, re, Y, le, ge) { I = isNaN(I) ? 1 : I, R = isNaN(R) ? 0 : R, re = isNaN(re) ? 0 : re, Y = isNaN(Y) ? 1 : Y, le = isNaN(le) ? 0 : le, ge = isNaN(ge) ? 0 : ge, this.ctx.transform = new l(I, R, re, Y, le, ge) }; var w = function () { return this.margin[0] > 0 || this.margin[1] > 0 || this.margin[2] > 0 || this.margin[3] > 0 }; p.prototype.drawImage = function (I, R, re, Y, le, ge, ke, Fe, Le) { var nt = this.pdf.getImageProperties(I), ct = 1, de = 1, Ze = 1, F = 1; Y !== void 0 && Fe !== void 0 && (Ze = Fe / Y, F = Le / le, ct = nt.width / Y * Fe / Y, de = nt.height / le * Le / le), ge === void 0 && (ge = R, ke = re, R = 0, re = 0), Y !== void 0 && Fe === void 0 && (Fe = Y, Le = le), Y === void 0 && Fe === void 0 && (Fe = nt.width, Le = nt.height); var se = this.ctx.transform.decompose(), qe = ie(se.rotate.shx), X = new l, ne = (X = (X = (X = X.multiply(se.translate)).multiply(se.skew)).multiply(se.scale)).applyToRectangle(new o(ge - R * Ze, ke - re * F, Y * ct, le * de)); if (this.autoPaging) { for (var Se, W = j.call(this, ne), $e = [], Ke = 0; Ke < W.length; Ke += 1)$e.indexOf(W[Ke]) === -1 && $e.push(W[Ke]); B($e); for (var ze = $e[0], We = $e[$e.length - 1], ot = ze; ot < We + 1; ot++) { this.pdf.setPage(ot); var be = this.pdf.internal.pageSize.width - this.margin[3] - this.margin[1], Ne = ot === 1 ? this.posY + this.margin[0] : this.margin[0], ee = this.pdf.internal.pageSize.height - this.posY - this.margin[0] - this.margin[2], ye = this.pdf.internal.pageSize.height - this.margin[0] - this.margin[2], Ee = ot === 1 ? 0 : ee + (ot - 2) * ye; if (this.ctx.clip_path.length !== 0) { var Ye = this.path; Se = JSON.parse(JSON.stringify(this.ctx.clip_path)), this.path = y(Se, this.posX + this.margin[3], -Ee + Ne + this.ctx.prevPageLastElemOffset), T.call(this, "fill", !0), this.path = Ye } var Xe = JSON.parse(JSON.stringify(ne)); Xe = y([Xe], this.posX + this.margin[3], -Ee + Ne + this.ctx.prevPageLastElemOffset)[0]; var Be = (ot > ze || ot < We) && w.call(this); Be && (this.pdf.saveGraphicsState(), this.pdf.rect(this.margin[3], this.margin[0], be, ye, null).clip().discardPath()), this.pdf.addImage(I, "JPEG", Xe.x, Xe.y, Xe.w, Xe.h, null, null, qe), Be && this.pdf.restoreGraphicsState() } } else this.pdf.addImage(I, "JPEG", ne.x, ne.y, ne.w, ne.h, null, null, qe) }; var j = function (I, R, re) { var Y = []; R = R || this.pdf.internal.pageSize.width, re = re || this.pdf.internal.pageSize.height - this.margin[0] - this.margin[2]; var le = this.posY + this.ctx.prevPageLastElemOffset; switch (I.type) { default: case "mt": case "lt": Y.push(Math.floor((I.y + le) / re) + 1); break; case "arc": Y.push(Math.floor((I.y + le - I.radius) / re) + 1), Y.push(Math.floor((I.y + le + I.radius) / re) + 1); break; case "qct": var ge = ue(this.ctx.lastPoint.x, this.ctx.lastPoint.y, I.x1, I.y1, I.x, I.y); Y.push(Math.floor((ge.y + le) / re) + 1), Y.push(Math.floor((ge.y + ge.h + le) / re) + 1); break; case "bct": var ke = pe(this.ctx.lastPoint.x, this.ctx.lastPoint.y, I.x1, I.y1, I.x2, I.y2, I.x, I.y); Y.push(Math.floor((ke.y + le) / re) + 1), Y.push(Math.floor((ke.y + ke.h + le) / re) + 1); break; case "rect": Y.push(Math.floor((I.y + le) / re) + 1), Y.push(Math.floor((I.y + I.h + le) / re) + 1) }for (var Fe = 0; Fe < Y.length; Fe += 1)for (; this.pdf.internal.getNumberOfPages() < Y[Fe];)x.call(this); return Y }, x = function () { var I = this.fillStyle, R = this.strokeStyle, re = this.font, Y = this.lineCap, le = this.lineWidth, ge = this.lineJoin; this.pdf.addPage(), this.fillStyle = I, this.strokeStyle = R, this.font = re, this.lineCap = Y, this.lineWidth = le, this.lineJoin = ge }, y = function (I, R, re) { for (var Y = 0; Y < I.length; Y++)switch (I[Y].type) { case "bct": I[Y].x2 += R, I[Y].y2 += re; case "qct": I[Y].x1 += R, I[Y].y1 += re; default: I[Y].x += R, I[Y].y += re }return I }, B = function (I) { return I.sort(function (R, re) { return R - re }) }, E = function (I, R) { var re = this.fillStyle, Y = this.strokeStyle, le = this.lineCap, ge = this.lineWidth, ke = Math.abs(ge * this.ctx.transform.scaleX), Fe = this.lineJoin; if (this.autoPaging) { for (var Le, nt, ct = JSON.parse(JSON.stringify(this.path)), de = JSON.parse(JSON.stringify(this.path)), Ze = [], F = 0; F < de.length; F++)if (de[F].x !== void 0) for (var se = j.call(this, de[F]), qe = 0; qe < se.length; qe += 1)Ze.indexOf(se[qe]) === -1 && Ze.push(se[qe]); for (var X = 0; X < Ze.length; X++)for (; this.pdf.internal.getNumberOfPages() < Ze[X];)x.call(this); B(Ze); for (var ne = Ze[0], Se = Ze[Ze.length - 1], W = ne; W < Se + 1; W++) { this.pdf.setPage(W), this.fillStyle = re, this.strokeStyle = Y, this.lineCap = le, this.lineWidth = ke, this.lineJoin = Fe; var $e = this.pdf.internal.pageSize.width - this.margin[3] - this.margin[1], Ke = W === 1 ? this.posY + this.margin[0] : this.margin[0], ze = this.pdf.internal.pageSize.height - this.posY - this.margin[0] - this.margin[2], We = this.pdf.internal.pageSize.height - this.margin[0] - this.margin[2], ot = W === 1 ? 0 : ze + (W - 2) * We; if (this.ctx.clip_path.length !== 0) { var be = this.path; Le = JSON.parse(JSON.stringify(this.ctx.clip_path)), this.path = y(Le, this.posX + this.margin[3], -ot + Ke + this.ctx.prevPageLastElemOffset), T.call(this, I, !0), this.path = be } if (nt = JSON.parse(JSON.stringify(ct)), this.path = y(nt, this.posX + this.margin[3], -ot + Ke + this.ctx.prevPageLastElemOffset), R === !1 || W === 0) { var Ne = (W > ne || W < Se) && w.call(this); Ne && (this.pdf.saveGraphicsState(), this.pdf.rect(this.margin[3], this.margin[0], $e, We, null).clip().discardPath()), T.call(this, I, R), Ne && this.pdf.restoreGraphicsState() } this.lineWidth = ge } this.path = ct } else this.lineWidth = ke, T.call(this, I, R), this.lineWidth = ge }, T = function (I, R) { if ((I !== "stroke" || R || !b.call(this)) && (I === "stroke" || R || !h.call(this))) { for (var re, Y, le = [], ge = this.path, ke = 0; ke < ge.length; ke++) { var Fe = ge[ke]; switch (Fe.type) { case "begin": le.push({ begin: !0 }); break; case "close": le.push({ close: !0 }); break; case "mt": le.push({ start: Fe, deltas: [], abs: [] }); break; case "lt": var Le = le.length; if (ge[ke - 1] && !isNaN(ge[ke - 1].x) && (re = [Fe.x - ge[ke - 1].x, Fe.y - ge[ke - 1].y], Le > 0)) { for (; Le >= 0; Le--)if (le[Le - 1].close !== !0 && le[Le - 1].begin !== !0) { le[Le - 1].deltas.push(re), le[Le - 1].abs.push(Fe); break } } break; case "bct": re = [Fe.x1 - ge[ke - 1].x, Fe.y1 - ge[ke - 1].y, Fe.x2 - ge[ke - 1].x, Fe.y2 - ge[ke - 1].y, Fe.x - ge[ke - 1].x, Fe.y - ge[ke - 1].y], le[le.length - 1].deltas.push(re); break; case "qct": var nt = ge[ke - 1].x + 2 / 3 * (Fe.x1 - ge[ke - 1].x), ct = ge[ke - 1].y + 2 / 3 * (Fe.y1 - ge[ke - 1].y), de = Fe.x + 2 / 3 * (Fe.x1 - Fe.x), Ze = Fe.y + 2 / 3 * (Fe.y1 - Fe.y), F = Fe.x, se = Fe.y; re = [nt - ge[ke - 1].x, ct - ge[ke - 1].y, de - ge[ke - 1].x, Ze - ge[ke - 1].y, F - ge[ke - 1].x, se - ge[ke - 1].y], le[le.length - 1].deltas.push(re); break; case "arc": le.push({ deltas: [], abs: [], arc: !0 }), Array.isArray(le[le.length - 1].abs) && le[le.length - 1].abs.push(Fe) } } Y = R ? null : I === "stroke" ? "stroke" : "fill"; for (var qe = !1, X = 0; X < le.length; X++)if (le[X].arc) for (var ne = le[X].abs, Se = 0; Se < ne.length; Se++) { var W = ne[Se]; W.type === "arc" ? G.call(this, W.x, W.y, W.radius, W.startAngle, W.endAngle, W.counterclockwise, void 0, R, !qe) : V.call(this, W.x, W.y), qe = !0 } else if (le[X].close === !0) this.pdf.internal.out("h"), qe = !1; else if (le[X].begin !== !0) { var $e = le[X].start.x, Ke = le[X].start.y; P.call(this, le[X].deltas, $e, Ke), qe = !0 } Y && N.call(this, Y), R && H.call(this) } }, U = function (I) { var R = this.pdf.internal.getFontSize() / this.pdf.internal.scaleFactor, re = R * (this.pdf.internal.getLineHeightFactor() - 1); switch (this.ctx.textBaseline) { case "bottom": return I - re; case "top": return I + R - re; case "hanging": return I + R - 2 * re; case "middle": return I + R / 2 - re; default: return I } }, M = function (I) { return I + this.pdf.internal.getFontSize() / this.pdf.internal.scaleFactor * (this.pdf.internal.getLineHeightFactor() - 1) }; p.prototype.createLinearGradient = function () { var I = function () { }; return I.colorStops = [], I.addColorStop = function (R, re) { this.colorStops.push([R, re]) }, I.getColor = function () { return this.colorStops.length === 0 ? "#000000" : this.colorStops[0][1] }, I.isCanvasGradient = !0, I }, p.prototype.createPattern = function () { return this.createLinearGradient() }, p.prototype.createRadialGradient = function () { return this.createLinearGradient() }; var G = function (I, R, re, Y, le, ge, ke, Fe, Le) { for (var nt = ce.call(this, re, Y, le, ge), ct = 0; ct < nt.length; ct++) { var de = nt[ct]; ct === 0 && (Le ? k.call(this, de.x1 + I, de.y1 + R) : V.call(this, de.x1 + I, de.y1 + R)), te.call(this, I, R, de.x2, de.y2, de.x3, de.y3, de.x4, de.y4) } Fe ? H.call(this) : N.call(this, ke) }, N = function (I) { switch (I) { case "stroke": this.pdf.internal.out("S"); break; case "fill": this.pdf.internal.out("f") } }, H = function () { this.pdf.clip(), this.pdf.discardPath() }, k = function (I, R) { this.pdf.internal.out(r(I) + " " + n(R) + " m") }, _ = function (I) { var R; switch (I.align) { case "right": case "end": R = "right"; break; case "center": R = "center"; break; default: R = "left" }var re, Y, le, ge = this.pdf.getTextDimensions(I.text), ke = U.call(this, I.y), Fe = M.call(this, ke) - ge.h, Le = this.ctx.transform.applyToPoint(new A(I.x, ke)); if (this.autoPaging) { var nt = this.ctx.transform.decompose(), ct = new l; ct = (ct = (ct = ct.multiply(nt.translate)).multiply(nt.skew)).multiply(nt.scale); for (var de = this.ctx.transform.applyToRectangle(new o(I.x, ke, ge.w, ge.h)), Ze = ct.applyToRectangle(new o(I.x, Fe, ge.w, ge.h)), F = j.call(this, Ze), se = [], qe = 0; qe < F.length; qe += 1)se.indexOf(F[qe]) === -1 && se.push(F[qe]); B(se); for (var X = se[0], ne = se[se.length - 1], Se = X; Se < ne + 1; Se++) { this.pdf.setPage(Se); var W = Se === 1 ? this.posY + this.margin[0] : this.margin[0], $e = this.pdf.internal.pageSize.height - this.posY - this.margin[0] - this.margin[2], Ke = this.pdf.internal.pageSize.height - this.margin[2], ze = Ke - this.margin[0], We = this.pdf.internal.pageSize.width - this.margin[1], ot = We - this.margin[3], be = Se === 1 ? 0 : $e + (Se - 2) * ze; if (this.ctx.clip_path.length !== 0) { var Ne = this.path; re = JSON.parse(JSON.stringify(this.ctx.clip_path)), this.path = y(re, this.posX + this.margin[3], -1 * be + W), T.call(this, "fill", !0), this.path = Ne } var ee = y([JSON.parse(JSON.stringify(Ze))], this.posX + this.margin[3], -be + W + this.ctx.prevPageLastElemOffset)[0]; I.scale >= .01 && (Y = this.pdf.internal.getFontSize(), this.pdf.setFontSize(Y * I.scale), le = this.lineWidth, this.lineWidth = le * I.scale); var ye = this.autoPaging !== "text"; if (ye || ee.y + ee.h <= Ke) { if (ye || ee.y >= W && ee.x <= We) { var Ee = ye ? I.text : this.pdf.splitTextToSize(I.text, I.maxWidth || We - ee.x)[0], Ye = y([JSON.parse(JSON.stringify(de))], this.posX + this.margin[3], -be + W + this.ctx.prevPageLastElemOffset)[0], Xe = ye && (Se > X || Se < ne) && w.call(this); Xe && (this.pdf.saveGraphicsState(), this.pdf.rect(this.margin[3], this.margin[0], ot, ze, null).clip().discardPath()), this.pdf.text(Ee, Ye.x, Ye.y, { angle: I.angle, align: R, renderingMode: I.renderingMode }), Xe && this.pdf.restoreGraphicsState() } } else ee.y < Ke && (this.ctx.prevPageLastElemOffset += Ke - ee.y); I.scale >= .01 && (this.pdf.setFontSize(Y), this.lineWidth = le) } } else I.scale >= .01 && (Y = this.pdf.internal.getFontSize(), this.pdf.setFontSize(Y * I.scale), le = this.lineWidth, this.lineWidth = le * I.scale), this.pdf.text(I.text, Le.x + this.posX, Le.y + this.posY, { angle: I.angle, align: R, renderingMode: I.renderingMode, maxWidth: I.maxWidth }), I.scale >= .01 && (this.pdf.setFontSize(Y), this.lineWidth = le) }, V = function (I, R, re, Y) { re = re || 0, Y = Y || 0, this.pdf.internal.out(r(I + re) + " " + n(R + Y) + " l") }, P = function (I, R, re) { return this.pdf.lines(I, R, re, null, null) }, te = function (I, R, re, Y, le, ge, ke, Fe) { this.pdf.internal.out([e(s(re + I)), e(a(Y + R)), e(s(le + I)), e(a(ge + R)), e(s(ke + I)), e(a(Fe + R)), "c"].join(" ")) }, ce = function (I, R, re, Y) { for (var le = 2 * Math.PI, ge = Math.PI / 2; R > re;)R -= le; var ke = Math.abs(re - R); ke < le && Y && (ke = le - ke); for (var Fe = [], Le = Y ? -1 : 1, nt = R; ke > 1e-5;) { var ct = nt + Le * Math.min(ke, ge); Fe.push(he.call(this, I, nt, ct)), ke -= Math.abs(ct - nt), nt = ct } return Fe }, he = function (I, R, re) { var Y = (re - R) / 2, le = I * Math.cos(Y), ge = I * Math.sin(Y), ke = le, Fe = -ge, Le = ke * ke + Fe * Fe, nt = Le + ke * le + Fe * ge, ct = 4 / 3 * (Math.sqrt(2 * Le * nt) - nt) / (ke * ge - Fe * le), de = ke - ct * Fe, Ze = Fe + ct * ke, F = de, se = -Ze, qe = Y + R, X = Math.cos(qe), ne = Math.sin(qe); return { x1: I * Math.cos(R), y1: I * Math.sin(R), x2: de * X - Ze * ne, y2: de * ne + Ze * X, x3: F * X - se * ne, y3: F * ne + se * X, x4: I * Math.cos(re), y4: I * Math.sin(re) } }, ie = function (I) { return 180 * I / Math.PI }, ue = function (I, R, re, Y, le, ge) { var ke = I + .5 * (re - I), Fe = R + .5 * (Y - R), Le = le + .5 * (re - le), nt = ge + .5 * (Y - ge), ct = Math.min(I, le, ke, Le), de = Math.max(I, le, ke, Le), Ze = Math.min(R, ge, Fe, nt), F = Math.max(R, ge, Fe, nt); return new o(ct, Ze, de - ct, F - Ze) }, pe = function (I, R, re, Y, le, ge, ke, Fe) { var Le, nt, ct, de, Ze, F, se, qe, X, ne, Se, W, $e, Ke, ze = re - I, We = Y - R, ot = le - re, be = ge - Y, Ne = ke - le, ee = Fe - ge; for (nt = 0; nt < 41; nt++)X = (se = (ct = I + (Le = nt / 40) * ze) + Le * ((Ze = re + Le * ot) - ct)) + Le * (Ze + Le * (le + Le * Ne - Ze) - se), ne = (qe = (de = R + Le * We) + Le * ((F = Y + Le * be) - de)) + Le * (F + Le * (ge + Le * ee - F) - qe), nt == 0 ? (Se = X, W = ne, $e = X, Ke = ne) : (Se = Math.min(Se, X), W = Math.min(W, ne), $e = Math.max($e, X), Ke = Math.max(Ke, ne)); return new o(Math.round(Se), Math.round(W), Math.round($e - Se), Math.round(Ke - W)) }, ve = function () { if (this.prevLineDash || this.ctx.lineDash.length || this.ctx.lineDashOffset) { var I, R, re = (I = this.ctx.lineDash, R = this.ctx.lineDashOffset, JSON.stringify({ lineDash: I, lineDashOffset: R })); this.prevLineDash !== re && (this.pdf.setLineDash(this.ctx.lineDash, this.ctx.lineDashOffset), this.prevLineDash = re) } } })(er.API), function (t) { var e = function (A) { var o, l, c, d, p, g, h, b, w, j; for (l = [], c = 0, d = (A += o = "\0\0\0\0".slice(A.length % 4 || 4)).length; d > c; c += 4)(p = (A.charCodeAt(c) << 24) + (A.charCodeAt(c + 1) << 16) + (A.charCodeAt(c + 2) << 8) + A.charCodeAt(c + 3)) !== 0 ? (g = (p = ((p = ((p = ((p = (p - (j = p % 85)) / 85) - (w = p % 85)) / 85) - (b = p % 85)) / 85) - (h = p % 85)) / 85) % 85, l.push(g + 33, h + 33, b + 33, w + 33, j + 33)) : l.push(122); return function (x, y) { for (var B = y; B > 0; B--)x.pop() }(l, o.length), String.fromCharCode.apply(String, l) + "~>" }, r = function (A) { var o, l, c, d, p, g = String, h = "length", b = 255, w = "charCodeAt", j = "slice", x = "replace"; for (A[j](-2), A = A[j](0, -2)[x](/\s/g, "")[x]("z", "!!!!!"), c = [], d = 0, p = (A += o = "uuuuu"[j](A[h] % 5 || 5))[h]; p > d; d += 5)l = 52200625 * (A[w](d) - 33) + 614125 * (A[w](d + 1) - 33) + 7225 * (A[w](d + 2) - 33) + 85 * (A[w](d + 3) - 33) + (A[w](d + 4) - 33), c.push(b & l >> 24, b & l >> 16, b & l >> 8, b & l); return function (y, B) { for (var E = B; E > 0; E--)y.pop() }(c, o[h]), g.fromCharCode.apply(g, c) }, n = function (A) { return A.split("").map(function (o) { return ("0" + o.charCodeAt().toString(16)).slice(-2) }).join("") + ">" }, s = function (A) { var o = new RegExp(/^([0-9A-Fa-f]{2})+$/); if ((A = A.replace(/\s/g, "")).indexOf(">") !== -1 && (A = A.substr(0, A.indexOf(">"))), A.length % 2 && (A += "0"), o.test(A) === !1) return ""; for (var l = "", c = 0; c < A.length; c += 2)l += String.fromCharCode("0x" + (A[c] + A[c + 1])); return l }, a = function (A) { for (var o = new Uint8Array(A.length), l = A.length; l--;)o[l] = A.charCodeAt(l); return (o = Ym(o)).reduce(function (c, d) { return c + String.fromCharCode(d) }, "") }; t.processDataByFilters = function (A, o) { var l = 0, c = A || "", d = []; for (typeof (o = o || []) == "string" && (o = [o]), l = 0; l < o.length; l += 1)switch (o[l]) { case "ASCII85Decode": case "/ASCII85Decode": c = r(c), d.push("/ASCII85Encode"); break; case "ASCII85Encode": case "/ASCII85Encode": c = e(c), d.push("/ASCII85Decode"); break; case "ASCIIHexDecode": case "/ASCIIHexDecode": c = s(c), d.push("/ASCIIHexEncode"); break; case "ASCIIHexEncode": case "/ASCIIHexEncode": c = n(c), d.push("/ASCIIHexDecode"); break; case "FlateEncode": case "/FlateEncode": c = a(c), d.push("/FlateDecode"); break; default: throw new Error('The filter: "' + o[l] + '" is not implemented') }return { data: c, reverseChain: d.reverse().join(" ") } } }(er.API), function (t) { t.loadFile = function (e, r, n) { return function (s, a, A) { a = a !== !1, A = typeof A == "function" ? A : function () { }; var o = void 0; try { o = function (l, c, d) { var p = new XMLHttpRequest, g = 0, h = function (b) { var w = b.length, j = [], x = String.fromCharCode; for (g = 0; g < w; g += 1)j.push(x(255 & b.charCodeAt(g))); return j.join("") }; if (p.open("GET", l, !c), p.overrideMimeType("text/plain; charset=x-user-defined"), c === !1 && (p.onload = function () { p.status === 200 ? d(h(this.responseText)) : d(void 0) }), p.send(null), c && p.status === 200) return h(p.responseText) }(s, a, A) } catch { } return o }(e, r, n) }, t.allowFsRead = void 0, t.loadImageFile = t.loadFile }(er.API), function (t) { function e() { return (Ar.html2canvas ? Promise.resolve(Ar.html2canvas) : Zp(() => Promise.resolve().then(() => yQ), void 0)).catch(function (o) { return Promise.reject(new Error("Could not load html2canvas: " + o)) }).then(function (o) { return o.default ? o.default : o }) } function r() { return (Ar.DOMPurify ? Promise.resolve(Ar.DOMPurify) : Zp(() => import("./purify.es-1770204244249.js"), [])).catch(function (o) { return Promise.reject(new Error("Could not load dompurify: " + o)) }).then(function (o) { return o.default ? o.default : o }) } var n = function (o) { var l = Pr(o); return l === "undefined" ? "undefined" : l === "string" || o instanceof String ? "string" : l === "number" || o instanceof Number ? "number" : l === "function" || o instanceof Function ? "function" : o && o.constructor === Array ? "array" : o && o.nodeType === 1 ? "element" : l === "object" ? "object" : "unknown" }, s = function (o, l) { var c = document.createElement(o); for (var d in l.className && (c.className = l.className), l.innerHTML && l.dompurify && (c.innerHTML = l.dompurify.sanitize(l.innerHTML)), l.style) c.style[d] = l.style[d]; return c }, a = function o(l, c) { for (var d = l.nodeType === 3 ? document.createTextNode(l.nodeValue) : l.cloneNode(!1), p = l.firstChild; p; p = p.nextSibling)c !== !0 && p.nodeType === 1 && p.nodeName === "SCRIPT" || d.appendChild(o(p, c)); return l.nodeType === 1 && (l.nodeName === "CANVAS" ? (d.width = l.width, d.height = l.height, d.getContext("2d").drawImage(l, 0, 0)) : l.nodeName !== "TEXTAREA" && l.nodeName !== "SELECT" || (d.value = l.value), d.addEventListener("load", function () { d.scrollTop = l.scrollTop, d.scrollLeft = l.scrollLeft }, !0)), d }, A = function o(l) { var c = Object.assign(o.convert(Promise.resolve()), JSON.parse(JSON.stringify(o.template))), d = o.convert(Promise.resolve(), c); return (d = d.setProgress(1, o, 1, [o])).set(l) }; (A.prototype = Object.create(Promise.prototype)).constructor = A, A.convert = function (o, l) { return o.__proto__ = l || A.prototype, o }, A.template = { prop: { src: null, container: null, overlay: null, canvas: null, img: null, pdf: null, pageSize: null, callback: function () { } }, progress: { val: 0, state: null, n: 0, stack: [] }, opt: { filename: "file.pdf", margin: [0, 0, 0, 0], enableLinks: !0, x: 0, y: 0, html2canvas: {}, jsPDF: {}, backgroundColor: "transparent" } }, A.prototype.from = function (o, l) { return this.then(function () { switch (l = l || function (c) { switch (n(c)) { case "string": return "string"; case "element": return c.nodeName.toLowerCase() === "canvas" ? "canvas" : "element"; default: return "unknown" } }(o), l) { case "string": return this.then(r).then(function (c) { return this.set({ src: s("div", { innerHTML: o, dompurify: c }) }) }); case "element": return this.set({ src: o }); case "canvas": return this.set({ canvas: o }); case "img": return this.set({ img: o }); default: return this.error("Unknown source type.") } }) }, A.prototype.to = function (o) { switch (o) { case "container": return this.toContainer(); case "canvas": return this.toCanvas(); case "img": return this.toImg(); case "pdf": return this.toPdf(); default: return this.error("Invalid target.") } }, A.prototype.toContainer = function () { return this.thenList([function () { return this.prop.src || this.error("Cannot duplicate - no source HTML.") }, function () { return this.prop.pageSize || this.setPageSize() }]).then(function () { var o = { position: "relative", display: "inline-block", width: (typeof this.opt.width != "number" || isNaN(this.opt.width) || typeof this.opt.windowWidth != "number" || isNaN(this.opt.windowWidth) ? Math.max(this.prop.src.clientWidth, this.prop.src.scrollWidth, this.prop.src.offsetWidth) : this.opt.windowWidth) + "px", left: 0, right: 0, top: 0, margin: "auto", backgroundColor: this.opt.backgroundColor }, l = a(this.prop.src, this.opt.html2canvas.javascriptEnabled); l.tagName === "BODY" && (o.height = Math.max(document.body.scrollHeight, document.body.offsetHeight, document.documentElement.clientHeight, document.documentElement.scrollHeight, document.documentElement.offsetHeight) + "px"), this.prop.overlay = s("div", { className: "html2pdf__overlay", style: { position: "fixed", overflow: "hidden", zIndex: 1e3, left: "-100000px", right: 0, bottom: 0, top: 0 } }), this.prop.container = s("div", { className: "html2pdf__container", style: o }), this.prop.container.appendChild(l), this.prop.container.firstChild.appendChild(s("div", { style: { clear: "both", border: "0 none transparent", margin: 0, padding: 0, height: 0 } })), this.prop.container.style.float = "none", this.prop.overlay.appendChild(this.prop.container), document.body.appendChild(this.prop.overlay), this.prop.container.firstChild.style.position = "relative", this.prop.container.height = Math.max(this.prop.container.firstChild.clientHeight, this.prop.container.firstChild.scrollHeight, this.prop.container.firstChild.offsetHeight) + "px" }) }, A.prototype.toCanvas = function () { var o = [function () { return document.body.contains(this.prop.container) || this.toContainer() }]; return this.thenList(o).then(e).then(function (l) { var c = Object.assign({}, this.opt.html2canvas); return delete c.onrendered, l(this.prop.container, c) }).then(function (l) { (this.opt.html2canvas.onrendered || function () { })(l), this.prop.canvas = l, document.body.removeChild(this.prop.overlay) }) }, A.prototype.toContext2d = function () { var o = [function () { return document.body.contains(this.prop.container) || this.toContainer() }]; return this.thenList(o).then(e).then(function (l) { var c = this.opt.jsPDF, d = this.opt.fontFaces, p = typeof this.opt.width != "number" || isNaN(this.opt.width) || typeof this.opt.windowWidth != "number" || isNaN(this.opt.windowWidth) ? 1 : this.opt.width / this.opt.windowWidth, g = Object.assign({ async: !0, allowTaint: !0, scale: p, scrollX: this.opt.scrollX || 0, scrollY: this.opt.scrollY || 0, backgroundColor: "#ffffff", imageTimeout: 15e3, logging: !0, proxy: null, removeContainer: !0, foreignObjectRendering: !1, useCORS: !1 }, this.opt.html2canvas); if (delete g.onrendered, c.context2d.autoPaging = this.opt.autoPaging === void 0 || this.opt.autoPaging, c.context2d.posX = this.opt.x, c.context2d.posY = this.opt.y, c.context2d.margin = this.opt.margin, c.context2d.fontFaces = d, d) for (var h = 0; h < d.length; ++h) { var b = d[h], w = b.src.find(function (j) { return j.format === "truetype" }); w && c.addFont(w.url, b.ref.name, b.ref.style) } return g.windowHeight = g.windowHeight || 0, g.windowHeight = g.windowHeight == 0 ? Math.max(this.prop.container.clientHeight, this.prop.container.scrollHeight, this.prop.container.offsetHeight) : g.windowHeight, c.context2d.save(!0), l(this.prop.container, g) }).then(function (l) { this.opt.jsPDF.context2d.restore(!0), (this.opt.html2canvas.onrendered || function () { })(l), this.prop.canvas = l, document.body.removeChild(this.prop.overlay) }) }, A.prototype.toImg = function () { return this.thenList([function () { return this.prop.canvas || this.toCanvas() }]).then(function () { var o = this.prop.canvas.toDataURL("image/" + this.opt.image.type, this.opt.image.quality); this.prop.img = document.createElement("img"), this.prop.img.src = o }) }, A.prototype.toPdf = function () { return this.thenList([function () { return this.toContext2d() }]).then(function () { this.prop.pdf = this.prop.pdf || this.opt.jsPDF }) }, A.prototype.output = function (o, l, c) { return (c = c || "pdf").toLowerCase() === "img" || c.toLowerCase() === "image" ? this.outputImg(o, l) : this.outputPdf(o, l) }, A.prototype.outputPdf = function (o, l) { return this.thenList([function () { return this.prop.pdf || this.toPdf() }]).then(function () { return this.prop.pdf.output(o, l) }) }, A.prototype.outputImg = function (o) { return this.thenList([function () { return this.prop.img || this.toImg() }]).then(function () { switch (o) { case void 0: case "img": return this.prop.img; case "datauristring": case "dataurlstring": return this.prop.img.src; case "datauri": case "dataurl": return document.location.href = this.prop.img.src; default: throw 'Image output type "' + o + '" is not supported.' } }) }, A.prototype.save = function (o) { return this.thenList([function () { return this.prop.pdf || this.toPdf() }]).set(o ? { filename: o } : null).then(function () { this.prop.pdf.save(this.opt.filename) }) }, A.prototype.doCallback = function () { return this.thenList([function () { return this.prop.pdf || this.toPdf() }]).then(function () { this.prop.callback(this.prop.pdf) }) }, A.prototype.set = function (o) { if (n(o) !== "object") return this; var l = Object.keys(o || {}).map(function (c) { if (c in A.template.prop) return function () { this.prop[c] = o[c] }; switch (c) { case "margin": return this.setMargin.bind(this, o.margin); case "jsPDF": return function () { return this.opt.jsPDF = o.jsPDF, this.setPageSize() }; case "pageSize": return this.setPageSize.bind(this, o.pageSize); default: return function () { this.opt[c] = o[c] } } }, this); return this.then(function () { return this.thenList(l) }) }, A.prototype.get = function (o, l) { return this.then(function () { var c = o in A.template.prop ? this.prop[o] : this.opt[o]; return l ? l(c) : c }) }, A.prototype.setMargin = function (o) { return this.then(function () { switch (n(o)) { case "number": o = [o, o, o, o]; case "array": if (o.length === 2 && (o = [o[0], o[1], o[0], o[1]]), o.length === 4) break; default: return this.error("Invalid margin array.") }this.opt.margin = o }).then(this.setPageSize) }, A.prototype.setPageSize = function (o) { function l(c, d) { return Math.floor(c * d / 72 * 96) } return this.then(function () { (o = o || er.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner") || (o.inner = { width: o.width - this.opt.margin[1] - this.opt.margin[3], height: o.height - this.opt.margin[0] - this.opt.margin[2] }, o.inner.px = { width: l(o.inner.width, o.k), height: l(o.inner.height, o.k) }, o.inner.ratio = o.inner.height / o.inner.width), this.prop.pageSize = o }) }, A.prototype.setProgress = function (o, l, c, d) { return o != null && (this.progress.val = o), l != null && (this.progress.state = l), c != null && (this.progress.n = c), d != null && (this.progress.stack = d), this.progress.ratio = this.progress.val / this.progress.state, this }, A.prototype.updateProgress = function (o, l, c, d) { return this.setProgress(o ? this.progress.val + o : null, l || null, c ? this.progress.n + c : null, d ? this.progress.stack.concat(d) : null) }, A.prototype.then = function (o, l) { var c = this; return this.thenCore(o, l, function (d, p) { return c.updateProgress(null, null, 1, [d]), Promise.prototype.then.call(this, function (g) { return c.updateProgress(null, d), g }).then(d, p).then(function (g) { return c.updateProgress(1), g }) }) }, A.prototype.thenCore = function (o, l, c) { c = c || Promise.prototype.then; var d = this; o && (o = o.bind(d)), l && (l = l.bind(d)); var p = Promise.toString().indexOf("[native code]") !== -1 && Promise.name === "Promise" ? d : A.convert(Object.assign({}, d), Promise.prototype), g = c.call(p, o, l); return A.convert(g, d.__proto__) }, A.prototype.thenExternal = function (o, l) { return Promise.prototype.then.call(this, o, l) }, A.prototype.thenList = function (o) { var l = this; return o.forEach(function (c) { l = l.thenCore(c) }), l }, A.prototype.catch = function (o) { o && (o = o.bind(this)); var l = Promise.prototype.catch.call(this, o); return A.convert(l, this) }, A.prototype.catchExternal = function (o) { return Promise.prototype.catch.call(this, o) }, A.prototype.error = function (o) { return this.then(function () { throw new Error(o) }) }, A.prototype.using = A.prototype.set, A.prototype.saveAs = A.prototype.save, A.prototype.export = A.prototype.output, A.prototype.run = A.prototype.then, er.getPageSize = function (o, l, c) { if (Pr(o) === "object") { var d = o; o = d.orientation, l = d.unit || l, c = d.format || c } l = l || "mm", c = c || "a4", o = ("" + (o || "P")).toLowerCase(); var p, g = ("" + c).toLowerCase(), h = { a0: [2383.94, 3370.39], a1: [1683.78, 2383.94], a2: [1190.55, 1683.78], a3: [841.89, 1190.55], a4: [595.28, 841.89], a5: [419.53, 595.28], a6: [297.64, 419.53], a7: [209.76, 297.64], a8: [147.4, 209.76], a9: [104.88, 147.4], a10: [73.7, 104.88], b0: [2834.65, 4008.19], b1: [2004.09, 2834.65], b2: [1417.32, 2004.09], b3: [1000.63, 1417.32], b4: [708.66, 1000.63], b5: [498.9, 708.66], b6: [354.33, 498.9], b7: [249.45, 354.33], b8: [175.75, 249.45], b9: [124.72, 175.75], b10: [87.87, 124.72], c0: [2599.37, 3676.54], c1: [1836.85, 2599.37], c2: [1298.27, 1836.85], c3: [918.43, 1298.27], c4: [649.13, 918.43], c5: [459.21, 649.13], c6: [323.15, 459.21], c7: [229.61, 323.15], c8: [161.57, 229.61], c9: [113.39, 161.57], c10: [79.37, 113.39], dl: [311.81, 623.62], letter: [612, 792], "government-letter": [576, 756], legal: [612, 1008], "junior-legal": [576, 360], ledger: [1224, 792], tabloid: [792, 1224], "credit-card": [153, 243] }; switch (l) { case "pt": p = 1; break; case "mm": p = 72 / 25.4; break; case "cm": p = 72 / 2.54; break; case "in": p = 72; break; case "px": p = .75; break; case "pc": case "em": p = 12; break; case "ex": p = 6; break; default: throw "Invalid unit: " + l }var b, w = 0, j = 0; if (h.hasOwnProperty(g)) w = h[g][1] / p, j = h[g][0] / p; else try { w = c[1], j = c[0] } catch { throw new Error("Invalid format: " + c) } if (o === "p" || o === "portrait") o = "p", j > w && (b = j, j = w, w = b); else { if (o !== "l" && o !== "landscape") throw "Invalid orientation: " + o; o = "l", w > j && (b = j, j = w, w = b) } return { width: j, height: w, unit: l, k: p, orientation: o } }, t.html = function (o, l) { (l = l || {}).callback = l.callback || function () { }, l.html2canvas = l.html2canvas || {}, l.html2canvas.canvas = l.html2canvas.canvas || this.canvas, l.jsPDF = l.jsPDF || this, l.fontFaces = l.fontFaces ? l.fontFaces.map(mg) : null; var c = new A(l); return l.worker ? c : c.from(o).doCallback() } }(er.API), er.API.addJS = function (t) { var e, r, n = t; return this.internal.events.subscribe("postPutResources", function () { e = this.internal.newObject(), this.internal.out("<<"), this.internal.out("/Names [(EmbeddedJS) " + (e + 1) + " 0 R]"), this.internal.out(">>"), this.internal.out("endobj"), r = this.internal.newObject(), this.internal.out("<<"), this.internal.out("/S /JavaScript"), this.internal.out("/JS (" + n + ")"), this.internal.out(">>"), this.internal.out("endobj") }), this.internal.events.subscribe("putCatalog", function () { e !== void 0 && r !== void 0 && this.internal.out("/Names <</JavaScript " + e + " 0 R>>") }), this }, function (t) {
  var e; t.events.push(["postPutResources", function () { var r = this, n = /^(\d+) 0 obj$/; if (this.outline.root.children.length > 0) for (var s = r.outline.render().split(/\r\n/), a = 0; a < s.length; a++) { var A = s[a], o = n.exec(A); if (o != null) { var l = o[1]; r.internal.newObjectDeferredBegin(l, !1) } r.internal.write(A) } if (this.outline.createNamedDestinations) { var c = this.internal.pages.length, d = []; for (a = 0; a < c; a++) { var p = r.internal.newObject(); d.push(p); var g = r.internal.getPageInfo(a + 1); r.internal.write("<< /D[" + g.objId + " 0 R /XYZ null null null]>> endobj") } var h = r.internal.newObject(); for (r.internal.write("<< /Names [ "), a = 0; a < d.length; a++)r.internal.write("(page_" + (a + 1) + ")" + d[a] + " 0 R"); r.internal.write(" ] >>", "endobj"), e = r.internal.newObject(), r.internal.write("<< /Dests " + h + " 0 R"), r.internal.write(">>", "endobj") } }]), t.events.push(["putCatalog", function () { var r = this; r.outline.root.children.length > 0 && (r.internal.write("/Outlines", this.outline.makeRef(this.outline.root)), this.outline.createNamedDestinations && r.internal.write("/Names " + e + " 0 R")) }]), t.events.push(["initialized", function () {
    var r = this; r.outline = { createNamedDestinations: !1, root: { children: [] } }, r.outline.add = function (n, s, a) { var A = { title: s, options: a, children: [] }; return n == null && (n = this.root), n.children.push(A), A }, r.outline.render = function () { return this.ctx = {}, this.ctx.val = "", this.ctx.pdf = r, this.genIds_r(this.root), this.renderRoot(this.root), this.renderItems(this.root), this.ctx.val }, r.outline.genIds_r = function (n) { n.id = r.internal.newObjectDeferred(); for (var s = 0; s < n.children.length; s++)this.genIds_r(n.children[s]) }, r.outline.renderRoot = function (n) { this.objStart(n), this.line("/Type /Outlines"), n.children.length > 0 && (this.line("/First " + this.makeRef(n.children[0])), this.line("/Last " + this.makeRef(n.children[n.children.length - 1]))), this.line("/Count " + this.count_r({ count: 0 }, n)), this.objEnd() }, r.outline.renderItems = function (n) { for (var s = this.ctx.pdf.internal.getVerticalCoordinateString, a = 0; a < n.children.length; a++) { var A = n.children[a]; this.objStart(A), this.line("/Title " + this.makeString(A.title)), this.line("/Parent " + this.makeRef(n)), a > 0 && this.line("/Prev " + this.makeRef(n.children[a - 1])), a < n.children.length - 1 && this.line("/Next " + this.makeRef(n.children[a + 1])), A.children.length > 0 && (this.line("/First " + this.makeRef(A.children[0])), this.line("/Last " + this.makeRef(A.children[A.children.length - 1]))); var o = this.count = this.count_r({ count: 0 }, A); if (o > 0 && this.line("/Count " + o), A.options && A.options.pageNumber) { var l = r.internal.getPageInfo(A.options.pageNumber); this.line("/Dest [" + l.objId + " 0 R /XYZ 0 " + s(0) + " 0]") } this.objEnd() } for (var c = 0; c < n.children.length; c++)this.renderItems(n.children[c]) }, r.outline.line = function (n) {
      this.ctx.val += n + `\r
`}, r.outline.makeRef = function (n) { return n.id + " 0 R" }, r.outline.makeString = function (n) { return "(" + r.internal.pdfEscape(n) + ")" }, r.outline.objStart = function (n) {
        this.ctx.val += `\r
`+ n.id + ` 0 obj\r
<<\r
`}, r.outline.objEnd = function () {
        this.ctx.val += `>> \r
endobj\r
`}, r.outline.count_r = function (n, s) { for (var a = 0; a < s.children.length; a++)n.count++, this.count_r(n, s.children[a]); return n.count }
  }])
}(er.API), function (t) { var e = [192, 193, 194, 195, 196, 197, 198, 199]; t.processJPEG = function (r, n, s, a, A, o) { var l, c = this.decode.DCT_DECODE, d = null; if (typeof r == "string" || this.__addimage__.isArrayBuffer(r) || this.__addimage__.isArrayBufferView(r)) { switch (r = A || r, r = this.__addimage__.isArrayBuffer(r) ? new Uint8Array(r) : r, l = function (p) { for (var g, h = 256 * p.charCodeAt(4) + p.charCodeAt(5), b = p.length, w = { width: 0, height: 0, numcomponents: 1 }, j = 4; j < b; j += 2) { if (j += h, e.indexOf(p.charCodeAt(j + 1)) !== -1) { g = 256 * p.charCodeAt(j + 5) + p.charCodeAt(j + 6), w = { width: 256 * p.charCodeAt(j + 7) + p.charCodeAt(j + 8), height: g, numcomponents: p.charCodeAt(j + 9) }; break } h = 256 * p.charCodeAt(j + 2) + p.charCodeAt(j + 3) } return w }(r = this.__addimage__.isArrayBufferView(r) ? this.__addimage__.arrayBufferToBinaryString(r) : r), l.numcomponents) { case 1: o = this.color_spaces.DEVICE_GRAY; break; case 4: o = this.color_spaces.DEVICE_CMYK; break; case 3: o = this.color_spaces.DEVICE_RGB }d = { data: r, width: l.width, height: l.height, colorSpace: o, bitsPerComponent: 8, filter: c, index: n, alias: s } } return d } }(er.API), er.API.processPNG = function (t, e, r, n) { if (this.__addimage__.isArrayBuffer(t) && (t = new Uint8Array(t)), this.__addimage__.isArrayBufferView(t)) { var s, a = F6(t, { checkCrc: !0 }), A = a.width, o = a.height, l = a.channels, c = a.palette, d = a.depth; s = c && l === 1 ? function (G) { for (var N = G.width, H = G.height, k = G.data, _ = G.palette, V = G.depth, P = !1, te = [], ce = [], he = void 0, ie = !1, ue = 0, pe = 0; pe < _.length; pe++) { var ve = yy(_[pe], 4), I = ve[0], R = ve[1], re = ve[2], Y = ve[3]; te.push(I, R, re), Y != null && (Y === 0 ? (ue++, ce.length < 1 && ce.push(pe)) : Y < 255 && (ie = !0)) } if (ie || ue > 1) { P = !0, ce = void 0; var le = N * H; he = new Uint8Array(le); for (var ge = new DataView(k.buffer), ke = 0; ke < le; ke++) { var Fe = vg(ge, ke, V), Le = yy(_[Fe], 4)[3]; he[ke] = Le } } else ue === 0 && (ce = void 0); return { colorSpace: "Indexed", colorsPerPixel: 1, sMaskBitsPerComponent: P ? 8 : void 0, colorBytes: k, alphaBytes: he, needSMask: P, palette: te, mask: ce } }(a) : l === 2 || l === 4 ? function (G) { for (var N = G.data, H = G.width, k = G.height, _ = G.channels, V = G.depth, P = _ === 2 ? "DeviceGray" : "DeviceRGB", te = _ - 1, ce = H * k, he = te, ie = ce * he, ue = 1 * ce, pe = Math.ceil(ie * V / 8), ve = Math.ceil(ue * V / 8), I = new Uint8Array(pe), R = new Uint8Array(ve), re = new DataView(N.buffer), Y = new DataView(I.buffer), le = new DataView(R.buffer), ge = !1, ke = 0; ke < ce; ke++) { for (var Fe = ke * _, Le = 0; Le < he; Le++)C2(Y, vg(re, Fe + Le, V), ke * he + Le, V); var nt = vg(re, Fe + he, V); nt < (1 << V) - 1 && (ge = !0), C2(le, nt, 1 * ke, V) } return { colorSpace: P, colorsPerPixel: te, sMaskBitsPerComponent: ge ? V : void 0, colorBytes: I, alphaBytes: R, needSMask: ge } }(a) : function (G) { var N = G.data, H = G.channels === 1 ? "DeviceGray" : "DeviceRGB"; return { colorSpace: H, colorsPerPixel: H === "DeviceGray" ? 1 : 3, colorBytes: N instanceof Uint16Array ? function (k) { for (var _ = k.length, V = new Uint8Array(2 * _), P = new DataView(V.buffer, V.byteOffset, V.byteLength), te = 0; te < _; te++)P.setUint16(2 * te, k[te], !1); return V }(N) : N, needSMask: !1 } }(a); var p, g, h, b = s, w = b.colorSpace, j = b.colorsPerPixel, x = b.sMaskBitsPerComponent, y = b.colorBytes, B = b.alphaBytes, E = b.needSMask, T = b.palette, U = b.mask, M = null; return n !== er.API.image_compression.NONE && typeof Ym == "function" ? (M = function (G) { var N; switch (G) { case er.API.image_compression.FAST: N = 11; break; case er.API.image_compression.MEDIUM: N = 13; break; case er.API.image_compression.SLOW: N = 14; break; default: N = 12 }return N }(n), p = this.decode.FLATE_DECODE, g = "/Predictor ".concat(M, " /Colors ").concat(j, " /BitsPerComponent ").concat(d, " /Columns ").concat(A), t = v2(y, Math.ceil(A * j * d / 8), j, d, n), E && (h = v2(B, Math.ceil(A * x / 8), 1, x, n))) : (p = void 0, g = void 0, t = y, E && (h = B)), (this.__addimage__.isArrayBuffer(t) || this.__addimage__.isArrayBufferView(t)) && (t = this.__addimage__.arrayBufferToBinaryString(t)), (h && this.__addimage__.isArrayBuffer(h) || this.__addimage__.isArrayBufferView(h)) && (h = this.__addimage__.arrayBufferToBinaryString(h)), { alias: r, data: t, index: e, filter: p, decodeParameters: g, transparency: U, palette: T, sMask: h, predictor: M, width: A, height: o, bitsPerComponent: d, sMaskBitsPerComponent: x, colorSpace: w } } }, function (t) { t.processGIF89A = function (e, r, n, s) { var a = new J6(e), A = a.width, o = a.height, l = []; a.decodeAndBlitFrameRGBA(0, l); var c = { data: l, width: A, height: o }, d = new wg(100).encode(c, 100); return t.processJPEG.call(this, d, r, n, s) }, t.processGIF87A = t.processGIF89A }(er.API), ra.prototype.parseHeader = function () { if (this.fileSize = this.datav.getUint32(this.pos, !0), this.pos += 4, this.reserved = this.datav.getUint32(this.pos, !0), this.pos += 4, this.offset = this.datav.getUint32(this.pos, !0), this.pos += 4, this.headerSize = this.datav.getUint32(this.pos, !0), this.pos += 4, this.width = this.datav.getUint32(this.pos, !0), this.pos += 4, this.height = this.datav.getInt32(this.pos, !0), this.pos += 4, this.planes = this.datav.getUint16(this.pos, !0), this.pos += 2, this.bitPP = this.datav.getUint16(this.pos, !0), this.pos += 2, this.compress = this.datav.getUint32(this.pos, !0), this.pos += 4, this.rawSize = this.datav.getUint32(this.pos, !0), this.pos += 4, this.hr = this.datav.getUint32(this.pos, !0), this.pos += 4, this.vr = this.datav.getUint32(this.pos, !0), this.pos += 4, this.colors = this.datav.getUint32(this.pos, !0), this.pos += 4, this.importantColors = this.datav.getUint32(this.pos, !0), this.pos += 4, this.bitPP === 16 && this.is_with_alpha && (this.bitPP = 15), this.bitPP < 15) { var t = this.colors === 0 ? 1 << this.bitPP : this.colors; this.palette = new Array(t); for (var e = 0; e < t; e++) { var r = this.datav.getUint8(this.pos++, !0), n = this.datav.getUint8(this.pos++, !0), s = this.datav.getUint8(this.pos++, !0), a = this.datav.getUint8(this.pos++, !0); this.palette[e] = { red: s, green: n, blue: r, quad: a } } } this.height < 0 && (this.height *= -1, this.bottom_up = !1) }, ra.prototype.parseBGR = function () { this.pos = this.offset; var t = "bit" + this.bitPP, e = this.width * this.height * 4; if (e > 536870912) throw new Error("Image dimensions exceed 512MB, which is too large."); this.data = new Uint8Array(e); try { this[t]() } catch (r) { Gr.log("bit decode error:" + r) } }, ra.prototype.bit1 = function () { var t, e = Math.ceil(this.width / 8), r = e % 4; for (t = this.height - 1; t >= 0; t--) { for (var n = this.bottom_up ? t : this.height - 1 - t, s = 0; s < e; s++)for (var a = this.datav.getUint8(this.pos++, !0), A = n * this.width * 4 + 8 * s * 4, o = 0; o < 8 && 8 * s + o < this.width; o++) { var l = this.palette[a >> 7 - o & 1]; this.data[A + 4 * o] = l.blue, this.data[A + 4 * o + 1] = l.green, this.data[A + 4 * o + 2] = l.red, this.data[A + 4 * o + 3] = 255 } r !== 0 && (this.pos += 4 - r) } }, ra.prototype.bit4 = function () { for (var t = Math.ceil(this.width / 2), e = t % 4, r = this.height - 1; r >= 0; r--) { for (var n = this.bottom_up ? r : this.height - 1 - r, s = 0; s < t; s++) { var a = this.datav.getUint8(this.pos++, !0), A = n * this.width * 4 + 2 * s * 4, o = a >> 4, l = 15 & a, c = this.palette[o]; if (this.data[A] = c.blue, this.data[A + 1] = c.green, this.data[A + 2] = c.red, this.data[A + 3] = 255, 2 * s + 1 >= this.width) break; c = this.palette[l], this.data[A + 4] = c.blue, this.data[A + 4 + 1] = c.green, this.data[A + 4 + 2] = c.red, this.data[A + 4 + 3] = 255 } e !== 0 && (this.pos += 4 - e) } }, ra.prototype.bit8 = function () { for (var t = this.width % 4, e = this.height - 1; e >= 0; e--) { for (var r = this.bottom_up ? e : this.height - 1 - e, n = 0; n < this.width; n++) { var s = this.datav.getUint8(this.pos++, !0), a = r * this.width * 4 + 4 * n; if (s < this.palette.length) { var A = this.palette[s]; this.data[a] = A.red, this.data[a + 1] = A.green, this.data[a + 2] = A.blue, this.data[a + 3] = 255 } else this.data[a] = 255, this.data[a + 1] = 255, this.data[a + 2] = 255, this.data[a + 3] = 255 } t !== 0 && (this.pos += 4 - t) } }, ra.prototype.bit15 = function () { for (var t = this.width % 3, e = parseInt("11111", 2), r = this.height - 1; r >= 0; r--) { for (var n = this.bottom_up ? r : this.height - 1 - r, s = 0; s < this.width; s++) { var a = this.datav.getUint16(this.pos, !0); this.pos += 2; var A = (a & e) / e * 255 | 0, o = (a >> 5 & e) / e * 255 | 0, l = (a >> 10 & e) / e * 255 | 0, c = a >> 15 ? 255 : 0, d = n * this.width * 4 + 4 * s; this.data[d] = l, this.data[d + 1] = o, this.data[d + 2] = A, this.data[d + 3] = c } this.pos += t } }, ra.prototype.bit16 = function () { for (var t = this.width % 3, e = parseInt("11111", 2), r = parseInt("111111", 2), n = this.height - 1; n >= 0; n--) { for (var s = this.bottom_up ? n : this.height - 1 - n, a = 0; a < this.width; a++) { var A = this.datav.getUint16(this.pos, !0); this.pos += 2; var o = (A & e) / e * 255 | 0, l = (A >> 5 & r) / r * 255 | 0, c = (A >> 11) / e * 255 | 0, d = s * this.width * 4 + 4 * a; this.data[d] = c, this.data[d + 1] = l, this.data[d + 2] = o, this.data[d + 3] = 255 } this.pos += t } }, ra.prototype.bit24 = function () { for (var t = this.height - 1; t >= 0; t--) { for (var e = this.bottom_up ? t : this.height - 1 - t, r = 0; r < this.width; r++) { var n = this.datav.getUint8(this.pos++, !0), s = this.datav.getUint8(this.pos++, !0), a = this.datav.getUint8(this.pos++, !0), A = e * this.width * 4 + 4 * r; this.data[A] = a, this.data[A + 1] = s, this.data[A + 2] = n, this.data[A + 3] = 255 } this.pos += this.width % 4 } }, ra.prototype.bit32 = function () { for (var t = this.height - 1; t >= 0; t--)for (var e = this.bottom_up ? t : this.height - 1 - t, r = 0; r < this.width; r++) { var n = this.datav.getUint8(this.pos++, !0), s = this.datav.getUint8(this.pos++, !0), a = this.datav.getUint8(this.pos++, !0), A = this.datav.getUint8(this.pos++, !0), o = e * this.width * 4 + 4 * r; this.data[o] = a, this.data[o + 1] = s, this.data[o + 2] = n, this.data[o + 3] = A } }, ra.prototype.getData = function () { return this.data }, function (t) { t.processBMP = function (e, r, n, s) { var a = new ra(e, !1), A = a.width, o = a.height, l = { data: a.getData(), width: A, height: o }, c = new wg(100).encode(l, 100); return t.processJPEG.call(this, c, r, n, s) } }(er.API), S2.prototype.getData = function () { return this.data }, function (t) { t.processWEBP = function (e, r, n, s) { var a = new S2(e), A = a.width, o = a.height, l = { data: a.getData(), width: A, height: o }, c = new wg(100).encode(l, 100); return t.processJPEG.call(this, c, r, n, s) } }(er.API), er.API.processRGBA = function (t, e, r) { for (var n = t.data, s = n.length, a = new Uint8Array(s / 4 * 3), A = new Uint8Array(s / 4), o = 0, l = 0, c = 0; c < s; c += 4) { var d = n[c], p = n[c + 1], g = n[c + 2], h = n[c + 3]; a[o++] = d, a[o++] = p, a[o++] = g, A[l++] = h } var b = this.__addimage__.arrayBufferToBinaryString(a); return { alpha: this.__addimage__.arrayBufferToBinaryString(A), data: b, index: e, alias: r, colorSpace: "DeviceRGB", bitsPerComponent: 8, width: t.width, height: t.height } }, er.API.setLanguage = function (t) { return this.internal.languageSettings === void 0 && (this.internal.languageSettings = {}, this.internal.languageSettings.isSubscribed = !1), { af: "Afrikaans", sq: "Albanian", ar: "Arabic (Standard)", "ar-DZ": "Arabic (Algeria)", "ar-BH": "Arabic (Bahrain)", "ar-EG": "Arabic (Egypt)", "ar-IQ": "Arabic (Iraq)", "ar-JO": "Arabic (Jordan)", "ar-KW": "Arabic (Kuwait)", "ar-LB": "Arabic (Lebanon)", "ar-LY": "Arabic (Libya)", "ar-MA": "Arabic (Morocco)", "ar-OM": "Arabic (Oman)", "ar-QA": "Arabic (Qatar)", "ar-SA": "Arabic (Saudi Arabia)", "ar-SY": "Arabic (Syria)", "ar-TN": "Arabic (Tunisia)", "ar-AE": "Arabic (U.A.E.)", "ar-YE": "Arabic (Yemen)", an: "Aragonese", hy: "Armenian", as: "Assamese", ast: "Asturian", az: "Azerbaijani", eu: "Basque", be: "Belarusian", bn: "Bengali", bs: "Bosnian", br: "Breton", bg: "Bulgarian", my: "Burmese", ca: "Catalan", ch: "Chamorro", ce: "Chechen", zh: "Chinese", "zh-HK": "Chinese (Hong Kong)", "zh-CN": "Chinese (PRC)", "zh-SG": "Chinese (Singapore)", "zh-TW": "Chinese (Taiwan)", cv: "Chuvash", co: "Corsican", cr: "Cree", hr: "Croatian", cs: "Czech", da: "Danish", nl: "Dutch (Standard)", "nl-BE": "Dutch (Belgian)", en: "English", "en-AU": "English (Australia)", "en-BZ": "English (Belize)", "en-CA": "English (Canada)", "en-IE": "English (Ireland)", "en-JM": "English (Jamaica)", "en-NZ": "English (New Zealand)", "en-PH": "English (Philippines)", "en-ZA": "English (South Africa)", "en-TT": "English (Trinidad & Tobago)", "en-GB": "English (United Kingdom)", "en-US": "English (United States)", "en-ZW": "English (Zimbabwe)", eo: "Esperanto", et: "Estonian", fo: "Faeroese", fj: "Fijian", fi: "Finnish", fr: "French (Standard)", "fr-BE": "French (Belgium)", "fr-CA": "French (Canada)", "fr-FR": "French (France)", "fr-LU": "French (Luxembourg)", "fr-MC": "French (Monaco)", "fr-CH": "French (Switzerland)", fy: "Frisian", fur: "Friulian", gd: "Gaelic (Scots)", "gd-IE": "Gaelic (Irish)", gl: "Galacian", ka: "Georgian", de: "German (Standard)", "de-AT": "German (Austria)", "de-DE": "German (Germany)", "de-LI": "German (Liechtenstein)", "de-LU": "German (Luxembourg)", "de-CH": "German (Switzerland)", el: "Greek", gu: "Gujurati", ht: "Haitian", he: "Hebrew", hi: "Hindi", hu: "Hungarian", is: "Icelandic", id: "Indonesian", iu: "Inuktitut", ga: "Irish", it: "Italian (Standard)", "it-CH": "Italian (Switzerland)", ja: "Japanese", kn: "Kannada", ks: "Kashmiri", kk: "Kazakh", km: "Khmer", ky: "Kirghiz", tlh: "Klingon", ko: "Korean", "ko-KP": "Korean (North Korea)", "ko-KR": "Korean (South Korea)", la: "Latin", lv: "Latvian", lt: "Lithuanian", lb: "Luxembourgish", mk: "North Macedonia", ms: "Malay", ml: "Malayalam", mt: "Maltese", mi: "Maori", mr: "Marathi", mo: "Moldavian", nv: "Navajo", ng: "Ndonga", ne: "Nepali", no: "Norwegian", nb: "Norwegian (Bokmal)", nn: "Norwegian (Nynorsk)", oc: "Occitan", or: "Oriya", om: "Oromo", fa: "Persian", "fa-IR": "Persian/Iran", pl: "Polish", pt: "Portuguese", "pt-BR": "Portuguese (Brazil)", pa: "Punjabi", "pa-IN": "Punjabi (India)", "pa-PK": "Punjabi (Pakistan)", qu: "Quechua", rm: "Rhaeto-Romanic", ro: "Romanian", "ro-MO": "Romanian (Moldavia)", ru: "Russian", "ru-MO": "Russian (Moldavia)", sz: "Sami (Lappish)", sg: "Sango", sa: "Sanskrit", sc: "Sardinian", sd: "Sindhi", si: "Singhalese", sr: "Serbian", sk: "Slovak", sl: "Slovenian", so: "Somani", sb: "Sorbian", es: "Spanish", "es-AR": "Spanish (Argentina)", "es-BO": "Spanish (Bolivia)", "es-CL": "Spanish (Chile)", "es-CO": "Spanish (Colombia)", "es-CR": "Spanish (Costa Rica)", "es-DO": "Spanish (Dominican Republic)", "es-EC": "Spanish (Ecuador)", "es-SV": "Spanish (El Salvador)", "es-GT": "Spanish (Guatemala)", "es-HN": "Spanish (Honduras)", "es-MX": "Spanish (Mexico)", "es-NI": "Spanish (Nicaragua)", "es-PA": "Spanish (Panama)", "es-PY": "Spanish (Paraguay)", "es-PE": "Spanish (Peru)", "es-PR": "Spanish (Puerto Rico)", "es-ES": "Spanish (Spain)", "es-UY": "Spanish (Uruguay)", "es-VE": "Spanish (Venezuela)", sx: "Sutu", sw: "Swahili", sv: "Swedish", "sv-FI": "Swedish (Finland)", "sv-SV": "Swedish (Sweden)", ta: "Tamil", tt: "Tatar", te: "Teluga", th: "Thai", tig: "Tigre", ts: "Tsonga", tn: "Tswana", tr: "Turkish", tk: "Turkmen", uk: "Ukrainian", hsb: "Upper Sorbian", ur: "Urdu", ve: "Venda", vi: "Vietnamese", vo: "Volapuk", wa: "Walloon", cy: "Welsh", xh: "Xhosa", ji: "Yiddish", zu: "Zulu" }[t] !== void 0 && (this.internal.languageSettings.languageCode = t, this.internal.languageSettings.isSubscribed === !1 && (this.internal.events.subscribe("putCatalog", function () { this.internal.write("/Lang (" + this.internal.languageSettings.languageCode + ")") }), this.internal.languageSettings.isSubscribed = !0)), this }, nc = er.API, Wh = nc.getCharWidthsArray = function (t, e) { var r, n, s = (e = e || {}).font || this.internal.getFont(), a = e.fontSize || this.internal.getFontSize(), A = e.charSpace || this.internal.getCharSpace(), o = e.widths ? e.widths : s.metadata.Unicode.widths, l = o.fof ? o.fof : 1, c = e.kerning ? e.kerning : s.metadata.Unicode.kerning, d = c.fof ? c.fof : 1, p = e.doKerning !== !1, g = 0, h = t.length, b = 0, w = o[0] || l, j = []; for (r = 0; r < h; r++)n = t.charCodeAt(r), typeof s.metadata.widthOfString == "function" ? j.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n)) + A * (1e3 / a) || 0) / 1e3) : (g = p && Pr(c[n]) === "object" && !isNaN(parseInt(c[n][b], 10)) ? c[n][b] / d : 0, j.push((o[n] || w) / l + g)), b = n; return j }, g2 = nc.getStringUnitWidth = function (t, e) { var r = (e = e || {}).fontSize || this.internal.getFontSize(), n = e.font || this.internal.getFont(), s = e.charSpace || this.internal.getCharSpace(); return nc.processArabic && (t = nc.processArabic(t)), typeof n.metadata.widthOfString == "function" ? n.metadata.widthOfString(t, r, s) / r : Wh.apply(this, arguments).reduce(function (a, A) { return a + A }, 0) }, m2 = function (t, e, r, n) { for (var s = [], a = 0, A = t.length, o = 0; a !== A && o + e[a] < r;)o += e[a], a++; s.push(t.slice(0, a)); var l = a; for (o = 0; a !== A;)o + e[a] > n && (s.push(t.slice(l, a)), o = 0, l = a), o += e[a], a++; return l !== a && s.push(t.slice(l, a)), s }, x2 = function (t, e, r) {
  r || (r = {}); var n, s, a, A, o, l, c, d = [], p = [d], g = r.textIndent || 0, h = 0, b = 0, w = t.split(" "), j = Wh.apply(this, [" ", r])[0]; if (l = r.lineIndent === -1 ? w[0].length + 2 : r.lineIndent || 0) {
    var x = Array(l).join(" "), y = []; w.map(function (E) {
      (E = E.split(/\s*\n/)).length > 1 ? y = y.concat(E.map(function (T, U) {
        return (U && T.length ? `
`: "") + T
      })) : y.push(E[0])
    }), w = y, l = g2.apply(this, [x, r])
  } for (a = 0, A = w.length; a < A; a++) {
    var B = 0; if (n = w[a], l && n[0] == `
`&& (n = n.substr(1), B = 1), g + h + (b = (s = Wh.apply(this, [n, r])).reduce(function (E, T) { return E + T }, 0)) > e || B) { if (b > e) { for (o = m2.apply(this, [n, s, e - (g + h), e]), d.push(o.shift()), d = [o.pop()]; o.length;)p.push([o.shift()]); b = s.slice(n.length - (d[0] ? d[0].length : 0)).reduce(function (E, T) { return E + T }, 0) } else d = [n]; p.push(d), g = b + l, h = j } else d.push(n), g += h + b, h = j
  } return c = l ? function (E, T) { return (T ? x : "") + E.join(" ") } : function (E) { return E.join(" ") }, p.map(c)
}, nc.splitTextToSize = function (t, e, r) { var n, s = (r = r || {}).fontSize || this.internal.getFontSize(), a = (function (d) { if (d.widths && d.kerning) return { widths: d.widths, kerning: d.kerning }; var p = this.internal.getFont(d.fontName, d.fontStyle), g = "Unicode"; return p.metadata[g] ? { widths: p.metadata[g].widths || { 0: 1 }, kerning: p.metadata[g].kerning || {} } : { font: p.metadata, fontSize: this.internal.getFontSize(), charSpace: this.internal.getCharSpace() } }).call(this, r); n = Array.isArray(t) ? t : String(t).split(/\r?\n/); var A = 1 * this.internal.scaleFactor * e / s; a.textIndent = r.textIndent ? 1 * r.textIndent * this.internal.scaleFactor / s : 0, a.lineIndent = r.lineIndent; var o, l, c = []; for (o = 0, l = n.length; o < l; o++)c = c.concat(x2.apply(this, [n[o], A, a])); return c }, function (t) { t.__fontmetrics__ = t.__fontmetrics__ || {}; for (var e = "0123456789abcdef", r = "klmnopqrstuvwxyz", n = {}, s = {}, a = 0; a < 16; a++)n[r[a]] = e[a], s[e[a]] = r[a]; var A = function (g) { return "0x" + parseInt(g, 10).toString(16) }, o = t.__fontmetrics__.compress = function (g) { var h, b, w, j, x = ["{"]; for (var y in g) { if (h = g[y], isNaN(parseInt(y, 10)) ? b = "'" + y + "'" : (y = parseInt(y, 10), b = (b = A(y).slice(2)).slice(0, -1) + s[b.slice(-1)]), typeof h == "number") h < 0 ? (w = A(h).slice(3), j = "-") : (w = A(h).slice(2), j = ""), w = j + w.slice(0, -1) + s[w.slice(-1)]; else { if (Pr(h) !== "object") throw new Error("Don't know what to do with value type " + Pr(h) + "."); w = o(h) } x.push(b + w) } return x.push("}"), x.join("") }, l = t.__fontmetrics__.uncompress = function (g) { if (typeof g != "string") throw new Error("Invalid argument passed to uncompress."); for (var h, b, w, j, x = {}, y = 1, B = x, E = [], T = "", U = "", M = g.length - 1, G = 1; G < M; G += 1)(j = g[G]) == "'" ? h ? (w = h.join(""), h = void 0) : h = [] : h ? h.push(j) : j == "{" ? (E.push([B, w]), B = {}, w = void 0) : j == "}" ? ((b = E.pop())[0][b[1]] = B, w = void 0, B = b[0]) : j == "-" ? y = -1 : w === void 0 ? n.hasOwnProperty(j) ? (T += n[j], w = parseInt(T, 16) * y, y = 1, T = "") : T += j : n.hasOwnProperty(j) ? (U += n[j], B[w] = parseInt(U, 16) * y, y = 1, w = void 0, U = "") : U += j; return x }, c = { codePages: ["WinAnsiEncoding"], WinAnsiEncoding: l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}") }, d = { Unicode: { Courier: c, "Courier-Bold": c, "Courier-BoldOblique": c, "Courier-Oblique": c, Helvetica: c, "Helvetica-Bold": c, "Helvetica-BoldOblique": c, "Helvetica-Oblique": c, "Times-Roman": c, "Times-Bold": c, "Times-BoldItalic": c, "Times-Italic": c } }, p = { Unicode: { "Courier-Oblique": l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"), "Times-BoldItalic": l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"), "Helvetica-Bold": l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"), Courier: l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"), "Courier-BoldOblique": l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"), "Times-Bold": l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"), Symbol: l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"), Helvetica: l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"), "Helvetica-BoldOblique": l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"), ZapfDingbats: l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"), "Courier-Bold": l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"), "Times-Italic": l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"), "Times-Roman": l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"), "Helvetica-Oblique": l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}") } }; t.events.push(["addFont", function (g) { var h = g.font, b = p.Unicode[h.postScriptName]; b && (h.metadata.Unicode = {}, h.metadata.Unicode.widths = b.widths, h.metadata.Unicode.kerning = b.kerning); var w = d.Unicode[h.postScriptName]; w && (h.metadata.Unicode.encoding = w, h.encoding = w.codePages[0]) }]) }(er.API), function (t) { var e = function (r) { for (var n = r.length, s = new Uint8Array(n), a = 0; a < n; a++)s[a] = r.charCodeAt(a); return s }; t.API.events.push(["addFont", function (r) { var n = void 0, s = r.font, a = r.instance; if (!s.isStandardFont) { if (a === void 0) throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('" + s.postScriptName + "')."); if (typeof (n = a.existsFileInVFS(s.postScriptName) === !1 ? a.loadFile(s.postScriptName) : a.getFileFromVFS(s.postScriptName)) != "string") throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('" + s.postScriptName + "')."); (function (A, o) { o = /^\x00\x01\x00\x00/.test(o) ? e(o) : e(ff(o)), A.metadata = t.API.TTFFont.open(o), A.metadata.Unicode = A.metadata.Unicode || { encoding: {}, kerning: {}, widths: [] }, A.metadata.glyIdsUsed = [0] })(s, n) } }]) }(er), er.API.addSvgAsImage = function (t, e, r, n, s, a, A, o) { if (isNaN(e) || isNaN(r)) throw Gr.error("jsPDF.addSvgAsImage: Invalid coordinates", arguments), new Error("Invalid coordinates passed to jsPDF.addSvgAsImage"); if (isNaN(n) || isNaN(s)) throw Gr.error("jsPDF.addSvgAsImage: Invalid measurements", arguments), new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage"); var l = document.createElement("canvas"); l.width = n, l.height = s; var c = l.getContext("2d"); c.fillStyle = "#fff", c.fillRect(0, 0, l.width, l.height); var d = { ignoreMouse: !0, ignoreAnimation: !0, ignoreDimensions: !0 }, p = this; return (Ar.canvg ? Promise.resolve(Ar.canvg) : Zp(() => import("./index.es-1770204244249.js"), [])).catch(function (g) { return Promise.reject(new Error("Could not load canvg: " + g)) }).then(function (g) { return g.default ? g.default : g }).then(function (g) { return g.fromString(c, t, d) }, function () { return Promise.reject(new Error("Could not load canvg.")) }).then(function (g) { return g.render(d) }).then(function () { p.addImage(l.toDataURL("image/jpeg", 1), e, r, n, s, A, o) }) }, er.API.putTotalPages = function (t) { var e, r = 0; parseInt(this.internal.getFont().id.substr(1), 10) < 15 ? (e = new RegExp(t, "g"), r = this.internal.getNumberOfPages()) : (e = new RegExp(this.pdfEscape16(t, this.internal.getFont()), "g"), r = this.pdfEscape16(this.internal.getNumberOfPages() + "", this.internal.getFont())); for (var n = 1; n <= this.internal.getNumberOfPages(); n++)for (var s = 0; s < this.internal.pages[n].length; s++)this.internal.pages[n][s] = this.internal.pages[n][s].replace(e, r); return this }, er.API.viewerPreferences = function (t, e) {
  var r; t = t || {}, e = e || !1; var n, s, a, A = { HideToolbar: { defaultValue: !1, value: !1, type: "boolean", explicitSet: !1, valueSet: [!0, !1], pdfVersion: 1.3 }, HideMenubar: { defaultValue: !1, value: !1, type: "boolean", explicitSet: !1, valueSet: [!0, !1], pdfVersion: 1.3 }, HideWindowUI: { defaultValue: !1, value: !1, type: "boolean", explicitSet: !1, valueSet: [!0, !1], pdfVersion: 1.3 }, FitWindow: { defaultValue: !1, value: !1, type: "boolean", explicitSet: !1, valueSet: [!0, !1], pdfVersion: 1.3 }, CenterWindow: { defaultValue: !1, value: !1, type: "boolean", explicitSet: !1, valueSet: [!0, !1], pdfVersion: 1.3 }, DisplayDocTitle: { defaultValue: !1, value: !1, type: "boolean", explicitSet: !1, valueSet: [!0, !1], pdfVersion: 1.4 }, NonFullScreenPageMode: { defaultValue: "UseNone", value: "UseNone", type: "name", explicitSet: !1, valueSet: ["UseNone", "UseOutlines", "UseThumbs", "UseOC"], pdfVersion: 1.3 }, Direction: { defaultValue: "L2R", value: "L2R", type: "name", explicitSet: !1, valueSet: ["L2R", "R2L"], pdfVersion: 1.3 }, ViewArea: { defaultValue: "CropBox", value: "CropBox", type: "name", explicitSet: !1, valueSet: ["MediaBox", "CropBox", "TrimBox", "BleedBox", "ArtBox"], pdfVersion: 1.4 }, ViewClip: { defaultValue: "CropBox", value: "CropBox", type: "name", explicitSet: !1, valueSet: ["MediaBox", "CropBox", "TrimBox", "BleedBox", "ArtBox"], pdfVersion: 1.4 }, PrintArea: { defaultValue: "CropBox", value: "CropBox", type: "name", explicitSet: !1, valueSet: ["MediaBox", "CropBox", "TrimBox", "BleedBox", "ArtBox"], pdfVersion: 1.4 }, PrintClip: { defaultValue: "CropBox", value: "CropBox", type: "name", explicitSet: !1, valueSet: ["MediaBox", "CropBox", "TrimBox", "BleedBox", "ArtBox"], pdfVersion: 1.4 }, PrintScaling: { defaultValue: "AppDefault", value: "AppDefault", type: "name", explicitSet: !1, valueSet: ["AppDefault", "None"], pdfVersion: 1.6 }, Duplex: { defaultValue: "", value: "none", type: "name", explicitSet: !1, valueSet: ["Simplex", "DuplexFlipShortEdge", "DuplexFlipLongEdge", "none"], pdfVersion: 1.7 }, PickTrayByPDFSize: { defaultValue: !1, value: !1, type: "boolean", explicitSet: !1, valueSet: [!0, !1], pdfVersion: 1.7 }, PrintPageRange: { defaultValue: "", value: "", type: "array", explicitSet: !1, valueSet: null, pdfVersion: 1.7 }, NumCopies: { defaultValue: 1, value: 1, type: "integer", explicitSet: !1, valueSet: null, pdfVersion: 1.7 } }, o = Object.keys(A), l = [], c = 0, d = 0, p = 0; function g(b, w) { var j, x = !1; for (j = 0; j < b.length; j += 1)b[j] === w && (x = !0); return x } if (this.internal.viewerpreferences === void 0 && (this.internal.viewerpreferences = {}, this.internal.viewerpreferences.configuration = JSON.parse(JSON.stringify(A)), this.internal.viewerpreferences.isSubscribed = !1), r = this.internal.viewerpreferences.configuration, t === "reset" || e === !0) { var h = o.length; for (p = 0; p < h; p += 1)r[o[p]].value = r[o[p]].defaultValue, r[o[p]].explicitSet = !1 } if (Pr(t) === "object") { for (s in t) if (a = t[s], g(o, s) && a !== void 0) { if (r[s].type === "boolean" && typeof a == "boolean") r[s].value = a; else if (r[s].type === "name" && g(r[s].valueSet, a)) r[s].value = a; else if (r[s].type === "integer" && Number.isInteger(a)) r[s].value = a; else if (r[s].type === "array") { for (c = 0; c < a.length; c += 1)if (n = !0, a[c].length === 1 && typeof a[c][0] == "number") l.push(String(a[c] - 1)); else if (a[c].length > 1) { for (d = 0; d < a[c].length; d += 1)typeof a[c][d] != "number" && (n = !1); n === !0 && l.push([a[c][0] - 1, a[c][1] - 1].join(" ")) } r[s].value = "[" + l.join(" ") + "]" } else r[s].value = r[s].defaultValue; r[s].explicitSet = !0 } } return this.internal.viewerpreferences.isSubscribed === !1 && (this.internal.events.subscribe("putCatalog", function () {
    var b, w = []; for (b in r) r[b].explicitSet === !0 && (r[b].type === "name" ? w.push("/" + b + " /" + r[b].value) : w.push("/" + b + " " + r[b].value)); w.length !== 0 && this.internal.write(`/ViewerPreferences
<<
`+ w.join(`
`) + `
>>`)
  }), this.internal.viewerpreferences.isSubscribed = !0), this.internal.viewerpreferences.configuration = r, this
}, er.API.addMetadata = function (t, e) { return this.internal.__metadata__ === void 0 && (this.internal.__metadata__ = { metadata: t, namespaceUri: e ?? "http://jspdf.default.namespaceuri/", rawXml: typeof e == "boolean" && e }, this.internal.events.subscribe("putCatalog", X6), this.internal.events.subscribe("postPutResources", Y6)), this }, function (t) {
  var e = t.API, r = e.pdfEscape16 = function (a, A) { for (var o, l = A.metadata.Unicode.widths, c = ["", "0", "00", "000", "0000"], d = [""], p = 0, g = a.length; p < g; ++p) { if (o = A.metadata.characterToGlyph(a.charCodeAt(p)), A.metadata.glyIdsUsed.push(o), A.metadata.toUnicode[o] = a.charCodeAt(p), l.indexOf(o) == -1 && (l.push(o), l.push([parseInt(A.metadata.widthOfGlyph(o), 10)])), o == "0") return d.join(""); o = o.toString(16), d.push(c[4 - o.length], o) } return d.join("") }, n = function (a) {
    var A, o, l, c, d, p, g; for (d = `/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`, l = [], p = 0, g = (o = Object.keys(a).sort(function (h, b) { return h - b })).length; p < g; p++)A = o[p], l.length >= 100 && (d += `
`+ l.length + ` beginbfchar
`+ l.join(`
`) + `
endbfchar`, l = []), a[A] !== void 0 && a[A] !== null && typeof a[A].toString == "function" && (c = ("0000" + a[A].toString(16)).slice(-4), A = ("0000" + (+A).toString(16)).slice(-4), l.push("<" + A + "><" + c + ">")); return l.length && (d += `
`+ l.length + ` beginbfchar
`+ l.join(`
`) + `
endbfchar
`), d + `endcmap
CMapName currentdict /CMap defineresource pop
end
end`}; e.events.push(["putFont", function (a) { (function (A) { var o = A.font, l = A.out, c = A.newObject, d = A.putStream; if (o.metadata instanceof t.API.TTFFont && o.encoding === "Identity-H") { for (var p = o.metadata.Unicode.widths, g = o.metadata.subset.encode(o.metadata.glyIdsUsed, 1), h = "", b = 0; b < g.length; b++)h += String.fromCharCode(g[b]); var w = c(); d({ data: h, addLength1: !0, objectId: w }), l("endobj"); var j = c(); d({ data: n(o.metadata.toUnicode), addLength1: !0, objectId: j }), l("endobj"); var x = c(); l("<<"), l("/Type /FontDescriptor"), l("/FontName /" + cc(o.fontName)), l("/FontFile2 " + w + " 0 R"), l("/FontBBox " + t.API.PDFObject.convert(o.metadata.bbox)), l("/Flags " + o.metadata.flags), l("/StemV " + o.metadata.stemV), l("/ItalicAngle " + o.metadata.italicAngle), l("/Ascent " + o.metadata.ascender), l("/Descent " + o.metadata.decender), l("/CapHeight " + o.metadata.capHeight), l(">>"), l("endobj"); var y = c(); l("<<"), l("/Type /Font"), l("/BaseFont /" + cc(o.fontName)), l("/FontDescriptor " + x + " 0 R"), l("/W " + t.API.PDFObject.convert(p)), l("/CIDToGIDMap /Identity"), l("/DW 1000"), l("/Subtype /CIDFontType2"), l("/CIDSystemInfo"), l("<<"), l("/Supplement 0"), l("/Registry (Adobe)"), l("/Ordering (" + o.encoding + ")"), l(">>"), l(">>"), l("endobj"), o.objectNumber = c(), l("<<"), l("/Type /Font"), l("/Subtype /Type0"), l("/ToUnicode " + j + " 0 R"), l("/BaseFont /" + cc(o.fontName)), l("/Encoding /" + o.encoding), l("/DescendantFonts [" + y + " 0 R]"), l(">>"), l("endobj"), o.isAlreadyPutted = !0 } })(a) }]), e.events.push(["putFont", function (a) { (function (A) { var o = A.font, l = A.out, c = A.newObject, d = A.putStream; if (o.metadata instanceof t.API.TTFFont && o.encoding === "WinAnsiEncoding") { for (var p = o.metadata.rawData, g = "", h = 0; h < p.length; h++)g += String.fromCharCode(p[h]); var b = c(); d({ data: g, addLength1: !0, objectId: b }), l("endobj"); var w = c(); d({ data: n(o.metadata.toUnicode), addLength1: !0, objectId: w }), l("endobj"); var j = c(); l("<<"), l("/Descent " + o.metadata.decender), l("/CapHeight " + o.metadata.capHeight), l("/StemV " + o.metadata.stemV), l("/Type /FontDescriptor"), l("/FontFile2 " + b + " 0 R"), l("/Flags 96"), l("/FontBBox " + t.API.PDFObject.convert(o.metadata.bbox)), l("/FontName /" + cc(o.fontName)), l("/ItalicAngle " + o.metadata.italicAngle), l("/Ascent " + o.metadata.ascender), l(">>"), l("endobj"), o.objectNumber = c(); for (var x = 0; x < o.metadata.hmtx.widths.length; x++)o.metadata.hmtx.widths[x] = parseInt(o.metadata.hmtx.widths[x] * (1e3 / o.metadata.head.unitsPerEm)); l("<</Subtype/TrueType/Type/Font/ToUnicode " + w + " 0 R/BaseFont/" + cc(o.fontName) + "/FontDescriptor " + j + " 0 R/Encoding/" + o.encoding + " /FirstChar 29 /LastChar 255 /Widths " + t.API.PDFObject.convert(o.metadata.hmtx.widths) + ">>"), l("endobj"), o.isAlreadyPutted = !0 } })(a) }]); var s = function (a) { var A, o = a.text || "", l = a.x, c = a.y, d = a.options || {}, p = a.mutex || {}, g = p.pdfEscape, h = p.activeFontKey, b = p.fonts, w = h, j = "", x = 0, y = "", B = b[w].encoding; if (b[w].encoding !== "Identity-H") return { text: o, x: l, y: c, options: d, mutex: p }; for (y = o, w = h, Array.isArray(o) && (y = o[0]), x = 0; x < y.length; x += 1)b[w].metadata.hasOwnProperty("cmap") && (A = b[w].metadata.cmap.unicode.codeMap[y[x].charCodeAt(0)]), A || y[x].charCodeAt(0) < 256 && b[w].metadata.hasOwnProperty("Unicode") ? j += y[x] : j += ""; var E = ""; return parseInt(w.slice(1)) < 14 || B === "WinAnsiEncoding" ? E = g(j, w).split("").map(function (T) { return T.charCodeAt(0).toString(16) }).join("") : B === "Identity-H" && (E = r(j, b[w])), p.isHex = !0, { text: E, x: l, y: c, options: d, mutex: p } }; e.events.push(["postProcessText", function (a) { var A = a.text || "", o = [], l = { text: A, x: a.x, y: a.y, options: a.options, mutex: a.mutex }; if (Array.isArray(A)) { var c = 0; for (c = 0; c < A.length; c += 1)Array.isArray(A[c]) && A[c].length === 3 ? o.push([s(Object.assign({}, l, { text: A[c][0] })).text, A[c][1], A[c][2]]) : o.push(s(Object.assign({}, l, { text: A[c] })).text); a.text = o } else a.text = s(Object.assign({}, l, { text: A })).text }])
}(er), function (t) { var e = function () { return this.internal.vFS === void 0 && (this.internal.vFS = {}), !0 }; t.existsFileInVFS = function (r) { return e.call(this), this.internal.vFS[r] !== void 0 }, t.addFileToVFS = function (r, n) { return e.call(this), this.internal.vFS[r] = n, this }, t.getFileFromVFS = function (r) { return e.call(this), this.internal.vFS[r] !== void 0 ? this.internal.vFS[r] : null } }(er.API), function (t) { t.__bidiEngine__ = t.prototype.__bidiEngine__ = function (n) { var s, a, A, o, l, c, d, p = e, g = [[0, 3, 0, 1, 0, 0, 0], [0, 3, 0, 1, 2, 2, 0], [0, 3, 0, 17, 2, 0, 1], [0, 3, 5, 5, 4, 1, 0], [0, 3, 21, 21, 4, 0, 1], [0, 3, 5, 5, 4, 2, 0]], h = [[2, 0, 1, 1, 0, 1, 0], [2, 0, 1, 1, 0, 2, 0], [2, 0, 2, 1, 3, 2, 0], [2, 0, 2, 33, 3, 1, 1]], b = { L: 0, R: 1, EN: 2, AN: 3, N: 4, B: 5, S: 6 }, w = { 0: 0, 5: 1, 6: 2, 7: 3, 32: 4, 251: 5, 254: 6, 255: 7 }, j = ["(", ")", "(", "<", ">", "<", "[", "]", "[", "{", "}", "{", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""], x = new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/), y = !1, B = 0; this.__bidiEngine__ = {}; var E = function (k) { var _ = k.charCodeAt(), V = _ >> 8, P = w[V]; return P !== void 0 ? p[256 * P + (255 & _)] : V === 252 || V === 253 ? "AL" : x.test(V) ? "L" : V === 8 ? "R" : "N" }, T = function (k) { for (var _, V = 0; V < k.length; V++) { if ((_ = E(k.charAt(V))) === "L") return !1; if (_ === "R") return !0 } return !1 }, U = function (k, _, V, P) { var te, ce, he, ie, ue = _[P]; switch (ue) { case "L": case "R": case "LRE": case "RLE": case "LRO": case "RLO": case "PDF": y = !1; break; case "N": case "AN": break; case "EN": y && (ue = "AN"); break; case "AL": y = !0, ue = "R"; break; case "WS": case "BN": ue = "N"; break; case "CS": P < 1 || P + 1 >= _.length || (te = V[P - 1]) !== "EN" && te !== "AN" || (ce = _[P + 1]) !== "EN" && ce !== "AN" ? ue = "N" : y && (ce = "AN"), ue = ce === te ? ce : "N"; break; case "ES": ue = (te = P > 0 ? V[P - 1] : "B") === "EN" && P + 1 < _.length && _[P + 1] === "EN" ? "EN" : "N"; break; case "ET": if (P > 0 && V[P - 1] === "EN") { ue = "EN"; break } if (y) { ue = "N"; break } for (he = P + 1, ie = _.length; he < ie && _[he] === "ET";)he++; ue = he < ie && _[he] === "EN" ? "EN" : "N"; break; case "NSM": if (A && !o) { for (ie = _.length, he = P + 1; he < ie && _[he] === "NSM";)he++; if (he < ie) { var pe = k[P], ve = pe >= 1425 && pe <= 2303 || pe === 64286; if (te = _[he], ve && (te === "R" || te === "AL")) { ue = "R"; break } } } ue = P < 1 || (te = _[P - 1]) === "B" ? "N" : V[P - 1]; break; case "B": y = !1, s = !0, ue = B; break; case "S": a = !0, ue = "N" }return ue }, M = function (k, _, V) { var P = k.split(""); return V && G(P, V, { hiLevel: B }), P.reverse(), _ && _.reverse(), P.join("") }, G = function (k, _, V) { var P, te, ce, he, ie, ue = -1, pe = k.length, ve = 0, I = [], R = B ? h : g, re = []; for (y = !1, s = !1, a = !1, te = 0; te < pe; te++)re[te] = E(k[te]); for (ce = 0; ce < pe; ce++) { if (ie = ve, I[ce] = U(k, re, I, ce), P = 240 & (ve = R[ie][b[I[ce]]]), ve &= 15, _[ce] = he = R[ve][5], P > 0) if (P === 16) { for (te = ue; te < ce; te++)_[te] = 1; ue = -1 } else ue = -1; if (R[ve][6]) ue === -1 && (ue = ce); else if (ue > -1) { for (te = ue; te < ce; te++)_[te] = he; ue = -1 } re[ce] === "B" && (_[ce] = 0), V.hiLevel |= he } a && function (Y, le, ge) { for (var ke = 0; ke < ge; ke++)if (Y[ke] === "S") { le[ke] = B; for (var Fe = ke - 1; Fe >= 0 && Y[Fe] === "WS"; Fe--)le[Fe] = B } }(re, _, pe) }, N = function (k, _, V, P, te) { if (!(te.hiLevel < k)) { if (k === 1 && B === 1 && !s) return _.reverse(), void (V && V.reverse()); for (var ce, he, ie, ue, pe = _.length, ve = 0; ve < pe;) { if (P[ve] >= k) { for (ie = ve + 1; ie < pe && P[ie] >= k;)ie++; for (ue = ve, he = ie - 1; ue < he; ue++, he--)ce = _[ue], _[ue] = _[he], _[he] = ce, V && (ce = V[ue], V[ue] = V[he], V[he] = ce); ve = ie } ve++ } } }, H = function (k, _, V) { var P = k.split(""), te = { hiLevel: B }; return V || (V = []), G(P, V, te), function (ce, he, ie) { if (ie.hiLevel !== 0 && d) for (var ue, pe = 0; pe < ce.length; pe++)he[pe] === 1 && (ue = j.indexOf(ce[pe])) >= 0 && (ce[pe] = j[ue + 1]) }(P, V, te), N(2, P, _, V, te), N(1, P, _, V, te), P.join("") }; return this.__bidiEngine__.doBidiReorder = function (k, _, V) { if (function (te, ce) { if (ce) for (var he = 0; he < te.length; he++)ce[he] = he; o === void 0 && (o = T(te)), c === void 0 && (c = T(te)) }(k, _), A || !l || c) if (A && l && o ^ c) B = o ? 1 : 0, k = M(k, _, V); else if (!A && l && c) B = o ? 1 : 0, k = H(k, _, V), k = M(k, _); else if (!A || o || l || c) { if (A && !l && o ^ c) k = M(k, _), o ? (B = 0, k = H(k, _, V)) : (B = 1, k = H(k, _, V), k = M(k, _)); else if (A && o && !l && c) B = 1, k = H(k, _, V), k = M(k, _); else if (!A && !l && o ^ c) { var P = d; o ? (B = 1, k = H(k, _, V), B = 0, d = !1, k = H(k, _, V), d = P) : (B = 0, k = H(k, _, V), k = M(k, _), B = 1, d = !1, k = H(k, _, V), d = P, k = M(k, _)) } } else B = 0, k = H(k, _, V); else B = o ? 1 : 0, k = H(k, _, V); return k }, this.__bidiEngine__.setOptions = function (k) { k && (A = k.isInputVisual, l = k.isOutputVisual, o = k.isInputRtl, c = k.isOutputRtl, d = k.isSymmetricSwapping) }, this.__bidiEngine__.setOptions(n), this.__bidiEngine__ }; var e = ["BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "S", "B", "S", "WS", "B", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "B", "B", "B", "S", "WS", "N", "N", "ET", "ET", "ET", "N", "N", "N", "N", "N", "ES", "CS", "ES", "CS", "CS", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "CS", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "N", "BN", "BN", "BN", "BN", "BN", "BN", "B", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "BN", "CS", "N", "ET", "ET", "ET", "ET", "N", "N", "N", "N", "L", "N", "N", "BN", "N", "N", "ET", "ET", "EN", "EN", "N", "L", "N", "N", "N", "EN", "L", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "L", "L", "L", "L", "L", "L", "L", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "L", "N", "N", "N", "N", "N", "ET", "N", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "R", "NSM", "R", "NSM", "NSM", "R", "NSM", "NSM", "R", "NSM", "N", "N", "N", "N", "N", "N", "N", "N", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "N", "N", "N", "N", "N", "R", "R", "R", "R", "R", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "AN", "AN", "AN", "AN", "AN", "AN", "N", "N", "AL", "ET", "ET", "AL", "CS", "AL", "N", "N", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "AL", "AL", "N", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "AN", "AN", "AN", "AN", "AN", "AN", "AN", "AN", "AN", "AN", "ET", "AN", "AN", "AL", "AL", "AL", "NSM", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "AN", "N", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "AL", "AL", "NSM", "NSM", "N", "NSM", "NSM", "NSM", "NSM", "AL", "AL", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "N", "AL", "AL", "NSM", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "N", "N", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "AL", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "R", "R", "N", "N", "N", "N", "R", "N", "N", "N", "N", "N", "WS", "WS", "WS", "WS", "WS", "WS", "WS", "WS", "WS", "WS", "WS", "BN", "BN", "BN", "L", "R", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "WS", "B", "LRE", "RLE", "PDF", "LRO", "RLO", "CS", "ET", "ET", "ET", "ET", "ET", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "CS", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "WS", "BN", "BN", "BN", "BN", "BN", "N", "LRI", "RLI", "FSI", "PDI", "BN", "BN", "BN", "BN", "BN", "BN", "EN", "L", "N", "N", "EN", "EN", "EN", "EN", "EN", "EN", "ES", "ES", "N", "N", "N", "L", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "ES", "ES", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "ET", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "N", "N", "N", "N", "N", "R", "NSM", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "ES", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "N", "R", "R", "R", "R", "R", "N", "R", "N", "R", "R", "N", "R", "R", "N", "R", "R", "R", "R", "R", "R", "R", "R", "R", "R", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "NSM", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "CS", "N", "CS", "N", "N", "CS", "N", "N", "N", "N", "N", "N", "N", "N", "N", "ET", "N", "N", "ES", "ES", "N", "N", "N", "N", "N", "ET", "ET", "N", "N", "N", "N", "N", "AL", "AL", "AL", "AL", "AL", "N", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "AL", "N", "N", "BN", "N", "N", "N", "ET", "ET", "ET", "N", "N", "N", "N", "N", "ES", "CS", "ES", "CS", "CS", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", "CS", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "L", "N", "N", "N", "L", "L", "L", "L", "L", "L", "N", "N", "L", "L", "L", "L", "L", "L", "N", "N", "L", "L", "L", "L", "L", "L", "N", "N", "L", "L", "L", "N", "N", "N", "ET", "ET", "N", "N", "N", "ET", "ET", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N"], r = new t.__bidiEngine__({ isInputVisual: !0 }); t.API.events.push(["postProcessText", function (n) { var s = n.text; n.x, n.y; var a = n.options || {}; n.mutex, a.lang; var A = []; if (a.isInputVisual = typeof a.isInputVisual != "boolean" || a.isInputVisual, r.setOptions(a), Object.prototype.toString.call(s) === "[object Array]") { var o = 0; for (A = [], o = 0; o < s.length; o += 1)Object.prototype.toString.call(s[o]) === "[object Array]" ? A.push([r.doBidiReorder(s[o][0]), s[o][1], s[o][2]]) : A.push([r.doBidiReorder(s[o])]); n.text = A } else n.text = r.doBidiReorder(s); r.setOptions({ isInputVisual: !0 }) }]) }(er), er.API.TTFFont = function () { function t(e) { var r; if (this.rawData = e, r = this.contents = new Fo(e), this.contents.pos = 4, r.readString(4) === "ttcf") throw new Error("TTCF not supported."); r.pos = 0, this.parse(), this.subset = new hL(this), this.registerTTF() } return t.open = function (e) { return new t(e) }, t.prototype.parse = function () { return this.directory = new Z6(this.contents), this.head = new tL(this), this.name = new aL(this), this.cmap = new Y4(this), this.toUnicode = {}, this.hhea = new rL(this), this.maxp = new AL(this), this.hmtx = new oL(this), this.post = new sL(this), this.os2 = new nL(this), this.loca = new dL(this), this.glyf = new lL(this), this.ascender = this.os2.exists && this.os2.ascender || this.hhea.ascender, this.decender = this.os2.exists && this.os2.decender || this.hhea.decender, this.lineGap = this.os2.exists && this.os2.lineGap || this.hhea.lineGap, this.bbox = [this.head.xMin, this.head.yMin, this.head.xMax, this.head.yMax] }, t.prototype.registerTTF = function () { var e, r, n, s, a; if (this.scaleFactor = 1e3 / this.head.unitsPerEm, this.bbox = (function () { var A, o, l, c; for (c = [], A = 0, o = (l = this.bbox).length; A < o; A++)e = l[A], c.push(Math.round(e * this.scaleFactor)); return c }).call(this), this.stemV = 0, this.post.exists ? (n = 255 & (s = this.post.italic_angle), 32768 & (r = s >> 16) && (r = -(1 + (65535 ^ r))), this.italicAngle = +(r + "." + n)) : this.italicAngle = 0, this.ascender = Math.round(this.ascender * this.scaleFactor), this.decender = Math.round(this.decender * this.scaleFactor), this.lineGap = Math.round(this.lineGap * this.scaleFactor), this.capHeight = this.os2.exists && this.os2.capHeight || this.ascender, this.xHeight = this.os2.exists && this.os2.xHeight || 0, this.familyClass = (this.os2.exists && this.os2.familyClass || 0) >> 8, this.isSerif = (a = this.familyClass) === 1 || a === 2 || a === 3 || a === 4 || a === 5 || a === 7, this.isScript = this.familyClass === 10, this.flags = 0, this.post.isFixedPitch && (this.flags |= 1), this.isSerif && (this.flags |= 2), this.isScript && (this.flags |= 8), this.italicAngle !== 0 && (this.flags |= 64), this.flags |= 32, !this.cmap.unicode) throw new Error("No unicode cmap for font") }, t.prototype.characterToGlyph = function (e) { var r; return ((r = this.cmap.unicode) != null ? r.codeMap[e] : void 0) || 0 }, t.prototype.widthOfGlyph = function (e) { var r; return r = 1e3 / this.head.unitsPerEm, this.hmtx.forGlyph(e).advance * r }, t.prototype.widthOfString = function (e, r, n) { var s, a, A, o; for (A = 0, a = 0, o = (e = "" + e).length; 0 <= o ? a < o : a > o; a = 0 <= o ? ++a : --a)s = e.charCodeAt(a), A += this.widthOfGlyph(this.characterToGlyph(s)) + n * (1e3 / r) || 0; return A * (r / 1e3) }, t.prototype.lineHeight = function (e, r) { var n; return r == null && (r = !1), n = r ? this.lineGap : 0, (this.ascender + n - this.decender) / 1e3 * e }, t }(); var ga, Fo = function () { function t(e) { this.data = e ?? [], this.pos = 0, this.length = this.data.length } return t.prototype.readByte = function () { return this.data[this.pos++] }, t.prototype.writeByte = function (e) { return this.data[this.pos++] = e }, t.prototype.readUInt32 = function () { return 16777216 * this.readByte() + (this.readByte() << 16) + (this.readByte() << 8) + this.readByte() }, t.prototype.writeUInt32 = function (e) { return this.writeByte(e >>> 24 & 255), this.writeByte(e >> 16 & 255), this.writeByte(e >> 8 & 255), this.writeByte(255 & e) }, t.prototype.readInt32 = function () { var e; return (e = this.readUInt32()) >= 2147483648 ? e - 4294967296 : e }, t.prototype.writeInt32 = function (e) { return e < 0 && (e += 4294967296), this.writeUInt32(e) }, t.prototype.readUInt16 = function () { return this.readByte() << 8 | this.readByte() }, t.prototype.writeUInt16 = function (e) { return this.writeByte(e >> 8 & 255), this.writeByte(255 & e) }, t.prototype.readInt16 = function () { var e; return (e = this.readUInt16()) >= 32768 ? e - 65536 : e }, t.prototype.writeInt16 = function (e) { return e < 0 && (e += 65536), this.writeUInt16(e) }, t.prototype.readString = function (e) { var r, n; for (n = [], r = 0; 0 <= e ? r < e : r > e; r = 0 <= e ? ++r : --r)n[r] = String.fromCharCode(this.readByte()); return n.join("") }, t.prototype.writeString = function (e) { var r, n, s; for (s = [], r = 0, n = e.length; 0 <= n ? r < n : r > n; r = 0 <= n ? ++r : --r)s.push(this.writeByte(e.charCodeAt(r))); return s }, t.prototype.readShort = function () { return this.readInt16() }, t.prototype.writeShort = function (e) { return this.writeInt16(e) }, t.prototype.readLongLong = function () { var e, r, n, s, a, A, o, l; return e = this.readByte(), r = this.readByte(), n = this.readByte(), s = this.readByte(), a = this.readByte(), A = this.readByte(), o = this.readByte(), l = this.readByte(), 128 & e ? -1 * (72057594037927940 * (255 ^ e) + 281474976710656 * (255 ^ r) + 1099511627776 * (255 ^ n) + 4294967296 * (255 ^ s) + 16777216 * (255 ^ a) + 65536 * (255 ^ A) + 256 * (255 ^ o) + (255 ^ l) + 1) : 72057594037927940 * e + 281474976710656 * r + 1099511627776 * n + 4294967296 * s + 16777216 * a + 65536 * A + 256 * o + l }, t.prototype.writeLongLong = function (e) { var r, n; return r = Math.floor(e / 4294967296), n = 4294967295 & e, this.writeByte(r >> 24 & 255), this.writeByte(r >> 16 & 255), this.writeByte(r >> 8 & 255), this.writeByte(255 & r), this.writeByte(n >> 24 & 255), this.writeByte(n >> 16 & 255), this.writeByte(n >> 8 & 255), this.writeByte(255 & n) }, t.prototype.readInt = function () { return this.readInt32() }, t.prototype.writeInt = function (e) { return this.writeInt32(e) }, t.prototype.read = function (e) { var r, n; for (r = [], n = 0; 0 <= e ? n < e : n > e; n = 0 <= e ? ++n : --n)r.push(this.readByte()); return r }, t.prototype.write = function (e) { var r, n, s, a; for (a = [], n = 0, s = e.length; n < s; n++)r = e[n], a.push(this.writeByte(r)); return a }, t }(), Z6 = function () { var t; function e(r) { var n, s, a; for (this.scalarType = r.readInt(), this.tableCount = r.readShort(), this.searchRange = r.readShort(), this.entrySelector = r.readShort(), this.rangeShift = r.readShort(), this.tables = {}, s = 0, a = this.tableCount; 0 <= a ? s < a : s > a; s = 0 <= a ? ++s : --s)n = { tag: r.readString(4), checksum: r.readInt(), offset: r.readInt(), length: r.readInt() }, this.tables[n.tag] = n } return e.prototype.encode = function (r) { var n, s, a, A, o, l, c, d, p, g, h, b, w; for (w in h = Object.keys(r).length, l = Math.log(2), p = 16 * Math.floor(Math.log(h) / l), A = Math.floor(p / l), d = 16 * h - p, (s = new Fo).writeInt(this.scalarType), s.writeShort(h), s.writeShort(p), s.writeShort(A), s.writeShort(d), a = 16 * h, c = s.pos + a, o = null, b = [], r) for (g = r[w], s.writeString(w), s.writeInt(t(g)), s.writeInt(c), s.writeInt(g.length), b = b.concat(g), w === "head" && (o = c), c += g.length; c % 4;)b.push(0), c++; return s.write(b), n = 2981146554 - t(s.data), s.pos = o + 8, s.writeUInt32(n), s.data }, t = function (r) { var n, s, a, A; for (r = X4.call(r); r.length % 4;)r.push(0); for (a = new Fo(r), s = 0, n = 0, A = r.length; n < A; n = n += 4)s += a.readUInt32(); return 4294967295 & s }, e }(), eL = {}.hasOwnProperty, Va = function (t, e) { for (var r in e) eL.call(e, r) && (t[r] = e[r]); function n() { this.constructor = t } return n.prototype = e.prototype, t.prototype = new n, t.__super__ = e.prototype, t }; ga = function () { function t(e) { var r; this.file = e, r = this.file.directory.tables[this.tag], this.exists = !!r, r && (this.offset = r.offset, this.length = r.length, this.parse(this.file.contents)) } return t.prototype.parse = function () { }, t.prototype.encode = function () { }, t.prototype.raw = function () { return this.exists ? (this.file.contents.pos = this.offset, this.file.contents.read(this.length)) : null }, t }(); var tL = function () { function t() { return t.__super__.constructor.apply(this, arguments) } return Va(t, ga), t.prototype.tag = "head", t.prototype.parse = function (e) { return e.pos = this.offset, this.version = e.readInt(), this.revision = e.readInt(), this.checkSumAdjustment = e.readInt(), this.magicNumber = e.readInt(), this.flags = e.readShort(), this.unitsPerEm = e.readShort(), this.created = e.readLongLong(), this.modified = e.readLongLong(), this.xMin = e.readShort(), this.yMin = e.readShort(), this.xMax = e.readShort(), this.yMax = e.readShort(), this.macStyle = e.readShort(), this.lowestRecPPEM = e.readShort(), this.fontDirectionHint = e.readShort(), this.indexToLocFormat = e.readShort(), this.glyphDataFormat = e.readShort() }, t.prototype.encode = function (e) { var r; return (r = new Fo).writeInt(this.version), r.writeInt(this.revision), r.writeInt(this.checkSumAdjustment), r.writeInt(this.magicNumber), r.writeShort(this.flags), r.writeShort(this.unitsPerEm), r.writeLongLong(this.created), r.writeLongLong(this.modified), r.writeShort(this.xMin), r.writeShort(this.yMin), r.writeShort(this.xMax), r.writeShort(this.yMax), r.writeShort(this.macStyle), r.writeShort(this.lowestRecPPEM), r.writeShort(this.fontDirectionHint), r.writeShort(e), r.writeShort(this.glyphDataFormat), r.data }, t }(), j2 = function () { function t(e, r) { var n, s, a, A, o, l, c, d, p, g, h, b, w, j, x, y, B; switch (this.platformID = e.readUInt16(), this.encodingID = e.readShort(), this.offset = r + e.readInt(), p = e.pos, e.pos = this.offset, this.format = e.readUInt16(), this.length = e.readUInt16(), this.language = e.readUInt16(), this.isUnicode = this.platformID === 3 && this.encodingID === 1 && this.format === 4 || this.platformID === 0 && this.format === 4, this.codeMap = {}, this.format) { case 0: for (l = 0; l < 256; ++l)this.codeMap[l] = e.readByte(); break; case 4: for (h = e.readUInt16(), g = h / 2, e.pos += 6, a = function () { var E, T; for (T = [], l = E = 0; 0 <= g ? E < g : E > g; l = 0 <= g ? ++E : --E)T.push(e.readUInt16()); return T }(), e.pos += 2, w = function () { var E, T; for (T = [], l = E = 0; 0 <= g ? E < g : E > g; l = 0 <= g ? ++E : --E)T.push(e.readUInt16()); return T }(), c = function () { var E, T; for (T = [], l = E = 0; 0 <= g ? E < g : E > g; l = 0 <= g ? ++E : --E)T.push(e.readUInt16()); return T }(), d = function () { var E, T; for (T = [], l = E = 0; 0 <= g ? E < g : E > g; l = 0 <= g ? ++E : --E)T.push(e.readUInt16()); return T }(), s = (this.length - e.pos + this.offset) / 2, o = function () { var E, T; for (T = [], l = E = 0; 0 <= s ? E < s : E > s; l = 0 <= s ? ++E : --E)T.push(e.readUInt16()); return T }(), l = x = 0, B = a.length; x < B; l = ++x)for (j = a[l], n = y = b = w[l]; b <= j ? y <= j : y >= j; n = b <= j ? ++y : --y)d[l] === 0 ? A = n + c[l] : (A = o[d[l] / 2 + (n - b) - (g - l)] || 0) !== 0 && (A += c[l]), this.codeMap[n] = 65535 & A }e.pos = p } return t.encode = function (e, r) { var n, s, a, A, o, l, c, d, p, g, h, b, w, j, x, y, B, E, T, U, M, G, N, H, k, _, V, P, te, ce, he, ie, ue, pe, ve, I, R, re, Y, le, ge, ke, Fe, Le, nt, ct; switch (P = new Fo, A = Object.keys(e).sort(function (de, Ze) { return de - Ze }), r) { case "macroman": for (w = 0, j = function () { var de = []; for (b = 0; b < 256; ++b)de.push(0); return de }(), y = { 0: 0 }, a = {}, te = 0, ue = A.length; te < ue; te++)y[Fe = e[s = A[te]]] == null && (y[Fe] = ++w), a[s] = { old: e[s], new: y[e[s]] }, j[s] = y[e[s]]; return P.writeUInt16(1), P.writeUInt16(0), P.writeUInt32(12), P.writeUInt16(0), P.writeUInt16(262), P.writeUInt16(0), P.write(j), { charMap: a, subtable: P.data, maxGlyphID: w + 1 }; case "unicode": for (_ = [], p = [], B = 0, y = {}, n = {}, x = c = null, ce = 0, pe = A.length; ce < pe; ce++)y[T = e[s = A[ce]]] == null && (y[T] = ++B), n[s] = { old: T, new: y[T] }, o = y[T] - s, x != null && o === c || (x && p.push(x), _.push(s), c = o), x = s; for (x && p.push(x), p.push(65535), _.push(65535), H = 2 * (N = _.length), G = 2 * Math.pow(Math.log(N) / Math.LN2, 2), g = Math.log(G / 2) / Math.LN2, M = 2 * N - G, l = [], U = [], h = [], b = he = 0, ve = _.length; he < ve; b = ++he) { if (k = _[b], d = p[b], k === 65535) { l.push(0), U.push(0); break } if (k - (V = n[k].new) >= 32768) for (l.push(0), U.push(2 * (h.length + N - b)), s = ie = k; k <= d ? ie <= d : ie >= d; s = k <= d ? ++ie : --ie)h.push(n[s].new); else l.push(V - k), U.push(0) } for (P.writeUInt16(3), P.writeUInt16(1), P.writeUInt32(12), P.writeUInt16(4), P.writeUInt16(16 + 8 * N + 2 * h.length), P.writeUInt16(0), P.writeUInt16(H), P.writeUInt16(G), P.writeUInt16(g), P.writeUInt16(M), ge = 0, I = p.length; ge < I; ge++)s = p[ge], P.writeUInt16(s); for (P.writeUInt16(0), ke = 0, R = _.length; ke < R; ke++)s = _[ke], P.writeUInt16(s); for (Le = 0, re = l.length; Le < re; Le++)o = l[Le], P.writeUInt16(o); for (nt = 0, Y = U.length; nt < Y; nt++)E = U[nt], P.writeUInt16(E); for (ct = 0, le = h.length; ct < le; ct++)w = h[ct], P.writeUInt16(w); return { charMap: n, subtable: P.data, maxGlyphID: B + 1 } } }, t }(), Y4 = function () { function t() { return t.__super__.constructor.apply(this, arguments) } return Va(t, ga), t.prototype.tag = "cmap", t.prototype.parse = function (e) { var r, n, s; for (e.pos = this.offset, this.version = e.readUInt16(), s = e.readUInt16(), this.tables = [], this.unicode = null, n = 0; 0 <= s ? n < s : n > s; n = 0 <= s ? ++n : --n)r = new j2(e, this.offset), this.tables.push(r), r.isUnicode && this.unicode == null && (this.unicode = r); return !0 }, t.encode = function (e, r) { var n, s; return r == null && (r = "macroman"), n = j2.encode(e, r), (s = new Fo).writeUInt16(0), s.writeUInt16(1), n.table = s.data.concat(n.subtable), n }, t }(), rL = function () { function t() { return t.__super__.constructor.apply(this, arguments) } return Va(t, ga), t.prototype.tag = "hhea", t.prototype.parse = function (e) { return e.pos = this.offset, this.version = e.readInt(), this.ascender = e.readShort(), this.decender = e.readShort(), this.lineGap = e.readShort(), this.advanceWidthMax = e.readShort(), this.minLeftSideBearing = e.readShort(), this.minRightSideBearing = e.readShort(), this.xMaxExtent = e.readShort(), this.caretSlopeRise = e.readShort(), this.caretSlopeRun = e.readShort(), this.caretOffset = e.readShort(), e.pos += 8, this.metricDataFormat = e.readShort(), this.numberOfMetrics = e.readUInt16() }, t }(), nL = function () { function t() { return t.__super__.constructor.apply(this, arguments) } return Va(t, ga), t.prototype.tag = "OS/2", t.prototype.parse = function (e) { if (e.pos = this.offset, this.version = e.readUInt16(), this.averageCharWidth = e.readShort(), this.weightClass = e.readUInt16(), this.widthClass = e.readUInt16(), this.type = e.readShort(), this.ySubscriptXSize = e.readShort(), this.ySubscriptYSize = e.readShort(), this.ySubscriptXOffset = e.readShort(), this.ySubscriptYOffset = e.readShort(), this.ySuperscriptXSize = e.readShort(), this.ySuperscriptYSize = e.readShort(), this.ySuperscriptXOffset = e.readShort(), this.ySuperscriptYOffset = e.readShort(), this.yStrikeoutSize = e.readShort(), this.yStrikeoutPosition = e.readShort(), this.familyClass = e.readShort(), this.panose = function () { var r, n; for (n = [], r = 0; r < 10; ++r)n.push(e.readByte()); return n }(), this.charRange = function () { var r, n; for (n = [], r = 0; r < 4; ++r)n.push(e.readInt()); return n }(), this.vendorID = e.readString(4), this.selection = e.readShort(), this.firstCharIndex = e.readShort(), this.lastCharIndex = e.readShort(), this.version > 0 && (this.ascent = e.readShort(), this.descent = e.readShort(), this.lineGap = e.readShort(), this.winAscent = e.readShort(), this.winDescent = e.readShort(), this.codePageRange = function () { var r, n; for (n = [], r = 0; r < 2; r = ++r)n.push(e.readInt()); return n }(), this.version > 1)) return this.xHeight = e.readShort(), this.capHeight = e.readShort(), this.defaultChar = e.readShort(), this.breakChar = e.readShort(), this.maxContext = e.readShort() }, t }(), sL = function () { function t() { return t.__super__.constructor.apply(this, arguments) } return Va(t, ga), t.prototype.tag = "post", t.prototype.parse = function (e) { var r, n, s; switch (e.pos = this.offset, this.format = e.readInt(), this.italicAngle = e.readInt(), this.underlinePosition = e.readShort(), this.underlineThickness = e.readShort(), this.isFixedPitch = e.readInt(), this.minMemType42 = e.readInt(), this.maxMemType42 = e.readInt(), this.minMemType1 = e.readInt(), this.maxMemType1 = e.readInt(), this.format) { case 65536: case 196608: break; case 131072: var a; for (n = e.readUInt16(), this.glyphNameIndex = [], a = 0; 0 <= n ? a < n : a > n; a = 0 <= n ? ++a : --a)this.glyphNameIndex.push(e.readUInt16()); for (this.names = [], s = []; e.pos < this.offset + this.length;)r = e.readByte(), s.push(this.names.push(e.readString(r))); return s; case 151552: return n = e.readUInt16(), this.offsets = e.read(n); case 262144: return this.map = (function () { var A, o, l; for (l = [], a = A = 0, o = this.file.maxp.numGlyphs; 0 <= o ? A < o : A > o; a = 0 <= o ? ++A : --A)l.push(e.readUInt32()); return l }).call(this) } }, t }(), iL = function (t, e) { this.raw = t, this.length = t.length, this.platformID = e.platformID, this.encodingID = e.encodingID, this.languageID = e.languageID }, aL = function () { function t() { return t.__super__.constructor.apply(this, arguments) } return Va(t, ga), t.prototype.tag = "name", t.prototype.parse = function (e) { var r, n, s, a, A, o, l, c, d, p, g; for (e.pos = this.offset, e.readShort(), r = e.readShort(), o = e.readShort(), n = [], a = 0; 0 <= r ? a < r : a > r; a = 0 <= r ? ++a : --a)n.push({ platformID: e.readShort(), encodingID: e.readShort(), languageID: e.readShort(), nameID: e.readShort(), length: e.readShort(), offset: this.offset + o + e.readShort() }); for (l = {}, a = d = 0, p = n.length; d < p; a = ++d)s = n[a], e.pos = s.offset, c = e.readString(s.length), A = new iL(c, s), l[g = s.nameID] == null && (l[g] = []), l[s.nameID].push(A); this.strings = l, this.copyright = l[0], this.fontFamily = l[1], this.fontSubfamily = l[2], this.uniqueSubfamily = l[3], this.fontName = l[4], this.version = l[5]; try { this.postscriptName = l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g, "") } catch { this.postscriptName = l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g, "") } return this.trademark = l[7], this.manufacturer = l[8], this.designer = l[9], this.description = l[10], this.vendorUrl = l[11], this.designerUrl = l[12], this.license = l[13], this.licenseUrl = l[14], this.preferredFamily = l[15], this.preferredSubfamily = l[17], this.compatibleFull = l[18], this.sampleText = l[19] }, t }(), AL = function () { function t() { return t.__super__.constructor.apply(this, arguments) } return Va(t, ga), t.prototype.tag = "maxp", t.prototype.parse = function (e) { return e.pos = this.offset, this.version = e.readInt(), this.numGlyphs = e.readUInt16(), this.maxPoints = e.readUInt16(), this.maxContours = e.readUInt16(), this.maxCompositePoints = e.readUInt16(), this.maxComponentContours = e.readUInt16(), this.maxZones = e.readUInt16(), this.maxTwilightPoints = e.readUInt16(), this.maxStorage = e.readUInt16(), this.maxFunctionDefs = e.readUInt16(), this.maxInstructionDefs = e.readUInt16(), this.maxStackElements = e.readUInt16(), this.maxSizeOfInstructions = e.readUInt16(), this.maxComponentElements = e.readUInt16(), this.maxComponentDepth = e.readUInt16() }, t }(), oL = function () { function t() { return t.__super__.constructor.apply(this, arguments) } return Va(t, ga), t.prototype.tag = "hmtx", t.prototype.parse = function (e) { var r, n, s, a, A, o, l; for (e.pos = this.offset, this.metrics = [], r = 0, o = this.file.hhea.numberOfMetrics; 0 <= o ? r < o : r > o; r = 0 <= o ? ++r : --r)this.metrics.push({ advance: e.readUInt16(), lsb: e.readInt16() }); for (s = this.file.maxp.numGlyphs - this.file.hhea.numberOfMetrics, this.leftSideBearings = function () { var c, d; for (d = [], r = c = 0; 0 <= s ? c < s : c > s; r = 0 <= s ? ++c : --c)d.push(e.readInt16()); return d }(), this.widths = (function () { var c, d, p, g; for (g = [], c = 0, d = (p = this.metrics).length; c < d; c++)a = p[c], g.push(a.advance); return g }).call(this), n = this.widths[this.widths.length - 1], l = [], r = A = 0; 0 <= s ? A < s : A > s; r = 0 <= s ? ++A : --A)l.push(this.widths.push(n)); return l }, t.prototype.forGlyph = function (e) { return e in this.metrics ? this.metrics[e] : { advance: this.metrics[this.metrics.length - 1].advance, lsb: this.leftSideBearings[e - this.metrics.length] } }, t }(), X4 = [].slice, lL = function () { function t() { return t.__super__.constructor.apply(this, arguments) } return Va(t, ga), t.prototype.tag = "glyf", t.prototype.parse = function () { return this.cache = {} }, t.prototype.glyphFor = function (e) { var r, n, s, a, A, o, l, c, d, p; return e in this.cache ? this.cache[e] : (a = this.file.loca, r = this.file.contents, n = a.indexOf(e), (s = a.lengthOf(e)) === 0 ? this.cache[e] = null : (r.pos = this.offset + n, A = (o = new Fo(r.read(s))).readShort(), c = o.readShort(), p = o.readShort(), l = o.readShort(), d = o.readShort(), this.cache[e] = A === -1 ? new uL(o, c, p, l, d) : new cL(o, A, c, p, l, d), this.cache[e])) }, t.prototype.encode = function (e, r, n) { var s, a, A, o, l; for (A = [], a = [], o = 0, l = r.length; o < l; o++)s = e[r[o]], a.push(A.length), s && (A = A.concat(s.encode(n))); return a.push(A.length), { table: A, offsets: a } }, t }(), cL = function () { function t(e, r, n, s, a, A) { this.raw = e, this.numberOfContours = r, this.xMin = n, this.yMin = s, this.xMax = a, this.yMax = A, this.compound = !1 } return t.prototype.encode = function () { return this.raw.data }, t }(), uL = function () { function t(e, r, n, s, a) { var A, o; for (this.raw = e, this.xMin = r, this.yMin = n, this.xMax = s, this.yMax = a, this.compound = !0, this.glyphIDs = [], this.glyphOffsets = [], A = this.raw; o = A.readShort(), this.glyphOffsets.push(A.pos), this.glyphIDs.push(A.readUInt16()), 32 & o;)A.pos += 1 & o ? 4 : 2, 128 & o ? A.pos += 8 : 64 & o ? A.pos += 4 : 8 & o && (A.pos += 2) } return t.prototype.encode = function () { var e, r, n; for (r = new Fo(X4.call(this.raw.data)), e = 0, n = this.glyphIDs.length; e < n; ++e)r.pos = this.glyphOffsets[e]; return r.data }, t }(), dL = function () { function t() { return t.__super__.constructor.apply(this, arguments) } return Va(t, ga), t.prototype.tag = "loca", t.prototype.parse = function (e) { var r, n; return e.pos = this.offset, r = this.file.head.indexToLocFormat, this.offsets = r === 0 ? (function () { var s, a; for (a = [], n = 0, s = this.length; n < s; n += 2)a.push(2 * e.readUInt16()); return a }).call(this) : (function () { var s, a; for (a = [], n = 0, s = this.length; n < s; n += 4)a.push(e.readUInt32()); return a }).call(this) }, t.prototype.indexOf = function (e) { return this.offsets[e] }, t.prototype.lengthOf = function (e) { return this.offsets[e + 1] - this.offsets[e] }, t.prototype.encode = function (e, r) { for (var n = new Uint32Array(this.offsets.length), s = 0, a = 0, A = 0; A < n.length; ++A)if (n[A] = s, a < r.length && r[a] == A) { ++a, n[A] = s; var o = this.offsets[A], l = this.offsets[A + 1] - o; l > 0 && (s += l) } for (var c = new Array(4 * n.length), d = 0; d < n.length; ++d)c[4 * d + 3] = 255 & n[d], c[4 * d + 2] = (65280 & n[d]) >> 8, c[4 * d + 1] = (16711680 & n[d]) >> 16, c[4 * d] = (4278190080 & n[d]) >> 24; return c }, t }(), hL = function () { function t(e) { this.font = e, this.subset = {}, this.unicodes = {}, this.next = 33 } return t.prototype.generateCmap = function () { var e, r, n, s, a; for (r in s = this.font.cmap.tables[0].codeMap, e = {}, a = this.subset) n = a[r], e[r] = s[n]; return e }, t.prototype.glyphsFor = function (e) { var r, n, s, a, A, o, l; for (s = {}, A = 0, o = e.length; A < o; A++)s[a = e[A]] = this.font.glyf.glyphFor(a); for (a in r = [], s) (n = s[a]) != null && n.compound && r.push.apply(r, n.glyphIDs); if (r.length > 0) for (a in l = this.glyphsFor(r)) n = l[a], s[a] = n; return s }, t.prototype.encode = function (e, r) { var n, s, a, A, o, l, c, d, p, g, h, b, w, j, x; for (s in n = Y4.encode(this.generateCmap(), "unicode"), A = this.glyphsFor(e), h = { 0: 0 }, x = n.charMap) h[(l = x[s]).old] = l.new; for (b in g = n.maxGlyphID, A) b in h || (h[b] = g++); return d = function (y) { var B, E; for (B in E = {}, y) E[y[B]] = B; return E }(h), p = Object.keys(d).sort(function (y, B) { return y - B }), w = function () { var y, B, E; for (E = [], y = 0, B = p.length; y < B; y++)o = p[y], E.push(d[o]); return E }(), a = this.font.glyf.encode(A, w, h), c = this.font.loca.encode(a.offsets, w), j = { cmap: this.font.cmap.raw(), glyf: a.table, loca: c, hmtx: this.font.hmtx.raw(), hhea: this.font.hhea.raw(), maxp: this.font.maxp.raw(), post: this.font.post.raw(), name: this.font.name.raw(), head: this.font.head.encode(r) }, this.font.os2.exists && (j["OS/2"] = this.font.os2.raw()), this.font.directory.encode(j) }, t }(); er.API.PDFObject = function () {
  var t; function e() { } return t = function (r, n) { return (Array(n + 1).join("0") + r).slice(-n) }, e.convert = function (r) {
    var n, s, a, A; if (Array.isArray(r)) return "[" + function () { var o, l, c; for (c = [], o = 0, l = r.length; o < l; o++)n = r[o], c.push(e.convert(n)); return c }().join(" ") + "]"; if (typeof r == "string") return "/" + r; if (r != null && r.isString) return "(" + r + ")"; if (r instanceof Date) return "(D:" + t(r.getUTCFullYear(), 4) + t(r.getUTCMonth(), 2) + t(r.getUTCDate(), 2) + t(r.getUTCHours(), 2) + t(r.getUTCMinutes(), 2) + t(r.getUTCSeconds(), 2) + "Z)"; if ({}.toString.call(r) === "[object Object]") {
      for (s in a = ["<<"], r) A = r[s], a.push("/" + s + " " + e.convert(A)); return a.push(">>"), a.join(`
`)
    } return "" + r
  }, e
}(); const fL = (t, e) => { const [r, n] = z.useState(!1), [s, a] = z.useState(""), A = z.useRef(null), o = z.useRef(t), l = z.useRef(e), c = z.useRef(!1), d = z.useRef(-1), p = z.useRef(null); z.useEffect(() => { o.current = t, l.current = e }, [t, e]); const g = z.useCallback(() => { p.current && (clearTimeout(p.current), p.current = null) }, []), h = z.useCallback(() => { g(), p.current = setTimeout(() => { l.current && l.current() }, 1500) }, [g]); z.useEffect(() => { if (typeof window < "u") { const x = window.SpeechRecognition || window.webkitSpeechRecognition; if (x) { const y = new x; y.continuous = !0, y.interimResults = !0, y.lang = "ja-JP", y.onresult = B => { let E = "", T = ""; for (let U = B.resultIndex; U < B.results.length; U++) { const M = B.results[U], G = M[0].transcript; M.isFinal ? U > d.current && (E += G, d.current = U) : T = G } E ? (o.current(E), a(""), h()) : T && (a(T), g()) }, y.onerror = B => { B.error !== "no-speech" && (console.error("Speech recognition error:", B.error), B.error !== "aborted" && (n(!1), c.current = !1, g()), a("")) }, y.onend = () => { if (c.current) try { d.current = -1, y.start() } catch { } else n(!1), a(""), d.current = -1 }, A.current = y } } return () => { c.current = !1, g(), A.current && A.current.stop() } }, [h, g]); const b = z.useCallback(() => { if (A.current && !r) { c.current = !0, d.current = -1, a(""), g(); try { A.current.start(), n(!0) } catch (x) { console.error("Failed to start speech recognition:", x) } } }, [r, g]), w = z.useCallback(() => { c.current = !1, g(), A.current && A.current.stop(), n(!1), a("") }, [g]), j = typeof window < "u" && (window.SpeechRecognition || window.webkitSpeechRecognition); return { isListening: r, interimText: s, startListening: b, stopListening: w, isSupported: j } }, Vc = ({ onTranscript: t, onAutoSend: e, disabled: r = !1, className: n = "", size: s = "normal" }) => { const { isListening: a, interimText: A, startListening: o, stopListening: l, isSupported: c } = fL(t, e); if (!c) return null; const d = { normal: { button: "p-3", icon: 22, container: "" }, large: { button: "p-5", icon: 40, container: "ring-4 ring-cyan-500/30" } }, p = d[s] || d.normal; return i.jsxs("div", { className: "relative flex flex-col items-center", children: [i.jsx("button", { type: "button", onClick: a ? l : o, disabled: r, className: `rounded-full transition-all flex items-center justify-center ${p.button} ${p.container} ${a ? "bg-gradient-to-r from-red-500 to-pink-500 text-white animate-pulse shadow-xl shadow-red-500/40" : "bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-400 hover:to-blue-500 shadow-lg shadow-cyan-500/30"} ${r ? "opacity-50 cursor-not-allowed" : ""} ${n}`, title: a ? " " : " ", children: i.jsxs("svg", { width: p.icon, height: p.icon, viewBox: "0 0 24 24", fill: "none", stroke: "white", strokeWidth: "2", children: [i.jsx("path", { d: "M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z" }), i.jsx("path", { d: "M19 10v2a7 7 0 0 1-14 0v-2" }), i.jsx("line", { x1: "12", y1: "19", x2: "12", y2: "23" }), i.jsx("line", { x1: "8", y1: "23", x2: "16", y2: "23" })] }) }), a && A && i.jsxs("div", { className: "absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-4 py-2 bg-slate-800/95 text-slate-200 text-sm rounded-xl whitespace-nowrap max-w-xs truncate shadow-lg", children: [A, "..."] }), a && i.jsxs("div", { className: "mt-2 flex items-center gap-2 text-sm font-medium text-red-400", children: [i.jsxs("span", { className: "relative flex h-3 w-3", children: [i.jsx("span", { className: "animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75" }), i.jsx("span", { className: "relative inline-flex rounded-full h-3 w-3 bg-red-500" })] }), "..."] })] }) }, ix = [{ id: "blue", name: "", bg: "bg-blue-500", bgLight: "bg-blue-500/30", text: "text-blue-300", border: "border-blue-400" }, { id: "emerald", name: "", bg: "bg-emerald-500", bgLight: "bg-emerald-500/30", text: "text-emerald-300", border: "border-emerald-400" }, { id: "purple", name: "", bg: "bg-purple-500", bgLight: "bg-purple-500/30", text: "text-purple-300", border: "border-purple-400" }, { id: "orange", name: "", bg: "bg-orange-500", bgLight: "bg-orange-500/30", text: "text-orange-300", border: "border-orange-400" }, { id: "pink", name: "", bg: "bg-pink-500", bgLight: "bg-pink-500/30", text: "text-pink-300", border: "border-pink-400" }, { id: "gray", name: "", bg: "bg-slate-400", bgLight: "bg-slate-400/30", text: "text-slate-300", border: "border-slate-400" }, { id: "cyan", name: "", bg: "bg-cyan-500", bgLight: "bg-cyan-500/30", text: "text-cyan-300", border: "border-cyan-400" }, { id: "red", name: "", bg: "bg-red-500", bgLight: "bg-red-500/30", text: "text-red-300", border: "border-red-400" }], kn = t => ix.find(e => e.id === t) || ix[0], zc = ({ value: t, onChange: e }) => i.jsx("div", { className: "flex flex-wrap gap-2", children: ix.map(r => i.jsx("button", { type: "button", onClick: () => e(r.id), className: `w-7 h-7 rounded-full ${r.bg} transition-all ${t === r.id ? "ring-2 ring-white ring-offset-2 ring-offset-slate-800 scale-110" : "hover:scale-105"}`, title: r.name }, r.id)) }); function pL({ tasks: t, setTasks: e, events: r, setEvents: n, goals: s, transactions: a, addTask: A, updateTask: o, deleteTask: l, addEvent: c, updateEvent: d, deleteEvent: p, addGoal: g, updateGoal: h, deleteGoal: b, addTransaction: w }) { const [j, x] = z.useState(new Date), [y, B] = z.useState(null), [E, T] = z.useState(!1), [U, M] = z.useState({ title: "", time: "09:00", endTime: "10:00", type: "event", colorId: "emerald", linkedType: "", linkedId: "" }), [G, N] = z.useState("week"), [H, k] = z.useState(null), [_, V] = z.useState(!1), [P, te] = z.useState(null), [ce, he] = z.useState({}), [ie, ue] = z.useState(!1), [pe, ve] = z.useState({ title: "", amount: "", type: "expense", category: "", date: "", paymentTiming: "immediate", linkedType: "", linkedId: "" }), I = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12"], R = ["", "", "", "", "", "", ""], re = new Date; z.useEffect(() => { (async () => { try { const Xe = await (await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${35.6762}&longitude=${139.6503}&daily=weather_code,temperature_2m_max,temperature_2m_min&timezone=Asia/Tokyo&forecast_days=10`)).json(); if (Xe.daily) { const Be = {}; Xe.daily.time.forEach((Te, pt) => { Be[Te] = { code: Xe.daily.weather_code[pt], maxTemp: Math.round(Xe.daily.temperature_2m_max[pt]), minTemp: Math.round(Xe.daily.temperature_2m_min[pt]) } }), he(Be) } } catch (ye) { console.error("Failed to fetch weather:", ye) } })() }, []); const Y = ee => ee === 0 ? "" : ee === 1 || ee === 2 ? "" : ee === 3 ? "" : ee >= 45 && ee <= 48 ? "" : ee >= 51 && ee <= 55 || ee >= 56 && ee <= 57 || ee >= 61 && ee <= 65 || ee >= 66 && ee <= 67 ? "" : ee >= 71 && ee <= 77 ? "" : ee >= 80 && ee <= 82 ? "" : ee >= 85 && ee <= 86 ? "" : ee >= 95 && ee <= 99 ? "" : "", le = ee => { const ye = new Date(ee), Ee = ye.getDay(), Ye = Ee === 0 ? 6 : Ee - 1; return ye.setDate(ye.getDate() - Ye), ye }, ge = () => { const ee = le(j); return Array.from({ length: 7 }, (ye, Ee) => { const Ye = new Date(ee); return Ye.setDate(Ye.getDate() + Ee), Ye }) }, ke = ee => { const ye = (s || []).map(Ee => ({ ...Ee, isGoal: !0 })); return [...t, ...r, ...ye].filter(Ee => Ee.date === ee) }, Fe = ee => `${ee.getFullYear()}-${String(ee.getMonth() + 1).padStart(2, "0")}-${String(ee.getDate()).padStart(2, "0")}`, Le = new Date(j.getFullYear(), j.getMonth() + 1, 0).getDate(), nt = new Date(j.getFullYear(), j.getMonth(), 1).getDay(), ct = nt === 0 ? 6 : nt - 1, de = ee => { const ye = `${j.getFullYear()}-${String(j.getMonth() + 1).padStart(2, "0")}-${String(ee).padStart(2, "0")}`, Ee = (s || []).map(Ye => ({ ...Ye, isGoal: !0 })); return [...t, ...r, ...Ee].filter(Ye => Ye.date === ye) }, Ze = () => { x(G === "week" ? new Date(j.getFullYear(), j.getMonth(), j.getDate() - 7) : new Date(j.getFullYear(), j.getMonth() - 1, 1)) }, F = () => { x(G === "week" ? new Date(j.getFullYear(), j.getMonth(), j.getDate() + 7) : new Date(j.getFullYear(), j.getMonth() + 1, 1)) }, se = ee => { B(ee), T(!0) }, qe = async () => { if (U.title.trim() && y) { const ee = U.colorId || (U.type === "task" ? "blue" : U.type === "goal" ? "purple" : "emerald"), ye = { id: Date.now(), title: U.title, date: y, time: U.allDay ? "" : U.time, endTime: U.allDay ? "" : U.endTime, allDay: U.allDay || !1, colorId: ee, color: kn(ee).bg }; U.type === "task" ? await A({ ...ye, progress: 0, tag: "", linkedType: U.linkedType || "", linkedId: U.linkedId || "" }) : U.type === "goal" ? await g({ ...ye, progress: 0 }) : await c(ye), M({ title: "", time: "09:00", endTime: "10:00", type: "event", colorId: "emerald", allDay: !1, linkedType: "", linkedId: "" }), T(!1) } }, X = (ee, ye) => { ye.stopPropagation(), k({ ...ee, isTask: ee.progress !== void 0 && !ee.isGoal, isGoal: ee.isGoal || !1 }), V(!0) }, ne = async () => { if (H && H.title.trim()) { const ee = H.colorId || "blue", ye = { title: H.title, date: H.date, time: H.allDay ? "" : H.time, endTime: H.allDay ? "" : H.endTime, allDay: H.allDay || !1, colorId: ee, color: kn(ee).bg }; H.isGoal ? await h(H.id, { ...ye, progress: H.progress || 0 }) : H.isTask ? await o(H.id, { ...ye, progress: H.progress || 0, linkedType: H.linkedType || "", linkedId: H.linkedId || "" }) : await d(H.id, ye), k(null), V(!1) } }, Se = async () => { H && (H.isGoal ? await b(H.id) : H.isTask ? await l(H.id) : await p(H.id), k(null), V(!1)) }, W = (ee, ye) => { ee.stopPropagation(), te({ ...ye, isTask: ye.progress !== void 0 && !ye.isGoal, isGoal: ye.isGoal || !1 }), ee.dataTransfer.effectAllowed = "move", ee.dataTransfer.setData("text/plain", ye.id) }, $e = ee => { ee.preventDefault(), ee.dataTransfer.dropEffect = "move" }, Ke = async (ee, ye, Ee = null) => { if (ee.preventDefault(), !P) return; const Ye = P.colorId || "blue"; let Xe = { title: P.title, date: ye, colorId: Ye, color: kn(Ye).bg }; if (Ee !== null && !P.allDay) { const Be = P.time && P.endTime ? parseInt(P.endTime.split(":")[0]) - parseInt(P.time.split(":")[0]) : 1; Xe.time = `${String(Ee).padStart(2, "0")}:00`, Xe.endTime = `${String(Math.min(Ee + Be, 23)).padStart(2, "0")}:00` } else Xe.time = P.time, Xe.endTime = P.endTime; Xe.allDay = P.allDay || !1; try { P.isGoal ? await h(P.id, { ...Xe, progress: P.progress || 0 }) : P.isTask ? await o(P.id, { ...Xe, progress: P.progress || 0, linkedType: P.linkedType || "", linkedId: P.linkedId || "" }) : await d(P.id, Xe) } catch (Be) { console.error("Failed to move event:", Be) } te(null) }, ze = () => { te(null) }, We = ee => ee.getDate() === re.getDate() && ee.getMonth() === re.getMonth() && ee.getFullYear() === re.getFullYear(), ot = ee => ee === re.getDate() && j.getMonth() === re.getMonth() && j.getFullYear() === re.getFullYear(), be = () => { const ee = ge(), ye = ee[0], Ee = ee[6]; return ye.getMonth() === Ee.getMonth() ? `${ye.getFullYear()} ${I[ye.getMonth()]} ${ye.getDate()} - ${Ee.getDate()}` : `${ye.getFullYear()} ${ye.getMonth() + 1}/${ye.getDate()} - ${Ee.getMonth() + 1}/${Ee.getDate()}` }, Ne = Array.from({ length: 18 }, (ee, ye) => ye + 6); return i.jsxs("div", { children: [i.jsxs("div", { className: "bg-slate-800/40 rounded-xl border border-slate-700/50 p-4 md:p-6", children: [i.jsxs("div", { className: "flex flex-col md:flex-row justify-between items-start md:items-center gap-3 mb-4 md:mb-6", children: [i.jsx("h2", { className: "text-lg md:text-xl font-bold text-slate-200", children: G === "week" ? be() : `${j.getFullYear()} ${I[j.getMonth()]}` }), i.jsxs("div", { className: "flex items-center gap-4", children: [i.jsxs("div", { className: "flex bg-slate-800 rounded-lg p-1 border border-slate-700", children: [i.jsx("button", { onClick: () => N("week"), className: `px-3 py-1 text-sm transition-colors ${G === "week" ? "bg-blue-600 text-white rounded" : "text-slate-400 hover:text-slate-200"}`, children: "" }), i.jsx("button", { onClick: () => N("month"), className: `px-3 py-1 text-sm transition-colors ${G === "month" ? "bg-blue-600 text-white rounded" : "text-slate-400 hover:text-slate-200"}`, children: "" })] }), i.jsxs("div", { className: "flex gap-2", children: [i.jsx("button", { onClick: Ze, className: "p-2 hover:bg-slate-700 rounded-lg transition-colors", children: i.jsx(Bt, { name: "chevronLeft", size: 20, className: "text-slate-400" }) }), i.jsx("button", { onClick: () => x(new Date), className: "px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg text-sm", children: "" }), i.jsx("button", { onClick: F, className: "p-2 hover:bg-slate-700 rounded-lg transition-colors", children: i.jsx(Bt, { name: "chevronRight", size: 20, className: "text-slate-400" }) })] })] })] }), G === "week" && i.jsxs("div", { className: "overflow-auto", children: [i.jsxs("div", { className: "grid grid-cols-8 gap-1 mb-1 sticky top-0 bg-slate-800/90 z-20", children: [i.jsx("div", { className: "w-16" }), ge().map((ee, ye) => { const Ee = Fe(ee), Ye = ke(Ee); return i.jsxs("div", { className: `text-center py-3 rounded-lg cursor-pointer transition-all ${We(ee) ? "bg-blue-600/20 border border-blue-500" : "hover:bg-slate-700/50"}`, onClick: () => se(Ee), onDragOver: $e, onDrop: Xe => Ke(Xe, Ee), children: [i.jsx("div", { className: `text-xs font-medium ${ye === 5 ? "text-blue-400" : ye === 6 ? "text-red-400" : "text-slate-400"}`, children: R[ye] }), i.jsx("div", { className: `text-lg font-bold ${We(ee) ? "text-blue-400" : "text-slate-200"}`, children: ee.getDate() }), ce[Ee] && i.jsxs("div", { className: "text-xs mt-1 flex flex-col items-center gap-0.5", children: [i.jsx("span", { className: "text-base", children: Y(ce[Ee].code) }), i.jsxs("span", { className: "text-slate-400", children: [i.jsxs("span", { className: "text-red-400", children: [ce[Ee].maxTemp, ""] }), i.jsx("span", { className: "mx-0.5", children: "/" }), i.jsxs("span", { className: "text-blue-400", children: [ce[Ee].minTemp, ""] })] })] }), Ye.length > 0 && i.jsxs("div", { className: "text-xs text-emerald-400 mt-1", children: [Ye.length, ""] })] }, ye) })] }), i.jsxs("div", { className: "grid grid-cols-8 gap-1 mb-1", children: [i.jsx("div", { className: "w-16 text-xs text-slate-500 text-right pr-2 pt-1", children: "" }), ge().map((ee, ye) => { const Ee = Fe(ee), Ye = ke(Ee).filter(Xe => (Xe.allDay || !Xe.time && !Xe.endTime) && (Xe.isGoal || Xe.progress === void 0)); return i.jsx("div", { className: `min-h-[28px] rounded-lg p-0.5 ${We(ee) ? "bg-blue-900/10" : ""} ${P ? "hover:bg-blue-900/30" : ""}`, onDragOver: $e, onDrop: Xe => Ke(Xe, Ee), children: Ye.map((Xe, Be) => { const Te = Xe.isGoal ? "purple" : "emerald", pt = kn(Xe.colorId || Te), At = Xe.isGoal ? "goal" : "event", bt = t.filter(xt => xt.linkedType === At && String(xt.linkedId) === String(Xe.id)).sort((xt, Ct) => { if (xt.progress === 100 && Ct.progress !== 100) return 1; if (xt.progress !== 100 && Ct.progress === 100) return -1; const kt = xt.date || "9999-99-99", Qt = Ct.date || "9999-99-99"; return kt.localeCompare(Qt) }), ht = (a || []).filter(xt => xt.linkedType === At && String(xt.linkedId) === String(Xe.id)); return i.jsxs("div", { draggable: !0, onDragStart: xt => W(xt, Xe), onDragEnd: ze, onClick: xt => X(Xe, xt), className: `text-xs px-2 py-1 mb-0.5 rounded cursor-grab ${pt.bgLight} ${pt.text} ${(P == null ? void 0 : P.id) === Xe.id ? "opacity-50" : ""}`, children: [i.jsxs("div", { className: "truncate font-medium", children: [Xe.isGoal ? " " : " ", Xe.title] }), bt.length > 0 && i.jsx("div", { className: "mt-1 space-y-0.5", children: bt.map(xt => i.jsxs("div", { className: "text-[10px] flex items-center gap-1 text-slate-300 truncate", children: [i.jsx("span", { className: xt.progress === 100 ? "text-emerald-400" : "text-blue-400", children: xt.progress === 100 ? "" : "" }), i.jsx("span", { className: xt.progress === 100 ? "line-through opacity-60" : "", children: xt.title })] }, xt.id)) }), ht.length > 0 && i.jsx("div", { className: "mt-1 space-y-0.5", children: ht.map(xt => i.jsxs("div", { className: "text-[10px] flex items-center gap-1 truncate", children: [i.jsx("span", { className: xt.type === "income" ? "text-emerald-400" : "text-red-400", children: xt.type === "income" ? "" : "" }), i.jsxs("span", { className: xt.type === "income" ? "text-emerald-300" : "text-red-300", children: [xt.type === "income" ? "+" : "-", "", Math.abs(xt.amount).toLocaleString()] })] }, xt.id)) })] }, `event-${Be}`) }) }, ye) })] }), i.jsx("div", { className: "max-h-[350px] md:max-h-[500px] overflow-y-auto", children: i.jsxs("div", { className: "grid grid-cols-8 gap-1", children: [i.jsx("div", { className: "w-16", children: Ne.map(ee => i.jsxs("div", { className: "h-[50px] text-xs text-slate-500 text-right pr-2 pt-1 border-t border-slate-700/50", children: [ee, ":00"] }, ee)) }), ge().map((ee, ye) => { const Ee = Fe(ee), Ye = ke(Ee), Xe = We(ee), Be = new Date, Te = Be.getHours(), pt = Be.getMinutes(), At = Ne[0], bt = Ne[Ne.length - 1] + 1, ht = (Te - At + pt / 60) * 50, xt = Xe && Te >= At && Te < bt; return i.jsxs("div", { className: `relative ${Xe ? "bg-blue-900/10" : ""}`, children: [Ne.map(Ct => i.jsx("div", { className: `h-[50px] border-t border-slate-700/50 hover:bg-slate-800/30 cursor-pointer transition-colors ${P ? "hover:bg-blue-900/30" : ""}`, onClick: () => { const kt = `${String(Ct).padStart(2, "0")}:00`, Qt = `${String(Math.min(Ct + 1, 23)).padStart(2, "0")}:00`; M({ ...U, time: kt, endTime: Qt }), se(Ee) }, onDragOver: $e, onDrop: kt => Ke(kt, Ee, Ct) }, Ct)), xt && i.jsx("div", { className: "absolute left-0 right-0 z-20 pointer-events-none", style: { top: `${ht}px` }, children: i.jsxs("div", { className: "flex items-center", children: [i.jsx("div", { className: "w-2 h-2 bg-red-500 rounded-full shadow-lg shadow-red-500/50" }), i.jsx("div", { className: "flex-1 h-0.5 bg-red-500 shadow-lg shadow-red-500/50" })] }) }), Ye.filter(Ct => !Ct.allDay && (Ct.time || Ct.endTime)).map((Ct, kt) => { const Qt = Ct.time ? parseInt(Ct.time.split(":")[0]) : 9, Ft = Ct.time && parseInt(Ct.time.split(":")[1]) || 0, pr = Ct.endTime ? parseInt(Ct.endTime.split(":")[0]) : Qt + 1, O = Ct.endTime && parseInt(Ct.endTime.split(":")[1]) || 0, Ue = Ne[0], st = Ne[Ne.length - 1] + 1; if (pr < Ue || Qt >= st) return null; const Ge = (Qt - Ue + Ft / 60) * 50, Vt = (pr + O / 60 - (Qt + Ft / 60)) * 50, _t = Ct.progress !== void 0 && !Ct.isGoal, fr = Ct.isGoal ? "purple" : _t ? "blue" : "emerald", or = kn(Ct.colorId || fr), mt = Ct.isGoal ? "goal" : "event", ar = !_t && (Ct.isGoal || !_t) ? t.filter(Pt => Pt.linkedType === mt && String(Pt.linkedId) === String(Ct.id)).sort((Pt, Mn) => { if (Pt.progress === 100 && Mn.progress !== 100) return 1; if (Pt.progress !== 100 && Mn.progress === 100) return -1; const $r = Pt.date || "9999-99-99", Os = Mn.date || "9999-99-99"; return $r.localeCompare(Os) }) : [], Mr = !_t && (Ct.isGoal || !_t) ? (a || []).filter(Pt => Pt.linkedType === mt && String(Pt.linkedId) === String(Ct.id)) : [], Vr = 40 + (ar.length + Mr.length) * 16, Jn = Math.max(Vt, Math.max(24, Vr)); return i.jsxs("div", { draggable: !0, onDragStart: Pt => W(Pt, Ct), onDragEnd: ze, onClick: Pt => X(Ct, Pt), className: `absolute left-1 right-1 px-2 py-1 rounded cursor-grab hover:opacity-90 transition-opacity overflow-hidden z-10 ${or.bgLight} ${or.text} border-l-2 ${or.border} ${(P == null ? void 0 : P.id) === Ct.id ? "opacity-50" : ""}`, style: { top: `${Ge}px`, height: `${Jn}px` }, children: [i.jsx("div", { className: "text-xs", children: Ct.time && i.jsxs("span", { className: "text-slate-300 font-medium", children: [Ct.isGoal ? " " : "", Ct.time, Ct.endTime ? `-${Ct.endTime}` : ""] }) }), i.jsx("div", { className: "text-sm font-bold truncate", children: Ct.title }), ar.length > 0 && i.jsx("div", { className: "mt-1 space-y-0.5", children: ar.map(Pt => i.jsxs("div", { className: "text-xs flex items-center gap-1 text-slate-300 truncate", children: [i.jsx("span", { className: Pt.progress === 100 ? "text-emerald-400" : "text-blue-400", children: Pt.progress === 100 ? "" : "" }), i.jsx("span", { className: Pt.progress === 100 ? "line-through opacity-60" : "", children: Pt.title })] }, Pt.id)) }), Mr.length > 0 && i.jsx("div", { className: "mt-1 space-y-0.5", children: Mr.map(Pt => i.jsxs("div", { className: "text-xs flex items-center gap-1 truncate", children: [i.jsx("span", { className: Pt.type === "income" ? "text-emerald-400" : "text-red-400", children: Pt.type === "income" ? "" : "" }), i.jsxs("span", { className: Pt.type === "income" ? "text-emerald-300" : "text-red-300", children: [Pt.type === "income" ? "+" : "-", "", Math.abs(Pt.amount).toLocaleString()] })] }, Pt.id)) })] }, kt) })] }, ye) })] }) })] }), G === "month" && i.jsxs(i.Fragment, { children: [i.jsx("div", { className: "grid grid-cols-7 gap-1 mb-2", children: R.map((ee, ye) => i.jsx("div", { className: `text-center py-2 text-sm font-medium ${ye === 5 ? "text-blue-400" : ye === 6 ? "text-red-400" : "text-slate-400"}`, children: ee }, ee)) }), i.jsxs("div", { className: "grid grid-cols-7 gap-1", children: [Array.from({ length: ct }).map((ee, ye) => i.jsx("div", { className: "h-24 bg-slate-900/30 rounded-lg" }, `empty-${ye}`)), Array.from({ length: Le }).map((ee, ye) => { const Ee = ye + 1, Ye = de(Ee), Xe = (ct + ye) % 7, Be = `${j.getFullYear()}-${String(j.getMonth() + 1).padStart(2, "0")}-${String(Ee).padStart(2, "0")}`; return i.jsxs("div", { onClick: () => se(Be), onDragOver: $e, onDrop: Te => Ke(Te, Be), className: `h-24 p-2 rounded-lg cursor-pointer transition-all ${ot(Ee) ? "bg-blue-600/20 border-2 border-blue-500" : "bg-slate-900/50 hover:bg-slate-800/50 border border-slate-700/50"} ${P ? "hover:bg-blue-900/30" : ""}`, children: [i.jsx("div", { className: `text-sm font-medium mb-1 ${Xe === 5 ? "text-blue-400" : Xe === 6 ? "text-red-400" : "text-slate-300"}`, children: Ee }), i.jsxs("div", { className: "space-y-1 overflow-hidden", children: [Ye.slice(0, 2).map((Te, pt) => { const At = Te.isGoal ? "purple" : Te.progress !== void 0 ? "blue" : "emerald", bt = kn(Te.colorId || At); return i.jsxs("div", { draggable: !0, onDragStart: ht => W(ht, Te), onDragEnd: ze, onClick: ht => X(Te, ht), className: `text-xs px-1 py-0.5 rounded truncate cursor-grab hover:opacity-80 transition-opacity ${bt.bgLight} ${bt.text} ${(P == null ? void 0 : P.id) === Te.id ? "opacity-50" : ""}`, children: [Te.isGoal ? " " : "", Te.title] }, pt) }), Ye.length > 2 && i.jsxs("div", { className: "text-xs text-slate-500", children: ["+", Ye.length - 2, " more"] })] })] }, Ee) })] })] })] }), E && i.jsx("div", { className: "fixed inset-0 bg-black/50 flex items-center justify-center z-50", onClick: () => T(!1), children: i.jsxs("div", { className: "bg-slate-800 rounded-xl p-6 w-96 border border-slate-700", onClick: ee => ee.stopPropagation(), children: [i.jsxs("h3", { className: "text-lg font-bold text-slate-200 mb-4", children: [y, " "] }), i.jsxs("div", { className: "space-y-4", children: [i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsx("input", { type: "text", value: U.title, onChange: ee => M({ ...U, title: ee.target.value }), className: "w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500", placeholder: "..." })] }), i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsxs("select", { value: U.type, onChange: ee => M({ ...U, type: ee.target.value, colorId: ee.target.value === "task" ? "blue" : ee.target.value === "goal" ? "purple" : "emerald" }), className: "w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500", children: [i.jsx("option", { value: "event", children: "" }), i.jsx("option", { value: "task", children: "" }), i.jsx("option", { value: "goal", children: "" })] })] }), (U.type === "event" || U.type === "goal" || U.type === "task") && i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsx("input", { type: "checkbox", id: "newAllDay", checked: U.allDay || !1, onChange: ee => M({ ...U, allDay: ee.target.checked, time: ee.target.checked ? "" : "09:00", endTime: ee.target.checked ? "" : "10:00" }), className: "w-4 h-4 rounded border-slate-600 bg-slate-900 text-blue-500 focus:ring-blue-500" }), i.jsx("label", { htmlFor: "newAllDay", className: "text-sm text-slate-300", children: "" })] }), !U.allDay && i.jsxs("div", { className: "grid grid-cols-2 gap-4", children: [i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsx("input", { type: "time", value: U.time, onChange: ee => { const ye = ee.target.value; let Ee = U.endTime; if (ye >= Ee) { const [Ye, Xe] = ye.split(":").map(Number); Ee = `${String(Math.min(Ye + 1, 23)).padStart(2, "0")}:${String(Xe).padStart(2, "0")}` } M({ ...U, time: ye, endTime: Ee }) }, className: "w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500" })] }), i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsx("input", { type: "time", value: U.endTime, onChange: ee => M({ ...U, endTime: ee.target.value }), className: "w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500" })] })] }), i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-2 block", children: "" }), i.jsx(zc, { value: U.colorId, onChange: ee => M({ ...U, colorId: ee }) })] }), U.type === "task" && i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsxs("div", { className: "grid grid-cols-2 gap-2", children: [i.jsxs("select", { value: U.linkedType || "", onChange: ee => M({ ...U, linkedType: ee.target.value, linkedId: "" }), className: "bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500 text-sm", children: [i.jsx("option", { value: "", children: "" }), i.jsx("option", { value: "event", children: " " }), i.jsx("option", { value: "goal", children: " " })] }), i.jsxs("select", { value: U.linkedId || "", onChange: ee => M({ ...U, linkedId: ee.target.value }), className: "bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500 text-sm", disabled: !U.linkedType, children: [i.jsx("option", { value: "", children: "" }), U.linkedType === "event" && (r == null ? void 0 : r.map(ee => i.jsxs("option", { value: ee.id, children: [ee.date ? `${ee.date} - ` : "", ee.title] }, ee.id))), U.linkedType === "goal" && (s == null ? void 0 : s.map(ee => i.jsxs("option", { value: ee.id, children: [ee.date ? `${ee.date} - ` : "", ee.title] }, ee.id)))] })] })] }), i.jsxs("div", { className: "flex gap-3 pt-2", children: [i.jsx("button", { onClick: () => T(!1), className: "flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg transition-colors", children: "" }), i.jsx("button", { onClick: qe, className: "flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors", children: "" })] })] })] }) }), _ && H && i.jsx("div", { className: "fixed inset-0 bg-black/50 flex items-center justify-center z-50", onClick: () => V(!1), children: i.jsxs("div", { className: "bg-slate-800 rounded-xl p-6 w-96 border border-slate-700", onClick: ee => ee.stopPropagation(), children: [i.jsxs("div", { className: "flex justify-between items-center mb-4", children: [i.jsx("h3", { className: "text-lg font-bold text-slate-200", children: H.isGoal ? "" : H.isTask ? "" : "" }), i.jsx("span", { className: `text-xs px-2 py-1 rounded ${H.isGoal ? "bg-purple-500/30 text-purple-300" : H.isTask ? "bg-blue-500/30 text-blue-300" : "bg-emerald-500/30 text-emerald-300"}`, children: H.isGoal ? " " : H.isTask ? "" : "" })] }), i.jsxs("div", { className: "space-y-4", children: [i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsx("input", { type: "text", value: H.title, onChange: ee => k({ ...H, title: ee.target.value }), className: "w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500" })] }), i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsx("input", { type: "date", value: H.date, onChange: ee => k({ ...H, date: ee.target.value }), className: "w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500" })] }), i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsx("input", { type: "checkbox", id: "allDay", checked: H.allDay || !1, onChange: ee => k({ ...H, allDay: ee.target.checked, time: ee.target.checked ? "" : H.time, endTime: ee.target.checked ? "" : H.endTime }), className: "w-4 h-4 rounded border-slate-600 bg-slate-900 text-blue-500 focus:ring-blue-500" }), i.jsx("label", { htmlFor: "allDay", className: "text-sm text-slate-300", children: "" })] }), !H.allDay && i.jsxs("div", { className: "grid grid-cols-2 gap-4", children: [i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsx("input", { type: "time", value: H.time || "", onChange: ee => { const ye = ee.target.value; let Ee = H.endTime || ""; if (ye && (!Ee || ye >= Ee)) { const [Ye, Xe] = ye.split(":").map(Number); Ee = `${String(Math.min(Ye + 1, 23)).padStart(2, "0")}:${String(Xe).padStart(2, "0")}` } k({ ...H, time: ye, endTime: Ee }) }, className: "w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500" })] }), i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsx("input", { type: "time", value: H.endTime || "", onChange: ee => k({ ...H, endTime: ee.target.value }), className: "w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500" })] })] }), (H.isTask || H.isGoal) && i.jsxs("div", { children: [i.jsxs("label", { className: "text-sm text-slate-400 mb-1 block", children: [" (", H.progress || 0, "%)"] }), i.jsx("input", { type: "range", min: "0", max: "100", value: H.progress || 0, onChange: ee => k({ ...H, progress: parseInt(ee.target.value) }), className: "w-full" })] }), i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-2 block", children: "" }), i.jsx(zc, { value: H.colorId || "blue", onChange: ee => k({ ...H, colorId: ee }) })] }), H.isTask && i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsxs("div", { className: "grid grid-cols-2 gap-2", children: [i.jsxs("select", { value: H.linkedType || "", onChange: ee => k({ ...H, linkedType: ee.target.value, linkedId: "" }), className: "bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500 text-sm", children: [i.jsx("option", { value: "", children: "" }), i.jsx("option", { value: "event", children: " " }), i.jsx("option", { value: "goal", children: " " })] }), i.jsxs("select", { value: H.linkedId || "", onChange: ee => k({ ...H, linkedId: ee.target.value }), className: "bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500 text-sm", disabled: !H.linkedType, children: [i.jsx("option", { value: "", children: "" }), H.linkedType === "event" && (r == null ? void 0 : r.map(ee => i.jsxs("option", { value: ee.id, children: [ee.date ? `${ee.date} - ` : "", ee.title] }, ee.id))), H.linkedType === "goal" && (s == null ? void 0 : s.map(ee => i.jsxs("option", { value: ee.id, children: [ee.date ? `${ee.date} - ` : "", ee.title] }, ee.id)))] })] })] }), (H.isGoal || !H.isTask && !H.isGoal) && i.jsxs("div", { children: [i.jsxs("label", { className: "text-sm text-slate-400 mb-2 block flex items-center gap-2", children: [i.jsx(Bt, { name: "tasks", size: 14 }), ""] }), (() => { const ee = H.isGoal ? "goal" : "event", ye = t.filter(Ee => Ee.linkedType === ee && String(Ee.linkedId) === String(H.id)).sort((Ee, Ye) => { if (Ee.progress === 100 && Ye.progress !== 100) return 1; if (Ee.progress !== 100 && Ye.progress === 100) return -1; const Xe = Ee.date || "9999-99-99", Be = Ye.date || "9999-99-99"; return Xe.localeCompare(Be) }); return i.jsxs("div", { className: "space-y-2", children: [ye.length > 0 ? i.jsx("div", { className: "max-h-32 overflow-y-auto space-y-1", children: ye.map(Ee => i.jsxs("div", { className: "flex items-center gap-2 bg-slate-900/50 rounded-lg px-3 py-2 text-sm", children: [i.jsx("span", { className: `w-5 h-5 rounded-full flex items-center justify-center text-xs ${Ee.progress === 100 ? "bg-emerald-500/20 text-emerald-400" : "bg-blue-500/20 text-blue-400"}`, children: Ee.progress === 100 ? "" : "" }), i.jsx("span", { className: Ee.progress === 100 ? "text-slate-500 line-through" : "text-slate-300", children: Ee.title }), i.jsx("span", { className: "text-slate-600 text-xs ml-auto", children: Ee.date })] }, Ee.id)) }) : i.jsx("div", { className: "text-slate-600 text-sm bg-slate-900/50 rounded-lg px-3 py-2", children: "" }), i.jsxs("button", { type: "button", onClick: async () => { const Ee = prompt(":"); Ee && Ee.trim() && await A({ title: Ee.trim(), date: H.date || new Date().toISOString().split("T")[0], tag: "", progress: 0, colorId: "blue", color: kn("blue").bg, linkedType: ee, linkedId: String(H.id) }) }, className: "w-full px-3 py-2 bg-blue-600/20 hover:bg-blue-600/30 text-blue-400 border border-blue-600/50 rounded-lg transition-colors text-sm flex items-center justify-center gap-2", children: [i.jsx(Bt, { name: "plus", size: 14 }), ""] }), i.jsxs("button", { type: "button", onClick: () => { ve({ title: "", amount: "", type: "expense", category: "", date: H.date || new Date().toISOString().split("T")[0], paymentTiming: "immediate", linkedType: ee, linkedId: String(H.id) }), ue(!0) }, className: "w-full px-3 py-2 bg-emerald-600/20 hover:bg-emerald-600/30 text-emerald-400 border border-emerald-600/50 rounded-lg transition-colors text-sm flex items-center justify-center gap-2", children: [i.jsx(Bt, { name: "plus", size: 14 }), ""] })] }) })()] }), i.jsxs("div", { className: "flex gap-3 pt-2", children: [i.jsxs("button", { onClick: Se, className: "px-4 py-2 bg-red-600/20 hover:bg-red-600/30 text-red-400 border border-red-600/50 rounded-lg transition-colors flex items-center gap-2", children: [i.jsx(Bt, { name: "trash", size: 16 }), ""] }), i.jsx("button", { onClick: () => V(!1), className: "flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg transition-colors", children: "" }), i.jsx("button", { onClick: ne, className: "flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors", children: "" })] })] })] }) }), ie && i.jsx("div", { className: "fixed inset-0 bg-black/70 flex items-center justify-center z-[60] p-4", children: i.jsxs("div", { className: "bg-slate-800 rounded-xl p-6 w-full max-w-md border border-slate-700", children: [i.jsx("h3", { className: "text-lg font-bold text-slate-200 mb-4", children: "" }), i.jsxs("div", { className: "space-y-4", children: [i.jsxs("div", { className: "flex gap-2", children: [i.jsx("button", { onClick: () => ve({ ...pe, type: "expense", category: "" }), className: `flex-1 py-2 rounded-lg font-medium transition-colors ${pe.type === "expense" ? "bg-red-500 text-white" : "bg-slate-700 text-slate-400 hover:bg-slate-600"}`, children: "" }), i.jsx("button", { onClick: () => ve({ ...pe, type: "income", category: "" }), className: `flex-1 py-2 rounded-lg font-medium transition-colors ${pe.type === "income" ? "bg-emerald-500 text-white" : "bg-slate-700 text-slate-400 hover:bg-slate-600"}`, children: "" })] }), i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsx("input", { type: "text", value: pe.title, onChange: ee => ve({ ...pe, title: ee.target.value }), placeholder: pe.type === "expense" ? ": " : ": ", className: "w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500" })] }), i.jsxs("div", { className: "grid grid-cols-2 gap-3", children: [i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsx("input", { type: "number", value: pe.amount, onChange: ee => ve({ ...pe, amount: ee.target.value }), placeholder: "1000", className: "w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500" })] }), i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsx("select", { value: pe.category, onChange: ee => ve({ ...pe, category: ee.target.value }), className: "w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500", children: pe.type === "expense" ? i.jsxs(i.Fragment, { children: [i.jsx("option", { value: "", children: "" }), i.jsx("option", { value: "", children: "" }), i.jsx("option", { value: "", children: "" }), i.jsx("option", { value: "", children: "" }), i.jsx("option", { value: "", children: "" }), i.jsx("option", { value: "", children: "" }), i.jsx("option", { value: "", children: "" }), i.jsx("option", { value: "", children: "" })] }) : i.jsxs(i.Fragment, { children: [i.jsx("option", { value: "", children: "" }), i.jsx("option", { value: "", children: "" }), i.jsx("option", { value: "", children: "" }), i.jsx("option", { value: "", children: "" }), i.jsx("option", { value: "", children: "" })] }) })] })] }), i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsx("input", { type: "date", value: pe.date, onChange: ee => ve({ ...pe, date: ee.target.value }), className: "w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500" })] }), pe.type === "expense" && i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsxs("div", { className: "flex gap-2", children: [i.jsx("button", { type: "button", onClick: () => ve({ ...pe, paymentTiming: "immediate" }), className: `flex-1 py-2 rounded-lg text-sm font-medium transition-colors ${pe.paymentTiming === "immediate" ? "bg-blue-600 text-white" : "bg-slate-700 text-slate-400 hover:bg-slate-600"}`, children: "" }), i.jsx("button", { type: "button", onClick: () => ve({ ...pe, paymentTiming: "nextMonthEnd" }), className: `flex-1 py-2 rounded-lg text-sm font-medium transition-colors ${pe.paymentTiming === "nextMonthEnd" ? "bg-blue-600 text-white" : "bg-slate-700 text-slate-400 hover:bg-slate-600"}`, children: "" })] })] }), pe.linkedType && i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsxs("div", { className: "bg-slate-900/50 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-300", children: [pe.linkedType === "event" ? " " : " ", ": ", H == null ? void 0 : H.title] })] }), i.jsxs("div", { className: "flex gap-3 pt-2", children: [i.jsx("button", { onClick: () => ue(!1), className: "flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg transition-colors", children: "" }), i.jsx("button", { onClick: async () => { if (pe.title.trim() && pe.amount) try { await w({ title: pe.title.trim(), amount: parseFloat(pe.amount), type: pe.type, category: pe.category, date: pe.date || new Date().toISOString().split("T")[0], paymentTiming: pe.type === "expense" && pe.paymentTiming || "immediate", linkedType: pe.linkedType || "", linkedId: pe.linkedId || "" }), ue(!1), ve({ title: "", amount: "", type: "expense", category: "", date: "", paymentTiming: "immediate", linkedType: "", linkedId: "" }) } catch (ee) { console.error(":", ee), alert(": " + ee.message) } else alert("") }, className: "flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors", children: "" })] })] })] }) })] }) } function gL({ tasks: t, addTask: e, updateTask: r, deleteTask: n, events: s, goals: a, setTasks: A }) {
  const [o, l] = z.useState("all"), [c, d] = z.useState(""), [p, g] = z.useState(!1), [h, b] = z.useState({ title: "", date: "", tag: "", colorId: "blue", linkedType: "", linkedId: "", allDay: !0, time: "09:00", endTime: "10:00" }), [w, j] = z.useState(null), [x, y] = z.useState(null), [B, E] = z.useState(null), [T, U] = z.useState(null), [M, G] = z.useState(!1), [N, H] = z.useState([]), [k, _] = z.useState(!1), [V, P] = z.useState({}), [te, ce] = z.useState(!1), he = (de, Ze) => { if (!de || !Ze) return null; if (de === "event") { const F = s == null ? void 0 : s.find(se => String(se.id) === String(Ze)); return F ? { type: "event", name: F.title, date: F.date, icon: "", colorId: F.colorId || "emerald" } : null } if (de === "goal") { const F = a == null ? void 0 : a.find(se => String(se.id) === String(Ze)); return F ? { type: "goal", name: F.title, date: F.date, icon: "", colorId: F.colorId || "purple" } : null } return null }, ie = t.filter(de => { const Ze = de.title.toLowerCase().includes(c.toLowerCase()), F = o === "all" || o === "completed" && de.progress === 100 || o === "pending" && de.progress < 100; return Ze && F }).sort((de, Ze) => { if (de.progress === 100 && Ze.progress !== 100) return 1; if (de.progress !== 100 && Ze.progress === 100) return -1; if (de.sortOrder !== void 0 && Ze.sortOrder !== void 0) return de.sortOrder - Ze.sortOrder; const F = de.date || "9999-99-99", se = Ze.date || "9999-99-99"; return F.localeCompare(se) }), ue = (de, Ze) => { y(Ze), de.dataTransfer.effectAllowed = "move" }, pe = (de, Ze) => { de.preventDefault(), x && x.id !== Ze.id && E(Ze) }, ve = async (de, Ze) => { if (de.preventDefault(), !x || x.id === Ze.id) { y(null), E(null); return } const F = [...ie], se = F.findIndex($e => $e.id === x.id), qe = F.findIndex($e => $e.id === Ze.id), [X] = F.splice(se, 1); F.splice(qe, 0, X); const ne = F.filter($e => $e.progress !== 100), Se = F.filter($e => $e.progress === 100), W = ne.map(($e, Ke) => ({ id: $e.id, sortOrder: Ke })); Se.forEach(($e, Ke) => { W.push({ id: $e.id, sortOrder: 1e4 + Ke }) }); for (const $e of W) await r($e.id, { sortOrder: $e.sortOrder }); y(null), E(null) }, I = () => { y(null), E(null) }, R = async () => { if (h.title.trim()) { const de = h.colorId || "blue", Ze = { title: h.title, date: h.date || new Date().toISOString().split("T")[0], tag: h.tag, progress: 0, colorId: de, color: kn(de).bg, linkedType: h.linkedType || "", linkedId: h.linkedId || "", allDay: h.allDay, time: h.allDay ? "" : h.time, endTime: h.allDay ? "" : h.endTime }; await e(Ze), b({ title: "", date: "", tag: "", colorId: "blue", linkedType: "", linkedId: "", allDay: !0, time: "09:00", endTime: "10:00" }), g(!1) } }, re = async de => { await n(de) }, Y = async de => { await r(de.id, { progress: de.progress === 100 ? 0 : 100 }) }, le = async () => { if (w && w.title.trim()) { const de = w.colorId || "blue"; await r(w.id, { ...w, colorId: de, color: kn(de).bg, time: w.time || "", endTime: w.endTime || "", allDay: w.allDay || !1, linkedType: w.linkedType || "", linkedId: w.linkedId || "" }), j(null) } }, ge = async de => {
    var se, qe, X, ne, Se, W, $e, Ke; U(de), G(!0), H([]), _(!0); const Ze = localStorage.getItem("ai_api_key"), F = localStorage.getItem("ai_provider") || "gemini"; if (!Ze) { H([{ error: "APIAI API" }]), G(!1); return } try {
      const ze = `


${de.title}


1. 30
2. 58
3. 
4. 


JSON
{
  "thinking": "...",
  "subtasks": [
    { "title": "1", "reason": "", "estimatedMinutes": 15 },
    { "title": "2", "reason": "", "estimatedMinutes": 20 }
  ],
  "summary": ""
}

JSON`; let We; if (F === "gemini" ? We = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${Ze}`, { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ contents: [{ parts: [{ text: ze }] }], generationConfig: { temperature: .7, maxOutputTokens: 2048 } }) }) : F === "groq" && (We = await fetch("https://api.groq.com/openai/v1/chat/completions", { method: "POST", headers: { "Content-Type": "application/json", Authorization: `Bearer ${Ze}` }, body: JSON.stringify({ model: "llama-3.3-70b-versatile", messages: [{ role: "user", content: ze }], temperature: .7, max_tokens: 2048 }) })), !We.ok) throw new Error(`API error: ${We.status}`); const ot = await We.json(); let be = ""; F === "gemini" ? be = ((Se = (ne = (X = (qe = (se = ot.candidates) == null ? void 0 : se[0]) == null ? void 0 : qe.content) == null ? void 0 : X.parts) == null ? void 0 : ne[0]) == null ? void 0 : Se.text) || "" : be = ((Ke = ($e = (W = ot.choices) == null ? void 0 : W[0]) == null ? void 0 : $e.message) == null ? void 0 : Ke.content) || ""; const Ne = be.match(/\{[\s\S]*\}/); if (Ne) { const ee = JSON.parse(Ne[0]); H(ee) } else throw new Error("JSON")
    } catch (ze) { console.error("Task decomposition error:", ze), H({ error: `: ${ze.message}` }) } finally { G(!1) }
  }, ke = de => { P(Ze => ({ ...Ze, [de]: !Ze[de] })) }, Fe = () => { if (!(N != null && N.subtasks)) return; if (N.subtasks.every((Ze, F) => V[F])) P({}); else { const Ze = {}; N.subtasks.forEach((F, se) => { Ze[se] = !0 }), P(Ze) } }, Le = Object.values(V).filter(Boolean).length, nt = async () => {
    var ne, Se, W, $e, Ke, ze, We, ot; if (!(N != null && N.subtasks) || !T || Le === 0) return; ce(!0); const de = localStorage.getItem("ai_api_key"), Ze = localStorage.getItem("ai_provider") || "gemini"; if (!de) { alert("APIAI API"), ce(!1); return } const F = N.subtasks.filter((be, Ne) => V[Ne]), se = new Date, qe = []; for (let be = 0; be < 7; be++) { const Ne = new Date(se); Ne.setDate(Ne.getDate() + be), qe.push(Ne.toISOString().split("T")[0]) } const X = qe.map(be => { const Ne = t.filter(ye => ye.date === be && ye.progress !== 100), ee = (s == null ? void 0 : s.filter(ye => ye.date === be)) || []; return { date: be, tasks: Ne.map(ye => ({ title: ye.title, time: ye.time, endTime: ye.endTime, allDay: ye.allDay })), events: ee.map(ye => ({ title: ye.title, time: ye.time, endTime: ye.endTime, allDay: ye.allDay })) } }); try {
      const be = `


${F.map((Ye, Xe) => `${Xe + 1}. ${Ye.title}${Ye.estimatedMinutes || 30}`).join(`
`)}

7
${X.map(Ye => { const Xe = [...Ye.tasks, ...Ye.events]; return `${Ye.date}: ${Xe.length > 0 ? Xe.map(Be => Be.allDay ? `${Be.title}()` : `${Be.title}(${Be.time || ""}-${Be.endTime || ""})`).join(", ") : ""}` }).join(`
`)}


1. 
2. 13-4
3. 
4. 920
5. 


JSON
{
  "schedule": [
    { "subtaskIndex": 0, "date": "2024-01-15", "time": "09:00", "endTime": "09:30", "reason": "" }
  ],
  "summary": ""
}

JSON`; let Ne; if (Ze === "gemini" ? Ne = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${de}`, { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ contents: [{ parts: [{ text: be }] }], generationConfig: { temperature: .5, maxOutputTokens: 2048 } }) }) : Ze === "groq" && (Ne = await fetch("https://api.groq.com/openai/v1/chat/completions", { method: "POST", headers: { "Content-Type": "application/json", Authorization: `Bearer ${de}` }, body: JSON.stringify({ model: "llama-3.3-70b-versatile", messages: [{ role: "user", content: be }], temperature: .5, max_tokens: 2048 }) })), !Ne.ok) throw new Error(`API error: ${Ne.status}`); const ee = await Ne.json(); let ye = ""; Ze === "gemini" ? ye = ((Ke = ($e = (W = (Se = (ne = ee.candidates) == null ? void 0 : ne[0]) == null ? void 0 : Se.content) == null ? void 0 : W.parts) == null ? void 0 : $e[0]) == null ? void 0 : Ke.text) || "" : ye = ((ot = (We = (ze = ee.choices) == null ? void 0 : ze[0]) == null ? void 0 : We.message) == null ? void 0 : ot.content) || ""; const Ee = ye.match(/\{[\s\S]*\}/); if (Ee) {
        const Ye = JSON.parse(Ee[0]); for (const Xe of Ye.schedule) { const Be = F[Xe.subtaskIndex]; if (Be) { const Te = { title: `* ${Be.title}`, date: Xe.date, tag: T.tag || "", progress: 0, colorId: T.colorId || "blue", color: kn(T.colorId || "blue").bg, linkedType: T.linkedType || "", linkedId: T.linkedId || "", allDay: !1, time: Xe.time, endTime: Xe.endTime, parentTaskId: String(T.id), parentTaskTitle: T.title, aiScheduled: !0 }; await e(Te) } } alert(` ${Ye.schedule.length}

${Ye.summary}`)
      } else throw new Error("JSON")
    } catch (be) { console.error("Scheduling error:", be), alert(`: ${be.message}`) } finally { ce(!1), _(!1), U(null), H([]), P({}) }
  }, ct = async () => { if (!(N != null && N.subtasks) || !T || Le === 0) return; const de = T.date || new Date().toISOString().split("T")[0], Ze = N.subtasks.filter((F, se) => V[se]); for (const F of Ze) { const se = { title: `* ${F.title}`, date: de, tag: T.tag || "", progress: 0, colorId: T.colorId || "blue", color: kn(T.colorId || "blue").bg, linkedType: T.linkedType || "", linkedId: T.linkedId || "", allDay: !0, parentTaskId: String(T.id), parentTaskTitle: T.title }; await e(se) } _(!1), U(null), H([]), P({}) }; return i.jsxs("div", { children: [i.jsxs("div", { className: "flex justify-between items-center mb-6", children: [i.jsx("div", { className: "flex gap-4 items-center", children: i.jsxs("h2", { className: "text-xl text-slate-200 font-bold flex items-center gap-2", children: [i.jsx(Bt, { name: "tasks", className: "text-blue-400" }), " ", i.jsxs("span", { className: "text-sm bg-slate-700 px-2 py-0.5 rounded-full text-slate-300", children: [t.length, ""] })] }) }), i.jsxs("button", { onClick: () => g(!0), className: "px-4 py-2 bg-cyan-600 text-white rounded-lg flex items-center gap-2 text-sm hover:bg-cyan-500 transition-colors", children: [i.jsx(Bt, { name: "plus", size: 16 }), " "] })] }), i.jsxs("div", { className: "flex gap-3 mb-6", children: [i.jsxs("select", { value: o, onChange: de => l(de.target.value), className: "bg-slate-900 border border-slate-700 text-slate-300 px-3 py-2 rounded-lg text-sm outline-none", children: [i.jsx("option", { value: "all", children: "" }), i.jsx("option", { value: "pending", children: "" }), i.jsx("option", { value: "completed", children: "" })] }), i.jsxs("div", { className: "flex-1 relative", children: [i.jsx("div", { className: "absolute left-3 top-2.5 text-slate-600", children: i.jsx(Bt, { name: "search", size: 16 }) }), i.jsx("input", { type: "text", value: c, onChange: de => d(de.target.value), placeholder: "...", className: "w-full bg-slate-900 border border-slate-700 text-slate-300 pl-10 pr-3 py-2 rounded-lg text-sm outline-none focus:border-blue-500" })] })] }), i.jsxs("div", { className: "space-y-3", children: [ie.map((de, Ze) => i.jsxs("div", { draggable: !0, onDragStart: F => ue(F, de), onDragOver: F => pe(F, de), onDrop: F => ve(F, de), onDragEnd: I, className: `bg-slate-800/50 border rounded-xl p-4 flex items-center justify-between group hover:border-slate-600 transition-all cursor-move ${(B == null ? void 0 : B.id) === de.id ? "border-cyan-500 bg-cyan-500/10" : "border-slate-700/50"} ${(x == null ? void 0 : x.id) === de.id ? "opacity-50" : ""}`, children: [i.jsxs("div", { className: "flex items-center gap-4", children: [i.jsx("div", { className: "text-slate-600 hover:text-slate-400 cursor-grab active:cursor-grabbing", children: i.jsx(Bt, { name: "menu", size: 16 }) }), i.jsx("button", { onClick: () => Y(de), className: `w-10 h-10 rounded-lg flex items-center justify-center transition-colors ${de.progress === 100 ? "bg-emerald-500/20 text-emerald-400" : "bg-cyan-500/10 text-cyan-400 hover:bg-cyan-500/20"}`, children: de.progress === 100 ? i.jsx(Bt, { name: "check", size: 20 }) : i.jsx(Bt, { name: "calendar", size: 20 }) }), i.jsxs("div", { children: [i.jsxs("div", { className: "flex items-center gap-2 mb-1", children: [i.jsx("span", { className: `font-bold ${de.progress === 100 ? "text-slate-500 line-through" : "text-slate-200"}`, children: de.title }), i.jsx("span", { className: `text-xs px-2 py-0.5 rounded ${kn(de.colorId || "blue").bgLight} ${kn(de.colorId || "blue").text} border border-white/5`, children: de.tag }), (() => { const F = he(de.linkedType, de.linkedId); if (F) { const se = kn(F.colorId); return i.jsxs("span", { className: `text-xs px-2 py-0.5 rounded-full ${se.bgLight} ${se.text}`, children: [F.icon, " ", F.name] }) } return null })()] }), i.jsx("div", { className: "text-slate-500 text-xs", children: de.date })] })] }), i.jsxs("div", { className: "flex items-center gap-3", children: [i.jsxs("div", { className: `font-bold text-sm ${de.progress === 100 ? "text-emerald-400" : "text-slate-500"}`, children: [de.progress, "%"] }), de.progress !== 100 && i.jsxs("button", { onClick: () => ge(de), className: "text-slate-500 hover:text-purple-400 transition-colors p-1 hover:bg-slate-700 rounded flex items-center gap-1", title: "", children: [i.jsx(Bt, { name: "target", size: 16 }), i.jsx("span", { className: "text-xs hidden md:inline", children: "" })] }), i.jsx("button", { onClick: () => j({ ...de }), className: "text-slate-600 hover:text-blue-400 transition-colors p-1 hover:bg-slate-700 rounded", children: i.jsx(Bt, { name: "edit", size: 16 }) }), i.jsx("button", { onClick: () => re(de.id), className: "text-slate-600 hover:text-red-400 transition-colors p-1 hover:bg-slate-700 rounded", children: i.jsx(Bt, { name: "trash", size: 16 }) })] })] }, de.id)), ie.length === 0 && i.jsx("div", { className: "text-center py-12 text-slate-500", children: "" })] }), p && i.jsx("div", { className: "fixed inset-0 bg-black/50 flex items-center justify-center z-50", onClick: () => g(!1), children: i.jsxs("div", { className: "bg-slate-800 rounded-xl p-6 w-96 border border-slate-700", onClick: de => de.stopPropagation(), children: [i.jsx("h3", { className: "text-lg font-bold text-slate-200 mb-4", children: "" }), i.jsxs("div", { className: "space-y-4", children: [i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsx("input", { type: "text", value: h.title, onChange: de => b({ ...h, title: de.target.value }), className: "w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500", placeholder: "..." })] }), i.jsxs("div", { className: "grid grid-cols-2 gap-4", children: [i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsx("input", { type: "date", value: h.date, onChange: de => b({ ...h, date: de.target.value }), className: "w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500" })] }), i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsxs("select", { value: h.tag, onChange: de => b({ ...h, tag: de.target.value }), className: "w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500", children: [i.jsx("option", { value: "", children: "" }), i.jsx("option", { value: "", children: "" }), i.jsx("option", { value: "", children: "" }), i.jsx("option", { value: "", children: "" })] })] })] }), i.jsx("div", { children: i.jsxs("label", { className: "flex items-center gap-2 cursor-pointer", children: [i.jsx("input", { type: "checkbox", checked: h.allDay, onChange: de => b({ ...h, allDay: de.target.checked }), className: "w-4 h-4 rounded bg-slate-700 border-slate-600 text-blue-500" }), i.jsx("span", { className: "text-sm text-slate-300", children: "" })] }) }), !h.allDay && i.jsxs("div", { className: "grid grid-cols-2 gap-4", children: [i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsx("input", { type: "time", value: h.time, onChange: de => b({ ...h, time: de.target.value }), className: "w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500" })] }), i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsx("input", { type: "time", value: h.endTime, onChange: de => b({ ...h, endTime: de.target.value }), className: "w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500" })] })] }), i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-2 block", children: "" }), i.jsx(zc, { value: h.colorId, onChange: de => b({ ...h, colorId: de }) })] }), i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsxs("div", { className: "grid grid-cols-2 gap-2", children: [i.jsxs("select", { value: h.linkedType, onChange: de => b({ ...h, linkedType: de.target.value, linkedId: "" }), className: "bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500 text-sm", children: [i.jsx("option", { value: "", children: "" }), i.jsx("option", { value: "event", children: " " }), i.jsx("option", { value: "goal", children: " " })] }), i.jsxs("select", { value: h.linkedId, onChange: de => b({ ...h, linkedId: de.target.value }), className: "bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500 text-sm", disabled: !h.linkedType, children: [i.jsx("option", { value: "", children: "" }), h.linkedType === "event" && (s == null ? void 0 : s.map(de => i.jsxs("option", { value: de.id, children: [de.date ? `${de.date} - ` : "", de.title] }, de.id))), h.linkedType === "goal" && (a == null ? void 0 : a.map(de => i.jsxs("option", { value: de.id, children: [de.date ? `${de.date} - ` : "", de.title] }, de.id)))] })] })] }), i.jsxs("div", { className: "flex gap-3 pt-2", children: [i.jsx("button", { onClick: () => g(!1), className: "flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg transition-colors", children: "" }), i.jsx("button", { onClick: R, className: "flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors", children: "" })] })] })] }) }), w && i.jsx("div", { className: "fixed inset-0 bg-black/50 flex items-center justify-center z-50", onClick: () => j(null), children: i.jsxs("div", { className: "bg-slate-800 rounded-xl p-6 w-96 border border-slate-700", onClick: de => de.stopPropagation(), children: [i.jsx("h3", { className: "text-lg font-bold text-slate-200 mb-4", children: "" }), i.jsxs("div", { className: "space-y-4", children: [i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsx("input", { type: "text", value: w.title, onChange: de => j({ ...w, title: de.target.value }), className: "w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500" })] }), i.jsxs("div", { className: "grid grid-cols-2 gap-4", children: [i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsx("input", { type: "date", value: w.date, onChange: de => j({ ...w, date: de.target.value }), className: "w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500" })] }), i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsx("input", { type: "number", min: "0", max: "100", value: w.progress, onChange: de => j({ ...w, progress: parseInt(de.target.value) || 0 }), className: "w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500" })] })] }), i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-2 block", children: "" }), i.jsx(zc, { value: w.colorId || "blue", onChange: de => j({ ...w, colorId: de }) })] }), i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsx("input", { type: "checkbox", id: "tasklist-edit-allday", checked: w.allDay || !1, onChange: de => j({ ...w, allDay: de.target.checked, time: "", endTime: "" }), className: "w-4 h-4 rounded bg-slate-900 border-slate-700 text-blue-500 focus:ring-blue-500" }), i.jsx("label", { htmlFor: "tasklist-edit-allday", className: "text-sm text-slate-300", children: "" })] }), !w.allDay && i.jsxs("div", { className: "grid grid-cols-2 gap-3", children: [i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsx("input", { type: "time", value: w.time || "", onChange: de => { let Ze = w.endTime || ""; const F = de.target.value; if (F && (!Ze || F >= Ze)) { const [se, qe] = F.split(":").map(Number); Ze = `${String(Math.min(se + 1, 23)).padStart(2, "0")}:${String(qe).padStart(2, "0")}` } j({ ...w, time: F, endTime: Ze }) }, className: "w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500" })] }), i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsx("input", { type: "time", value: w.endTime || "", onChange: de => j({ ...w, endTime: de.target.value }), className: "w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500" })] })] }), i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsxs("div", { className: "grid grid-cols-2 gap-2", children: [i.jsxs("select", { value: w.linkedType || "", onChange: de => j({ ...w, linkedType: de.target.value, linkedId: "" }), className: "bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500 text-sm", children: [i.jsx("option", { value: "", children: "" }), i.jsx("option", { value: "event", children: " " }), i.jsx("option", { value: "goal", children: " " })] }), i.jsxs("select", { value: w.linkedId || "", onChange: de => j({ ...w, linkedId: de.target.value }), className: "bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500 text-sm", disabled: !w.linkedType, children: [i.jsx("option", { value: "", children: "" }), w.linkedType === "event" && (s == null ? void 0 : s.map(de => i.jsxs("option", { value: de.id, children: [de.date ? `${de.date} - ` : "", de.title] }, de.id))), w.linkedType === "goal" && (a == null ? void 0 : a.map(de => i.jsxs("option", { value: de.id, children: [de.date ? `${de.date} - ` : "", de.title] }, de.id)))] })] })] }), i.jsxs("div", { className: "flex gap-3 pt-2", children: [i.jsx("button", { onClick: () => j(null), className: "flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg transition-colors", children: "" }), i.jsx("button", { onClick: le, className: "flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors", children: "" })] })] })] }) }), k && i.jsx("div", { className: "fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4", onClick: () => _(!1), children: i.jsxs("div", { className: "bg-slate-800 rounded-xl p-4 md:p-6 w-full max-w-lg max-h-[85vh] overflow-y-auto border border-slate-700", onClick: de => de.stopPropagation(), children: [i.jsxs("div", { className: "flex justify-between items-center mb-4", children: [i.jsxs("h3", { className: "text-lg font-bold text-slate-200 flex items-center gap-2", children: [i.jsx(Bt, { name: "target", className: "text-purple-400" }), " (CoT)"] }), i.jsx("button", { onClick: () => _(!1), className: "text-slate-400 hover:text-slate-200", children: i.jsx(Bt, { name: "x", size: 20 }) })] }), T && i.jsxs("div", { className: "bg-slate-900/50 rounded-lg p-3 mb-4 border border-slate-700", children: [i.jsx("div", { className: "text-xs text-slate-500 mb-1", children: "" }), i.jsx("div", { className: "text-slate-200 font-medium", children: T.title })] }), M && i.jsx("div", { className: "text-center py-8", children: i.jsxs("div", { className: "inline-flex items-center gap-3 text-purple-400", children: [i.jsx("div", { className: "animate-spin rounded-full h-6 w-6 border-2 border-purple-400 border-t-transparent" }), i.jsx("span", { children: "AI..." })] }) }), (N == null ? void 0 : N.error) && i.jsx("div", { className: "bg-red-500/10 border border-red-500/30 rounded-lg p-4 text-red-400", children: N.error }), !M && (N == null ? void 0 : N.subtasks) && i.jsxs("div", { className: "space-y-4", children: [N.thinking && i.jsxs("div", { className: "bg-purple-500/10 border border-purple-500/30 rounded-lg p-3", children: [i.jsxs("div", { className: "text-xs text-purple-400 mb-1 flex items-center gap-1", children: [i.jsx(Bt, { name: "cpu", size: 12 }), ""] }), i.jsx("div", { className: "text-sm text-purple-200", children: N.thinking })] }), i.jsxs("div", { children: [i.jsxs("div", { className: "flex justify-between items-center mb-2", children: [i.jsxs("div", { className: "text-sm text-slate-400", children: ["", Le, "/", N.subtasks.length, ""] }), i.jsx("button", { onClick: Fe, className: "text-xs text-purple-400 hover:text-purple-300 transition-colors", children: N.subtasks.every((de, Ze) => V[Ze]) ? "" : "" })] }), i.jsx("div", { className: "space-y-2 max-h-60 overflow-y-auto", children: N.subtasks.map((de, Ze) => i.jsx("div", { onClick: () => ke(Ze), className: `bg-slate-900/50 border rounded-lg p-3 cursor-pointer transition-all ${V[Ze] ? "border-purple-500 bg-purple-500/10" : "border-slate-700 hover:border-slate-600"}`, children: i.jsxs("div", { className: "flex items-start gap-3", children: [i.jsx("div", { className: `flex-shrink-0 w-5 h-5 rounded border-2 flex items-center justify-center transition-colors ${V[Ze] ? "bg-purple-500 border-purple-500" : "border-slate-600"}`, children: V[Ze] && i.jsx("svg", { className: "w-3 h-3 text-white", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor", children: i.jsx("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: 3, d: "M5 13l4 4L19 7" }) }) }), i.jsx("div", { className: "flex-shrink-0 w-6 h-6 rounded-full bg-purple-500/20 text-purple-400 flex items-center justify-center text-xs font-bold", children: Ze + 1 }), i.jsxs("div", { className: "flex-1", children: [i.jsx("div", { className: "text-slate-200 font-medium text-sm", children: de.title }), de.reason && i.jsx("div", { className: "text-xs text-slate-500 mt-1", children: de.reason }), de.estimatedMinutes && i.jsxs("div", { className: "text-xs text-cyan-400 mt-1", children: [" ", de.estimatedMinutes, ""] })] })] }) }, Ze)) })] }), N.summary && i.jsxs("div", { className: "bg-slate-900/50 border border-slate-600 rounded-lg p-3", children: [i.jsx("div", { className: "text-xs text-slate-400 mb-1", children: "" }), i.jsx("div", { className: "text-sm text-slate-300", children: N.summary })] }), te && i.jsx("div", { className: "bg-cyan-500/10 border border-cyan-500/30 rounded-lg p-4 text-center", children: i.jsxs("div", { className: "inline-flex items-center gap-3 text-cyan-400", children: [i.jsx("div", { className: "animate-spin rounded-full h-5 w-5 border-2 border-cyan-400 border-t-transparent" }), i.jsx("span", { className: "text-sm", children: "AI..." })] }) }), i.jsxs("div", { className: "space-y-2 pt-2", children: [i.jsxs("button", { onClick: nt, disabled: Le === 0 || te, className: `w-full px-4 py-3 rounded-lg transition-colors text-sm flex items-center justify-center gap-2 ${Le > 0 && !te ? "bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white" : "bg-slate-700 text-slate-500 cursor-not-allowed"}`, children: [i.jsx(Bt, { name: "calendar", size: 16 }), " AI", Le, ""] }), i.jsxs("div", { className: "flex gap-2", children: [i.jsx("button", { onClick: () => { _(!1), P({}) }, className: "flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg transition-colors text-sm", children: "" }), i.jsxs("button", { onClick: ct, disabled: Le === 0, className: `flex-1 px-4 py-2 rounded-lg transition-colors text-sm flex items-center justify-center gap-2 ${Le > 0 ? "bg-purple-600 hover:bg-purple-500 text-white" : "bg-slate-700 text-slate-500 cursor-not-allowed"}`, children: [i.jsx(Bt, { name: "plus", size: 16 }), ""] })] })] })] })] }) })] })
} function mL({ tasks: t, goals: e, events: r, updateTask: n, deleteTask: s, addTask: a, addGoal: A, addEvent: o }) {
  const [l, c] = z.useState("day"), [d, p] = z.useState(new Date), [g, h] = z.useState(null), [b, w] = z.useState({}), [j, x] = z.useState(new Date), [y, B] = z.useState(null), [E, T] = z.useState(null), [U, M] = z.useState(null), [G, N] = z.useState(!1), [H, k] = z.useState(!1), [_, V] = z.useState("task"), [P, te] = z.useState(""), [ce, he] = z.useState({ title: "", colorId: "blue", allDay: !0, time: "09:00", endTime: "10:00", linkedType: "", linkedId: "" }); z.useEffect(() => { const W = setInterval(() => { x(new Date) }, 6e4); return () => clearInterval(W) }, []); const ie = new Date(j); ie.setHours(0, 0, 0, 0); const ue = z.useMemo(() => { const W = [], $e = ze => [...ze].sort((We, ot) => { if (We.progress === 100 && ot.progress !== 100) return 1; if (We.progress !== 100 && ot.progress === 100) return -1; const be = We.date || "9999-99-99", Ne = ot.date || "9999-99-99"; return be.localeCompare(Ne) }); e.forEach(ze => { const We = t.filter(ot => ot.linkedType === "goal" && String(ot.linkedId) === String(ze.id) && ot.progress !== 100); We.length > 0 && W.push({ id: `goal-${ze.id}`, type: "goal", title: ze.title, date: ze.date, colorId: ze.colorId || "purple", progress: ze.progress || 0, tasks: $e(We), icon: "" }) }), r.forEach(ze => { const We = t.filter(ot => ot.linkedType === "event" && String(ot.linkedId) === String(ze.id) && ot.progress !== 100); We.length > 0 && W.push({ id: `event-${ze.id}`, type: "event", title: ze.title, date: ze.date, colorId: ze.colorId || "emerald", tasks: $e(We), icon: "" }) }); const Ke = $e(t.filter(ze => (!ze.linkedType || !ze.linkedId) && ze.progress !== 100)); return Ke.length > 0 && W.push({ id: "unlinked", type: "unlinked", title: "", date: null, colorId: "blue", tasks: Ke, icon: "" }), W.sort((ze, We) => ze.date ? We.date ? new Date(ze.date) - new Date(We.date) : -1 : 1) }, [t, e, r]), ve = (() => { let W = []; const $e = new Date(d); if (l === "day") { $e.setDate($e.getDate() - 3); for (let Ke = 0; Ke < 14; Ke++) { const ze = new Date($e); ze.setDate(ze.getDate() + Ke), W.push(ze) } } else if (l === "week") { const Ke = new Date($e), ze = Ke.getDay(); Ke.setDate(Ke.getDate() - (ze === 0 ? 6 : ze - 1)), Ke.setDate(Ke.getDate() - 7); for (let We = 0; We < 56; We++) { const ot = new Date(Ke); ot.setDate(ot.getDate() + We), W.push(ot) } } else { $e.setMonth($e.getMonth() - 1), $e.setDate(1); for (let Ke = 0; Ke < 180; Ke++) { const ze = new Date($e); ze.setDate(ze.getDate() + Ke), W.push(ze) } } return W })(), I = W => `${W.getFullYear()}-${String(W.getMonth() + 1).padStart(2, "0")}-${String(W.getDate()).padStart(2, "0")}`, R = W => { if (!W) return -1; new Date(W).setHours(0, 0, 0, 0); for (let Ke = 0; Ke < ve.length; Ke++)if (I(ve[Ke]) === W) return Ke; return -1 }, re = ve.findIndex(W => I(W) === I(ie)), Y = () => { const W = new Date(d); l === "day" ? W.setDate(W.getDate() - 7) : l === "week" ? W.setDate(W.getDate() - 28) : W.setMonth(W.getMonth() - 3), p(W) }, le = () => { const W = new Date(d); l === "day" ? W.setDate(W.getDate() + 7) : l === "week" ? W.setDate(W.getDate() + 28) : W.setMonth(W.getMonth() + 3), p(W) }, ge = () => { p(new Date) }, ke = W => { w($e => ({ ...$e, [W]: !$e[W] })) }, Fe = (W, $e) => { B($e), W.dataTransfer.effectAllowed = "move", W.dataTransfer.setData("text/plain", $e.id) }, Le = () => { B(null), T(null) }, nt = (W, $e, Ke) => { W.preventDefault(), W.dataTransfer.dropEffect = "move", T({ dateStr: $e, taskId: Ke }) }, ct = () => { T(null) }, de = async (W, $e) => { if (W.preventDefault(), y && n && $e !== y.date) try { await n(y.id, { date: $e }) } catch (Ke) { console.error("Failed to update task date:", Ke) } B(null), T(null) }, Ze = W => { M({ ...W }), N(!0) }, F = async () => { if (!(!U || !U.title.trim())) try { await n(U.id, { title: U.title, date: U.date, time: U.time || "", endTime: U.endTime || "", progress: U.progress || 0, colorId: U.colorId || "blue", allDay: U.allDay || !1, linkedType: U.linkedType || "", linkedId: U.linkedId || "" }), N(!1), M(null) } catch (W) { console.error("Failed to update task:", W) } }, se = async () => { if (!(!U || !s) && window.confirm(`${U.title}`)) try { await s(U.id), N(!1), M(null) } catch (W) { console.error("Failed to delete task:", W) } }, qe = 36, X = 40, ne = 32, Se = l === "day" ? 60 : l === "week" ? 30 : 10; return i.jsxs("div", {
    className: "flex flex-col", children: [i.jsxs("div", {
      className: "bg-slate-800/40 rounded-xl border border-slate-700/50 p-4 md:p-6 overflow-hidden flex flex-col max-h-[calc(100vh-200px)] md:max-h-[calc(100vh-150px)]", children: [i.jsxs("div", { className: "flex flex-col md:flex-row justify-between items-start md:items-center gap-2 mb-4", children: [i.jsxs("h3", { className: "text-sm font-bold text-slate-300 tracking-wider uppercase flex items-center gap-2", children: [i.jsx(Bt, { name: "calendar", size: 18, className: "text-blue-400" }), ""] }), i.jsxs("div", { className: "flex items-center gap-4", children: [i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsx("button", { onClick: Y, className: "p-1.5 hover:bg-slate-700 rounded-lg transition-colors", children: i.jsx(Bt, { name: "chevronLeft", size: 18, className: "text-slate-400" }) }), i.jsx("button", { onClick: ge, className: "px-3 py-1 text-xs bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors", children: "" }), i.jsx("button", { onClick: le, className: "p-1.5 hover:bg-slate-700 rounded-lg transition-colors", children: i.jsx(Bt, { name: "chevronRight", size: 18, className: "text-slate-400" }) })] }), i.jsx("div", { className: "flex bg-slate-800 rounded-lg p-1 border border-slate-700", children: ["day", "week", "month"].map(W => i.jsx("button", { onClick: () => c(W), className: `px-3 py-1 text-xs transition-colors ${l === W ? "bg-blue-600 text-white rounded shadow" : "text-slate-400 hover:text-slate-200"}`, children: W === "day" ? "" : W === "week" ? "" : "" }, W)) })] })] }), i.jsxs("div", {
        className: "flex-1 flex overflow-hidden rounded-lg border border-slate-700 bg-slate-900/30", children: [i.jsxs("div", { className: "w-56 flex-shrink-0 border-r border-slate-700 bg-slate-800/50 overflow-y-auto", children: [i.jsx("div", { className: "sticky top-0 z-10 bg-slate-800 border-b border-slate-700 px-3 flex items-center", style: { height: qe }, children: i.jsx("span", { className: "text-xs font-bold text-slate-400 uppercase", children: " /  / " }) }), ue.map(W => { const $e = b[W.id] !== !1, Ke = kn(W.colorId); return i.jsxs("div", { children: [i.jsxs("div", { className: `flex items-center gap-2 px-3 border-b border-slate-700 cursor-pointer hover:bg-slate-700/50 transition-colors ${Ke.bgLight}`, style: { height: X }, onClick: () => ke(W.id), children: [i.jsx("span", { className: "text-slate-400 text-xs", children: $e ? "" : "" }), i.jsx("span", { className: "text-sm", children: W.icon }), i.jsx("span", { className: "text-sm font-medium text-slate-200 truncate flex-1", children: W.title }), i.jsxs("span", { className: "text-[10px] text-slate-500", children: [W.tasks.length, ""] })] }), $e && W.tasks.map(ze => { const We = kn(ze.colorId || "blue"); return i.jsxs("div", { className: `flex items-center gap-2 px-3 pl-8 border-b border-slate-800 hover:bg-slate-800/50 transition-colors cursor-pointer ${g === ze.id ? "bg-slate-800/50" : ""}`, style: { height: ne }, onMouseEnter: () => h(ze.id), onMouseLeave: () => h(null), onClick: () => Ze(ze), children: [i.jsx("div", { className: `w-2 h-2 rounded-full flex-shrink-0 ${ze.progress === 100 ? "bg-emerald-500" : We.bg}` }), i.jsx("span", { className: `text-xs truncate flex-1 ${ze.progress === 100 ? "text-slate-500 line-through" : "text-slate-300"}`, children: ze.title }), ze.progress > 0 && ze.progress < 100 && i.jsxs("span", { className: "text-[10px] text-slate-500", children: [ze.progress, "%"] }), ze.progress === 100 && i.jsx("span", { className: "text-[10px] text-emerald-500", children: "" })] }, ze.id) })] }, W.id) }), ue.length === 0 && i.jsx("div", { className: "p-4 text-center text-slate-500 text-xs", children: "" })] }), i.jsx("div", {
          className: "flex-1 overflow-auto relative", children: i.jsxs("div", {
            className: "relative", style: { minWidth: ve.length * Se }, children: [i.jsx("div", { className: "sticky top-0 z-10 bg-slate-800/95 border-b border-slate-700 flex", style: { height: qe }, children: ve.map((W, $e) => { const Ke = W.getDay(), ze = I(W) === I(ie), We = Ke === 0 || Ke === 6, ot = l === "day" || l === "week" && Ke === 1 || l === "month" && W.getDate() === 1; return i.jsx("div", { onClick: () => { te(I(W)), he({ title: "", colorId: "blue" }), V("task"), k(!0) }, className: `flex-shrink-0 flex items-center justify-center text-xs border-r border-slate-700/50 cursor-pointer hover:bg-slate-700/50 transition-colors ${ze ? "bg-blue-600/20 text-blue-400 font-bold" : We ? "text-red-400" : "text-slate-400"}`, style: { width: Se }, title: "", children: ot && i.jsx("span", { className: "truncate px-0.5", children: l === "month" ? `${W.getMonth() + 1}` : `${W.getMonth() + 1}/${W.getDate()}` }) }, $e) }) }), ue.map(W => {
              const $e = b[W.id] !== !1, Ke = kn(W.colorId), ze = R(W.date); return i.jsxs("div", {
                children: [i.jsx("div", { className: `flex border-b border-slate-700 ${Ke.bgLight}`, style: { height: X }, children: ve.map((We, ot) => { const be = ot === re, Ne = ot === ze; return i.jsx("div", { className: `flex-shrink-0 border-r border-slate-700/30 flex items-center justify-center ${be ? "bg-red-500/10" : ""}`, style: { width: Se }, children: Ne && i.jsx("div", { className: `w-3 h-3 rounded-full ${Ke.bg} shadow-lg`, title: W.title }) }, ot) }) }), $e && W.tasks.map(We => {
                  const ot = R(We.date), be = kn(We.colorId || "blue"), Ne = We.progress === 100; return i.jsx("div", {
                    className: `flex border-b border-slate-800/50 ${g === We.id ? "bg-slate-800/30" : ""} ${(y == null ? void 0 : y.id) === We.id ? "opacity-50" : ""}`, style: { height: ne }, onMouseEnter: () => h(We.id), onMouseLeave: () => h(null), children: ve.map((ee, ye) => {
                      const Ee = ye === re, Ye = ye === ot, Xe = I(ee), Be = (E == null ? void 0 : E.dateStr) === Xe && (E == null ? void 0 : E.taskId) === We.id; return i.jsx("div", {
                        className: `flex-shrink-0 border-r border-slate-800/30 flex items-center justify-center transition-colors ${Ee ? "bg-red-500/5" : ""} ${Be && !Ye ? "bg-blue-500/20 ring-1 ring-blue-400/50" : ""}`, style: { width: Se }, onDragOver: Te => nt(Te, Xe, We.id), onDragLeave: ct, onDrop: Te => de(Te, Xe), children: Ye && i.jsx("div", {
                          draggable: !0, onDragStart: Te => Fe(Te, We), onDragEnd: Le, onClick: () => Ze(We), className: `rounded px-1 py-0.5 text-[10px] font-medium text-white truncate shadow cursor-pointer hover:brightness-110 hover:scale-105 transition-all ${Ne ? "bg-emerald-600" : be.bg}`, style: { maxWidth: Se - 4 }, title: `${We.title}${We.progress ? ` (${We.progress}%)` : ""}
  / `, children: Ne ? "" : We.progress > 0 ? `${We.progress}%` : ""
                        })
                      }, ye)
                    })
                  }, We.id)
                })]
              }, W.id)
            }), re >= 0 && (() => { const W = j.getHours(), $e = j.getMinutes(), Ke = (W * 60 + $e) / (24 * 60), ze = re * Se + Ke * Se; return i.jsx("div", { className: "absolute top-0 w-0.5 bg-red-500 pointer-events-none z-20", style: { left: `${ze}px`, height: "100%", boxShadow: "0 0 8px rgba(239, 68, 68, 0.5)" } }) })()]
          })
        })]
      }), i.jsxs("div", { className: "mt-4 flex items-center gap-6 text-xs text-slate-400", children: [i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsx("span", { children: "" }), i.jsx("span", { children: "" })] }), i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsx("span", { children: "" }), i.jsx("span", { children: "" })] }), i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsx("span", { children: "" }), i.jsx("span", { children: "" })] }), i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsx("div", { className: "w-3 h-3 bg-emerald-500 rounded" }), i.jsx("span", { children: "" })] }), i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsx("div", { className: "w-0.5 h-4 bg-red-500" }), i.jsx("span", { children: "" })] })] })]
    }), G && U && i.jsx("div", { className: "fixed inset-0 bg-black/60 flex items-center justify-center z-50", onClick: () => N(!1), children: i.jsxs("div", { className: "bg-slate-800 rounded-2xl p-6 w-full max-w-md border border-slate-700 shadow-xl", onClick: W => W.stopPropagation(), children: [i.jsxs("h3", { className: "text-lg font-bold text-slate-200 mb-4 flex items-center gap-2", children: [i.jsx(Bt, { name: "edit", size: 20, className: "text-blue-400" }), ""] }), i.jsxs("div", { className: "space-y-4", children: [i.jsxs("div", { children: [i.jsx("label", { className: "block text-xs text-slate-400 mb-1", children: "" }), i.jsx("input", { type: "text", value: U.title || "", onChange: W => M({ ...U, title: W.target.value }), className: "w-full bg-slate-900/50 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none", placeholder: "" })] }), i.jsxs("div", { children: [i.jsx("label", { className: "block text-xs text-slate-400 mb-1", children: "" }), i.jsx("input", { type: "date", value: U.date || "", onChange: W => M({ ...U, date: W.target.value }), className: "w-full bg-slate-900/50 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none" })] }), i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsx("input", { type: "checkbox", id: "edit-allday", checked: U.allDay || !1, onChange: W => M({ ...U, allDay: W.target.checked, time: "", endTime: "" }), className: "w-4 h-4 rounded bg-slate-900 border-slate-700 text-blue-500 focus:ring-blue-500" }), i.jsx("label", { htmlFor: "edit-allday", className: "text-sm text-slate-300", children: "" })] }), !U.allDay && i.jsxs("div", { className: "grid grid-cols-2 gap-3", children: [i.jsxs("div", { children: [i.jsx("label", { className: "block text-xs text-slate-400 mb-1", children: "" }), i.jsx("input", { type: "time", value: U.time || "", onChange: W => M({ ...U, time: W.target.value }), className: "w-full bg-slate-900/50 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none" })] }), i.jsxs("div", { children: [i.jsx("label", { className: "block text-xs text-slate-400 mb-1", children: "" }), i.jsx("input", { type: "time", value: U.endTime || "", onChange: W => M({ ...U, endTime: W.target.value }), className: "w-full bg-slate-900/50 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none" })] })] }), i.jsxs("div", { children: [i.jsxs("label", { className: "block text-xs text-slate-400 mb-1", children: [": ", U.progress || 0, "%"] }), i.jsx("input", { type: "range", min: "0", max: "100", step: "10", value: U.progress || 0, onChange: W => M({ ...U, progress: parseInt(W.target.value) }), className: "w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-blue-500" }), i.jsxs("div", { className: "flex justify-between text-[10px] text-slate-500 mt-1", children: [i.jsx("span", { children: "0%" }), i.jsx("span", { children: "50%" }), i.jsx("span", { children: "100%" })] })] }), i.jsxs("div", { children: [i.jsx("label", { className: "block text-xs text-slate-400 mb-2", children: "" }), i.jsx(zc, { value: U.colorId || "blue", onChange: W => M({ ...U, colorId: W }) })] }), i.jsxs("div", { children: [i.jsx("label", { className: "block text-xs text-slate-400 mb-1", children: "" }), i.jsxs("div", { className: "grid grid-cols-2 gap-3", children: [i.jsxs("select", { value: U.linkedType || "", onChange: W => M({ ...U, linkedType: W.target.value, linkedId: "" }), className: "bg-slate-900/50 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:border-blue-500 outline-none", children: [i.jsx("option", { value: "", children: "" }), i.jsx("option", { value: "event", children: " " }), i.jsx("option", { value: "goal", children: " " })] }), i.jsxs("select", { value: U.linkedId || "", onChange: W => M({ ...U, linkedId: W.target.value }), disabled: !U.linkedType, className: "bg-slate-900/50 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:border-blue-500 outline-none disabled:opacity-50", children: [i.jsx("option", { value: "", children: "..." }), U.linkedType === "event" && (r == null ? void 0 : r.map(W => i.jsxs("option", { value: W.id, children: [W.date ? `${W.date} - ` : "", W.title] }, W.id))), U.linkedType === "goal" && (e == null ? void 0 : e.map(W => i.jsxs("option", { value: W.id, children: [W.date ? `${W.date} - ` : "", W.title] }, W.id)))] })] })] })] }), i.jsxs("div", { className: "flex gap-3 mt-6", children: [i.jsxs("button", { onClick: se, className: "px-4 py-2 bg-red-600/20 text-red-400 rounded-lg hover:bg-red-600/30 transition-colors text-sm", children: [i.jsx(Bt, { name: "trash", size: 16, className: "inline mr-1" }), ""] }), i.jsx("div", { className: "flex-1" }), i.jsx("button", { onClick: () => N(!1), className: "px-4 py-2 bg-slate-700 text-slate-300 rounded-lg hover:bg-slate-600 transition-colors text-sm", children: "" }), i.jsx("button", { onClick: F, className: "px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-500 transition-colors text-sm", children: "" })] })] }) }), H && i.jsx("div", { className: "fixed inset-0 bg-black/60 flex items-center justify-center z-50", onClick: () => k(!1), children: i.jsxs("div", { className: "bg-slate-800 rounded-2xl p-6 w-full max-w-md border border-slate-700 shadow-xl", onClick: W => W.stopPropagation(), children: [i.jsxs("h3", { className: "text-lg font-bold text-slate-200 mb-4 flex items-center gap-2", children: [i.jsx(Bt, { name: "plus", size: 20, className: "text-emerald-400" }), ""] }), i.jsxs("div", { className: "space-y-4", children: [i.jsxs("div", { children: [i.jsx("label", { className: "block text-xs text-slate-400 mb-2", children: "" }), i.jsxs("div", { className: "flex gap-2", children: [i.jsx("button", { onClick: () => V("task"), className: `flex-1 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-1 ${_ === "task" ? "bg-blue-600 text-white" : "bg-slate-700 text-slate-400 hover:bg-slate-600"}`, children: " " }), i.jsx("button", { onClick: () => V("goal"), className: `flex-1 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-1 ${_ === "goal" ? "bg-purple-600 text-white" : "bg-slate-700 text-slate-400 hover:bg-slate-600"}`, children: " " }), i.jsx("button", { onClick: () => V("event"), className: `flex-1 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-1 ${_ === "event" ? "bg-emerald-600 text-white" : "bg-slate-700 text-slate-400 hover:bg-slate-600"}`, children: " " })] })] }), i.jsxs("div", { children: [i.jsx("label", { className: "block text-xs text-slate-400 mb-1", children: "" }), i.jsx("input", { type: "text", value: ce.title, onChange: W => he({ ...ce, title: W.target.value }), className: "w-full bg-slate-900/50 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none", placeholder: _ === "task" ? "" : _ === "goal" ? "" : "", autoFocus: !0 })] }), i.jsxs("div", { children: [i.jsx("label", { className: "block text-xs text-slate-400 mb-1", children: "" }), i.jsx("input", { type: "date", value: P, onChange: W => te(W.target.value), className: "w-full bg-slate-900/50 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:border-blue-500 outline-none" })] }), i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsx("input", { type: "checkbox", id: "roadmap-add-allday", checked: ce.allDay, onChange: W => he({ ...ce, allDay: W.target.checked }), className: "w-4 h-4 rounded bg-slate-900 border-slate-700 text-blue-500 focus:ring-blue-500" }), i.jsx("label", { htmlFor: "roadmap-add-allday", className: "text-sm text-slate-300", children: "" })] }), !ce.allDay && i.jsxs("div", { className: "grid grid-cols-2 gap-3", children: [i.jsxs("div", { children: [i.jsx("label", { className: "block text-xs text-slate-400 mb-1", children: "" }), i.jsx("input", { type: "time", value: ce.time, onChange: W => { let $e = ce.endTime; const Ke = W.target.value; if (Ke && (!$e || Ke >= $e)) { const [ze, We] = Ke.split(":").map(Number); $e = `${String(Math.min(ze + 1, 23)).padStart(2, "0")}:${String(We).padStart(2, "0")}` } he({ ...ce, time: Ke, endTime: $e }) }, className: "w-full bg-slate-900/50 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:border-blue-500 outline-none" })] }), i.jsxs("div", { children: [i.jsx("label", { className: "block text-xs text-slate-400 mb-1", children: "" }), i.jsx("input", { type: "time", value: ce.endTime, onChange: W => he({ ...ce, endTime: W.target.value }), className: "w-full bg-slate-900/50 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:border-blue-500 outline-none" })] })] }), i.jsxs("div", { children: [i.jsx("label", { className: "block text-xs text-slate-400 mb-2", children: "" }), i.jsx(zc, { value: ce.colorId, onChange: W => he({ ...ce, colorId: W }) })] }), _ === "task" && i.jsxs("div", { children: [i.jsx("label", { className: "block text-xs text-slate-400 mb-1", children: "" }), i.jsxs("select", { value: ce.linkedType && ce.linkedId ? `${ce.linkedType}:${ce.linkedId}` : "", onChange: W => { const $e = W.target.value; if (!$e) he({ ...ce, linkedType: "", linkedId: "" }); else { const [Ke, ze] = $e.split(":"); he({ ...ce, linkedType: Ke, linkedId: ze }) } }, className: "w-full bg-slate-900/50 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:border-blue-500 outline-none", children: [i.jsx("option", { value: "", children: "" }), r.length > 0 && i.jsx("optgroup", { label: " ", children: r.map(W => i.jsxs("option", { value: `event:${W.id}`, children: [W.title, " (", W.date, ")"] }, `event-${W.id}`)) }), e.length > 0 && i.jsx("optgroup", { label: " ", children: e.map(W => i.jsx("option", { value: `goal:${W.id}`, children: W.title }, `goal-${W.id}`)) })] })] }), i.jsxs("div", { className: "flex gap-3 pt-2", children: [i.jsx("button", { onClick: () => k(!1), className: "flex-1 px-4 py-2 bg-slate-700 text-slate-300 rounded-lg hover:bg-slate-600 transition-colors text-sm", children: "" }), i.jsx("button", { onClick: async () => { if (!ce.title.trim() || !P) return; const W = { title: ce.title.trim(), date: P, colorId: ce.colorId, color: kn(ce.colorId).bg, allDay: ce.allDay, time: ce.allDay ? "" : ce.time, endTime: ce.allDay ? "" : ce.endTime }; try { _ === "task" && a ? await a({ ...W, progress: 0, tag: "", linkedType: ce.linkedType || "", linkedId: ce.linkedId || "" }) : _ === "goal" && A ? await A({ ...W, progress: 0 }) : _ === "event" && o && await o({ ...W }), k(!1), he({ title: "", colorId: "blue", allDay: !0, time: "09:00", endTime: "10:00", linkedType: "", linkedId: "" }) } catch ($e) { console.error("Failed to add item:", $e) } }, className: "flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-500 transition-colors text-sm", children: "" })] })] })] }) })]
  })
} function xL() { const [t, e] = z.useState(!1), [r, n] = z.useState(!1), [s, a] = z.useState(null), [A, o] = z.useState([]), [l, c] = z.useState({}), [d, p] = z.useState(!1), [g, h] = z.useState([]), [b, w] = z.useState(!0), j = "http://localhost:5600/api", x = ["#3b82f6", "#8b5cf6", "#10b981", "#f97316", "#06b6d4", "#ec4899", "#f59e0b", "#84cc16", "#14b8a6", "#6366f1", "#ef4444", "#22c55e", "#a855f7", "#0ea5e9", "#f43f5e"], y = P => x[P % x.length], B = async () => { try { if ((await fetch(`${j}/0/info`, { signal: AbortSignal.timeout(3e3) })).ok) { e(!0), a(null); const te = await E(); return te && te.length > 0 && await T(te), !0 } } catch { e(!1), a("ActivityWatchCORSActivityWatch") } return !1 }, E = async () => { try { const P = await fetch(`${j}/0/buckets`); if (P.ok) { const te = await P.json(), ce = Object.keys(te); return h(ce), ce } } catch (P) { console.error("Failed to fetch buckets:", P) } return [] }, T = async P => { n(!0), a(null); try { const te = new Date; te.setHours(0, 0, 0, 0); const ce = te.toISOString(), he = P.find(pe => pe.startsWith("aw-watcher-window") || pe.includes("window")), ie = P.find(pe => pe.startsWith("aw-watcher-web") || pe.includes("chrome") || pe.includes("firefox")); if (console.log("Fetching from buckets:", { windowBucket: he, webBucket: ie }), !he && !ie) { a(`: ${P.join(", ")}`), n(!1); return } let ue = []; if (he) try { const pe = await fetch(`${j}/0/buckets/${he}/events?start=${ce}&limit=500`); if (pe.ok) { const ve = await pe.json(); console.log("Window events:", ve.length), ue = [...ue, ...ve] } } catch (pe) { console.error("Window bucket fetch failed:", pe) } if (ie) try { const pe = await fetch(`${j}/0/buckets/${ie}/events?start=${ce}&limit=500`); if (pe.ok) { const ve = await pe.json(); console.log("Web events:", ve.length); const I = ve.map(R => { var re, Y, le; return { ...R, data: { app: (re = R.data) != null && re.url ? new URL(R.data.url).hostname : "Browser", title: ((Y = R.data) == null ? void 0 : Y.title) || ((le = R.data) == null ? void 0 : le.url) || "" } } }); ue = [...ue, ...I] } } catch (pe) { console.error("Web bucket fetch failed:", pe) } if (console.log("Total events:", ue.length), ue.length > 0) { const pe = M(ue); console.log("Processed events:", pe.length), o(pe), G(pe) } else o([]), setTodayStats({}) } catch (te) { console.error("Failed to fetch events:", te), a(`: ${te.message}`) } n(!1) }, U = async () => { !t || g.length === 0 || await T(g) }, M = P => { const te = {}; return P.forEach(ce => { var I, R; const he = ((I = ce.data) == null ? void 0 : I.app) || "Unknown", ie = ((R = ce.data) == null ? void 0 : R.title) || "", ue = ce.duration || 0, pe = new Date(ce.timestamp), ve = `${he}_${pe.getHours()}`; te[ve] || (te[ve] = { id: ve, app: he, title: ie.substring(0, 100), duration: 0, startTime: pe, endTime: pe, events: [] }), te[ve].duration += ue, te[ve].events.push({ title: ie, duration: ue, timestamp: pe }), pe < te[ve].startTime && (te[ve].startTime = pe), pe > te[ve].endTime && (te[ve].endTime = pe) }), Object.values(te).filter(ce => ce.duration > 60).sort((ce, he) => he.startTime - ce.startTime) }, G = P => { const te = {}; P.forEach(ce => { const he = ce.app; te[he] || (te[he] = 0), te[he] += ce.duration }), c(te) }; z.useEffect(() => { B() }, []), z.useEffect(() => { if (!t || !b) return; U(); const P = setInterval(U, 3e4); return () => clearInterval(P) }, [t, g, b]); const N = P => { const te = Math.floor(P / 3600), ce = Math.floor(P % 3600 / 60); return te > 0 ? `${te}${ce}` : `${ce}` }, H = P => { const te = P.toLowerCase(); return te.includes("chrome") || te.includes("firefox") || te.includes("safari") || te.includes("edge") ? "" : te.includes("code") || te.includes("studio") || te.includes("vim") || te.includes("sublime") ? "" : te.includes("slack") || te.includes("discord") || te.includes("teams") ? "" : te.includes("zoom") || te.includes("meet") ? "" : te.includes("mail") || te.includes("outlook") || te.includes("thunderbird") ? "" : te.includes("finder") || te.includes("explorer") ? "" : te.includes("terminal") || te.includes("iterm") || te.includes("cmd") ? "" : te.includes("figma") || te.includes("sketch") || te.includes("photoshop") ? "" : te.includes("notion") || te.includes("obsidian") || te.includes("evernote") ? "" : te.includes("spotify") || te.includes("music") ? "" : te.includes("twitter") || te.includes("x.com") ? "" : te.includes("youtube") ? "" : "" }, k = Object.values(l).reduce((P, te) => P + te, 0), _ = Object.entries(l).sort((P, te) => te[1] - P[1]), V = _.slice(0, 10); return i.jsxs("div", { className: "space-y-6", children: [i.jsxs("div", { className: "bg-slate-800/40 rounded-xl border border-slate-700/50 p-6", children: [i.jsxs("div", { className: "flex items-center justify-between mb-4", children: [i.jsxs("div", { className: "flex items-center gap-4", children: [i.jsx("div", { className: `w-3 h-3 rounded-full ${t ? "bg-emerald-500" : "bg-red-500"}` }), i.jsxs("h3", { className: "text-lg font-bold text-slate-200", children: ["ActivityWatch ", t ? "" : ""] }), r && i.jsx("span", { className: "text-xs text-slate-500", children: "..." })] }), i.jsxs("div", { className: "flex items-center gap-3", children: [i.jsxs("label", { className: "flex items-center gap-2 text-sm text-slate-400", children: [i.jsx("input", { type: "checkbox", checked: b, onChange: P => w(P.target.checked), className: "rounded border-slate-600 bg-slate-900 text-blue-500" }), ""] }), i.jsx("button", { onClick: U, disabled: !t || r, className: "px-4 py-2 bg-blue-600 hover:bg-blue-500 disabled:bg-slate-700 text-white rounded-lg text-sm transition-colors", children: "" }), i.jsx("button", { onClick: () => p(!d), className: "px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg text-sm transition-colors", children: "" })] })] }), s && i.jsx("div", { className: "bg-red-900/30 border border-red-700/50 rounded-lg p-4 mb-4", children: i.jsx("p", { className: "text-red-400 text-sm", children: s }) }), d && i.jsxs("div", { className: "bg-slate-900/50 rounded-lg p-4 mb-4", children: [i.jsx("h4", { className: "font-medium text-slate-200 mb-3", children: " ActivityWatch" }), i.jsxs("ol", { className: "space-y-2 text-sm text-slate-400", children: [i.jsxs("li", { children: ["1. ", i.jsx("a", { href: "https://activitywatch.net/downloads/", target: "_blank", rel: "noopener noreferrer", className: "text-blue-400 hover:underline", children: "ActivityWatch" }), ""] }), i.jsx("li", { children: "2. " }), i.jsx("li", { children: "3. " }), i.jsx("li", { children: "4. " })] }), i.jsxs("div", { className: "mt-4 flex gap-2", children: [i.jsx("a", { href: "https://activitywatch.net/downloads/", target: "_blank", rel: "noopener noreferrer", className: "px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg text-sm inline-block", children: "" }), i.jsx("button", { onClick: B, className: "px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg text-sm", children: "" })] }), g.length > 0 && i.jsxs("div", { className: "mt-4 p-3 bg-slate-800 rounded-lg", children: [i.jsx("div", { className: "text-xs text-slate-500 mb-2", children: ":" }), i.jsx("div", { className: "flex flex-wrap gap-2", children: g.map(P => i.jsx("span", { className: "text-xs bg-slate-700 px-2 py-1 rounded", children: P }, P)) })] })] }), t && i.jsxs("div", { className: "grid grid-cols-3 gap-4", children: [i.jsxs("div", { className: "bg-slate-900/50 rounded-lg p-4 text-center", children: [i.jsx("div", { className: "text-xs text-slate-500 mb-1", children: "" }), i.jsx("div", { className: "text-xl font-bold text-blue-400", children: A.length }), i.jsx("div", { className: "text-xs text-slate-500", children: "" })] }), i.jsxs("div", { className: "bg-slate-900/50 rounded-lg p-4 text-center", children: [i.jsx("div", { className: "text-xs text-slate-500 mb-1", children: "" }), i.jsx("div", { className: "text-xl font-bold text-emerald-400", children: N(k) })] }), i.jsxs("div", { className: "bg-slate-900/50 rounded-lg p-4 text-center", children: [i.jsx("div", { className: "text-xs text-slate-500 mb-1", children: "" }), i.jsx("div", { className: "text-xl font-bold text-purple-400", children: Object.keys(l).length })] })] })] }), t && i.jsxs(i.Fragment, { children: [i.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [i.jsxs("div", { className: "bg-slate-800/40 rounded-xl border border-slate-700/50 p-6", children: [i.jsx("h3", { className: "text-sm font-bold text-slate-400 mb-4", children: "" }), V.length > 0 ? i.jsxs("div", { className: "flex items-center gap-6", children: [i.jsxs("div", { className: "relative w-40 h-40 flex-shrink-0", children: [i.jsx("svg", { viewBox: "0 0 36 36", className: "w-full h-full transform -rotate-90", children: (() => { let P = 0; return V.map(([te, ce], he) => { const ie = ce / k * 100, ue = `${ie} ${100 - ie}`, pe = i.jsx("circle", { cx: "18", cy: "18", r: "15.915", fill: "transparent", stroke: y(he), strokeWidth: "3.5", strokeDasharray: ue, strokeDashoffset: -P, className: "transition-all duration-300" }, te); return P += ie, pe }) })() }), i.jsx("div", { className: "absolute inset-0 flex items-center justify-center", children: i.jsxs("div", { className: "text-center", children: [i.jsx("div", { className: "text-lg font-bold text-slate-200", children: N(k) }), i.jsx("div", { className: "text-xs text-slate-500", children: "" })] }) })] }), i.jsx("div", { className: "flex-1 space-y-1 max-h-40 overflow-y-auto", children: V.map(([P, te], ce) => { const he = k > 0 ? Math.round(te / k * 100) : 0; return i.jsxs("div", { className: "flex items-center gap-2 text-sm", children: [i.jsx("div", { className: "w-3 h-3 rounded-full flex-shrink-0", style: { backgroundColor: y(ce) } }), i.jsxs("span", { className: "text-slate-300 flex-1 truncate", children: [H(P), " ", P] }), i.jsxs("span", { className: "text-slate-500 text-xs", children: [he, "%"] })] }, P) }) })] }) : i.jsx("div", { className: "text-center text-slate-500 py-8", children: "" })] }), i.jsxs("div", { className: "bg-slate-800/40 rounded-xl border border-slate-700/50 p-6", children: [i.jsx("h3", { className: "text-sm font-bold text-slate-400 mb-4", children: "TOP 10" }), i.jsxs("div", { className: "space-y-3", children: [V.map(([P, te], ce) => { var ue; const he = ((ue = V[0]) == null ? void 0 : ue[1]) || 1, ie = te / he * 100; return i.jsxs("div", { className: "space-y-1", children: [i.jsxs("div", { className: "flex items-center justify-between text-sm", children: [i.jsxs("span", { className: "text-slate-300 truncate flex items-center gap-2", children: [H(P), " ", P] }), i.jsx("span", { className: "text-slate-400 flex-shrink-0 ml-2", children: N(te) })] }), i.jsx("div", { className: "h-2 bg-slate-700/50 rounded-full overflow-hidden", children: i.jsx("div", { className: "h-full rounded-full transition-all duration-300", style: { width: `${ie}%`, backgroundColor: y(ce) } }) })] }, P) }), V.length === 0 && i.jsx("div", { className: "text-center text-slate-500 py-8", children: "" })] })] })] }), i.jsxs("div", { className: "bg-slate-800/40 rounded-xl border border-slate-700/50 p-6", children: [i.jsx("h3", { className: "text-sm font-bold text-slate-400 mb-4", children: "" }), i.jsxs("div", { className: "space-y-2 max-h-96 overflow-y-auto", children: [A.map((P, te) => { const ce = _.findIndex(([he]) => he === P.app); return i.jsxs("div", { className: "flex items-center gap-3 p-3 bg-slate-900/50 rounded-lg", children: [i.jsx("div", { className: "w-1 h-10 rounded-full flex-shrink-0", style: { backgroundColor: y(ce >= 0 ? ce : te) } }), i.jsx("span", { className: "text-xl flex-shrink-0", children: H(P.app) }), i.jsxs("div", { className: "flex-1 min-w-0", children: [i.jsx("div", { className: "text-sm font-medium text-slate-200 truncate", children: P.app }), i.jsx("div", { className: "text-xs text-slate-500 truncate", children: P.title || "()" })] }), i.jsxs("div", { className: "text-right flex-shrink-0", children: [i.jsx("div", { className: "text-sm text-slate-300", children: N(P.duration) }), i.jsx("div", { className: "text-xs text-slate-500", children: P.startTime.toLocaleTimeString("ja-JP", { hour: "2-digit", minute: "2-digit" }) })] })] }, P.id) }), A.length === 0 && i.jsx("div", { className: "text-center text-slate-500 py-8", children: "" })] })] })] })] }) } function vL({ tasks: t, goals: e, transactions: r }) { const n = z.useMemo(() => { const A = ["", "", "", "", "", "", ""], o = new Date; return Array.from({ length: 7 }).map((l, c) => { const d = new Date(o); d.setDate(d.getDate() - (6 - c)); const p = d.toISOString().split("T")[0], g = t.filter(b => b.date === p && b.progress === 100).length, h = t.filter(b => b.date === p).length; return { day: A[d.getDay()], date: p, completed: g, total: h, percentage: h > 0 ? Math.round(g / h * 100) : 0 } }) }, [t]), s = z.useMemo(() => { const A = t.filter(p => p.progress === 100).length, o = t.length, l = o > 0 ? Math.round(A / o * 100) : 0, c = r.filter(p => p.type === "income").reduce((p, g) => p + g.amount, 0), d = r.filter(p => p.type === "expense").reduce((p, g) => p + g.amount, 0); return { completedTasks: A, totalTasks: o, completionRate: l, activeGoals: e.length, totalIncome: c, totalExpense: d, netSavings: c - d } }, [t, e, r]), a = z.useMemo(() => { const A = new Date; return Array.from({ length: 30 }).map((o, l) => { const c = new Date(A); c.setDate(c.getDate() - (29 - l)); const d = c.toISOString().split("T")[0], g = t.filter(h => h.date === d).filter(h => h.progress === 100).length; return { date: d, level: g === 0 ? 0 : g < 2 ? 1 : g < 4 ? 2 : 3 } }) }, [t]); return i.jsxs("div", { className: "space-y-6", children: [i.jsxs("div", { className: "grid grid-cols-4 gap-4", children: [i.jsxs("div", { className: "bg-slate-800/40 rounded-xl border border-slate-700/50 p-4", children: [i.jsxs("div", { className: "flex items-center gap-3 mb-2", children: [i.jsx("div", { className: "w-10 h-10 rounded-lg bg-blue-500/20 flex items-center justify-center", children: i.jsx(Bt, { name: "check", size: 20, className: "text-blue-400" }) }), i.jsx("div", { className: "text-sm text-slate-400", children: "" })] }), i.jsxs("div", { className: "text-2xl font-bold text-slate-200", children: [s.completedTasks, " ", i.jsxs("span", { className: "text-sm text-slate-500", children: ["/ ", s.totalTasks] })] })] }), i.jsxs("div", { className: "bg-slate-800/40 rounded-xl border border-slate-700/50 p-4", children: [i.jsxs("div", { className: "flex items-center gap-3 mb-2", children: [i.jsx("div", { className: "w-10 h-10 rounded-lg bg-emerald-500/20 flex items-center justify-center", children: i.jsx(Bt, { name: "trendingUp", size: 20, className: "text-emerald-400" }) }), i.jsx("div", { className: "text-sm text-slate-400", children: "" })] }), i.jsxs("div", { className: "text-2xl font-bold text-emerald-400", children: [s.completionRate, "%"] })] }), i.jsxs("div", { className: "bg-slate-800/40 rounded-xl border border-slate-700/50 p-4", children: [i.jsxs("div", { className: "flex items-center gap-3 mb-2", children: [i.jsx("div", { className: "w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center", children: i.jsx(Bt, { name: "target", size: 20, className: "text-purple-400" }) }), i.jsx("div", { className: "text-sm text-slate-400", children: "" })] }), i.jsx("div", { className: "text-2xl font-bold text-purple-400", children: s.activeGoals })] }), i.jsxs("div", { className: "bg-slate-800/40 rounded-xl border border-slate-700/50 p-4", children: [i.jsxs("div", { className: "flex items-center gap-3 mb-2", children: [i.jsx("div", { className: "w-10 h-10 rounded-lg bg-yellow-500/20 flex items-center justify-center", children: i.jsx(Bt, { name: "wallet", size: 20, className: "text-yellow-400" }) }), i.jsx("div", { className: "text-sm text-slate-400", children: "" })] }), i.jsxs("div", { className: `text-2xl font-bold ${s.netSavings >= 0 ? "text-emerald-400" : "text-red-400"}`, children: ["", s.netSavings.toLocaleString()] })] })] }), i.jsxs("div", { className: "bg-slate-800/40 rounded-xl border border-slate-700/50 p-6", children: [i.jsx("h3", { className: "text-sm font-bold text-slate-400 mb-4", children: "" }), i.jsx("div", { className: "flex items-end justify-between gap-2 h-40", children: n.map((A, o) => i.jsxs("div", { className: "flex-1 flex flex-col items-center gap-2", children: [i.jsx("div", { className: "w-full bg-slate-700/50 rounded-lg overflow-hidden h-32 flex flex-col justify-end", children: i.jsx("div", { className: "bg-gradient-to-t from-blue-600 to-blue-400 transition-all", style: { height: `${Math.max(A.percentage, 5)}%` } }) }), i.jsx("div", { className: "text-xs text-slate-500", children: A.day }), i.jsxs("div", { className: "text-xs text-slate-400", children: [A.completed, "/", A.total] })] }, o)) })] }), i.jsxs("div", { className: "bg-slate-800/40 rounded-xl border border-slate-700/50 p-6", children: [i.jsx("h3", { className: "text-sm font-bold text-slate-400 mb-4", children: "30" }), i.jsx("div", { className: "flex gap-1 flex-wrap", children: a.map((A, o) => i.jsx("div", { title: `${A.date}: Level ${A.level}`, className: `w-4 h-4 rounded-sm ${A.level === 0 ? "bg-slate-700" : A.level === 1 ? "bg-emerald-900" : A.level === 2 ? "bg-emerald-700" : "bg-emerald-500"}` }, o)) }), i.jsxs("div", { className: "flex items-center gap-2 mt-4 text-xs text-slate-500", children: [i.jsx("span", { children: "" }), i.jsx("div", { className: "w-3 h-3 rounded-sm bg-slate-700" }), i.jsx("div", { className: "w-3 h-3 rounded-sm bg-emerald-900" }), i.jsx("div", { className: "w-3 h-3 rounded-sm bg-emerald-700" }), i.jsx("div", { className: "w-3 h-3 rounded-sm bg-emerald-500" }), i.jsx("span", { children: "" })] })] })] }) } function wL({ tasks: t, goals: e, transactions: r, events: n, addTask: s, addEvent: a, addGoal: A, updateTask: o, deleteTask: l, diaryEntries: c, addDiaryEntry: d, settings: p }) {
  const g = new Date().toISOString().split("T")[0], [h, b] = z.useState(g), [w, j] = z.useState([]), [x, y] = z.useState([]), [B, E] = z.useState(!1), [T, U] = z.useState(!1), [M, G] = z.useState(!1), [N, H] = z.useState(""), [k, _] = z.useState(""), [V, P] = z.useState(!1), [te, ce] = z.useState(!0), [he, ie] = z.useState(!1), [ue, pe] = z.useState(() => window.localStorage.getItem("lifedash_voiceEnabled") === "true"), [ve, I] = z.useState(!1), [R, re] = z.useState([]), [Y, le] = z.useState([]), ge = z.useRef(null), ke = z.useRef(null), Fe = z.useRef(null), Le = z.useMemo(() => (c || []).filter(be => be.content && be.content.includes("")).sort((be, Ne) => new Date(Ne.date) - new Date(be.date)), [c]); z.useEffect(() => { window.localStorage.setItem("lifedash_voiceEnabled", ue.toString()) }, [ue]); const nt = localStorage.getItem("ai_api_key") || "", ct = z.useRef(null), de = async be => { if (!ue) return; Ze(); const Ne = be.replace(/<<<ACTION>>>[\s\S]*?<<<END_ACTION>>>/g, "").trim(); if (!Ne) return; const ee = Ne.length > 5e3 ? Ne.substring(0, 5e3) : Ne; I(!0); try { const ye = await fetch(`https://texttospeech.googleapis.com/v1/text:synthesize?key=${nt}`, { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ input: { text: ee }, voice: { languageCode: "ja-JP", name: "ja-JP-Wavenet-C" }, audioConfig: { audioEncoding: "MP3", speakingRate: 1.1, pitch: -2 } }) }); if (!ye.ok) throw new Error("TTS API error"); const Ye = (await ye.json()).audioContent, Xe = new Blob([Uint8Array.from(atob(Ye), Te => Te.charCodeAt(0))], { type: "audio/mp3" }), Be = URL.createObjectURL(Xe); ct.current && (ct.current.src = Be, ct.current.onended = () => { I(!1), URL.revokeObjectURL(Be) }, ct.current.onerror = () => { I(!1), URL.revokeObjectURL(Be) }, await ct.current.play()) } catch (ye) { console.error("TTS error:", ye), I(!1) } }, Ze = () => { ct.current && (ct.current.pause(), ct.current.currentTime = 0), I(!1) }, F = be => new Promise((Ne, ee) => { const ye = new FileReader; ye.onload = () => { const Ee = ye.result.split(",")[1]; Ne(Ee) }, ye.onerror = ee, ye.readAsDataURL(be) }), se = be => { const Ne = Array.from(be.target.files || []); if (Ne.length === 0) return; const ee = 10, ye = R.length, Ee = ee - ye; if (Ee <= 0) { alert("10"); return } const Ye = Ne.slice(0, Ee), Xe = [], Be = []; let Te = 0; Ye.forEach(pt => { if (pt.size > 10 * 1024 * 1024) { alert(`${pt.name}10MB`), Te++, Te === Ye.length && Xe.length > 0 && (re(bt => [...bt, ...Xe]), le(bt => [...bt, ...Be])); return } const At = new FileReader; At.onload = bt => { Xe.push(pt), Be.push(bt.target.result), Te++, Te === Ye.length && (re(ht => [...ht, ...Xe]), le(ht => [...ht, ...Be])) }, At.readAsDataURL(pt) }), Fe.current && (Fe.current.value = "") }, qe = be => { re(Ne => Ne.filter((ee, ye) => ye !== be)), le(Ne => Ne.filter((ee, ye) => ye !== be)) }, X = () => { re([]), le([]), Fe.current && (Fe.current.value = "") }, ne = {
    role: "assistant", content: `

`}, Se = be => { const Ne = new Date(be), ee = ["", "", "", "", "", "", ""]; return `${Ne.getMonth() + 1}/${Ne.getDate()}${ee[Ne.getDay()]}` }; z.useEffect(() => { (async () => { ce(!0); try { const Ne = JSON.parse(window.localStorage.getItem("lifedash_chatMessages") || "{}"), ee = Ne[h] || []; ee.length > 0 ? j(ee) : j(h === g ? [ne] : []); const ye = Object.keys(Ne).filter(Ee => Ne[Ee].length > 0).sort((Ee, Ye) => Ye.localeCompare(Ee)); y(ye) } catch (Ne) { console.error("Error loading messages:", Ne), j(h === g ? [ne] : []) } finally { ce(!1) } })() }, [h]); const W = be => { try { const Ne = be.filter(Ee => Ee.content && Ee.content.trim()), ee = JSON.parse(window.localStorage.getItem("lifedash_chatMessages") || "{}"); ee[h] = Ne, window.localStorage.setItem("lifedash_chatMessages", JSON.stringify(ee)); const ye = Object.keys(ee).filter(Ee => ee[Ee].length > 0).sort((Ee, Ye) => Ye.localeCompare(Ee)); y(ye) } catch (Ne) { console.error("Error saving messages:", Ne) } }, $e = async (be = null, Ne = !1) => {
    var bt, ht, xt, Ct, kt, Qt; const ee = localStorage.getItem("ai_api_key") || ""; if (!ee) return console.error("API"), { error: "API" }; let ye = be; if (!ye) { const Ft = new Date; Ft.setDate(Ft.getDate() - 1), ye = Ft.toISOString().split("T")[0] } if ((c || []).find(Ft => Ft.date === ye && Ft.content && Ft.content.includes("")) && !Ne) return console.log(`${ye}`), { exists: !0, date: ye }; const Xe = JSON.parse(window.localStorage.getItem("lifedash_chatMessages") || "{}")[ye] || [], Be = t.filter(Ft => Ft.date === ye), Te = Be.filter(Ft => Ft.progress === 100), pt = (n == null ? void 0 : n.filter(Ft => Ft.date === ye)) || [], At = `


- : 
- 
- : 

${ye}
- : ${Be.length}: ${Te.length}
${Be.map(Ft => `  - ${Ft.title}: ${Ft.progress === 100 ? "" : `${Ft.progress || 0}%`}`).join(`
`) || "  - "}

- :
${pt.map(Ft => `  - ${Ft.title}`).join(`
`) || "  - "}


${Xe.slice(-10).map(Ft => { var pr; return `${Ft.role === "assistant" ? "" : ""}: ${((pr = Ft.content) == null ? void 0 : pr.substring(0, 200)) || ""}` }).join(`
`) || ""}


- 
- 
- 
- 200400
- 
- `; try { ie(!0); const Ft = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${ee}`, { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ contents: [{ parts: [{ text: At }] }], generationConfig: { temperature: .9, maxOutputTokens: 1024 } }) }), pr = await Ft.json(); if (!Ft.ok) throw new Error(((bt = pr.error) == null ? void 0 : bt.message) || "API Error"); const O = ((Qt = (kt = (Ct = (xt = (ht = pr.candidates) == null ? void 0 : ht[0]) == null ? void 0 : xt.content) == null ? void 0 : Ct.parts) == null ? void 0 : kt[0]) == null ? void 0 : Qt.text) || ""; if (O && d) return await d({ date: ye, content: O, isFavorite: !1 }), console.log(":", ye), { success: !0, date: ye } } catch (Ft) { return console.error(":", Ft), { error: Ft.message } } finally { ie(!1) }
  }; z.useEffect(() => { const be = () => { const ee = new Date, ye = ee.getHours(), Ee = ee.getMinutes(); if (ye === 0 && Ee <= 5) { const Ye = window.localStorage.getItem("lifedash_lastDiaryCheck"), Xe = ee.toISOString().split("T")[0]; Ye !== Xe && (window.localStorage.setItem("lifedash_lastDiaryCheck", Xe), $e()) } }; be(); const Ne = setInterval(be, 6e4); return () => clearInterval(Ne) }, [t, n, c, d]), z.useEffect(() => { var be; (be = ge.current) == null || be.scrollIntoView({ behavior: "smooth" }) }, [w]); const Ke = () => {
    const be = new Date, Ne = be.toISOString().split("T")[0], ee = (O, Ue) => { const st = new Date(O); return st.setDate(st.getDate() + Ue), st.toISOString().split("T")[0] }, ye = ee(Ne, 1); ee(Ne, 2); const Ee = ee(Ne, 7), Ye = O => ["", "", "", "", "", "", ""][new Date(O).getDay()], Xe = t.filter(O => O.date === Ne), Be = t.filter(O => O.date === ye), Te = t.filter(O => O.date > Ne && O.date <= Ee).sort((O, Ue) => O.date.localeCompare(Ue.date)), pt = t.filter(O => O.progress < 100 && O.date >= Ne).sort((O, Ue) => O.date.localeCompare(Ue.date)), At = t.filter(O => O.progress < 100 && O.date < Ne), bt = t.filter(O => O.progress === 100), ht = (n == null ? void 0 : n.filter(O => O.date === Ne)) || [], xt = (n == null ? void 0 : n.filter(O => O.date === ye)) || [], Ct = (n == null ? void 0 : n.filter(O => O.date > Ne && O.date <= Ee).sort((O, Ue) => O.date.localeCompare(Ue.date))) || []; n != null && n.filter(O => O.date >= Ne).sort((O, Ue) => O.date.localeCompare(Ue.date)), e.filter(O => (O.progress || 0) < 100), e.filter(O => O.progress === 100); const kt = r.filter(O => O.type === "income").reduce((O, Ue) => O + (Ue.amount || 0), 0), Qt = r.filter(O => O.type === "expense").reduce((O, Ue) => O + (Ue.amount || 0), 0), Ft = O => `- ${O.date}${Ye(O.date)}${O.time ? ` ${O.time}` : ""}: ${O.title}${O.tag ? ` [${O.tag}]` : ""} (: ${O.progress || 0}%)`, pr = O => `- ${O.date}${Ye(O.date)}${O.time ? ` ${O.time}${O.endTime ? `${O.endTime}` : ""}` : ""}: ${O.title}`; return `
${be.toLocaleString("ja-JP")}${Ye(Ne)}

===  ===

${Ne}${Ye(Ne)}${Xe.length}
${Xe.map(Ft).join(`
`) || "- "}

${ht.length}
${ht.map(pr).join(`
`) || "- "}

${ye}${Ye(ye)}${Be.length}
${Be.map(Ft).join(`
`) || "- "}

${xt.length}
${xt.map(pr).join(`
`) || "- "}

1${Te.length}
${Te.slice(0, 15).map(Ft).join(`
`) || "- "}

1${Ct.length}
${Ct.slice(0, 15).map(pr).join(`
`) || "- "}

${At.length}
${At.map(Ft).join(`
`) || "- "}

===  ===


- : ${t.length}
- : ${bt.length}
- : ${pt.length}
- : ${At.length}

${e.length}
${e.map(O => `- ${O.title} (: ${O.progress || 0}%)${O.date ? ` : ${O.date}` : ""}`).join(`
`) || "- "}


- : ${kt.toLocaleString()}
- : ${Qt.toLocaleString()}
- : ${(kt - Qt).toLocaleString()}
`}, ze = async (be, Ne, ee = []) => {
      var Te, pt, At, bt, ht, xt, Ct, kt, Qt, Ft; const ye = localStorage.getItem("ai_api_key") || "", Ee = localStorage.getItem("ai_provider") || "gemini"; if (!ye) return {
        response: `API

Gemini API

Google AI Studio: https://aistudio.google.com/apikey`, action: null
      }; const Ye = (p == null ? void 0 : p.username) || "", Xe = `${Ye}

  


- IQ180
- 10
- 5
- 
- 

  

 
1. 
2. 
3. ${Ye}
4. 
5. 
6. 
7. 

 
- 
- 
- 
- 

 
- 
- 
- 
- 
- 

  

 
1. 
2. ${Ye}
3. ${Ye}
4. 
5. 

 
- 
- 
- 
- 
- 

 ${Ye}
- 
- 
- 


- 
- ${Ye}
- 
- 

 4 

4
${Ye}

 1: Dr. 
- 
- 
- 
- 
- 
- 

 2: ICF-MCC
- 
- 
- 
- 5
- 
- 
- ${Ye}

 3: 
- 
- 
- 
- 
- 
- 

 4: 23
- 
- 184123
- 
- 
- 

5


- 
- 
- 
- 
- 


- 
- 
- 
- 
- 
- 


- 
- 
- 
- 
- 


- 
  - /
  - 
  - 
  - 1
- 
  - 
  - 
  - 
- 
  - 
  - 
  - 
  - 
- 


- 
- 
- 
- 
- 
- 


- 
- 
- 
- 

- 23

 5: 
- 
- 
- 
- 
- 


- 
- 
- 
- 
- 
- 
- 

 6: 
- 
- 4
- 

FP
- 
- 6
- 
- 
- NG
- iDeCoNISA
- 

 7: 
- 40
- 
- 
- 


- 
- 
- 9
- 
- 
- 
- 
- 
- 

 8: 
- 
- 
- 


- 2166
- 
- 2
- 
- 
- 
- 
- ${Ye}

 9: DaiGo
- 
- 
- 

DaiGo
- 
- 
- 7-8NG
- 2-3HIIT
- 
- if-then
- 
- MACMeasurable, Actionable, Competent
- 


- ${Ye}  
- ${Ye}    
- ${Ye}  
- ${Ye}  
- ${Ye}  
- ${Ye}  FP
- ${Ye}  
- ${Ye}  
- ${Ye}  DaiGo
-   

  



1. 
   - 
   - 
   - 

2. 
   - 55 Whys
   - 
   - 

3. 
   - 
   - 11
   - 
   - 

4. 
   - ${Ye}
   - 
   - 


 NG
 OK
 NG
 OK

${Ye}5

1. 
   - 
   - 
   - 

2. 
   - 
   - 
   - 
   - 

3. 
   - 
   - 
   - 
   - AI

4. 
   - 
   - 
   - 
   - ${Ye}

5. 
   - 
   - 
   - 
   - ""


- 
- 
- 
- 

${Ke()}

 - 
  

     
1. 
2. ${Ye}
3. 

 OK
-  ${Ye} OK
-  ${Ye} OK
- ${Ye} OK

 
-  
-  
-  
-   

 




JSON
1. : <<<ACTION>>>{"type":"addTask","title":"","date":"YYYY-MM-DD"}<<<END_ACTION>>>
2. : <<<ACTION>>>{"type":"addEvent","title":"","date":"YYYY-MM-DD","time":"HH:MM"}<<<END_ACTION>>>
3. : <<<ACTION>>>{"type":"addGoal","title":""}<<<END_ACTION>>>


  

 
- ${Ye}
- 
- 
- 

 
- 
- 
- 

 
- 
- 

 - 

 
- 1-2
- 

 
  
- 
- NG
- 
- 

 
1. 
2. 
3. 
4. 
5. ${Ye}

 NG
- 
- 
- 
- 

 


""""1



...""""


- NG
- 
- JSON

 - 
  
- 1
- 
- 
- 
- `, Be = [...Ne.slice(-10).map(pr => ({ role: pr.role === "assistant" ? "assistant" : "user", content: pr.content })), { role: "user", content: be }]; try {
        let pr = ""; if (Ee === "gemini") {
          const st = [{
            text: `${Xe}

:
${Be.map(_t => `${_t.role}: ${_t.content}`).join(`
`)}`
          }], Ge = Array.isArray(ee) ? ee : ee ? [ee] : []; Ge.length > 0 && (Ge.forEach(_t => { st.push({ inlineData: { mimeType: "image/jpeg", data: _t } }) }), st[0].text += `

[${Ge.length}]`); const Et = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${ye}`, { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ contents: [{ parts: st }], generationConfig: { temperature: .7, maxOutputTokens: 8192 } }) }), Vt = await Et.json(); if (!Et.ok) throw new Error(((Te = Vt.error) == null ? void 0 : Te.message) || "Gemini API "); pr = ((xt = (ht = (bt = (At = (pt = Vt.candidates) == null ? void 0 : pt[0]) == null ? void 0 : At.content) == null ? void 0 : bt.parts) == null ? void 0 : ht[0]) == null ? void 0 : xt.text) || ""
        } else { const st = await fetch("https://api.groq.com/openai/v1/chat/completions", { method: "POST", headers: { "Content-Type": "application/json", Authorization: `Bearer ${ye}` }, body: JSON.stringify({ model: "llama-3.3-70b-versatile", messages: [{ role: "system", content: Xe }, ...Be], max_tokens: 1e3, temperature: .7 }) }), Ge = await st.json(); if (!st.ok) throw new Error(((Ct = Ge.error) == null ? void 0 : Ct.message) || "API "); pr = ((Ft = (Qt = (kt = Ge.choices) == null ? void 0 : kt[0]) == null ? void 0 : Qt.message) == null ? void 0 : Ft.content) || "" } let O = null; const Ue = pr.match(/<<<ACTION>>>([\s\S]*?)<<<END_ACTION>>>/); if (Ue) try { O = JSON.parse(Ue[1].trim()) } catch (st) { console.error("Action parse error:", st) } return pr = pr.replace(/<<<ACTION>>>[\s\S]*?<<<END_ACTION>>>/g, "").replace(/<<<ACTION>>>[\s\S]*/g, "").trim(), { response: pr, action: O }
      } catch (pr) { return console.error("AI API error:", pr), { response: `: ${pr.message}`, action: null } }
    }, We = async be => { if (!be) return null; try { switch (be.type) { case "addTask": return await s({ title: be.title, date: be.date || new Date().toISOString().split("T")[0], tag: be.tag || "", progress: 0, colorId: be.colorId || "blue" }), ` ${be.title}`; case "addEvent": return await a({ title: be.title, date: be.date || new Date().toISOString().split("T")[0], time: be.time || "", type: "event", colorId: "emerald" }), ` ${be.title}`; case "addGoal": return await A({ title: be.title, progress: 0, colorId: "purple" }), ` ${be.title}`; default: return null } } catch (Ne) { return console.error("Action execution error:", Ne), ` : ${Ne.message}` } }, ot = async () => {
      if (!k.trim() && R.length === 0 || V) return; const be = k.trim() || "()"; let Ne = []; R.length > 0 && (Ne = await Promise.all(R.map(Ee => F(Ee)))); const ee = { role: "user", content: be, images: Y.length > 0 ? Y : null, createdAt: new Date().toISOString() }, ye = [...w, ee]; j(ye), _(""), X(), P(!0); try {
        const { response: Ee, action: Ye } = await ze(be, w, Ne), Xe = await We(Ye); let Be = Ee || ""; Xe && (Be = Be ? `${Be}

${Xe}` : Xe), (!Be || !Be.trim()) && (Be = ""); const Te = { role: "assistant", content: Be, createdAt: new Date().toISOString() }, pt = [...ye, Te]; j(pt), de(Be), W(pt)
      } catch (Ee) { const Ye = { role: "assistant", content: `: ${Ee.message}`, createdAt: new Date().toISOString() }, Xe = [...ye, Ye]; j(Xe), W(Xe) } finally { P(!1), setTimeout(() => { var Ee; return (Ee = ke.current) == null ? void 0 : Ee.focus() }, 100) }
    }; return i.jsxs("div", { className: "flex flex-col h-[calc(100vh-200px)] md:h-[calc(100vh-140px)]", children: [i.jsx("audio", { ref: ct, className: "hidden" }), i.jsxs("div", { className: "flex flex-wrap items-center justify-between gap-1 mb-2", children: [i.jsxs("div", { className: "flex items-center gap-1", children: [i.jsx("button", { onClick: () => { const be = new Date(h); be.setDate(be.getDate() - 1), b(be.toISOString().split("T")[0]) }, className: "p-1 text-slate-400 hover:text-slate-200 hover:bg-slate-700 rounded transition-colors", children: "" }), i.jsx("span", { className: "text-slate-200 font-medium text-sm min-w-[60px] text-center", children: h === g ? "" : Se(h) }), i.jsx("button", { onClick: () => { const be = new Date(h); be.setDate(be.getDate() + 1); const Ne = be.toISOString().split("T")[0]; Ne <= g && b(Ne) }, disabled: h === g, className: "p-1 text-slate-400 hover:text-slate-200 hover:bg-slate-700 rounded transition-colors disabled:opacity-30", children: "" }), h !== g && i.jsx("button", { onClick: () => b(g), className: "ml-1 px-1.5 py-0.5 text-xs bg-blue-600 text-white rounded hover:bg-blue-500", children: "" })] }), i.jsxs("div", { className: "flex items-center gap-1", children: [i.jsx("button", { onClick: () => E(!B), className: `px-2 py-1 rounded-lg text-xs transition-colors ${B ? "bg-blue-600 text-white" : "bg-slate-700 text-slate-300 hover:bg-slate-600"}`, children: " " }), i.jsxs("button", { onClick: () => U(!T), className: `px-2 py-1 rounded-lg text-xs transition-colors ${T ? "bg-purple-600 text-white" : "bg-slate-700 text-slate-300 hover:bg-slate-600"}`, children: [" ", Le.length > 0 && ` (${Le.length})`] }), i.jsxs("button", { onClick: () => { ve ? Ze() : pe(!ue) }, className: `px-2 py-1 rounded-lg text-xs transition-colors ${ve ? "bg-red-600 text-white animate-pulse" : ue ? "bg-green-600 text-white" : "bg-slate-700 text-slate-300 hover:bg-slate-600"}`, title: ve ? "" : ue ? "ON" : "OFF", children: [ve ? "" : ue ? "" : "", "", ue ? "ON" : "OFF"] })] })] }), T && i.jsxs("div", { className: "mb-3 bg-slate-800/50 rounded-xl p-4 border border-purple-700/50 max-h-80 overflow-y-auto", children: [i.jsxs("div", { className: "flex items-center justify-between mb-3", children: [i.jsxs("h4", { className: "text-sm font-bold text-purple-300 flex items-center gap-2", children: [" ", he && i.jsx("span", { className: "text-xs text-purple-400 animate-pulse", children: "..." })] }), i.jsx("button", { onClick: () => { const be = new Date; be.setDate(be.getDate() - 1), H(be.toISOString().split("T")[0]), G(!0) }, disabled: he, className: "px-2 py-1 text-xs bg-purple-600 hover:bg-purple-500 disabled:bg-purple-800 text-white rounded transition-colors", children: he ? "..." : " " })] }), Le.length > 0 ? i.jsx("div", { className: "space-y-3", children: Le.map((be, Ne) => { var ee; return i.jsxs("div", { className: "bg-slate-900/50 rounded-lg p-3 border border-slate-700/50", children: [i.jsx("div", { className: "text-xs text-purple-400 mb-2", children: Se(be.date) }), i.jsx("div", { className: "text-sm text-slate-300 whitespace-pre-wrap leading-relaxed", children: (ee = be.content) == null ? void 0 : ee.replace("", "").trim() })] }, be.id || Ne) }) }) : i.jsxs("p", { className: "text-sm text-slate-500 text-center py-4", children: ["", i.jsx("br", {}), i.jsx("span", { className: "text-xs", children: "24" })] })] }), M && i.jsx("div", { className: "fixed inset-0 bg-black/60 flex items-center justify-center z-50", onClick: () => G(!1), children: i.jsxs("div", { className: "bg-slate-800 rounded-xl p-6 w-full max-w-sm border border-purple-700/50 shadow-xl", onClick: be => be.stopPropagation(), children: [i.jsx("h3", { className: "text-lg font-bold text-purple-300 mb-4 flex items-center gap-2", children: " " }), i.jsxs("div", { className: "space-y-4", children: [i.jsxs("div", { children: [i.jsx("label", { className: "block text-xs text-slate-400 mb-1", children: "" }), i.jsx("input", { type: "date", value: N, onChange: be => H(be.target.value), max: new Date().toISOString().split("T")[0], className: "w-full bg-slate-900/50 border border-slate-700 rounded-lg px-3 py-2 text-sm text-slate-200 focus:border-purple-500 outline-none" })] }), N && Le.find(be => be.date === N) && i.jsx("div", { className: "bg-yellow-900/30 border border-yellow-600/50 rounded-lg p-3 text-sm text-yellow-300", children: " " }), i.jsxs("div", { className: "flex gap-3 pt-2", children: [i.jsx("button", { onClick: () => G(!1), className: "flex-1 px-4 py-2 bg-slate-700 text-slate-300 rounded-lg hover:bg-slate-600 transition-colors text-sm", children: "" }), i.jsx("button", { onClick: async () => { !N || Le.find(Ne => Ne.date === N) && !confirm(`${Se(N)}`) || (G(!1), await $e(N, !0)) }, disabled: !N || he, className: "flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-500 disabled:bg-purple-800 transition-colors text-sm", children: he ? "..." : "" })] })] })] }) }), B && i.jsxs("div", { className: "mb-3 bg-slate-800/50 rounded-xl p-3 border border-slate-700 max-h-40 overflow-y-auto", children: [i.jsx("h4", { className: "text-xs font-bold text-slate-400 mb-2", children: "" }), x.length > 0 ? i.jsx("div", { className: "flex flex-wrap gap-2", children: x.map(be => i.jsx("button", { onClick: () => { b(be), E(!1) }, className: `px-2 py-1 text-xs rounded transition-colors ${be === h ? "bg-blue-600 text-white" : "bg-slate-700 text-slate-300 hover:bg-slate-600"}`, children: be === g ? "" : Se(be) }, be)) }) : i.jsx("p", { className: "text-xs text-slate-500", children: "" })] }), i.jsxs("div", { className: "flex-1 bg-slate-800/20 rounded-xl border border-slate-700/50 p-4 mb-4 overflow-y-auto space-y-4", children: [te ? i.jsx("div", { className: "flex items-center justify-center h-full text-slate-400", children: "..." }) : w.length === 0 ? i.jsx("div", { className: "flex items-center justify-center h-full text-slate-500", children: "" }) : w.filter(be => be.content && be.content.trim()).map((be, Ne) => i.jsx("div", { className: `flex ${be.role === "user" ? "justify-end" : "justify-start"}`, children: i.jsxs("div", { className: `max-w-[80%] rounded-xl p-4 ${be.role === "user" ? "bg-blue-600 text-white" : "bg-slate-700/50 text-slate-200"}`, children: [be.role === "assistant" && i.jsx("div", { className: "text-xs text-cyan-400 mb-1", children: " " }), be.images && be.images.length > 0 && i.jsx("div", { className: "flex flex-wrap gap-2 mb-2", children: be.images.map((ee, ye) => i.jsx("img", { src: ee, alt: ` ${ye + 1}`, className: "max-h-32 rounded-lg cursor-pointer hover:opacity-90", onClick: () => window.open(ee, "_blank") }, ye)) }), be.image && !be.images && i.jsx("img", { src: be.image, alt: "", className: "max-w-full max-h-64 rounded-lg mb-2 cursor-pointer hover:opacity-90", onClick: () => window.open(be.image, "_blank") }), i.jsx("div", { className: "whitespace-pre-wrap text-sm", children: be.content })] }) }, Ne)), V && i.jsx("div", { className: "flex justify-start", children: i.jsx("div", { className: "bg-slate-700/50 rounded-xl p-4 text-slate-400", children: i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsxs("div", { className: "flex gap-1", children: [i.jsx("span", { className: "animate-bounce", children: "." }), i.jsx("span", { className: "animate-bounce", style: { animationDelay: "0.1s" }, children: "." }), i.jsx("span", { className: "animate-bounce", style: { animationDelay: "0.2s" }, children: "." })] }), i.jsx("span", { className: "text-sm", children: "..." })] }) }) }), i.jsx("div", { ref: ge })] }), h === g ? i.jsxs("div", { className: "space-y-2", children: [Y.length > 0 && i.jsxs("div", { className: "flex flex-wrap gap-2", children: [Y.map((be, Ne) => i.jsxs("div", { className: "relative inline-block", children: [i.jsx("img", { src: be, alt: ` ${Ne + 1}`, className: "h-20 w-20 object-cover rounded-lg border border-slate-600" }), i.jsx("button", { onClick: () => qe(Ne), className: "absolute -top-2 -right-2 w-5 h-5 bg-red-600 hover:bg-red-500 text-white rounded-full flex items-center justify-center text-xs", children: "" })] }, Ne)), Y.length > 1 && i.jsx("button", { onClick: X, className: "h-20 px-3 bg-slate-700 hover:bg-slate-600 text-slate-400 rounded-lg text-xs flex items-center justify-center", children: "" })] }), i.jsxs("div", { className: "flex flex-col gap-3", children: [i.jsxs("div", { className: "md:hidden flex flex-col items-center py-2 rounded-2xl", style: { backgroundColor: "var(--bg-tertiary)" }, children: [i.jsx("span", { className: "text-sm font-medium mb-2", style: { color: "var(--text-secondary)" }, children: " " }), i.jsx(Vc, { onTranscript: be => _(Ne => Ne + be), onAutoSend: ot, disabled: V, size: "large", className: "w-20 h-20 shadow-lg" })] }), i.jsxs("div", { className: "relative flex items-center gap-2", children: [i.jsx("input", { ref: Fe, type: "file", accept: "image/*", multiple: !0, onChange: se, className: "hidden" }), i.jsxs("button", { onClick: () => { var be; return (be = Fe.current) == null ? void 0 : be.click() }, disabled: V || R.length >= 10, className: "p-2 md:p-3 bg-slate-700 hover:bg-slate-600 text-slate-300 rounded-xl transition-colors disabled:opacity-50 relative flex-shrink-0", title: R.length >= 10 ? "10" : "", children: ["", R.length > 0 && i.jsx("span", { className: "absolute -top-1 -right-1 w-4 h-4 bg-blue-500 text-white text-xs rounded-full flex items-center justify-center", children: R.length })] }), i.jsx("input", { ref: ke, type: "text", value: k, onChange: be => _(be.target.value), onKeyPress: be => be.key === "Enter" && !be.shiftKey && ot(), placeholder: "...", className: "flex-1 min-w-0 bg-slate-900 border border-slate-700 text-slate-200 px-3 md:px-6 py-3 md:py-4 rounded-xl outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all text-sm md:text-base", disabled: V }), i.jsx("div", { className: "hidden md:block", children: i.jsx(Vc, { onTranscript: be => _(Ne => Ne + be), onAutoSend: ot, disabled: V }) }), i.jsx("button", { onClick: ot, disabled: V || !k.trim() && R.length === 0, className: "p-2 md:p-3 bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 text-white rounded-xl transition-colors disabled:opacity-50 flex-shrink-0", children: i.jsx(Bt, { name: "send", size: 18, className: "md:w-5 md:h-5" }) })] })] })] }) : i.jsx("div", { className: "text-center py-3 text-slate-500 text-sm", children: "" })] })
} function yL({ tasks: t, goals: e, events: r, transactions: n, diaryEntries: s, shoppingItems: a, scripts: A, settings: o }) {
  const l = new Date().toISOString().split("T")[0], [c, d] = z.useState(l), [p, g] = z.useState([]), [h, b] = z.useState([]), [w, j] = z.useState(!1), [x, y] = z.useState(""), [B, E] = z.useState(!1), [T, U] = z.useState(!0), [M, G] = z.useState(null), [N, H] = z.useState(null), k = z.useRef(null), _ = z.useRef(null), V = z.useRef(null), P = Y => new Promise((le, ge) => { const ke = new FileReader; ke.onload = () => { const Fe = ke.result.split(",")[1]; le(Fe) }, ke.onerror = ge, ke.readAsDataURL(Y) }), te = Y => { var ge; const le = (ge = Y.target.files) == null ? void 0 : ge[0]; if (le) { if (le.size > 10 * 1024 * 1024) { alert("10MB"); return } G(le); const ke = new FileReader; ke.onload = Fe => H(Fe.target.result), ke.readAsDataURL(le) } }, ce = () => { G(null), H(null), V.current && (V.current.value = "") }, he = {
    role: "assistant", content: `${(o == null ? void 0 : o.username) || ""}



`}, ie = Y => { const le = new Date(Y), ge = ["", "", "", "", "", "", ""]; return `${le.getMonth() + 1}/${le.getDate()}${ge[le.getDay()]}` }; z.useEffect(() => { (async () => { U(!0); try { const le = JSON.parse(window.localStorage.getItem("lifedash_twinMessages") || "{}"), ge = le[c] || []; ge.length > 0 ? g(ge) : g(c === l ? [he] : []); const ke = Object.keys(le).filter(Fe => le[Fe].length > 0).sort((Fe, Le) => Le.localeCompare(Fe)); b(ke) } catch (le) { console.error("Error loading messages:", le), g(c === l ? [he] : []) } finally { U(!1) } })() }, [c, o == null ? void 0 : o.username]); const ue = Y => { try { const le = Y.filter(Fe => Fe.content && Fe.content.trim()), ge = JSON.parse(window.localStorage.getItem("lifedash_twinMessages") || "{}"); ge[c] = le, window.localStorage.setItem("lifedash_twinMessages", JSON.stringify(ge)); const ke = Object.keys(ge).filter(Fe => ge[Fe].length > 0).sort((Fe, Le) => Le.localeCompare(Fe)); b(ke) } catch (le) { console.error("Error saving messages:", le) } }; z.useEffect(() => { var Y; (Y = k.current) == null || Y.scrollIntoView({ behavior: "smooth" }) }, [p]); const pe = () => {
    const Y = (o == null ? void 0 : o.username) || "", le = new Date().toISOString().split("T")[0], ke = (s || []).sort((Be, Te) => new Date(Te.date) - new Date(Be.date)).slice(0, 20).map(Be => { var Te; return `${Be.date}${((Te = Be.content) == null ? void 0 : Te.substring(0, 300)) || ""}` }).join(`
`), Fe = t.filter(Be => Be.progress === 100); t.filter(Be => Be.progress < 100); const Le = [...new Set(t.map(Be => Be.tag).filter(Boolean))], nt = t.sort((Be, Te) => new Date(Te.date || 0) - new Date(Be.date || 0)).slice(0, 10), ct = e.filter(Be => (Be.progress || 0) < 100), de = e.filter(Be => (Be.progress || 0) >= 100), Ze = (r || []).filter(Be => Be.date >= le).sort((Be, Te) => new Date(Be.date) - new Date(Te.date)).slice(0, 10), F = (r || []).filter(Be => Be.date < le).sort((Be, Te) => new Date(Te.date) - new Date(Be.date)).slice(0, 10), se = [...new Set((r || []).map(Be => Be.tag || Be.type).filter(Boolean))], qe = n.filter(Be => Be.type === "expense"), X = n.filter(Be => Be.type === "income"), ne = [...new Set(qe.map(Be => Be.category).filter(Boolean))], Se = qe.reduce((Be, Te) => Be + (Te.amount || 0), 0), W = X.reduce((Be, Te) => Be + (Te.amount || 0), 0), $e = n.sort((Be, Te) => new Date(Te.date || 0) - new Date(Be.date || 0)).slice(0, 10), Ke = [...new Set((a || []).map(Be => Be.store).filter(Boolean))], ze = (a || []).filter(Be => !Be.purchased), We = (a || []).filter(Be => Be.purchased), ot = (A || []).filter(Be => Be.isFavorite), be = (A || []).sort((Be, Te) => (Te.useCount || 0) - (Be.useCount || 0)).slice(0, 5), Ne = [...new Set((A || []).map(Be => Be.category).filter(Boolean))], ee = JSON.parse(window.localStorage.getItem("lifedash_tracking") || "{}"), ye = Object.entries(ee).sort(([Be], [Te]) => Te.localeCompare(Be)).slice(0, 7).map(([Be, Te]) => ({ date: Be, ...Te })), Ee = JSON.parse(window.localStorage.getItem("lifedash_chatMessages") || "{}"), Ye = Object.entries(Ee).sort(([Be], [Te]) => Te.localeCompare(Be)).slice(0, 5).flatMap(([Be, Te]) => Te.filter(pt => pt.role === "user").map(pt => { var At; return (At = pt.content) == null ? void 0 : At.substring(0, 150) })).filter(Boolean), Xe = (s || []).filter(Be => Be.content && Be.content.includes("")).sort((Be, Te) => new Date(Te.date) - new Date(Be.date)).slice(0, 5).map(Be => { var Te; return (Te = Be.content) == null ? void 0 : Te.replace("", "").substring(0, 200) }); return `

${Y}AI
${Y}
${Y}1

${Y}
- : ${Y}
- : ${Fe.length} / : ${t.length}
- : ${de.length} / : ${e.length}
- : ${Le.join(", ") || ""}


${ct.map(Be => `- ${Be.title} (: ${Be.progress || 0}%)`).join(`
`) || "- "}

${Y}
${ke || ""}

AI${Y}
${Xe.join(`
`) || ""}


- : ${se.join(", ") || ""}
- :
${Ze.map(Be => `  - ${Be.date}: ${Be.title}`).join(`
`) || "  - "}
- :
${F.slice(0, 5).map(Be => `  - ${Be.date}: ${Be.title}`).join(`
`) || "  - "}


${nt.map(Be => `- ${Be.title} (${Be.date}) - ${Be.progress === 100 ? "" : `${Be.progress || 0}%`}`).join(`
`) || ""}


- : ${W.toLocaleString()}
- : ${Se.toLocaleString()}
- : ${ne.slice(0, 5).join(", ") || ""}
- :
${$e.slice(0, 5).map(Be => `  - ${Be.date}: ${Be.title} ${(Be.amount || 0).toLocaleString()} (${Be.type === "income" ? "" : ""})`).join(`
`) || "  - "}


- : ${Ke.slice(0, 5).join(", ") || ""}
- : ${ze.length}
- : ${We.length}

AI
- : ${ot.map(Be => Be.title).join(", ") || ""}
- : ${Ne.join(", ") || ""}
- :
${be.map(Be => `  - ${Be.title} (: ${Be.useCount || 0})`).join(`
`) || "  - "}


${ye.map(Be => `- ${Be.date}: =${Be.mood || "?"}, =${Be.sleep || "?"}h, =${Be.exercise ? "" : ""}`).join(`
`) || ""}

AI
${Ye.slice(0, 10).join(`
`) || ""}



${Y}${Y}


- ${Y}
- 
- 
- 
- 


1. 140
2. 1${Y}
3. 
4. 1NG
5.  
6. NG


- 
- 
- 
- 
- 
- 
- 

NG
- 
- 
- 
`}, ve = async (Y, le, ge = null) => {
      var de, Ze, F, se, qe, X; const ke = localStorage.getItem("ai_api_key") || ""; if (!ke) return "APIGemini API"; const Fe = pe(), Le = (o == null ? void 0 : o.username) || "", nt = `${Fe}

${new Date().toLocaleDateString("ja-JP")}


${Le}
${Le}${Le}


${Le}
`, ct = le.slice(-10); try {
        const ne = [{
          text: `${nt}

:
${ct.map($e => `${$e.role === "assistant" ? Le : ""}: ${$e.content}`).join(`
`)}`
        }]; ge && (ne.push({ inlineData: { mimeType: "image/jpeg", data: ge } }), ne[0].text += `

[]`); const Se = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${ke}`, { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ contents: [{ parts: ne }], generationConfig: { temperature: .8, maxOutputTokens: 4096 } }) }), W = await Se.json(); if (!Se.ok) throw new Error(((de = W.error) == null ? void 0 : de.message) || "Gemini API "); return ((X = (qe = (se = (F = (Ze = W.candidates) == null ? void 0 : Ze[0]) == null ? void 0 : F.content) == null ? void 0 : se.parts) == null ? void 0 : qe[0]) == null ? void 0 : X.text) || ""
      } catch (ne) { return console.error("AI Error:", ne), `: ${ne.message}` }
    }, I = async () => { if (!x.trim() && !M || B) return; const Y = x.trim() || "()"; let le = null; M && (le = await P(M)); const ge = { role: "user", content: Y, image: N, createdAt: new Date().toISOString() }, ke = [...p, ge]; g(ke), y(""), ce(), E(!0); try { const Le = { role: "assistant", content: await ve(Y, ke, le), createdAt: new Date().toISOString() }, nt = [...ke, Le]; g(nt), ue(nt) } catch (Fe) { console.error("Error:", Fe); const Le = { role: "assistant", content: `: ${Fe.message}`, createdAt: new Date().toISOString() }, nt = [...ke, Le]; g(nt), ue(nt) } finally { E(!1), setTimeout(() => { var Fe; (Fe = _.current) == null || Fe.focus() }, 100) } }, R = Y => { const le = new Date(c); le.setDate(le.getDate() + Y), d(le.toISOString().split("T")[0]) }, re = z.useMemo(() => { const Y = (s == null ? void 0 : s.length) || 0, le = (t == null ? void 0 : t.length) || 0, ge = (e == null ? void 0 : e.length) || 0, ke = (n == null ? void 0 : n.length) || 0; return { totalDiaries: Y, totalTasks: le, totalGoals: ge, totalTransactions: ke } }, [s, t, e, n]); return i.jsxs("div", { className: "h-[calc(100vh-200px)] md:h-[calc(100vh-120px)] flex flex-col", children: [i.jsxs("div", { className: "flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-4", children: [i.jsxs("div", { className: "flex items-center justify-between md:justify-start gap-2", children: [i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsx("button", { onClick: () => R(-1), className: "p-2 rounded-lg hover:bg-purple-600/20 transition-colors", style: { backgroundColor: "var(--bg-tertiary)", color: "var(--text-secondary)" }, children: i.jsx(Bt, { name: "chevronLeft", size: 18 }) }), i.jsx("span", { className: "text-base md:text-lg font-bold min-w-[70px] text-center", style: { color: "var(--text-primary)" }, children: c === l ? "" : ie(c) }), i.jsx("button", { onClick: () => R(1), className: "p-2 rounded-lg hover:bg-purple-600/20 transition-colors", style: { backgroundColor: "var(--bg-tertiary)", color: "var(--text-secondary)" }, children: i.jsx(Bt, { name: "chevronRight", size: 18 }) })] }), c !== l && i.jsx("button", { onClick: () => d(l), className: "px-3 py-1.5 text-xs bg-purple-600/20 text-purple-400 rounded-lg hover:bg-purple-600/30", children: "" }), i.jsx("button", { onClick: () => j(!w), className: `md:hidden px-3 py-1.5 rounded-lg text-sm transition-colors ${w ? "bg-purple-600 text-white" : ""}`, style: { backgroundColor: w ? void 0 : "var(--bg-tertiary)", color: w ? void 0 : "var(--text-secondary)" }, children: "" })] }), i.jsxs("div", { className: "hidden md:flex items-center gap-3", children: [i.jsxs("div", { className: "flex items-center gap-2 text-xs", style: { color: "var(--text-tertiary)" }, children: [i.jsxs("span", { className: "px-2 py-1 rounded", style: { backgroundColor: "var(--bg-tertiary)" }, children: [" ", re.totalDiaries] }), i.jsxs("span", { className: "px-2 py-1 rounded", style: { backgroundColor: "var(--bg-tertiary)" }, children: [" ", re.totalTasks] }), i.jsxs("span", { className: "px-2 py-1 rounded", style: { backgroundColor: "var(--bg-tertiary)" }, children: [" ", re.totalGoals] })] }), i.jsx("button", { onClick: () => j(!w), className: `px-3 py-1.5 rounded-lg text-sm transition-colors ${w ? "bg-purple-600 text-white" : ""}`, style: { backgroundColor: w ? void 0 : "var(--bg-tertiary)", color: w ? void 0 : "var(--text-secondary)" }, children: " " })] })] }), w && i.jsxs("div", { className: "mb-3 rounded-xl p-3 border border-purple-500/30 max-h-32 md:max-h-40 overflow-y-auto", style: { backgroundColor: "var(--bg-tertiary)" }, children: [i.jsx("h4", { className: "text-xs font-bold text-purple-400 mb-2", children: "" }), h.length > 0 ? i.jsx("div", { className: "flex flex-wrap gap-2", children: h.map(Y => i.jsx("button", { onClick: () => { d(Y), j(!1) }, className: `px-2 py-1 text-xs rounded-lg transition-colors ${Y === c ? "bg-purple-600 text-white" : "hover:bg-purple-600/20"}`, style: { backgroundColor: Y === c ? void 0 : "var(--bg-secondary)", color: Y === c ? void 0 : "var(--text-secondary)" }, children: Y === l ? "" : ie(Y) }, Y)) }) : i.jsx("p", { className: "text-xs", style: { color: "var(--text-tertiary)" }, children: "" })] }), i.jsxs("div", { className: "flex-1 rounded-xl border border-purple-500/20 p-3 md:p-4 mb-3 md:mb-4 overflow-y-auto space-y-3 md:space-y-4", style: { backgroundColor: "var(--bg-secondary)" }, children: [T ? i.jsx("div", { className: "flex items-center justify-center h-full", style: { color: "var(--text-tertiary)" }, children: "..." }) : p.length === 0 ? i.jsx("div", { className: "flex items-center justify-center h-full", style: { color: "var(--text-tertiary)" }, children: "" }) : p.filter(Y => Y.content && Y.content.trim()).map((Y, le) => i.jsx("div", { className: `flex ${Y.role === "user" ? "justify-end" : "justify-start"}`, children: i.jsxs("div", { className: `max-w-[85%] md:max-w-[80%] rounded-xl p-3 md:p-4 ${Y.role === "user" ? "" : "border border-purple-500/30"}`, style: { backgroundColor: Y.role === "user" ? "var(--bg-tertiary)" : "var(--bg-card)", color: "var(--text-primary)" }, children: [Y.role === "assistant" && i.jsxs("div", { className: "text-xs text-purple-400 mb-1 flex items-center gap-1", children: [" ", (o == null ? void 0 : o.username) || "", "Digital Twin"] }), Y.image && i.jsx("img", { src: Y.image, alt: "", className: "max-w-full max-h-48 md:max-h-64 rounded-lg mb-2 cursor-pointer hover:opacity-90", onClick: () => window.open(Y.image, "_blank") }), i.jsx("div", { className: "whitespace-pre-wrap text-sm", children: Y.content })] }) }, le)), B && i.jsx("div", { className: "flex justify-start", children: i.jsx("div", { className: "rounded-xl p-3 md:p-4 text-purple-400 border border-purple-500/30", style: { backgroundColor: "var(--bg-card)" }, children: i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsxs("div", { className: "flex gap-1", children: [i.jsx("div", { className: "w-2 h-2 rounded-full bg-purple-400 animate-bounce", style: { animationDelay: "0ms" } }), i.jsx("div", { className: "w-2 h-2 rounded-full bg-purple-400 animate-bounce", style: { animationDelay: "150ms" } }), i.jsx("div", { className: "w-2 h-2 rounded-full bg-purple-400 animate-bounce", style: { animationDelay: "300ms" } })] }), i.jsx("span", { className: "text-sm", children: "..." })] }) }) }), i.jsx("div", { ref: k })] }), i.jsxs("div", { className: "space-y-2", children: [N && i.jsxs("div", { className: "relative inline-block", children: [i.jsx("img", { src: N, alt: "", className: "max-h-24 md:max-h-32 rounded-lg border border-purple-500/50" }), i.jsx("button", { onClick: ce, className: "absolute -top-2 -right-2 w-6 h-6 bg-red-600 hover:bg-red-500 text-white rounded-full flex items-center justify-center text-xs", children: "" })] }), i.jsx("div", { className: "md:hidden flex justify-center py-2 rounded-xl", style: { backgroundColor: "var(--bg-tertiary)" }, children: i.jsxs("div", { className: "flex flex-col items-center", children: [i.jsx("span", { className: "text-xs mb-1", style: { color: "var(--text-tertiary)" }, children: " " }), i.jsx(Vc, { onTranscript: Y => y(le => le + Y), onAutoSend: I, disabled: B, size: "large", className: "w-16 h-16" })] }) }), i.jsxs("div", { className: "flex gap-2 md:gap-3", children: [i.jsx("input", { ref: V, type: "file", accept: "image/*", onChange: te, className: "hidden" }), i.jsx("button", { onClick: () => { var Y; return (Y = V.current) == null ? void 0 : Y.click() }, disabled: B, className: "p-2 md:px-4 md:py-3 rounded-xl transition-colors disabled:opacity-50", style: { backgroundColor: "var(--bg-tertiary)", color: "var(--text-secondary)" }, title: "", children: "" }), i.jsx("input", { ref: _, type: "text", value: x, onChange: Y => y(Y.target.value), onKeyDown: Y => Y.key === "Enter" && !Y.shiftKey && I(), placeholder: "...", className: "flex-1 min-w-0 border border-purple-500/30 rounded-xl px-3 md:px-4 py-2 md:py-3 outline-none focus:border-purple-500 transition-colors text-sm md:text-base", style: { backgroundColor: "var(--bg-secondary)", color: "var(--text-primary)" }, disabled: B }), i.jsx("div", { className: "hidden md:block", children: i.jsx(Vc, { onTranscript: Y => y(le => le + Y), onAutoSend: I, disabled: B }) }), i.jsx("button", { onClick: I, disabled: B || !x.trim() && !M, className: "p-2 md:px-5 md:py-3 bg-purple-600 hover:bg-purple-500 disabled:bg-purple-800 disabled:cursor-not-allowed text-white rounded-xl transition-colors flex items-center justify-center", children: i.jsx(Bt, { name: "send", size: 18 }) })] })] })] })
} function bL({ scripts: t, addScript: e, updateScript: r, deleteScript: n }) { const [s, a] = z.useState("all"), [A, o] = z.useState(""), [l, c] = z.useState(!1), [d, p] = z.useState(null), [g, h] = z.useState({}), [b, w] = z.useState(null), [j, x] = z.useState({ title: "", content: "", category: "prompt", variables: [], isFavorite: !1 }), y = [{ id: "all", name: "", icon: "", color: "slate" }, { id: "prompt", name: "", icon: "", color: "blue" }, { id: "code", name: "", icon: "", color: "emerald" }, { id: "analysis", name: "", icon: "", color: "purple" }, { id: "image", name: "", icon: "", color: "pink" }, { id: "writing", name: "", icon: "", color: "orange" }, { id: "custom", name: "", icon: "", color: "cyan" }], B = _ => { const V = /\{\{([^}]+)\}\}/g, P = []; let te; for (; (te = V.exec(_)) !== null;)P.includes(te[1]) || P.push(te[1]); return P }, E = (_, V) => { const P = g[V] || {}; let te = _; const ce = /\{\{([^}]+)\}\}/g; return te = te.replace(ce, (he, ie) => P[ie] || he), te }, T = async _ => { const V = E(_.content, _.id); await navigator.clipboard.writeText(V), w(_.id), r(_.id, { ..._, useCount: (_.useCount || 0) + 1 }), setTimeout(() => w(null), 2e3) }, U = _ => { r(_.id, { ..._, isFavorite: !_.isFavorite }) }, M = t.filter(_ => { const V = s === "all" || _.category === s, P = !A || _.title.toLowerCase().includes(A.toLowerCase()) || _.content.toLowerCase().includes(A.toLowerCase()); return V && P }).sort((_, V) => _.isFavorite !== V.isFavorite ? V.isFavorite ? 1 : -1 : (V.useCount || 0) - (_.useCount || 0)), G = () => { if (!j.title.trim() || !j.content.trim()) return; const _ = B(j.content).map(V => ({ name: V, type: "text", default: "" })); e({ ...j, variables: _ }), x({ title: "", content: "", category: "prompt", variables: [], isFavorite: !1 }), c(!1) }, N = () => { if (!d || !d.title.trim() || !d.content.trim()) return; const _ = B(d.content).map(V => { var te; return ((te = d.variables) == null ? void 0 : te.find(ce => ce.name === V)) || { name: V, type: "text", default: "" } }); r(d.id, { ...d, variables: _ }), p(null) }, H = (_, V, P) => { h(te => ({ ...te, [_]: { ...te[_] || {}, [V]: P } })) }, k = _ => { const V = y.find(P => P.id === _); return (V == null ? void 0 : V.color) || "slate" }; return i.jsxs("div", { className: "space-y-6", children: [i.jsxs("div", { className: "flex items-center justify-between", children: [i.jsxs("div", { className: "flex items-center gap-3", children: [i.jsx("h2", { className: "text-xl font-bold", children: "AI Scripts" }), i.jsxs("span", { className: "text-slate-400", children: ["(", M.length, " )"] })] }), i.jsxs("button", { onClick: () => c(!0), className: "flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors", children: [i.jsx(Bt, { name: "plus", size: 18 }), ""] })] }), i.jsxs("div", { className: "relative", children: [i.jsx(Bt, { name: "search", size: 18, className: "absolute left-3 top-1/2 -translate-y-1/2 text-slate-400" }), i.jsx("input", { type: "text", value: A, onChange: _ => o(_.target.value), placeholder: "...", className: "w-full bg-slate-800/50 border border-slate-700/50 rounded-xl pl-10 pr-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500" })] }), i.jsx("div", { className: "flex gap-2 flex-wrap", children: y.map(_ => i.jsxs("button", { onClick: () => a(_.id), className: `px-4 py-2 rounded-lg text-sm font-medium transition-all ${s === _.id ? `bg-${_.color}-600 text-white` : "bg-slate-800/50 text-slate-400 hover:bg-slate-700"}`, style: s === _.id ? { backgroundColor: _.color === "slate" ? "#475569" : _.color === "blue" ? "#2563eb" : _.color === "emerald" ? "#059669" : _.color === "purple" ? "#9333ea" : _.color === "pink" ? "#db2777" : _.color === "orange" ? "#ea580c" : _.color === "cyan" ? "#0891b2" : "#475569" } : {}, children: [_.icon, " ", _.name] }, _.id)) }), i.jsx("div", { className: "space-y-4", children: M.length === 0 ? i.jsxs("div", { className: "text-center py-12 text-slate-500", children: [i.jsx(Bt, { name: "scripts", size: 48, className: "mx-auto mb-4 opacity-50" }), i.jsx("p", { children: "" }), i.jsx("button", { onClick: () => c(!0), className: "mt-4 text-blue-400 hover:text-blue-300", children: "+ " })] }) : M.map(_ => { const V = k(_.category), P = y.find(he => he.id === _.category), te = _.variables || [], ce = g[_.id] || {}; return i.jsxs("div", { className: "bg-slate-800/50 rounded-xl border border-slate-700/50 overflow-hidden hover:border-slate-600/50 transition-colors", children: [i.jsx("div", { className: "p-4 border-b border-slate-700/30", children: i.jsxs("div", { className: "flex items-center justify-between", children: [i.jsxs("div", { className: "flex items-center gap-3", children: [i.jsx("span", { className: "text-xl", children: P == null ? void 0 : P.icon }), i.jsx("h3", { className: "font-semibold text-lg", children: _.title }), i.jsx("span", { className: "text-xs px-2 py-0.5 rounded-full", style: { backgroundColor: V === "blue" ? "rgba(37, 99, 235, 0.2)" : V === "emerald" ? "rgba(5, 150, 105, 0.2)" : V === "purple" ? "rgba(147, 51, 234, 0.2)" : V === "pink" ? "rgba(219, 39, 119, 0.2)" : V === "orange" ? "rgba(234, 88, 12, 0.2)" : V === "cyan" ? "rgba(8, 145, 178, 0.2)" : "rgba(71, 85, 105, 0.2)", color: V === "blue" ? "#60a5fa" : V === "emerald" ? "#34d399" : V === "purple" ? "#c084fc" : V === "pink" ? "#f472b6" : V === "orange" ? "#fb923c" : V === "cyan" ? "#22d3ee" : "#94a3b8" }, children: P == null ? void 0 : P.name }), _.useCount > 0 && i.jsxs("span", { className: "text-xs text-slate-500", children: [_.useCount, ""] })] }), i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsx("button", { onClick: () => U(_), className: `p-2 rounded-lg transition-colors ${_.isFavorite ? "text-yellow-400" : "text-slate-500 hover:text-yellow-400"}`, children: i.jsx(Bt, { name: _.isFavorite ? "starFilled" : "star", size: 18 }) }), i.jsx("button", { onClick: () => p(_), className: "p-2 text-slate-400 hover:text-blue-400 rounded-lg transition-colors", children: i.jsx(Bt, { name: "edit", size: 18 }) }), i.jsx("button", { onClick: () => n(_.id), className: "p-2 text-slate-400 hover:text-red-400 rounded-lg transition-colors", children: i.jsx(Bt, { name: "trash", size: 18 }) })] })] }) }), i.jsx("div", { className: "p-4 bg-slate-900/30", children: i.jsx("pre", { className: "text-sm text-slate-300 whitespace-pre-wrap font-mono overflow-x-auto max-h-32 overflow-y-auto", children: E(_.content, _.id) }) }), te.length > 0 && i.jsxs("div", { className: "p-4 border-t border-slate-700/30 bg-slate-800/30", children: [i.jsx("p", { className: "text-xs text-slate-500 mb-3", children: ":" }), i.jsx("div", { className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3", children: te.map((he, ie) => { var ue; return i.jsxs("div", { className: "space-y-1", children: [i.jsx("label", { className: "text-xs text-slate-400", children: he.name }), he.type === "select" ? i.jsx("select", { value: ce[he.name] || he.default || "", onChange: pe => H(_.id, he.name, pe.target.value), className: "w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500", children: (ue = he.options) == null ? void 0 : ue.map(pe => i.jsx("option", { value: pe, children: pe }, pe)) }) : he.type === "textarea" ? i.jsx("textarea", { value: ce[he.name] || he.default || "", onChange: pe => H(_.id, he.name, pe.target.value), placeholder: `{{${he.name}}}`, className: "w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 min-h-[60px]" }) : i.jsx("input", { type: he.type === "number" ? "number" : "text", value: ce[he.name] || he.default || "", onChange: pe => H(_.id, he.name, pe.target.value), placeholder: `{{${he.name}}}`, className: "w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500" })] }, ie) }) })] }), i.jsx("div", { className: "p-4 border-t border-slate-700/30", children: i.jsxs("button", { onClick: () => T(_), className: `w-full py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2 ${b === _.id ? "bg-emerald-600 text-white" : "bg-blue-600 hover:bg-blue-500 text-white"}`, children: [i.jsx(Bt, { name: b === _.id ? "check" : "copy", size: 18 }), b === _.id ? "" : ""] }) })] }, _.id) }) }), l && i.jsx("div", { className: "fixed inset-0 bg-black/50 flex items-center justify-center z-50", onClick: () => c(!1), children: i.jsxs("div", { className: "bg-slate-800 rounded-2xl p-6 w-full max-w-2xl border border-slate-700 max-h-[90vh] overflow-y-auto", onClick: _ => _.stopPropagation(), children: [i.jsx("h3", { className: "text-lg font-bold mb-4", children: "" }), i.jsxs("div", { className: "space-y-4", children: [i.jsxs("div", { children: [i.jsx("label", { className: "block text-sm text-slate-400 mb-1", children: "" }), i.jsx("input", { type: "text", value: j.title, onChange: _ => x({ ...j, title: _.target.value }), className: "w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500", placeholder: ": " })] }), i.jsxs("div", { children: [i.jsx("label", { className: "block text-sm text-slate-400 mb-1", children: "" }), i.jsx("select", { value: j.category, onChange: _ => x({ ...j, category: _.target.value }), className: "w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500", children: y.filter(_ => _.id !== "all").map(_ => i.jsxs("option", { value: _.id, children: [_.icon, " ", _.name] }, _.id)) })] }), i.jsxs("div", { children: [i.jsxs("label", { className: "block text-sm text-slate-400 mb-1", children: ["", i.jsxs("span", { className: "text-xs text-slate-500 ml-2", children: ["{{}}", " "] })] }), i.jsx("textarea", { value: j.content, onChange: _ => x({ ...j, content: _.target.value }), className: "w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm min-h-[200px]", placeholder: ": {{}}:\\n\\n{{}}" })] }), B(j.content).length > 0 && i.jsxs("div", { className: "bg-slate-700/30 rounded-lg p-3", children: [i.jsx("p", { className: "text-xs text-slate-400 mb-2", children: ":" }), i.jsx("div", { className: "flex flex-wrap gap-2", children: B(j.content).map(_ => i.jsx("span", { className: "text-xs bg-blue-600/20 text-blue-400 px-2 py-1 rounded", children: `{{${_}}}` }, _)) })] }), i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsx("input", { type: "checkbox", id: "favorite", checked: j.isFavorite, onChange: _ => x({ ...j, isFavorite: _.target.checked }), className: "rounded" }), i.jsx("label", { htmlFor: "favorite", className: "text-sm text-slate-400", children: "" })] })] }), i.jsxs("div", { className: "flex gap-3 mt-6", children: [i.jsx("button", { onClick: () => c(!1), className: "flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors", children: "" }), i.jsx("button", { onClick: G, className: "flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors", children: "" })] })] }) }), d && i.jsx("div", { className: "fixed inset-0 bg-black/50 flex items-center justify-center z-50", onClick: () => p(null), children: i.jsxs("div", { className: "bg-slate-800 rounded-2xl p-6 w-full max-w-2xl border border-slate-700 max-h-[90vh] overflow-y-auto", onClick: _ => _.stopPropagation(), children: [i.jsx("h3", { className: "text-lg font-bold mb-4", children: "" }), i.jsxs("div", { className: "space-y-4", children: [i.jsxs("div", { children: [i.jsx("label", { className: "block text-sm text-slate-400 mb-1", children: "" }), i.jsx("input", { type: "text", value: d.title, onChange: _ => p({ ...d, title: _.target.value }), className: "w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" })] }), i.jsxs("div", { children: [i.jsx("label", { className: "block text-sm text-slate-400 mb-1", children: "" }), i.jsx("select", { value: d.category, onChange: _ => p({ ...d, category: _.target.value }), className: "w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500", children: y.filter(_ => _.id !== "all").map(_ => i.jsxs("option", { value: _.id, children: [_.icon, " ", _.name] }, _.id)) })] }), i.jsxs("div", { children: [i.jsxs("label", { className: "block text-sm text-slate-400 mb-1", children: ["", i.jsxs("span", { className: "text-xs text-slate-500 ml-2", children: ["{{}}", " "] })] }), i.jsx("textarea", { value: d.content, onChange: _ => p({ ...d, content: _.target.value }), className: "w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm min-h-[200px]" })] }), B(d.content).length > 0 && i.jsxs("div", { className: "bg-slate-700/30 rounded-lg p-3", children: [i.jsx("p", { className: "text-xs text-slate-400 mb-2", children: ":" }), i.jsx("div", { className: "flex flex-wrap gap-2", children: B(d.content).map(_ => i.jsx("span", { className: "text-xs bg-blue-600/20 text-blue-400 px-2 py-1 rounded", children: `{{${_}}}` }, _)) })] })] }), i.jsxs("div", { className: "flex gap-3 mt-6", children: [i.jsx("button", { onClick: () => p(null), className: "flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors", children: "" }), i.jsx("button", { onClick: N, className: "flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors", children: "" })] })] }) })] }) } function BL({ diaryEntries: t = [], addDiaryEntry: e, settings: r = {} }) {
  const n = new Date().toISOString().split("T")[0], [s, a] = z.useState(n), [A, o] = z.useState(!1), [l, c] = z.useState(() => !localStorage.getItem("lifedash_morning_guide_seen")), [d, p] = z.useState(0), [g, h] = z.useState([]), [b, w] = z.useState(""), [j, x] = z.useState(!1), [y, B] = z.useState(!1), [E, T] = z.useState(""), [U, M] = z.useState(0), [G, N] = z.useState(!1), [H, k] = z.useState(!1), _ = z.useRef(null), V = z.useRef(null), P = z.useRef(null), te = z.useMemo(() => (t || []).filter(se => se.content && se.content.startsWith("")).sort((se, qe) => new Date(qe.date) - new Date(se.date)), [t]), ce = z.useMemo(() => te.find(se => se.date === n), [te, n]), he = te.find(se => se.date === s), ie = [...new Set(te.map(se => se.date))].slice(0, 30), ue = () => { let se = 0; const qe = ie.sort((X, ne) => new Date(ne) - new Date(X)); for (let X = 0; X < qe.length; X++) { const ne = new Date; ne.setDate(ne.getDate() - X); const Se = ne.toISOString().split("T")[0]; if (qe.includes(Se)) se++; else break } return se }, pe = [{
    title: "", content: `


 
 
 
 

${r.username || ""}`, icon: ""
  }, {
    title: "", content: `AI

 
 
 


 
 
 

OK`, icon: ""
  }, {
    title: "", content: `

1 
2 AI
3 Enter
4 
5 OK

 
 
 

`, icon: ""
  }], ve = () => { c(!1), localStorage.setItem("lifedash_morning_guide_seen", "true") }; z.useEffect(() => (G ? P.current = setInterval(() => { M(se => se + 1) }, 1e3) : clearInterval(P.current), () => clearInterval(P.current)), [G]), z.useEffect(() => { var se; (se = V.current) == null || se.scrollIntoView({ behavior: "smooth" }) }, [g]), z.useEffect(() => { !j && g.length > 0 && !y && setTimeout(() => { var se; (se = _.current) == null || se.focus() }, 100) }, [j, g.length, y]); const I = se => { const qe = Math.floor(se / 60), X = se % 60; return `${qe.toString().padStart(2, "0")}:${X.toString().padStart(2, "0")}` }, R = se => { const qe = new Date(se), X = ["", "", "", "", "", "", ""]; return `${qe.getMonth() + 1}/${qe.getDate()}${X[qe.getDay()]}` }, re = se => { const qe = new Date(se), X = ["", "", "", "", "", "", ""]; return `${qe.getFullYear()}${qe.getMonth() + 1}${qe.getDate()}${X[qe.getDay()]}` }, Y = se => se.replace(`
`, "").replace("", ""), le = () => g.filter(se => se.role === "user").reduce((se, qe) => se + qe.content.length, 0), ge = () => `








- ${r.username || ""}
- 
- 
- 


- OK
- 140100
- 11
- OK











- OK
- 
- `, ke = () => `


${g.map(qe => `${qe.role === "user" ? "" : "AI"}: ${qe.content}`).join(`
`)}


- 
- 
- 
- 5001000
- 
- OK
- ---

`, Fe = async (se, qe = !1) => { var Ke, ze, We, ot, be; const X = localStorage.getItem("ai_api_key") || ""; if (!X) throw new Error("APIGemini API"); const ne = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${X}`, Se = qe ? [{ role: "user", parts: [{ text: se }] }] : [{ role: "user", parts: [{ text: ge() }] }, { role: "model", parts: [{ text: "" }] }, ...g.map(Ne => ({ role: Ne.role === "user" ? "user" : "model", parts: [{ text: Ne.content }] })), { role: "user", parts: [{ text: se }] }]; return ((be = (ot = (We = (ze = (Ke = (await (await fetch(ne, { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ contents: Se, generationConfig: { temperature: .9, maxOutputTokens: qe ? 2048 : 256 } }) })).json()).candidates) == null ? void 0 : Ke[0]) == null ? void 0 : ze.content) == null ? void 0 : We.parts) == null ? void 0 : ot[0]) == null ? void 0 : be.text) || "" }, Le = async () => { N(!0), x(!0); try { const se = await Fe(""); h([{ role: "ai", content: se }]) } catch (se) { console.error("Error starting session:", se), h([{ role: "ai", content: "" }]) } finally { x(!1) } }, nt = se => ["", "", "", "", "", "OK", "ok", "", "", "done", "", ""].some(X => se.toLowerCase().includes(X.toLowerCase())), ct = async () => { if (!b.trim() || j) return; const se = b.trim(); h(qe => [...qe, { role: "user", content: se }]), w(""), x(!0); try { if (nt(se)) { h(X => [...X, { role: "ai", content: "OK..." }]); const qe = await Fe(ke(), !0); T(qe), B(!0), N(!1), h(X => [...X, { role: "ai", content: " " }]) } else { const qe = await Fe(se); h(X => [...X, { role: "ai", content: qe }]) } } catch (qe) { console.error("Error:", qe), h(X => [...X, { role: "ai", content: "" }]) } finally { x(!1) } }, de = async () => { if (g.filter(se => se.role === "user").length !== 0) { x(!0), h(se => [...se, { role: "ai", content: "OK..." }]); try { const se = await Fe(ke(), !0); T(se), B(!0), N(!1), h(qe => [...qe, { role: "ai", content: " " }]) } catch (se) { console.error("Error generating note:", se), alert("") } finally { x(!1) } } }, Ze = async () => {
      if (!E.trim()) return; const se = `
${E}`; try { await e({ date: n, content: se, isFavorite: !1 }), k(!0), setTimeout(() => { k(!1), F() }, 2e3) } catch (qe) { console.error("Failed to save morning note:", qe), alert("") }
    }, F = () => { h([]), w(""), x(!1), B(!1), T(""), M(0), N(!1) }; return i.jsxs("div", { className: "space-y-6 pb-8 max-w-4xl mx-auto", children: [l && i.jsx("div", { className: "fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4", children: i.jsxs("div", { className: "rounded-2xl p-8 max-w-lg w-full", style: { backgroundColor: "var(--bg-card)" }, children: [i.jsxs("div", { className: "text-center mb-6", children: [i.jsx("span", { className: "text-6xl mb-4 block", children: pe[d].icon }), i.jsx("h2", { className: "text-2xl font-bold mb-2", style: { color: "var(--text-primary)" }, children: pe[d].title })] }), i.jsx("div", { className: "text-left mb-8 whitespace-pre-line leading-relaxed", style: { color: "var(--text-secondary)" }, children: pe[d].content }), i.jsx("div", { className: "flex justify-center gap-2 mb-6", children: pe.map((se, qe) => i.jsx("button", { onClick: () => p(qe), className: `w-2 h-2 rounded-full transition-all ${qe === d ? "w-6" : ""}`, style: { backgroundColor: qe === d ? "var(--accent-secondary)" : "var(--border-primary)" } }, qe)) }), i.jsxs("div", { className: "flex gap-3", children: [d > 0 && i.jsx("button", { onClick: () => p(se => se - 1), className: "flex-1 py-3 rounded-xl font-medium transition-all", style: { backgroundColor: "var(--bg-tertiary)", color: "var(--text-primary)" }, children: "" }), d < pe.length - 1 ? i.jsx("button", { onClick: () => p(se => se + 1), className: "flex-1 py-3 rounded-xl font-medium transition-all", style: { backgroundColor: "var(--accent-secondary)", color: "white" }, children: "" }) : i.jsx("button", { onClick: ve, className: "flex-1 py-3 rounded-xl font-medium transition-all", style: { backgroundColor: "var(--accent-secondary)", color: "white" }, children: "" })] }), i.jsx("button", { onClick: ve, className: "mt-4 w-full text-sm", style: { color: "var(--text-tertiary)" }, children: "" })] }) }), i.jsxs("div", { className: "flex items-center justify-between", children: [i.jsxs("div", { children: [i.jsx("h1", { className: "text-2xl font-bold", style: { color: "var(--text-primary)" }, children: " " }), i.jsx("p", { className: "text-sm mt-1", style: { color: "var(--text-tertiary)" }, children: "" })] }), i.jsxs("div", { className: "flex items-center gap-3", children: [i.jsx("button", { onClick: () => c(!0), className: "px-3 py-1.5 rounded-lg text-sm transition-all", style: { backgroundColor: "var(--bg-tertiary)", color: "var(--text-secondary)" }, children: " " }), i.jsxs("button", { onClick: () => o(!A), className: "px-3 py-1.5 rounded-lg text-sm transition-all", style: { backgroundColor: A ? "var(--accent-secondary)" : "var(--bg-tertiary)", color: A ? "white" : "var(--text-secondary)" }, children: ["  (", te.length, ")"] })] })] }), i.jsxs("div", { className: "grid grid-cols-3 gap-4", children: [i.jsxs("div", { className: "rounded-xl p-4 text-center", style: { backgroundColor: "var(--bg-card)" }, children: [i.jsx("div", { className: "text-3xl mb-1", children: "" }), i.jsx("div", { className: "text-2xl font-bold", style: { color: "var(--accent-secondary)" }, children: ue() }), i.jsx("div", { className: "text-xs", style: { color: "var(--text-tertiary)" }, children: "" })] }), i.jsxs("div", { className: "rounded-xl p-4 text-center", style: { backgroundColor: "var(--bg-card)" }, children: [i.jsx("div", { className: "text-3xl mb-1", children: "" }), i.jsx("div", { className: "text-2xl font-bold", style: { color: "var(--text-primary)" }, children: te.length }), i.jsx("div", { className: "text-xs", style: { color: "var(--text-tertiary)" }, children: "" })] }), i.jsxs("div", { className: "rounded-xl p-4 text-center", style: { backgroundColor: "var(--bg-card)" }, children: [i.jsx("div", { className: "text-3xl mb-1", children: ce ? "" : "" }), i.jsx("div", { className: "text-lg font-bold", style: { color: ce ? "var(--success)" : "var(--text-secondary)" }, children: ce ? "" : "" }), i.jsx("div", { className: "text-xs", style: { color: "var(--text-tertiary)" }, children: "" })] })] }), A && i.jsxs("div", { className: "rounded-xl p-4", style: { backgroundColor: "var(--bg-card)" }, children: [i.jsx("h3", { className: "font-medium mb-3", style: { color: "var(--text-primary)" }, children: "" }), ie.length === 0 ? i.jsx("p", { className: "text-sm", style: { color: "var(--text-tertiary)" }, children: "" }) : i.jsx("div", { className: "flex flex-wrap gap-2", children: ie.map(se => i.jsx("button", { onClick: () => a(se), className: `px-3 py-1.5 rounded-lg text-sm transition-all ${s === se ? "ring-2" : ""}`, style: { backgroundColor: se === n ? "var(--accent-secondary)" : "var(--bg-tertiary)", color: se === n ? "white" : "var(--text-secondary)", ringColor: "var(--accent-secondary)" }, children: se === n ? "" : R(se) }, se)) })] }), H && i.jsx("div", { className: "rounded-xl p-4 text-center", style: { backgroundColor: "var(--success)", color: "white" }, children: " " }), s !== n && he ? i.jsxs("div", { className: "rounded-xl p-6", style: { backgroundColor: "var(--bg-card)" }, children: [i.jsxs("div", { className: "flex items-center justify-between mb-4", children: [i.jsxs("h3", { className: "font-medium", style: { color: "var(--text-primary)" }, children: [re(s), ""] }), i.jsx("button", { onClick: () => a(n), className: "text-sm px-3 py-1 rounded-lg", style: { backgroundColor: "var(--bg-tertiary)", color: "var(--text-secondary)" }, children: "" })] }), i.jsx("div", { className: "whitespace-pre-wrap leading-relaxed", style: { color: "var(--text-secondary)" }, children: Y(he.content) }), i.jsxs("div", { className: "mt-4 text-xs", style: { color: "var(--text-tertiary)" }, children: [Y(he.content).length, ""] })] }) : ce && g.length === 0 ? i.jsxs("div", { className: "rounded-xl p-6", style: { backgroundColor: "var(--bg-card)" }, children: [i.jsxs("div", { className: "text-center mb-6", children: [i.jsx("span", { className: "text-5xl", children: "" }), i.jsx("h3", { className: "text-xl font-bold mt-4", style: { color: "var(--text-primary)" }, children: "" }), i.jsx("p", { className: "text-sm mt-2", style: { color: "var(--text-tertiary)" }, children: "" })] }), i.jsxs("div", { className: "border-t pt-4 mt-4", style: { borderColor: "var(--border-primary)" }, children: [i.jsx("h4", { className: "text-sm font-medium mb-2", style: { color: "var(--text-secondary)" }, children: "" }), i.jsxs("div", { className: "whitespace-pre-wrap text-sm leading-relaxed", style: { color: "var(--text-tertiary)" }, children: [Y(ce.content).substring(0, 300), Y(ce.content).length > 300 && "..."] }), i.jsxs("div", { className: "mt-3 text-xs", style: { color: "var(--text-tertiary)" }, children: [Y(ce.content).length, ""] })] })] }) : g.length > 0 ? i.jsxs("div", { className: "grid grid-cols-1 lg:grid-cols-2 gap-4", children: [i.jsxs("div", { className: "rounded-xl p-4", style: { backgroundColor: "var(--bg-card)" }, children: [i.jsxs("div", { className: "flex items-center justify-between mb-4 pb-3 border-b", style: { borderColor: "var(--border-primary)" }, children: [i.jsxs("div", { className: "flex items-center gap-3", children: [i.jsx("span", { className: "text-lg", children: "" }), i.jsx("span", { className: "text-xl font-mono font-bold", style: { color: "var(--text-primary)" }, children: I(U) })] }), i.jsxs("div", { className: "text-sm", style: { color: "var(--text-tertiary)" }, children: [i.jsx("span", { className: "font-bold", style: { color: le() >= 500 ? "var(--success)" : "var(--text-primary)" }, children: le() }), " "] })] }), i.jsxs("div", { className: "h-80 overflow-y-auto space-y-3 mb-4", children: [g.map((se, qe) => i.jsx("div", { className: `flex ${se.role === "user" ? "justify-end" : "justify-start"}`, children: i.jsx("div", { className: `max-w-[85%] px-4 py-2 rounded-2xl ${se.role === "user" ? "rounded-br-sm" : "rounded-bl-sm"}`, style: { backgroundColor: se.role === "user" ? "var(--accent-secondary)" : "var(--bg-tertiary)", color: se.role === "user" ? "white" : "var(--text-primary)" }, children: se.content }) }, qe)), j && i.jsx("div", { className: "flex justify-start", children: i.jsx("div", { className: "px-4 py-2 rounded-2xl rounded-bl-sm", style: { backgroundColor: "var(--bg-tertiary)" }, children: i.jsx("span", { className: "animate-pulse", children: "..." }) }) }), i.jsx("div", { ref: V })] }), !y && i.jsxs("div", { className: "flex gap-2", children: [i.jsx("input", { ref: _, type: "text", value: b, onChange: se => w(se.target.value), onKeyDown: se => { se.key === "Enter" && !se.shiftKey && (se.preventDefault(), ct()) }, placeholder: "...", disabled: j, className: "flex-1 px-4 py-3 rounded-xl focus:outline-none focus:ring-2", style: { backgroundColor: "var(--bg-tertiary)", color: "var(--text-primary)", ringColor: "var(--accent-secondary)" } }), i.jsx(Vc, { onTranscript: se => w(qe => qe + se), onAutoSend: ct, disabled: j }), i.jsx("button", { onClick: ct, disabled: !b.trim() || j, className: "px-4 py-2 rounded-xl transition-all disabled:opacity-50", style: { backgroundColor: "var(--accent-secondary)", color: "white" }, children: "" })] }), g.filter(se => se.role === "user").length > 0 && !y && i.jsx("button", { onClick: de, disabled: j, className: "mt-3 w-full py-2 rounded-xl text-sm transition-all disabled:opacity-50", style: { backgroundColor: "var(--bg-tertiary)", color: "var(--text-secondary)" }, children: " " })] }), i.jsxs("div", { className: "rounded-xl p-4", style: { backgroundColor: "var(--bg-card)" }, children: [i.jsx("h3", { className: "font-medium mb-3", style: { color: "var(--text-primary)" }, children: " " }), y && E ? i.jsxs(i.Fragment, { children: [i.jsx("div", { className: "h-72 overflow-y-auto p-3 rounded-lg whitespace-pre-wrap text-sm leading-relaxed", style: { backgroundColor: "var(--bg-tertiary)", color: "var(--text-secondary)" }, children: E }), i.jsxs("div", { className: "mt-4 flex gap-2", children: [i.jsx("button", { onClick: F, className: "px-4 py-2 rounded-xl transition-all", style: { backgroundColor: "var(--bg-tertiary)", color: "var(--text-secondary)" }, children: "" }), i.jsx("button", { onClick: Ze, className: "flex-1 py-3 rounded-xl font-medium transition-all", style: { backgroundColor: "var(--accent-secondary)", color: "white" }, children: " " })] })] }) : i.jsx("div", { className: "h-72 flex items-center justify-center p-4 rounded-lg", style: { backgroundColor: "var(--bg-tertiary)" }, children: i.jsxs("div", { className: "text-center", style: { color: "var(--text-tertiary)" }, children: [i.jsx("span", { className: "text-4xl block mb-3", children: "" }), i.jsxs("p", { children: ["AI", i.jsx("br", {}), ""] }), i.jsx("p", { className: "text-xs mt-2", children: "" })] }) })] })] }) : i.jsxs("div", { className: "rounded-xl p-8 text-center", style: { backgroundColor: "var(--bg-card)" }, children: [i.jsx("span", { className: "text-6xl block mb-4", children: "" }), i.jsxs("h2", { className: "text-2xl font-bold mb-2", style: { color: "var(--text-primary)" }, children: ["", r.username || ""] }), i.jsxs("p", { className: "mb-6", style: { color: "var(--text-secondary)" }, children: ["", i.jsx("br", {}), "AI"] }), i.jsx("button", { onClick: Le, disabled: j, className: "px-8 py-4 rounded-2xl font-bold text-lg transition-all hover:scale-105 disabled:opacity-50", style: { backgroundColor: "var(--accent-secondary)", color: "white" }, children: j ? "..." : " " }), i.jsxs("div", { className: "mt-8 grid grid-cols-3 gap-4 text-sm", style: { color: "var(--text-tertiary)" }, children: [i.jsxs("div", { children: [i.jsx("div", { className: "text-2xl mb-1", children: "" }), i.jsx("div", { children: "" })] }), i.jsxs("div", { children: [i.jsx("div", { className: "text-2xl mb-1", children: "" }), i.jsx("div", { children: "" })] }), i.jsxs("div", { children: [i.jsx("div", { className: "text-2xl mb-1", children: "" }), i.jsx("div", { children: "" })] })] })] }), i.jsxs("div", { className: "rounded-xl p-4", style: { backgroundColor: "var(--bg-card)" }, children: [i.jsxs("h3", { className: "font-medium mb-2 flex items-center gap-2", style: { color: "var(--text-primary)" }, children: [i.jsx("span", { children: "" }), " "] }), i.jsxs("div", { className: "grid grid-cols-2 md:grid-cols-4 gap-3 text-center text-sm", children: [i.jsxs("div", { className: "p-3 rounded-lg", style: { backgroundColor: "var(--bg-tertiary)" }, children: [i.jsx("div", { className: "text-xl mb-1", children: "" }), i.jsx("div", { style: { color: "var(--text-secondary)" }, children: "" })] }), i.jsxs("div", { className: "p-3 rounded-lg", style: { backgroundColor: "var(--bg-tertiary)" }, children: [i.jsx("div", { className: "text-xl mb-1", children: "" }), i.jsx("div", { style: { color: "var(--text-secondary)" }, children: "UP" })] }), i.jsxs("div", { className: "p-3 rounded-lg", style: { backgroundColor: "var(--bg-tertiary)" }, children: [i.jsx("div", { className: "text-xl mb-1", children: "" }), i.jsx("div", { style: { color: "var(--text-secondary)" }, children: "" })] }), i.jsxs("div", { className: "p-3 rounded-lg", style: { backgroundColor: "var(--bg-tertiary)" }, children: [i.jsx("div", { className: "text-xl mb-1", children: "" }), i.jsx("div", { style: { color: "var(--text-secondary)" }, children: "" })] })] })] })] })
} function CL({ diaryEntries: t = [], addDiaryEntry: e, updateDiaryEntry: r, deleteDiaryEntry: n, events: s = [], goals: a = [], tasks: A = [] }) {
  const [o, l] = z.useState(new Date().toISOString().split("T")[0]), [c, d] = z.useState(!1), [p, g] = z.useState([]), [h, b] = z.useState(""), [w, j] = z.useState(!1), [x, y] = z.useState(!1), [B, E] = z.useState(""), T = z.useRef(null), U = z.useRef(null), [M, G] = z.useState(null), [N, H] = z.useState(""), [k, _] = z.useState(!1), [V, P] = z.useState(null), te = t.filter(F => F.date === o && !(F.content && F.content.includes("")) && !(F.content && F.content.includes(""))).sort((F, se) => new Date(se.createdAt) - new Date(F.createdAt)), ce = A.filter(F => F.date === o), he = s.filter(F => F.date === o), ie = a.filter(F => F.progress < 100), ue = F => { const se = new Date(F), qe = ["", "", "", "", "", "", ""]; return `${se.getFullYear()}${se.getMonth() + 1}${se.getDate()}${qe[se.getDay()]}` }, pe = F => { if (!F) return ""; const se = new Date(F); return `${se.getHours().toString().padStart(2, "0")}:${se.getMinutes().toString().padStart(2, "0")}` }; z.useEffect(() => { var F; (F = T.current) == null || F.scrollIntoView({ behavior: "smooth" }) }, [p]), z.useEffect(() => { g([]), y(!1), E(""), b("") }, [o]); const ve = () => `


${`

: ${ue(o)}


${ce.length > 0 ? ce.map(se => `- ${se.title}${se.progress === 100 ? "" : `${se.progress || 0}%`}`).join(`
`) : ""}


${he.length > 0 ? he.map(se => `- ${se.title}${se.time ? ` (${se.time})` : ""}`).join(`
`) : ""}


${ie.length > 0 ? ie.map(se => `- ${se.title}${se.progress || 0}%`).join(`
`) : ""}
`}


- 
- 
- 
- 


- 
- 
- 
- 


- 140
- 
- 1
-  


- 
- 
- 
- 
- 
- 

NG
- 
- 
- `, I = () => `


${p.map(se => `${se.role === "ai" ? "" : ""}: ${se.content}`).join(`
`)}


- 
- 
- 
- 200400
- 
- 
- 



---

**English Version:**

`, R = async (F, se) => {
      var ne, Se, W, $e, Ke, ze, We, ot, be, Ne; const qe = localStorage.getItem("ai_api_key") || "", X = localStorage.getItem("ai_provider") || "gemini"; if (!qe) throw new Error("APIGemini API"); if (X === "gemini") {
        const ee = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${qe}`, {
          method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({
            contents: [{
              parts: [{
                text: `${se}

${F.map(Ee => `${Ee.role === "ai" ? "" : ""}: ${Ee.content}`).join(`
`)}`
              }]
            }], generationConfig: { temperature: .8, maxOutputTokens: 8192 }
          })
        }), ye = await ee.json(); if (!ee.ok) throw new Error(((ne = ye.error) == null ? void 0 : ne.message) || "Gemini API "); return ((ze = (Ke = ($e = (W = (Se = ye.candidates) == null ? void 0 : Se[0]) == null ? void 0 : W.content) == null ? void 0 : $e.parts) == null ? void 0 : Ke[0]) == null ? void 0 : ze.text) || ""
      } else { const ee = await fetch("https://api.groq.com/openai/v1/chat/completions", { method: "POST", headers: { "Content-Type": "application/json", Authorization: `Bearer ${qe}` }, body: JSON.stringify({ model: "llama-3.3-70b-versatile", messages: [{ role: "system", content: se }, ...F.map(Ee => ({ role: Ee.role === "ai" ? "assistant" : "user", content: Ee.content }))], max_tokens: 500, temperature: .8 }) }), ye = await ee.json(); if (!ee.ok) throw new Error(((We = ye.error) == null ? void 0 : We.message) || "API "); return ((Ne = (be = (ot = ye.choices) == null ? void 0 : ot[0]) == null ? void 0 : be.message) == null ? void 0 : Ne.content) || "" }
    }, re = async () => {
      if (!(localStorage.getItem("ai_api_key") || "")) {
        alert(`API

Gemini API
Google AI Studio: https://aistudio.google.com/apikey`); return
      } j(!0); try { const se = await R([], ve()); g([{ role: "ai", content: se }]), setTimeout(() => { var qe; (qe = U.current) == null || qe.focus() }, 100) } catch (se) { alert(`: ${se.message}`) } finally { j(!1) }
    }, Y = F => ["", "", "", "", "", "", "", "", "ok", "OK", "", "", "", ""].some(qe => F.includes(qe)), le = async () => { if (!h.trim() || w) return; const F = [...p, { role: "user", content: h }]; g(F), b(""), j(!0); try { if (Y(h)) { g([...F, { role: "ai", content: "" }]); const se = await R(F, I()); E(se), y(!0), g(qe => [...qe.slice(0, -1), { role: "ai", content: "" }]) } else { const se = await R(F, ve()); g([...F, { role: "ai", content: se }]) } } catch (se) { alert(`: ${se.message}`) } finally { j(!1), setTimeout(() => { var se; (se = U.current) == null || se.focus() }, 100) } }, ge = async () => { if (!(p.length < 2 || w)) { j(!0); try { g(se => [...se, { role: "ai", content: "" }]); const F = await R(p, I()); E(F), y(!0), g(se => [...se.slice(0, -1), { role: "ai", content: "" }]) } catch (F) { alert(`: ${F.message}`) } finally { j(!1) } } }, ke = async () => { if (B.trim()) try { await e({ date: o, content: B, isFavorite: !1, createdAt: new Date().toISOString(), updatedAt: new Date().toISOString() }), alert(""), g([]), y(!1), E("") } catch (F) { console.error("Failed to save diary:", F), alert("") } }, Fe = () => { const F = new Date(o); F.setDate(F.getDate() - 1), l(F.toISOString().split("T")[0]) }, Le = () => { const F = new Date(o); F.setDate(F.getDate() + 1), l(F.toISOString().split("T")[0]) }, nt = F => { G(F), H(F.content || ""), _(!0) }, ct = async () => { if (!(!M || !N.trim())) try { await r(M.id, { content: N, updatedAt: new Date().toISOString() }), _(!1), G(null), H("") } catch (F) { console.error("Failed to update diary:", F), alert("") } }, de = async F => { try { await n(F), P(null); const se = t.find(qe => qe.id === F); se && se.date === o && l(new Date().toISOString().split("T")[0]) } catch (se) { console.error("Failed to delete diary:", se), alert("") } }, Ze = { backgroundImage: "repeating-linear-gradient(transparent, transparent 23px, #d4c5a9 23px, #d4c5a9 24px)", backgroundSize: "100% 24px", lineHeight: "24px", fontSize: "10pt" }; return i.jsxs("div", { className: "flex flex-col", children: [i.jsxs("div", { className: "flex flex-col md:flex-row justify-between items-start md:items-center gap-2 mb-4", children: [i.jsx("h2", { className: "text-lg md:text-xl font-bold text-slate-200 flex items-center gap-2", children: " " }), i.jsx("div", { className: "flex items-center gap-2", children: i.jsx("button", { onClick: () => d(!c), className: `px-3 py-1.5 rounded-lg text-sm transition-colors ${c ? "bg-blue-600 text-white" : "bg-slate-700 text-slate-300 hover:bg-slate-600"}`, children: " " }) })] }), c && i.jsxs("div", { className: "mb-4 bg-slate-800/50 rounded-xl p-4 border border-slate-700 max-h-80 overflow-y-auto", children: [i.jsx("h3", { className: "text-sm font-bold text-slate-300 mb-3", children: "" }), t.filter(F => !(F.content && F.content.includes("")) && !(F.content && F.content.includes(""))).length > 0 ? i.jsx("div", { className: "space-y-2", children: t.filter(F => !(F.content && F.content.includes("")) && !(F.content && F.content.includes(""))).sort((F, se) => new Date(se.date) - new Date(F.date)).map(F => { var se; return i.jsxs("div", { className: `p-3 rounded-lg transition-colors ${F.date === o ? "bg-blue-600/30 border border-blue-500" : "bg-slate-900/50"}`, children: [i.jsxs("div", { className: "flex items-start justify-between gap-2", children: [i.jsxs("button", { onClick: () => { l(F.date), d(!1) }, className: "flex-1 text-left hover:opacity-80", children: [i.jsxs("div", { className: "text-sm text-blue-400", children: [ue(F.date), F.createdAt && i.jsx("span", { className: "ml-2 text-slate-500", children: pe(F.createdAt) })] }), i.jsxs("div", { className: "text-xs text-slate-400 truncate mt-1", children: [(se = F.content) == null ? void 0 : se.substring(0, 60), "..."] })] }), i.jsxs("div", { className: "flex gap-1 flex-shrink-0", children: [i.jsx("button", { onClick: qe => { qe.stopPropagation(), nt(F) }, className: "p-1.5 text-slate-400 hover:text-blue-400 hover:bg-slate-700 rounded transition-colors", title: "", children: "" }), i.jsx("button", { onClick: qe => { qe.stopPropagation(), P(F.id) }, className: "p-1.5 text-slate-400 hover:text-red-400 hover:bg-slate-700 rounded transition-colors", title: "", children: "" })] })] }), V === F.id && i.jsxs("div", { className: "mt-2 p-2 bg-red-900/30 border border-red-500/50 rounded-lg", children: [i.jsx("p", { className: "text-xs text-red-300 mb-2", children: "" }), i.jsxs("div", { className: "flex gap-2", children: [i.jsx("button", { onClick: () => P(null), className: "flex-1 px-2 py-1 text-xs bg-slate-700 text-slate-300 rounded hover:bg-slate-600", children: "" }), i.jsx("button", { onClick: () => de(F.id), className: "flex-1 px-2 py-1 text-xs bg-red-600 text-white rounded hover:bg-red-500", children: "" })] })] })] }, F.id) }) }) : i.jsx("div", { className: "text-sm text-slate-500", children: "" })] }), i.jsxs("div", { className: "flex-1 flex gap-4", children: [i.jsxs("div", { className: "flex-1 flex flex-col bg-slate-800/30 rounded-xl border border-slate-700 overflow-hidden", children: [i.jsxs("div", { className: "flex items-center justify-between p-4 border-b border-slate-700", children: [i.jsx("button", { onClick: Fe, className: "p-2 hover:bg-slate-700 rounded-lg transition-colors", children: i.jsx("span", { className: "text-slate-400", children: "" }) }), i.jsxs("div", { className: "text-center", children: [i.jsx("div", { className: "text-lg font-bold text-slate-200", children: ue(o) }), i.jsxs("div", { className: "text-xs text-slate-500", children: [ce.length > 0 && ` ${ce.length}`, he.length > 0 && `  ${he.length}`] })] }), i.jsx("button", { onClick: Le, className: "p-2 hover:bg-slate-700 rounded-lg transition-colors", children: i.jsx("span", { className: "text-slate-400", children: "" }) })] }), i.jsx("div", { className: "flex-1 overflow-y-auto p-4 space-y-4", children: p.length === 0 ? i.jsxs("div", { className: "h-full flex flex-col items-center justify-center text-center", children: [i.jsx("div", { className: "text-6xl mb-4", children: "" }), i.jsx("h3", { className: "text-lg font-bold text-slate-200 mb-2", children: "" }), i.jsxs("p", { className: "text-sm text-slate-400 mb-6 max-w-sm", children: ["", i.jsx("br", {}), "OK"] }), te.length > 0 ? i.jsxs("div", { className: "text-sm text-blue-400 mb-4", children: [" ", te.length, ""] }) : null, i.jsx("button", { onClick: re, disabled: w, className: "px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-xl font-medium hover:from-purple-500 hover:to-blue-500 transition-all disabled:opacity-50", children: w ? "..." : " " })] }) : i.jsxs(i.Fragment, { children: [p.map((F, se) => i.jsx("div", { className: `flex ${F.role === "user" ? "justify-end" : "justify-start"}`, children: i.jsxs("div", { className: `max-w-[80%] p-3 rounded-2xl ${F.role === "user" ? "bg-blue-600 text-white rounded-br-md" : "bg-slate-700 text-slate-200 rounded-bl-md"}`, children: [F.role === "ai" && i.jsx("div", { className: "text-xs text-purple-400 mb-1", children: " AI" }), i.jsx("div", { className: "text-sm whitespace-pre-wrap", children: F.content })] }) }, se)), w && i.jsx("div", { className: "flex justify-start", children: i.jsx("div", { className: "bg-slate-700 text-slate-400 p-3 rounded-2xl rounded-bl-md", children: i.jsxs("div", { className: "flex gap-1", children: [i.jsx("span", { className: "animate-bounce", children: "." }), i.jsx("span", { className: "animate-bounce", style: { animationDelay: "0.1s" }, children: "." }), i.jsx("span", { className: "animate-bounce", style: { animationDelay: "0.2s" }, children: "." })] }) }) }), i.jsx("div", { ref: T })] }) }), p.length > 0 && !x && i.jsxs("div", { className: "p-4 border-t border-slate-700", children: [i.jsxs("div", { className: "flex gap-2", children: [i.jsx("input", { ref: U, type: "text", value: h, onChange: F => b(F.target.value), onKeyDown: F => F.key === "Enter" && !F.shiftKey && le(), placeholder: "...", className: "flex-1 bg-slate-900 border border-slate-700 rounded-xl px-4 py-2 text-slate-200 outline-none focus:border-blue-500", disabled: w, autoFocus: !0 }), i.jsx(Vc, { onTranscript: F => b(se => se + F), onAutoSend: le, disabled: w }), i.jsx("button", { onClick: le, disabled: !h.trim() || w, className: "px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-500 transition-colors disabled:opacity-50", children: "" })] }), i.jsxs("div", { className: "flex items-center justify-between mt-2", children: [i.jsx("div", { className: "text-xs text-slate-500", children: " OK" }), i.jsx("button", { onClick: ge, disabled: p.filter(F => F.role === "user").length < 1 || w, className: "text-xs px-3 py-1 bg-purple-600/50 text-purple-300 rounded-lg hover:bg-purple-600 transition-colors disabled:opacity-30", children: " " })] })] })] }), i.jsxs("div", { className: "w-96 flex flex-col", children: [i.jsxs("div", { className: "flex-1 bg-gradient-to-b from-amber-100 to-amber-50 rounded-xl shadow-lg overflow-hidden flex flex-col", style: { minHeight: "500px" }, children: [i.jsx("div", { className: "bg-amber-200/50 px-4 py-3 border-b border-amber-300", children: i.jsx("div", { className: "text-amber-800 font-medium text-sm", children: ue(o) }) }), i.jsx("div", { className: "flex-1 p-4 overflow-y-auto", style: Ze, children: x && B ? i.jsx("div", { className: "text-amber-900 whitespace-pre-wrap", children: B }) : te.length > 0 ? i.jsx("div", { className: "space-y-4", children: te.map((F, se) => i.jsxs("div", { className: se > 0 ? "pt-4 border-t border-amber-300" : "", children: [i.jsx("div", { className: "text-xs text-amber-600 mb-1", children: pe(F.createdAt) }), i.jsx("div", { className: "text-amber-900 whitespace-pre-wrap", children: F.content })] }, F.id)) }) : i.jsxs("div", { className: "text-amber-400 italic", children: ["", i.jsx("br", {}), "AI", i.jsx("br", {}), ""] }) })] }), x && B && i.jsxs("div", { className: "mt-4 flex gap-2", children: [i.jsx("button", { onClick: () => { g([]), y(!1), E("") }, className: "flex-1 px-4 py-2 bg-slate-700 text-slate-200 rounded-lg hover:bg-slate-600 transition-colors", children: "" }), i.jsx("button", { onClick: ke, className: "flex-1 px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-500 transition-colors font-medium", children: " " })] })] })] }), k && M && i.jsx("div", { className: "fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4", children: i.jsxs("div", { className: "bg-slate-800 rounded-xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col", children: [i.jsxs("div", { className: "flex items-center justify-between p-4 border-b border-slate-700", children: [i.jsx("h3", { className: "text-lg font-bold text-slate-200", children: " " }), i.jsx("button", { onClick: () => { _(!1), G(null), H("") }, className: "p-2 text-slate-400 hover:text-slate-200 hover:bg-slate-700 rounded-lg transition-colors", children: "" })] }), i.jsxs("div", { className: "p-4 flex-1 overflow-y-auto", children: [i.jsx("div", { className: "mb-3", children: i.jsx("div", { className: "text-sm text-blue-400 mb-1", children: ue(M.date) }) }), i.jsx("textarea", { value: N, onChange: F => H(F.target.value), className: "w-full h-64 bg-slate-900 border border-slate-700 rounded-lg p-3 text-slate-200 resize-none outline-none focus:border-blue-500", placeholder: "..." })] }), i.jsxs("div", { className: "flex gap-2 p-4 border-t border-slate-700", children: [i.jsx("button", { onClick: () => { _(!1), G(null), H("") }, className: "flex-1 px-4 py-2 bg-slate-700 text-slate-200 rounded-lg hover:bg-slate-600 transition-colors", children: "" }), i.jsx("button", { onClick: ct, disabled: !N.trim(), className: "flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-500 transition-colors font-medium disabled:opacity-50", children: " " })] })] }) })] })
} function NL({ shoppingItems: t, addShoppingItem: e, updateShoppingItem: r, deleteShoppingItem: n, events: s, goals: a }) { const [A, o] = z.useState(!1), [l, c] = z.useState(null), [d, p] = z.useState({ title: "", store: "", timing: "immediate", linkedType: "", linkedId: "" }), [g, h] = z.useState("all"), [b, w] = z.useState("all"), j = ["", "100", "amazon", ""], x = { immediate: "", future: "" }, y = t.filter(N => { const H = g === "all" || N.store === g, k = b === "all" || N.timing === b; return H && k && !N.purchased }), B = t.filter(N => N.purchased), E = j.map(N => { const H = y.filter(k => k.store === N); return { store: N, count: H.length } }), T = (N, H) => { if (!N || !H) return null; if (N === "event") { const k = s.find(_ => String(_.id) === String(H)); return k ? { type: "event", name: k.title, date: k.date, icon: "", colorId: k.colorId || "emerald" } : null } if (N === "goal") { const k = a.find(_ => String(_.id) === String(H)); return k ? { type: "goal", name: k.title, date: k.date, icon: "", colorId: k.colorId || "purple" } : null } return null }, U = () => { d.title.trim() && (e({ title: d.title, store: d.store, timing: d.timing, purchased: !1, linkedType: d.linkedType, linkedId: d.linkedId }), p({ title: "", store: "", timing: "immediate", linkedType: "", linkedId: "" }), o(!1)) }, M = () => { !l || !l.title.trim() || (r(l.id, { title: l.title, store: l.store, timing: l.timing, linkedType: l.linkedType, linkedId: l.linkedId }), c(null)) }, G = N => { r(N.id, { ...N, purchased: !N.purchased }) }; return i.jsxs("div", { className: "space-y-6", children: [i.jsxs("div", { className: "flex items-center justify-between", children: [i.jsxs("div", { className: "flex items-center gap-3", children: [i.jsx("h2", { className: "text-xl font-bold", children: "" }), i.jsxs("span", { className: "text-slate-400", children: ["(", y.length, " )"] })] }), i.jsxs("button", { onClick: () => o(!0), className: "flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg transition-colors", children: [i.jsx(Bt, { name: "plus", size: 18 }), ""] })] }), i.jsxs("div", { className: "grid grid-cols-2 md:grid-cols-4 gap-4", children: [i.jsxs("div", { className: "bg-slate-800/50 rounded-xl p-4 border border-slate-700/50", children: [i.jsx("p", { className: "text-slate-400 text-sm", children: "" }), i.jsxs("p", { className: "text-2xl font-bold text-blue-400", children: [y.length, " "] })] }), i.jsxs("div", { className: "bg-slate-800/50 rounded-xl p-4 border border-slate-700/50", children: [i.jsx("p", { className: "text-slate-400 text-sm", children: "" }), i.jsxs("p", { className: "text-2xl font-bold text-emerald-400", children: [B.length, " "] })] })] }), i.jsx("div", { className: "grid grid-cols-2 md:grid-cols-4 gap-3", children: E.map(({ store: N, count: H }) => i.jsxs("div", { className: `bg-slate-800/30 rounded-lg p-3 border cursor-pointer transition-all ${g === N ? "border-blue-400 bg-blue-600/20" : "border-slate-700/50 hover:border-slate-600"}`, onClick: () => h(g === N ? "all" : N), children: [i.jsx("p", { className: "text-sm text-slate-400", children: N }), i.jsxs("p", { className: "text-lg font-semibold", children: [H, " "] })] }, N)) }), i.jsxs("div", { className: "flex gap-2 flex-wrap", children: [i.jsx("button", { onClick: () => h("all"), className: `px-3 py-1.5 rounded-lg text-sm transition-colors ${g === "all" ? "bg-blue-600 text-white" : "bg-slate-800/50 text-slate-400 hover:bg-slate-700"}`, children: "" }), j.map(N => i.jsx("button", { onClick: () => h(g === N ? "all" : N), className: `px-3 py-1.5 rounded-lg text-sm transition-colors ${g === N ? "bg-blue-600 text-white" : "bg-slate-800/50 text-slate-400 hover:bg-slate-700"}`, children: N }, N)), i.jsx("div", { className: "w-px bg-slate-700 mx-2" }), i.jsx("button", { onClick: () => w("all"), className: `px-3 py-1.5 rounded-lg text-sm transition-colors ${b === "all" ? "bg-emerald-600 text-white" : "bg-slate-800/50 text-slate-400 hover:bg-slate-700"}`, children: "" }), i.jsx("button", { onClick: () => w("immediate"), className: `px-3 py-1.5 rounded-lg text-sm transition-colors ${b === "immediate" ? "bg-emerald-600 text-white" : "bg-slate-800/50 text-slate-400 hover:bg-slate-700"}`, children: "" }), i.jsx("button", { onClick: () => w("future"), className: `px-3 py-1.5 rounded-lg text-sm transition-colors ${b === "future" ? "bg-purple-600 text-white" : "bg-slate-800/50 text-slate-400 hover:bg-slate-700"}`, children: "" })] }), i.jsx("div", { className: "space-y-3", children: y.length === 0 ? i.jsxs("div", { className: "text-center py-12 text-slate-500", children: [i.jsx(Bt, { name: "shopping", size: 48, className: "mx-auto mb-4 opacity-50" }), i.jsx("p", { children: "" })] }) : y.map(N => { const H = T(N.linkedType, N.linkedId); return i.jsxs("div", { className: "bg-slate-800/50 rounded-xl p-4 border border-slate-700/50 flex items-center gap-4 group hover:bg-slate-800/70 transition-colors", children: [i.jsx("button", { onClick: () => G(N), className: "w-6 h-6 rounded-full border-2 border-slate-600 hover:border-emerald-400 flex items-center justify-center transition-colors", children: N.purchased && i.jsx(Bt, { name: "check", size: 14, className: "text-emerald-400" }) }), i.jsxs("div", { className: "flex-1 min-w-0", children: [i.jsxs("div", { className: "flex items-center gap-2 flex-wrap", children: [i.jsx("h3", { className: "font-semibold truncate", children: N.title }), i.jsx("span", { className: `text-xs px-2 py-0.5 rounded-full ${N.timing === "immediate" ? "bg-emerald-600/20 text-emerald-400" : "bg-purple-600/20 text-purple-400"}`, children: x[N.timing] }), H && (() => { const k = kn(H.colorId); return i.jsxs("span", { className: `text-xs px-2 py-0.5 rounded-full ${k.bgLight} ${k.text}`, children: [H.icon, " ", H.name] }) })()] }), i.jsx("div", { className: "flex items-center gap-3 mt-1 text-sm text-slate-400", children: i.jsx("span", { className: "bg-slate-700/50 px-2 py-0.5 rounded", children: N.store }) })] }), i.jsxs("div", { className: "flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity", children: [i.jsx("button", { onClick: () => c(N), className: "p-2 text-slate-400 hover:text-blue-400 transition-colors", children: i.jsx(Bt, { name: "edit", size: 16 }) }), i.jsx("button", { onClick: () => n(N.id), className: "p-2 text-slate-400 hover:text-red-400 transition-colors", children: i.jsx(Bt, { name: "trash", size: 16 }) })] })] }, N.id) }) }), B.length > 0 && i.jsxs("div", { className: "mt-8", children: [i.jsxs("h3", { className: "text-lg font-semibold text-slate-400 mb-4", children: [" (", B.length, ")"] }), i.jsx("div", { className: "space-y-2", children: B.map(N => i.jsxs("div", { className: "bg-slate-800/30 rounded-lg p-3 border border-slate-700/30 flex items-center gap-4 opacity-60", children: [i.jsx("button", { onClick: () => G(N), className: "w-6 h-6 rounded-full bg-emerald-600 flex items-center justify-center", children: i.jsx(Bt, { name: "check", size: 14, className: "text-white" }) }), i.jsx("span", { className: "flex-1 line-through text-slate-500", children: N.title }), i.jsx("span", { className: "text-sm text-slate-500", children: N.store }), i.jsx("button", { onClick: () => n(N.id), className: "p-1 text-slate-600 hover:text-red-400 transition-colors", children: i.jsx(Bt, { name: "trash", size: 14 }) })] }, N.id)) })] }), A && i.jsx("div", { className: "fixed inset-0 bg-black/50 flex items-center justify-center z-50", onClick: () => o(!1), children: i.jsxs("div", { className: "bg-slate-800 rounded-2xl p-6 w-full max-w-md border border-slate-700", onClick: N => N.stopPropagation(), children: [i.jsx("h3", { className: "text-lg font-bold mb-4", children: "" }), i.jsxs("div", { className: "space-y-4", children: [i.jsxs("div", { children: [i.jsx("label", { className: "block text-sm text-slate-400 mb-1", children: "" }), i.jsx("input", { type: "text", value: d.title, onChange: N => p({ ...d, title: N.target.value }), className: "w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500", placeholder: ": " })] }), i.jsxs("div", { children: [i.jsx("label", { className: "block text-sm text-slate-400 mb-1", children: "" }), i.jsx("select", { value: d.store, onChange: N => p({ ...d, store: N.target.value }), className: "w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500", children: j.map(N => i.jsx("option", { value: N, children: N }, N)) })] }), i.jsxs("div", { children: [i.jsx("label", { className: "block text-sm text-slate-400 mb-1", children: "" }), i.jsxs("div", { className: "flex gap-2", children: [i.jsx("button", { type: "button", onClick: () => p({ ...d, timing: "immediate" }), className: `flex-1 py-2 rounded-lg transition-colors ${d.timing === "immediate" ? "bg-emerald-600 text-white" : "bg-slate-700/50 text-slate-400"}`, children: "" }), i.jsx("button", { type: "button", onClick: () => p({ ...d, timing: "future" }), className: `flex-1 py-2 rounded-lg transition-colors ${d.timing === "future" ? "bg-purple-600 text-white" : "bg-slate-700/50 text-slate-400"}`, children: "" })] })] }), i.jsxs("div", { children: [i.jsx("label", { className: "block text-sm text-slate-400 mb-1", children: " ()" }), i.jsxs("select", { value: `${d.linkedType}:${d.linkedId}`, onChange: N => { const [H, k] = N.target.value.split(":"); p({ ...d, linkedType: H || "", linkedId: k || "" }) }, className: "w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500", children: [i.jsx("option", { value: ":", children: "" }), i.jsx("optgroup", { label: " ", children: s.map(N => i.jsxs("option", { value: `event:${N.id}`, children: [N.date ? `${N.date} - ` : "", N.title] }, `event-${N.id}`)) }), i.jsx("optgroup", { label: " ", children: a.map(N => i.jsxs("option", { value: `goal:${N.id}`, children: [N.date ? `${N.date} - ` : "", N.title] }, `goal-${N.id}`)) })] })] })] }), i.jsxs("div", { className: "flex gap-3 mt-6", children: [i.jsx("button", { onClick: () => o(!1), className: "flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors", children: "" }), i.jsx("button", { onClick: U, className: "flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors", children: "" })] })] }) }), l && i.jsx("div", { className: "fixed inset-0 bg-black/50 flex items-center justify-center z-50", onClick: () => c(null), children: i.jsxs("div", { className: "bg-slate-800 rounded-2xl p-6 w-full max-w-md border border-slate-700", onClick: N => N.stopPropagation(), children: [i.jsx("h3", { className: "text-lg font-bold mb-4", children: "" }), i.jsxs("div", { className: "space-y-4", children: [i.jsxs("div", { children: [i.jsx("label", { className: "block text-sm text-slate-400 mb-1", children: "" }), i.jsx("input", { type: "text", value: l.title, onChange: N => c({ ...l, title: N.target.value }), className: "w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" })] }), i.jsxs("div", { children: [i.jsx("label", { className: "block text-sm text-slate-400 mb-1", children: "" }), i.jsx("select", { value: l.store, onChange: N => c({ ...l, store: N.target.value }), className: "w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500", children: j.map(N => i.jsx("option", { value: N, children: N }, N)) })] }), i.jsxs("div", { children: [i.jsx("label", { className: "block text-sm text-slate-400 mb-1", children: "" }), i.jsxs("div", { className: "flex gap-2", children: [i.jsx("button", { type: "button", onClick: () => c({ ...l, timing: "immediate" }), className: `flex-1 py-2 rounded-lg transition-colors ${l.timing === "immediate" ? "bg-emerald-600 text-white" : "bg-slate-700/50 text-slate-400"}`, children: "" }), i.jsx("button", { type: "button", onClick: () => c({ ...l, timing: "future" }), className: `flex-1 py-2 rounded-lg transition-colors ${l.timing === "future" ? "bg-purple-600 text-white" : "bg-slate-700/50 text-slate-400"}`, children: "" })] })] }), i.jsxs("div", { children: [i.jsx("label", { className: "block text-sm text-slate-400 mb-1", children: " ()" }), i.jsxs("select", { value: `${l.linkedType}:${l.linkedId}`, onChange: N => { const [H, k] = N.target.value.split(":"); c({ ...l, linkedType: H || "", linkedId: k || "" }) }, className: "w-full bg-slate-700/50 border border-slate-600 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500", children: [i.jsx("option", { value: ":", children: "" }), i.jsx("optgroup", { label: " ", children: s.map(N => i.jsxs("option", { value: `event:${N.id}`, children: [N.date ? `${N.date} - ` : "", N.title] }, `event-${N.id}`)) }), i.jsx("optgroup", { label: " ", children: a.map(N => i.jsxs("option", { value: `goal:${N.id}`, children: [N.date ? `${N.date} - ` : "", N.title] }, `goal-${N.id}`)) })] })] })] }), i.jsxs("div", { className: "flex gap-3 mt-6", children: [i.jsx("button", { onClick: () => c(null), className: "flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors", children: "" }), i.jsx("button", { onClick: M, className: "flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors", children: "" })] })] }) })] }) } function SL() {
  var _l, kl, vi, wi, Ul, Il, Za, _A, va, Ql, yi, Tl, kA, UA, Ro, bi, IA, eA, QA, wa, TA, Ho, Mo, Bi, Ci, $o, ya, Ko, m, Q, ae, xe, Ie, tt, lt, Mt, qt, ir, lr, br, zr, un, Qr, wn, dn, Ln, Ni, Hs, Si, LA, tA, Gi, ba, Ba, Vi, On, Ca, Na, OA, PA, Yn, ji, rA, Go, Es, Sa, DA, RA, zi, ja, fs, ps, qi, Ei, Wi, HA, nA, sn; const [t] = z.useState(["BTC/USDT", "ETH/USDT", "SOL/USDT", "DOGE/USDT"]), [e, r] = z.useState("BTC/USDT"), [n, s] = z.useState({}), [a, A] = z.useState({}), [o, l] = z.useState(!0), [c, d] = z.useState(!1), [p, g] = z.useState(.5), [h, b] = z.useState(null), [w, j] = z.useState("midnight"), [x, y] = z.useState(!0), [B, E] = z.useState({}), [T, U] = z.useState(() => localStorage.getItem("mexc_api_key") || "mx0vglLIRKnj3mKw05"), [M, G] = z.useState(() => localStorage.getItem("mexc_api_secret") || "5978bf271a39453796f717ed5fbeaa13"), [N, H] = z.useState(() => localStorage.getItem("mexc_passphrase") || ""), [k, _] = z.useState(() => localStorage.getItem("mexc_api_version") || "1"), [V, P] = z.useState(!1), [te, ce] = z.useState(null), [he, ie] = z.useState(!1), [ue, pe] = z.useState("1"), [ve, I] = z.useState("5"), [R, re] = z.useState([]), [Y, le] = z.useState(!1), [ge, ke] = z.useState(() => localStorage.getItem("trade_one_click_mode") === "true"); z.useEffect(() => { localStorage.setItem("trade_one_click_mode", ge.toString()) }, [ge]); const [Fe, Le] = z.useState(() => { try { const S = localStorage.getItem("trade_memos"); return S ? JSON.parse(S) : {} } catch { return {} } }); z.useEffect(() => { localStorage.setItem("trade_memos", JSON.stringify(Fe)) }, [Fe]); const [nt, ct] = z.useState(!1), [de, Ze] = z.useState(""), [F, se] = z.useState(""), [qe, X] = z.useState(""), [ne, Se] = z.useState("10"), [W, $e] = z.useState(() => { try { const S = localStorage.getItem("price_alerts"); return S ? JSON.parse(S) : [] } catch { return [] } }); z.useEffect(() => { localStorage.setItem("price_alerts", JSON.stringify(W)) }, [W]); const [Ke, ze] = z.useState(() => { try { const S = localStorage.getItem("daily_pnl"), K = S ? JSON.parse(S) : { date: "", trades: 0, wins: 0, pnl: 0 }, J = new Date().toISOString().split("T")[0]; return K.date !== J ? { date: J, trades: 0, wins: 0, pnl: 0 } : K } catch { return { date: new Date().toISOString().split("T")[0], trades: 0, wins: 0, pnl: 0 } } }); z.useEffect(() => { localStorage.setItem("daily_pnl", JSON.stringify(Ke)) }, [Ke]); const [We, ot] = z.useState(() => { try { const S = localStorage.getItem("trade_positions"); return S ? JSON.parse(S) : {} } catch { return {} } }); z.useEffect(() => { localStorage.setItem("trade_positions", JSON.stringify(We)) }, [We]), z.useEffect(() => { T && localStorage.setItem("mexc_api_key", T), M && localStorage.setItem("mexc_api_secret", M) }, [T, M]); const be = async (S, K, J, fe, me) => { const Oe = `${S}${K}${J}${fe}`, Qe = new TextEncoder, Re = Qe.encode(me), je = Qe.encode(Oe), De = await crypto.subtle.importKey("raw", Re, { name: "HMAC", hash: "SHA-256" }, !1, ["sign"]), at = await crypto.subtle.sign("HMAC", De, je); return btoa(String.fromCharCode(...new Uint8Array(at))) }, Ne = async (S, K) => { const J = new TextEncoder, fe = J.encode(K), me = J.encode(S), Oe = await crypto.subtle.importKey("raw", fe, { name: "HMAC", hash: "SHA-256" }, !1, ["sign"]), Qe = await crypto.subtle.sign("HMAC", Oe, me); return btoa(String.fromCharCode(...new Uint8Array(Qe))) }, [ee, ye] = z.useState(""), Ee = "https://kucoin-futures-proxy.awogurix.workers.dev", Ye = async () => { var S; if (!T || !M || !N) { ye("API"); return } ye("..."); try { const K = Date.now().toString(), J = "GET", fe = "/api/v1/account-overview?currency=USDT", Oe = await be(K, J, fe, "", M), Qe = k === "2" || k === "3" || k === "3" ? await Ne(N, M) : N, Re = `${Ee}/api/v1/account-overview?currency=USDT`; console.log("Request details:", { timestamp: K, method: J, endpoint: fe, apiVersion: k }); const je = await fetch(Re, { method: "GET", headers: { "Content-Type": "application/json", "KC-API-KEY": T, "KC-API-SIGN": Oe, "KC-API-TIMESTAMP": K, "KC-API-PASSPHRASE": Qe, "KC-API-KEY-VERSION": k } }), De = await je.json(); if (console.log("KuCoin Futures API Response:", De), De.code === "200000" && De.data) ce({ accountEquity: parseFloat(De.data.accountEquity || 0), availableBalance: parseFloat(De.data.availableBalance || 0), marginBalance: parseFloat(De.data.marginBalance || 0), unrealisedPNL: parseFloat(De.data.unrealisedPNL || 0), currency: De.data.currency || "USDT" }), ye(" "); else { let at = De.msg || "API"; const Je = ((S = De.code) == null ? void 0 : S.toString()) || ""; je.status === 404 || Je === "404" ? at = "APIKuCoin API" : Je === "400001" ? at = "KC-API-KEY" : Je === "400002" ? at = "" : Je === "400003" ? at = "APIAPI" : Je === "400004" ? at = "Passphrase" : Je === "400005" ? at = "API Secret" : Je === "400007" ? at = "Futures" : Je === "411100" ? at = "Futures" : (Je === "400003" || De.msg && De.msg.includes("unavailable in the U.S")) && (at = "USVPN/SG"), (De.error === "HTML_RESPONSE" || De.error === "REGION_RESTRICTED") && (at = "VPN"), De.error === "Not Found" && (at = ""), ye(` ${at} (${Je || je.status || "ERR"})`), console.error("KuCoin API Error:", De, "Status:", je.status) } } catch (K) { console.error("KuCoin balance error:", K), K.message.includes("Unexpected token") || K.message.includes("JSON") ? ye(" VPN/SG") : ye(` ${K.message}`) } }, Xe = async () => { if (!(!T || !M || !N)) try { const S = Date.now().toString(), K = "GET", J = "/api/v1/positions", me = await be(S, K, J, "", M), Oe = k === "2" || k === "3" ? await Ne(N, M) : N, Re = await (await fetch(`${Ee}${J}`, { method: K, headers: { "Content-Type": "application/json", "KC-API-KEY": T, "KC-API-SIGN": me, "KC-API-TIMESTAMP": S, "KC-API-PASSPHRASE": Oe, "KC-API-KEY-VERSION": k } })).json(); if (console.log("KuCoin Positions:", Re), Re.code === "200000" && Re.data) { const je = Re.data.filter(De => De.currentQty !== 0); re(je.map(De => ({ symbol: De.symbol, side: De.currentQty > 0 ? "LONG" : "SHORT", qty: Math.abs(De.currentQty), entryPrice: parseFloat(De.avgEntryPrice), markPrice: parseFloat(De.markPrice), unrealisedPnl: parseFloat(De.unrealisedPnl), realisedPnl: parseFloat(De.realisedGrossPnl), leverage: parseFloat(De.realLeverage), liquidationPrice: parseFloat(De.liquidationPrice), margin: parseFloat(De.posMargin), openTime: De.openingTimestamp, maintMargin: parseFloat(De.maintMargin), roe: De.unrealisedRoePcnt ? parseFloat(De.unrealisedRoePcnt) * 100 : 0 }))) } } catch (S) { console.error("KuCoin positions error:", S) } }, Be = async () => {
    if (!T || !M || !N) { alert("API"); return } if (R.length === 0) { alert(""); return } if (confirm(` 

${R.length}

`)) {
      le(!0); try {
        const S = []; for (const J of R) { const fe = Date.now().toString(), me = "POST", Oe = "/api/v1/orders", Qe = { clientOid: `emergency_close_${Date.now()}_${J.symbol}`, symbol: J.symbol, side: J.side === "LONG" ? "sell" : "buy", type: "market", closeOrder: !0, size: J.qty }, Re = JSON.stringify(Qe), je = await be(fe, me, Oe, Re, M), De = k === "2" || k === "3" ? await Ne(N, M) : N, Je = await (await fetch(`${Ee}${Oe}`, { method: "POST", headers: { "Content-Type": "application/json", "KC-API-KEY": T, "KC-API-SIGN": je, "KC-API-TIMESTAMP": fe, "KC-API-PASSPHRASE": De, "KC-API-KEY-VERSION": k }, body: Re })).json(); S.push({ symbol: J.symbol, success: Je.code === "200000", data: Je }), await new Promise(Ot => setTimeout(Ot, 200)) } const K = S.filter(J => J.success).length; alert(` 

: ${K}/${S.length}`), Ye(), Xe()
      } catch (S) { console.error("Emergency close error:", S), alert(` : ${S.message}`) } finally { le(!1) }
    }
  }, [Te, pt] = z.useState(() => localStorage.getItem("kucoin_margin_mode") || "cross"); z.useEffect(() => { localStorage.setItem("kucoin_margin_mode", Te) }, [Te]); const At = async (S, K) => { if (!T || !M || !N) return !1; try { const J = Date.now().toString(), fe = "POST", me = "/api/v1/position/margin/auto-deposit-status", Qe = JSON.stringify({ symbol: S, status: K === "cross" }), Re = await be(J, fe, me, Qe, M), je = k === "2" || k === "3" ? await Ne(N, M) : N, at = await (await fetch(`${Ee}${me}`, { method: "POST", headers: { "Content-Type": "application/json", "KC-API-KEY": T, "KC-API-SIGN": Re, "KC-API-TIMESTAMP": J, "KC-API-PASSPHRASE": je, "KC-API-KEY-VERSION": k }, body: Qe })).json(); return console.log("Margin mode change response:", at), at.code === "200000" } catch (J) { return console.error("Margin mode change error:", J), !1 } }, bt = async (S, K, J, fe) => {
    var me, Oe, Qe; if (!T || !M || !N) return alert("API"), P(!0), !1; ie(!0); try {
      const Re = S.replace("BTC", "XBT").replace("/", "").replace("USDT", "USDTM"); console.log("Setting margin mode:", Te, "for", Re), await At(Re, Te), await new Promise(jt => setTimeout(jt, 300)); const je = Date.now().toString(), De = "POST", at = "/api/v1/orders", Je = (te == null ? void 0 : te.availableBalance) || 0, Ot = Je * parseInt(J) / 100, vt = ((Qe = (Oe = n[S]) == null ? void 0 : Oe[((me = n[S]) == null ? void 0 : me.length) - 1]) == null ? void 0 : Qe.close) || 0, Lt = Ot * parseInt(fe), we = Math.max(1, Math.floor(Lt)); console.log("Order calculation:", { totalBalance: Je, sizePercentage: J, usageAmount: Ot, leverageValue: fe, buyingPower: Lt, contractSize: we, currentPrice: vt, marginMode: Te }); const ft = { clientOid: `order_${Date.now()}`, symbol: Re, side: K.toLowerCase(), type: "market", leverage: fe.toString(), size: we }, Nt = JSON.stringify(ft), Ve = await be(je, De, at, Nt, M), Ut = k === "2" || k === "3" ? await Ne(N, M) : N, Rt = `${Ee}/api/v1/orders`, Ht = await (await fetch(Rt, { method: "POST", headers: { "Content-Type": "application/json", "KC-API-KEY": T, "KC-API-SIGN": Ve, "KC-API-TIMESTAMP": je, "KC-API-PASSPHRASE": Ut, "KC-API-KEY-VERSION": k }, body: Nt })).json(); return console.log("KuCoin Order Response:", Ht), Ht.code === "200000" ? (alert(` 
OrderId: ${Ht.data.orderId}
---
: ${we} 
: ${Ot.toFixed(2)} USDT (${J}%)
: ${Lt.toFixed(2)} USDT (${fe}x)
---
: ${Je.toFixed(2)} USDT`), Ye(), !0) : (alert(` : ${Ht.msg}

: ${we}
: ${Ot.toFixed(2)} USDT
`), !1)
    } catch (Re) { return alert(` : ${Re.message}`), !1 } finally { ie(!1) }
  }, ht = async S => { if (!T || !M || !N) return alert("API"), !1; ie(!0); try { const K = Date.now().toString(), J = "POST", fe = "/api/v1/orders", me = S.replace("BTC", "XBT").replace("/", "").replace("USDT", "USDTM"), Oe = { clientOid: `close_${Date.now()}`, symbol: me, type: "market", closeOrder: !0, size: parseInt(ue) }, Qe = JSON.stringify(Oe), Re = await be(K, J, fe, Qe, M), je = k === "2" || k === "3" ? await Ne(N, M) : N, De = `${Ee}/api/v1/orders`, Je = await (await fetch(De, { method: "POST", headers: { "Content-Type": "application/json", "KC-API-KEY": T, "KC-API-SIGN": Re, "KC-API-TIMESTAMP": K, "KC-API-PASSPHRASE": je, "KC-API-KEY-VERSION": k }, body: Qe })).json(); return console.log("KuCoin Close Response:", Je), Je.code === "200000" ? (alert(" "), Ye(), !0) : (alert(` : ${Je.msg}`), !1) } catch (K) { return alert(` : ${K.message}`), !1 } finally { ie(!1) } }, [xt, Ct] = z.useState([]), [kt, Qt] = z.useState([]), [Ft, pr] = z.useState(!1), [O, Ue] = z.useState("history"), st = async () => { if (!(!T || !M || !N)) { pr(!0); try { const S = Date.now().toString(), K = "GET", J = "/api/v1/fills?pageSize=100", fe = await be(S, K, J, "", M), me = k === "2" || k === "3" ? await Ne(N, M) : N, Qe = await (await fetch(`${Ee}${J}`, { method: "GET", headers: { "Content-Type": "application/json", "KC-API-KEY": T, "KC-API-SIGN": fe, "KC-API-TIMESTAMP": S, "KC-API-PASSPHRASE": me, "KC-API-KEY-VERSION": k } })).json(); if (console.log("Trade History Response:", Qe), Qe.code === "200000" && Qe.data && Qe.data.items) { const Re = Qe.data.items.map(je => ({ id: je.tradeId, orderId: je.orderId, symbol: je.symbol, side: je.side, price: parseFloat(je.price), size: parseFloat(je.size), value: parseFloat(je.value || 0), fee: parseFloat(je.fee || 0), feeRate: parseFloat(je.feeRate || 0), pnl: parseFloat(je.settleCurrency === "USDT" && je.pnl || 0), time: new Date(je.tradeTime || je.createdAt), tradeType: je.tradeType || "trade", liquidity: je.liquidity })); Ct(Re) } } catch (S) { console.error("Trade history error:", S) } finally { pr(!1) } } }, Ge = async () => { if (!(!T || !M || !N)) { pr(!0); try { const S = Date.now().toString(), K = "GET", J = "/api/v1/history-positions?pageSize=50", fe = await be(S, K, J, "", M), me = k === "2" || k === "3" ? await Ne(N, M) : N, Qe = await (await fetch(`${Ee}${J}`, { method: "GET", headers: { "Content-Type": "application/json", "KC-API-KEY": T, "KC-API-SIGN": fe, "KC-API-TIMESTAMP": S, "KC-API-PASSPHRASE": me, "KC-API-KEY-VERSION": k } })).json(); if (console.log("PnL History Response:", Qe), Qe.code === "200000" && Qe.data && Qe.data.items) { const Re = Qe.data.items.map(je => ({ id: je.id || je.openingTimestamp, symbol: je.symbol, side: je.side, qty: parseFloat(je.qty || je.currentQty || 0), entryPrice: parseFloat(je.avgEntryPrice || 0), closePrice: parseFloat(je.avgClosePrice || 0), pnl: parseFloat(je.pnl || je.realisedPnl || 0), roe: parseFloat(je.roe || 0) * 100, openTime: new Date(je.openingTimestamp), closeTime: new Date(je.closingTimestamp || je.settledTimestamp), leverage: parseFloat(je.leverage || 1), fee: parseFloat(je.tradeFee || 0), fundingFee: parseFloat(je.fundingFee || 0) })); Qt(Re) } } catch (S) { console.error("PnL history error:", S) } finally { pr(!1) } } }, Et = z.useMemo(() => { if (!kt.length) return []; const S = [...kt].sort((J, fe) => J.closeTime - fe.closeTime); let K = 0; return S.map(J => (K += J.pnl, { date: J.closeTime, pnl: J.pnl, cumulative: K, symbol: J.symbol, side: J.side })) }, [kt]), Vt = z.useMemo(() => { if (!kt.length) return null; const S = kt.filter(De => De.pnl > 0), K = kt.filter(De => De.pnl < 0), J = kt.reduce((De, at) => De + at.pnl, 0), fe = kt.reduce((De, at) => De + at.fee + at.fundingFee, 0), me = S.length ? S.reduce((De, at) => De + at.pnl, 0) / S.length : 0, Oe = K.length ? K.reduce((De, at) => De + at.pnl, 0) / K.length : 0, Qe = S.length ? Math.max(...S.map(De => De.pnl)) : 0, Re = K.length ? Math.min(...K.map(De => De.pnl)) : 0, je = K.length && Oe !== 0 ? Math.abs(S.reduce((De, at) => De + at.pnl, 0) / K.reduce((De, at) => De + at.pnl, 0)) : 0; return { totalTrades: kt.length, wins: S.length, losses: K.length, winRate: S.length / kt.length * 100, totalPnl: J, totalFees: fe, netPnl: J - fe, avgWin: me, avgLoss: Oe, maxWin: Qe, maxLoss: Re, profitFactor: je, avgRoe: kt.reduce((De, at) => De + at.roe, 0) / kt.length } }, [kt]); z.useEffect(() => { if (T && M && N) { Ye(), Xe(), st(), Ge(); const S = setInterval(Ye, 3e4), K = setInterval(Xe, 1e4); return () => { clearInterval(S), clearInterval(K) } } }, [T, M, N]); const _t = z.useCallback(S => { if (x) try { const K = new (window.AudioContext || window.webkitAudioContext), J = K.createOscillator(), fe = K.createGain(); switch (J.connect(fe), fe.connect(K.destination), S) { case "ENTRY_LONG": J.frequency.setValueAtTime(523.25, K.currentTime), J.frequency.setValueAtTime(659.25, K.currentTime + .15), J.frequency.setValueAtTime(783.99, K.currentTime + .3), fe.gain.setValueAtTime(.3, K.currentTime), fe.gain.exponentialRampToValueAtTime(.01, K.currentTime + .5), J.start(K.currentTime), J.stop(K.currentTime + .5); break; case "ENTRY_SHORT": J.frequency.setValueAtTime(783.99, K.currentTime), J.frequency.setValueAtTime(659.25, K.currentTime + .15), J.frequency.setValueAtTime(523.25, K.currentTime + .3), fe.gain.setValueAtTime(.3, K.currentTime), fe.gain.exponentialRampToValueAtTime(.01, K.currentTime + .5), J.start(K.currentTime), J.stop(K.currentTime + .5); break; case "TAKE_PROFIT": J.type = "sine", J.frequency.setValueAtTime(1046.5, K.currentTime), J.frequency.setValueAtTime(1318.51, K.currentTime + .1), J.frequency.setValueAtTime(1567.98, K.currentTime + .2), J.frequency.setValueAtTime(2093, K.currentTime + .3), fe.gain.setValueAtTime(.25, K.currentTime), fe.gain.exponentialRampToValueAtTime(.01, K.currentTime + .6), J.start(K.currentTime), J.stop(K.currentTime + .6); break; case "STOP_LOSS": J.type = "sawtooth", J.frequency.setValueAtTime(200, K.currentTime), J.frequency.setValueAtTime(150, K.currentTime + .2), J.frequency.setValueAtTime(200, K.currentTime + .4), fe.gain.setValueAtTime(.2, K.currentTime), fe.gain.exponentialRampToValueAtTime(.01, K.currentTime + .6), J.start(K.currentTime), J.stop(K.currentTime + .6); break; default: return } } catch (K) { console.log("Sound play failed:", K) } }, [x]); z.useEffect(() => { const S = ["ENTRY_LONG", "ENTRY_SHORT", "TAKE_PROFIT", "STOP_LOSS"]; for (const K of t) { const J = a[K]; if (!J) continue; const fe = J.signalType, me = B[K]; S.includes(fe) && fe !== me && (_t(fe), E(Oe => ({ ...Oe, [K]: fe }))) } }, [a, t, B, _t]), z.useEffect(() => {
    var K, J; if (W.length === 0) return; const S = W.filter(fe => !fe.triggered); if (S.length !== 0) for (const fe of S) {
      const me = (J = (K = n[fe.symbol]) == null ? void 0 : K.slice(-1)[0]) == null ? void 0 : J.close; if (!me) continue; let Oe = !1; (fe.condition === "above" && me >= fe.price || fe.condition === "below" && me <= fe.price) && (Oe = !0), Oe && (_t("ENTRY_LONG"), "Notification" in window && Notification.permission === "granted" && new Notification(` : ${fe.symbol}`, { body: `${fe.condition === "above" ? "" : ""}: ${me.toFixed(2)} (: ${fe.price})`, icon: "/favicon.ico" }), $e(Qe => Qe.map(Re => Re.id === fe.id ? { ...Re, triggered: !0, triggeredAt: Date.now() } : Re)), fe(` 

${fe.symbol}
${fe.condition === "above" ? " " : " "}

: ${me.toFixed(2)}
: ${fe.price}`))
    }
  }, [n, W, _t]); const fr = (S, K, J) => { const fe = { id: Date.now().toString(), symbol: S, price: parseFloat(K), condition: J, triggered: !1, createdAt: Date.now() }; $e(me => [...me, fe]) }, or = S => { $e(K => K.filter(J => J.id !== S)) }; z.useEffect(() => { "Notification" in window && Notification.permission === "default" && Notification.requestPermission() }, []), z.useEffect(() => {
    const S = K => {
      var me; if (["INPUT", "TEXTAREA", "SELECT"].includes((me = document.activeElement) == null ? void 0 : me.tagName)) return; const J = a[e], fe = K.key.toLowerCase(); if (fe === "l" && (J == null ? void 0 : J.action) === "OPEN_LONG" && T && (K.preventDefault(), (ge || confirm(` LONG

${e}
: ${ue}%
: ${ve}x

`)) && bt(e, "buy", ue, ve)), fe === "s" && (J == null ? void 0 : J.action) === "OPEN_SHORT" && T && (K.preventDefault(), (ge || confirm(` SHORT

${e}
: ${ue}%
: ${ve}x

`)) && bt(e, "sell", ue, ve)), fe === "c" && We[e] && T && (K.preventDefault(), (ge || confirm(` 

${e}
${We[e].type}

`)) && ht(e)), fe === "escape" && (K.preventDefault(), d(Oe => !Oe)), ["1", "2", "3", "4"].includes(fe)) { K.preventDefault(); const Oe = parseInt(fe) - 1; t[Oe] && r(t[Oe]) } fe === "k" && (K.preventDefault(), ct(Oe => !Oe))
    }; return window.addEventListener("keydown", S), () => window.removeEventListener("keydown", S)
  }, [e, a, T, ge, ue, ve, We, t]); const mt = (S, K) => { if (S.length < K) return null; const J = 2 / (K + 1); let fe = S.slice(0, K).reduce((me, Oe) => me + Oe, 0) / K; for (let me = K; me < S.length; me++)fe = S[me] * J + fe * (1 - J); return fe }, ar = (S, K = 20, J = 2) => { if (S.length < K) return null; const fe = S.slice(-K).map(Re => Re.close), me = fe.reduce((Re, je) => Re + je, 0) / K, Oe = fe.reduce((Re, je) => Re + Math.pow(je - me, 2), 0) / K, Qe = Math.sqrt(Oe); return { upper: me + J * Qe, middle: me, lower: me - J * Qe, std: Qe } }, Mr = (S, K = 12, J = 26, fe = 9) => { if (S.length < J + fe) return null; const me = S.map(vt => vt.close), Oe = mt(me, K), Qe = mt(me, J), Re = Oe - Qe, je = []; for (let vt = J; vt <= me.length; vt++) { const Lt = me.slice(0, vt), we = mt(Lt, K), ft = mt(Lt, J); we !== null && ft !== null && je.push(we - ft) } const De = je.length >= fe ? mt(je, fe) : Re, at = Re - De, Je = je.length >= 2 ? je[je.length - 2] - De : at, Ot = at - Je; return { macd: Re, signal: De, histogram: at, histogramSlope: Ot } }, cn = (S, K = 14) => { if (S.length < K + 1) return null; let J = 0; for (let fe = S.length - K; fe < S.length; fe++) { const me = S[fe].high, Oe = S[fe].low, Qe = S[fe - 1].close, Re = Math.max(me - Oe, Math.abs(me - Qe), Math.abs(Oe - Qe)); J += Re } return J / K }, Vr = (S, K = 20) => { if (S.length < K) return null; const J = S.slice(-K).map(Re => Re.volume), fe = J.reduce((Re, je) => Re + je, 0) / K, me = S[S.length - 1].volume, Oe = Math.sqrt(J.reduce((Re, je) => Re + Math.pow(je - fe, 2), 0) / K), Qe = me > fe + Oe * 1.5; return { current: me, average: fe, ratio: me / fe, isSpike: Qe } }, Jn = S => { if (S.length < 50) return { trend: "NEUTRAL", strength: 0, ema20: null, ema50: null }; const K = S.map(Re => Re.close), J = mt(K, 20), fe = mt(K, 50), me = K[K.length - 1]; let Oe = "NEUTRAL", Qe = 0; return J > fe && me > J ? (Oe = "STRONG_UP", Qe = (me - fe) / fe * 100) : J > fe ? (Oe = "UP", Qe = (J - fe) / fe * 100) : J < fe && me < J ? (Oe = "STRONG_DOWN", Qe = (fe - me) / fe * 100) : J < fe && (Oe = "DOWN", Qe = (fe - J) / fe * 100), { trend: Oe, strength: Math.min(Qe, 10), ema20: J, ema50: fe } }, [Pt, Mn] = z.useState(() => { const S = localStorage.getItem("trade_learned_params_v52"); return S ? JSON.parse(S) : { rsiPeriod: 7, rsiOversold: 40, rsiOverbought: 60, takeProfitPercent: .4, stopLossPercent: .25, volumeThreshold: .8, maxHoldingMinutes: 30, momentumThreshold: .08, volatilityMode: "auto", lastUpdated: null, performance: { winRate: 0, profitFactor: 0, trades: 0 } } }), $r = z.useCallback(() => { const S = new Date().getHours(), K = .4, J = .25; let fe = 1, me = ""; return S >= 6 && S < 12 ? (fe = .75, me = "") : S >= 16 && S < 20 ? (fe = 1.25, me = "") : (S >= 22 || S < 2) && (fe = 1.5, me = ""), Pt.volatilityMode === "low" ? (fe = .75, me = "") : Pt.volatilityMode === "medium" ? (fe = 1, me = "") : Pt.volatilityMode === "high" && (fe = 1.5, me = ""), { takeProfitPercent: Math.round(K * fe * 100) / 100, stopLossPercent: Math.round(J * fe * 100) / 100, volatilityMultiplier: fe, timeZoneName: me, maxHoldingMinutes: 30 } }, [Pt.volatilityMode]), [Os, Ys] = z.useState(!1), [$i, mi] = z.useState(0), [SA, za] = z.useState([]); z.useEffect(() => { localStorage.setItem("trade_learned_params_v52", JSON.stringify(Pt)) }, [Pt]); const Zc = async () => { Ys(!0), mi(0), za([]); const S = K => za(J => [...J.slice(-9), K]); try { S(" ..."); const K = kr.symbol.replace("/", ""), J = await fetch(`https://api.binance.com/api/v3/klines?symbol=${K}&interval=1m&limit=1000`); if (!J.ok) throw new Error(""); const me = (await J.json()).map(Je => ({ timestamp: new Date(Je[0]), open: parseFloat(Je[1]), high: parseFloat(Je[2]), low: parseFloat(Je[3]), close: parseFloat(Je[4]), volume: parseFloat(Je[5]) })); S(` ${me.length}`), mi(10); const Oe = { rsiPeriod: [5, 7, 9], rsiOversold: [35, 40, 45], rsiOverbought: [55, 60, 65], takeProfitPercent: [.15, .2, .25, .3], stopLossPercent: [.1, .15, .2], volumeThreshold: [.6, .8, 1], maxHoldingMinutes: [5, 8, 10, 15], momentumThreshold: [.05, .08, .1] }; let Qe = { ...Pt }, Re = 0, je = 0, De = 1; Object.values(Oe).forEach(Je => De *= Je.length), S(` ${De}...`); let at = 0; for (const Je of Oe.rsiPeriod) for (const Ot of Oe.rsiOversold) for (const vt of Oe.rsiOverbought) for (const Lt of Oe.takeProfitPercent) for (const we of Oe.stopLossPercent) for (const ft of Oe.volumeThreshold) for (const Nt of Oe.maxHoldingMinutes) for (const Ve of Oe.momentumThreshold) { at++; const Ut = Io(me, { rsiPeriod: Je, rsiOversold: Ot, rsiOverbought: vt, takeProfitPercent: Lt, stopLossPercent: we, volumeThreshold: ft, maxHoldingMinutes: Nt, momentumThreshold: Ve }), Rt = Math.min(Ut.trades / 50, 2), $t = Ut.profitFactor * (Ut.winRate / 100) * Rt, Ht = Re * (je / 100) * 1; if ($t > Ht && Ut.trades >= 10 && (Re = Ut.profitFactor, je = Ut.winRate, Qe = { rsiPeriod: Je, rsiOversold: Ot, rsiOverbought: vt, takeProfitPercent: Lt, stopLossPercent: we, volumeThreshold: ft, maxHoldingMinutes: Nt, momentumThreshold: Ve }, S(` : ${je.toFixed(0)}% PF${Re.toFixed(2)} ${Ut.trades}`)), at % 200 === 0) { const jt = 10 + Math.floor(at / De * 80); mi(jt) } } S(" "), S(` : ${je.toFixed(1)}% | PF: ${Re.toFixed(2)}`), mi(95), Mn({ ...Qe, lastUpdated: new Date().toISOString(), performance: { winRate: je, profitFactor: Re, trades: 0 } }), mi(100), S(" ") } catch (K) { S(` : ${K.message}`) } finally { Ys(!1) } }, Io = (S, K) => { let J = null, fe = 0, me = 0, Oe = 0, Qe = 0; const Re = (we, ft) => { if (we.length < ft + 1) return null; let Nt = 0, Ve = 0; for (let $t = we.length - ft; $t < we.length; $t++) { const Ht = we[$t].close - we[$t - 1].close; Ht > 0 ? Nt += Ht : Ve -= Ht } const Ut = Nt / ft, Rt = Ve / ft; return Rt === 0 ? 100 : 100 - 100 / (1 + Ut / Rt) }, je = (we, ft) => { if (we.length < ft + 3) return 0; const Nt = Re(we.slice(0, -2), ft), Ve = Re(we, ft); return !Nt || !Ve ? 0 : Ve - Nt }, De = we => { if (we.length < 20) return 1; const ft = we.slice(-20).reduce((Nt, Ve) => Nt + Ve.volume, 0) / 20; return we[we.length - 1].volume / ft }; for (let we = 30; we < S.length; we++) { const ft = S.slice(0, we + 1), Nt = Re(ft, K.rsiPeriod), Ve = je(ft, K.rsiPeriod), Ut = De(ft), Rt = S[we].close; if (Nt) if (J) { const Ht = we - J.entryBar, jt = J.type === "LONG" ? (Rt - J.entryPrice) / J.entryPrice * 100 : (J.entryPrice - Rt) / J.entryPrice * 100, rr = jt >= K.takeProfitPercent, xr = jt <= -K.stopLossPercent, Sr = Ht >= K.maxHoldingMinutes; (rr || xr || Sr) && (jt > 0 ? (fe++, Oe += jt) : (me++, Qe += Math.abs(jt)), J = null) } else { const $t = Ut >= K.volumeThreshold, Ht = Nt < K.rsiOversold, jt = Nt > K.rsiOverbought, rr = Ve > .5, xr = Ve < -.5, Sr = ft.length >= 4 ? (Rt - ft[ft.length - 4].close) / ft[ft.length - 4].close * 100 : 0, hn = K.momentumThreshold || .08, cr = 20; if (ft.length >= cr) { const _r = ft.slice(-cr), Pn = _r.reduce((vr, an) => vr + an.close, 0) / cr, Ea = _r.reduce((vr, an) => vr + Math.pow(an.close - Pn, 2), 0) / cr, Ji = Math.sqrt(Ea), MA = Pn - Ji * 2, $A = Pn + Ji * 2, Ur = Ht && rr, fn = Rt <= MA * 1.002 && Nt < 50, Br = Sr > hn && Nt < 55, qr = jt && xr, gs = Rt >= $A * .998 && Nt > 50, Rr = Sr < -hn && Nt > 45; (Ur || fn || Br) && $t ? J = { type: "LONG", entryPrice: Rt, entryBar: we } : (qr || gs || Rr) && $t && (J = { type: "SHORT", entryPrice: Rt, entryBar: we }) } } } const at = fe + me, Je = at > 0 ? fe / at * 100 : 0, Ot = fe > 0 ? Oe / fe : 0, vt = me > 0 ? Qe / me : 1, Lt = vt > 0 ? Ot / vt : Ot > 0 ? 1 / 0 : 0; return { trades: at, wins: fe, losses: me, winRate: Je, profitFactor: Lt, avgWin: Ot, avgLoss: vt } }, qa = (S, K = 9) => { if (S.length < K + 1) return null; let J = 0, fe = 0; for (let Re = S.length - K; Re < S.length; Re++) { const je = S[Re].close - S[Re - 1].close; je > 0 ? J += je : fe -= je } const me = J / K, Oe = fe / K; return Oe === 0 ? 100 : 100 - 100 / (1 + me / Oe) }, Nl = (S, K = 9) => { if (S.length < K + 3) return 0; const J = qa(S.slice(0, -2), K), fe = qa(S.slice(0, -1), K), me = qa(S, K); return !J || !fe || !me ? 0 : (me - J) / 2 }, Ps = (S, K) => { if (!S || S.length < 20) return { signal: " WAIT", reason: "...", action: null, signalType: "WAIT" }; const J = Pt, fe = $r(), me = qa(S, J.rsiPeriod), Oe = Nl(S, J.rsiPeriod), Qe = Vr(S), Re = S[S.length - 1].close, je = We[K], De = ar(S), at = Mr(S), Je = cn(S), Ot = Jn(S); if (!me || !Je) return { signal: " WAIT", reason: "...", action: null, signalType: "WAIT", rsi: me, bb: De, macd: at, emaTrend: Ot }; const vt = fe.takeProfitPercent, Lt = fe.stopLossPercent, we = fe.maxHoldingMinutes * 60 * 1e3; if (je) { const Br = je.entryPrice, qr = new Date(je.entryTime).getTime(), gs = Date.now() - qr, Rr = Math.floor(gs / 6e4), vr = je.type === "LONG" ? (Re - Br) / Br * 100 : (Br - Re) / Br * 100, an = je.type === "LONG" ? Br * (1 + vt / 100) : Br * (1 - vt / 100), Fi = je.type === "LONG" ? Br * (1 - Lt / 100) : Br * (1 + Lt / 100), Rd = je.type === "LONG" ? Re >= an : Re <= an, Ll = je.type === "LONG" ? Re <= Fi : Re >= Fi, Ol = gs >= we; if (Rd) return { signal: " ", signalType: "TAKE_PROFIT", reason: `+${vr.toFixed(3)}% | ${Rr}`, action: je.type === "LONG" ? "CLOSE_LONG" : "CLOSE_SHORT", position: je, pnlPercent: vr, rsi: me, bb: De, macd: at, atr: Je, volume: Qe, emaTrend: Ot, lastPrice: Re, tpPrice: an, slPrice: Fi, params: J }; if (Ll) return { signal: " ", signalType: "STOP_LOSS", reason: `${vr.toFixed(3)}% | ${Rr}`, action: je.type === "LONG" ? "CLOSE_LONG" : "CLOSE_SHORT", position: je, pnlPercent: vr, rsi: me, bb: De, macd: at, atr: Je, volume: Qe, emaTrend: Ot, lastPrice: Re, tpPrice: an, slPrice: Fi, params: J }; if (Ol) return { signal: " ", signalType: vr >= 0 ? "TIME_EXIT_PROFIT" : "TIME_EXIT_LOSS", reason: `${vr >= 0 ? "+" : ""}${vr.toFixed(3)}% | ${Rr}`, action: je.type === "LONG" ? "CLOSE_LONG" : "CLOSE_SHORT", position: je, pnlPercent: vr, rsi: me, bb: De, macd: at, atr: Je, volume: Qe, emaTrend: Ot, lastPrice: Re, params: J }; const Pl = we - gs, KA = Math.max(0, Math.floor(Pl / 6e4)), nu = Math.max(0, Math.floor(Pl % 6e4 / 1e3)), Dl = KA <= 5 && KA > 0, Rl = KA <= 2 && KA > 0, su = je.type === "LONG" ? (an - Re) / Re * 100 : (Re - an) / Re * 100; je.type === "LONG" ? (Re - Fi) / Re * 100 : (Fi - Re) / Re * 100; const P0 = Math.max(0, Math.min(100, (1 - su / vt) * 100)), D0 = Dl && vr > 0 && vr < vt * .5; return { signal: je.type === "LONG" ? " HOLD" : " HOLD", signalType: "HOLDING", reason: `${vr >= 0 ? "+" : ""}${vr.toFixed(3)}% | ${Rr}`, action: null, position: je, pnlPercent: vr, rsi: me, bb: De, macd: at, atr: Je, volume: Qe, emaTrend: Ot, lastPrice: Re, tpPrice: an, slPrice: Fi, params: fe, remainingMinutes: KA, remainingSeconds: nu, isTimeWarning: Dl, isTimeCritical: Rl, tpProgress: P0, shouldBreakeven: D0, volatilityParams: fe } } const ft = Qe.ratio >= J.volumeThreshold, Nt = me < J.rsiOversold, Ve = me > J.rsiOverbought, Ut = Oe > .5, Rt = Oe < -.5, $t = S.length >= 4 ? (Re - S[S.length - 4].close) / S[S.length - 4].close * 100 : 0, Ht = J.momentumThreshold || .08, jt = De ? Re <= De.lower * 1.002 : !1, rr = De ? Re >= De.upper * .998 : !1, xr = Nt && Ut, Sr = jt && me < 50, hn = $t > Ht && me < 55, cr = (xr || Sr || hn) && ft, _r = Ve && Rt, Pn = rr && me > 50, Ea = $t < -Ht && me > 45, Ji = (_r || Pn || Ea) && ft, MA = () => xr ? `RSI${me.toFixed(0)}` : Sr ? "BB" : hn ? `+${$t.toFixed(2)}%` : "", $A = () => _r ? `RSI${me.toFixed(0)}` : Pn ? "BB" : Ea ? `${$t.toFixed(2)}%` : ""; const histSlope = at.histogramSlope || 0, isConfirmed = Qe.ratio > 1.2; if (cr) { const Br = Re * (1 + vt / 100), qr = Re * (1 - Lt / 100); const isConfirmedLong = isConfirmed && histSlope > 0; return { signal: isConfirmedLong ? " CONFIRMED LONG" : " LONG", signalType: isConfirmedLong ? "CONFIRMED_LONG" : "ENTRY_LONG", reason: `${MA()} | Vol ${Qe.ratio.toFixed(1)}x`, action: "OPEN_LONG", rsi: me, bb: De, macd: at, atr: Je, volume: Qe, emaTrend: Ot, lastPrice: Re, momentum: $t, suggestedTP: Br, suggestedSL: qr, params: J, pattern: xr ? "RSI" : Sr ? "BB" : "MOM" } } if ((me < J.rsiOversold + 5 || De && Re < De.lower * 1.01) && !cr) return { signal: " LONG", signalType: "PREPARE_LONG", reason: `RSI${me.toFixed(0)} | `, action: null, rsi: me, bb: De, macd: at, atr: Je, volume: Qe, emaTrend: Ot, lastPrice: Re, momentum: $t, params: J }; if (Ji) { const Br = Re * (1 - vt / 100), qr = Re * (1 + Lt / 100); const isConfirmedShort = isConfirmed && histSlope < 0; return { signal: isConfirmedShort ? " CONFIRMED SHORT" : " SHORT", signalType: isConfirmedShort ? "CONFIRMED_SHORT" : "ENTRY_SHORT", reason: `${$A()} | Vol ${Qe.ratio.toFixed(1)}x`, action: "OPEN_SHORT", rsi: me, bb: De, macd: at, atr: Je, volume: Qe, emaTrend: Ot, lastPrice: Re, momentum: $t, suggestedTP: Br, suggestedSL: qr, params: J, pattern: _r ? "RSI" : Pn ? "BB" : "MOM" } } return (me > J.rsiOverbought - 5 || De && Re > De.upper * .99) && !Ji ? { signal: " SHORT", signalType: "PREPARE_SHORT", reason: `RSI${me.toFixed(0)} | `, action: null, rsi: me, bb: De, macd: at, atr: Je, volume: Qe, emaTrend: Ot, lastPrice: Re, momentum: $t, params: J } : { signal: " WAIT", signalType: "WAIT", reason: `RSI${me.toFixed(0)} | Mom${$t >= 0 ? "+" : ""}${$t.toFixed(2)}%`, action: null, rsi: me, bb: De, macd: at, atr: Je, volume: Qe, emaTrend: Ot, lastPrice: Re, momentum: $t, params: J } }, jA = (S, K, J, fe = "") => { const me = `${S}_${Date.now()}`; ot(Oe => ({ ...Oe, [S]: { id: me, type: K, entryPrice: J, entryTime: new Date().toISOString(), quantity: 1 } })), fe && Le(Oe => ({ ...Oe, [me]: { entryMemo: fe, entryTime: new Date().toISOString(), symbol: S, type: K } })) }, Qo = (S, K = "") => { const J = We[S]; J != null && J.id && K && Le(fe => ({ ...fe, [J.id]: { ...fe[J.id], exitMemo: K, exitTime: new Date().toISOString() } })), ot(fe => { const me = { ...fe }; return delete me[S], me }) }, [To, ma] = z.useState(!1), [Wt, Lo] = z.useState(null), [xi, Wa] = z.useState(!1), [Zr, vn] = z.useState(null), [Sl, hs] = z.useState(""), Ja = [{ id: "structure", name: "Dr. Michael Webb", title: "", avatar: "", specialty: "", style: "", color: "text-blue-400", bgColor: "bg-blue-900/30", borderColor: "border-blue-500/50", weight: 1.2 }, { id: "technical", name: "Dr. Sarah Chen", title: "", avatar: "", specialty: "", style: "", color: "text-cyan-400", bgColor: "bg-cyan-900/30", borderColor: "border-cyan-500/50", weight: 1 }, { id: "risk", name: " ", title: "", avatar: "", specialty: "", style: "", color: "text-amber-400", bgColor: "bg-amber-900/30", borderColor: "border-amber-500/50", weight: 1.3 }, { id: "sentiment", name: "Elena Volkov", title: "", avatar: "", specialty: "", style: "", color: "text-purple-400", bgColor: "bg-purple-900/30", borderColor: "border-purple-500/50", weight: .9 }, { id: "execution", name: "James Park", title: "", avatar: "", specialty: "", style: "", color: "text-emerald-400", bgColor: "bg-emerald-900/30", borderColor: "border-emerald-500/50", weight: 1 }], jl = S => { var $t, Ht; if (!S || S.length < 50) return null; const K = S.map(jt => jt.high), J = S.map(jt => jt.low), fe = S.map(jt => jt.close), me = fe[fe.length - 1], Oe = Math.max(...K.slice(-20)), Qe = Math.min(...J.slice(-20)), Re = (Oe + Qe + me) / 3, je = 2 * Re - Qe, De = 2 * Re - Oe, at = Re + (Oe - Qe), Je = Re - (Oe - Qe), Ot = [], vt = []; for (let jt = 5; jt < S.length - 5; jt++)K[jt] === Math.max(...K.slice(jt - 5, jt + 6)) && Ot.push({ price: K[jt], index: jt }), J[jt] === Math.min(...J.slice(jt - 5, jt + 6)) && vt.push({ price: J[jt], index: jt }); const Lt = (($t = Ot.filter(jt => jt.price > me).sort((jt, rr) => jt.price - rr.price)[0]) == null ? void 0 : $t.price) || je, we = ((Ht = vt.filter(jt => jt.price < me).sort((jt, rr) => rr.price - jt.price)[0]) == null ? void 0 : Ht.price) || De, ft = Ot.slice(-3), Nt = vt.slice(-3); let Ve = "RANGE"; if (ft.length >= 2 && Nt.length >= 2) { const jt = ft[ft.length - 1].price > ft[ft.length - 2].price, rr = Nt[Nt.length - 1].price > Nt[Nt.length - 2].price, xr = ft[ft.length - 1].price < ft[ft.length - 2].price, Sr = Nt[Nt.length - 1].price < Nt[Nt.length - 2].price; jt && rr ? Ve = "UPTREND" : xr && Sr && (Ve = "DOWNTREND") } const Ut = (Lt - me) / me * 100, Rt = (me - we) / me * 100; return { pivot: Re, r1: je, r2: at, s1: De, s2: Je, nearestResistance: Lt, nearestSupport: we, distanceToResistance: Ut, distanceToSupport: Rt, trendStructure: Ve, swingHighs: Ot.slice(-5), swingLows: vt.slice(-5), currentPrice: me } }, Ds = S => { if (!S || S.length < 30) return null; const K = S.map(at => at.volume), J = K.reduce((at, Je) => at + Je, 0) / K.length, fe = K.slice(-5).reduce((at, Je) => at + Je, 0) / 5, me = fe / J, Oe = K.slice(0, Math.floor(K.length / 2)).reduce((at, Je) => at + Je, 0), Qe = K.slice(Math.floor(K.length / 2)).reduce((at, Je) => at + Je, 0), Re = Qe > Oe * 1.1 ? "INCREASING" : Qe < Oe * .9 ? "DECREASING" : "STABLE"; S.slice(1).map((at, Je) => at.close - S[Je].close); const je = S[S.length - 1].close - S[S.length - 6].close, De = je > 0 && me > 1.2 || je < 0 && me > 1.2; return { avgVolume: J, recentVolume: fe, volumeRatio: me, volumeTrend: Re, volumeConfirmation: De, isHighVolume: me > 1.5, isLowVolume: me < .7 } }, Sn = S => { if (!S || S.length < 20) return null; const K = []; for (let De = 1; De < S.length; De++) { const at = Math.max(S[De].high - S[De].low, Math.abs(S[De].high - S[De - 1].close), Math.abs(S[De].low - S[De - 1].close)); K.push(at) } const J = K.slice(-14).reduce((De, at) => De + at, 0) / 14, fe = K.slice(-5).reduce((De, at) => De + at, 0) / 5, me = S[S.length - 1].close, Oe = J / me * 100, Qe = fe > J * 1.2, Re = fe < J * .8; let je = "NORMAL"; return Oe > 2 ? je = "VERY_HIGH" : Oe > 1 ? je = "HIGH" : Oe < .3 && (je = "LOW"), { atr14: J, atr5: fe, atrPercent: Oe, volatilityExpanding: Qe, volatilityContracting: Re, volatilityLevel: je, suggestedSLMultiplier: je === "VERY_HIGH" ? 2.5 : je === "HIGH" ? 2 : 1.5 } }, Ki = S => { if (!S || S.length < 60) return null; const K = (vt, Lt) => { const we = 2 / (Lt + 1); let ft = vt.slice(0, Lt).reduce((Nt, Ve) => Nt + Ve, 0) / Lt; for (let Nt = Lt; Nt < vt.length; Nt++)ft = vt[Nt] * we + ft * (1 - we); return ft }, J = S.map(vt => vt.close), fe = K(J, 5), me = K(J, 20), Oe = K(J, 60), Qe = J[J.length - 1], Re = Qe > fe ? "BULL" : "BEAR", je = Qe > me ? "BULL" : "BEAR", De = Qe > Oe ? "BULL" : "BEAR", Je = [Re, je, De].filter(vt => vt === "BULL").length, Ot = Je === 3 ? "FULL_BULL" : Je === 0 ? "FULL_BEAR" : Je >= 2 ? "MIXED_BULL" : "MIXED_BEAR"; return { ema5: fe, ema20: me, ema60: Oe, shortTrend: Re, mediumTrend: je, longTrend: De, alignment: Ot, trendStrength: Je === 3 || Je === 0 ? "STRONG" : "WEAK" } }, El = (S, K, J, fe) => { var ft, Nt; const { structure: me, volume: Oe, volatility: Qe, mtf: Re } = fe, je = (K == null ? void 0 : K.rsi) || 50, De = K == null ? void 0 : K.bb, at = K == null ? void 0 : K.macd, Je = (K == null ? void 0 : K.lastPrice) || 0, Ot = (K == null ? void 0 : K.signalType) || "WAIT", vt = Ot === "ENTRY_LONG" || Ot === "PREPARE_LONG", Lt = Ot === "ENTRY_SHORT" || Ot === "PREPARE_SHORT"; let we = { vote: "NEUTRAL", confidence: 50, analysis: "", deepThoughts: [], concerns: [], keyInsights: [], suggestedEntry: null, suggestedTP: null, suggestedSL: null, positionSizePercent: 0, riskRewardRatio: 0 }; if (S.id === "structure") { if (!me) return we.analysis = "", we.vote = "WAIT", we; const { trendStructure: Ve, distanceToResistance: Ut, distanceToSupport: Rt, nearestResistance: $t, nearestSupport: Ht } = me, jt = vt && Ve === "UPTREND" || Lt && Ve === "DOWNTREND", rr = vt && Ve === "DOWNTREND" || Lt && Ve === "UPTREND"; we.deepThoughts.push(`: ${Ve}`), we.deepThoughts.push(`: ${Ut.toFixed(2)}%`), we.deepThoughts.push(`: ${Rt.toFixed(2)}%`); let xr = 50; if (jt ? (xr += 25, we.keyInsights.push(" ")) : rr && (xr -= 20, we.concerns.push(" ")), vt ? (Ut > 1 ? (xr += 15, we.keyInsights.push(` TP (${Ut.toFixed(2)}%)`), we.suggestedTP = $t * .995) : (xr -= 15, we.concerns.push(`  (${Ut.toFixed(2)}%)`), we.suggestedTP = Je * 1.003), we.suggestedSL = Ht * .998) : (Rt > 1 ? (xr += 15, we.keyInsights.push(` TP (${Rt.toFixed(2)}%)`), we.suggestedTP = Ht * 1.005) : (xr -= 15, we.concerns.push(`  (${Rt.toFixed(2)}%)`), we.suggestedTP = Je * .997), we.suggestedSL = $t * 1.002), we.suggestedEntry = Je, we.confidence = Math.max(20, Math.min(95, xr)), we.vote = xr >= 65 ? "GO" : xr >= 45 ? "NEUTRAL" : "WAIT", we.suggestedTP && we.suggestedSL) { const Sr = Math.abs(we.suggestedTP - Je), hn = Math.abs(Je - we.suggestedSL); we.riskRewardRatio = hn > 0 ? Sr / hn : 0 } we.analysis = `: ${Ve}${vt ? "" : ""}${jt ? "" : rr ? "" : ""}RR: ${we.riskRewardRatio.toFixed(2)}`, we.positionSizePercent = we.vote === "GO" ? 10 : we.vote === "NEUTRAL" ? 5 : 0 } else if (S.id === "technical") { let Ve = 50; const Ut = je < 35, Rt = je > 65, $t = je >= 40 && je <= 60; if (vt && Ut ? (Ve += 20, we.keyInsights.push(` RSI (${je.toFixed(0)})`)) : Lt && Rt ? (Ve += 20, we.keyInsights.push(` RSI (${je.toFixed(0)})`)) : $t && (Ve -= 5, we.concerns.push(` RSI (${je.toFixed(0)})`)), De) { const Ht = (Je - De.lower) / (De.upper - De.lower); we.deepThoughts.push(`BB: ${(Ht * 100).toFixed(0)}%`), vt && Ht < .2 ? (Ve += 15, we.keyInsights.push(" BB")) : Lt && Ht > .8 ? (Ve += 15, we.keyInsights.push(" BB")) : (vt && Ht > .7 || Lt && Ht < .3) && (Ve -= 10, we.concerns.push(" BB")) } if (at) { const Ht = at.histogram > 0 && at.macd > at.signal, jt = at.histogram < 0 && at.macd < at.signal; vt && Ht || Lt && jt ? (Ve += 15, we.keyInsights.push(" MACD")) : (vt && jt || Lt && Ht) && (Ve -= 15, we.concerns.push(" MACD")), we.deepThoughts.push(`MACD: ${at.histogram > 0 ? "+" : ""}${at.histogram.toFixed(2)}`) } if (Re && (vt && Re.alignment === "FULL_BULL" || Lt && Re.alignment === "FULL_BEAR" ? (Ve += 20, we.keyInsights.push(" ")) : (vt && Re.alignment === "FULL_BEAR" || Lt && Re.alignment === "FULL_BULL") && (Ve -= 20, we.concerns.push(" "))), we.confidence = Math.max(20, Math.min(95, Ve)), we.vote = Ve >= 65 ? "GO" : Ve >= 45 ? "NEUTRAL" : "WAIT", Qe) { const Ht = Qe.volatilityLevel === "HIGH" ? 2.5 : 2; vt ? (we.suggestedTP = Je + Qe.atr14 * Ht, we.suggestedSL = Je - Qe.atr14 * 1.5) : (we.suggestedTP = Je - Qe.atr14 * Ht, we.suggestedSL = Je + Qe.atr14 * 1.5), we.suggestedEntry = Je, we.riskRewardRatio = Ht / 1.5 } we.analysis = `: RSI(${je.toFixed(0)})${De ? `BB${((Je - De.lower) / (De.upper - De.lower) * 100).toFixed(0)}%` : "BB N/A"}${Re ? `MTF:${Re.alignment}` : ""}`, we.positionSizePercent = we.vote === "GO" ? 8 : we.vote === "NEUTRAL" ? 4 : 0 } else if (S.id === "risk") { let Ve = 50; Qe && (we.deepThoughts.push(`ATR: ${Qe.atrPercent.toFixed(2)}%`), we.deepThoughts.push(`: ${Qe.volatilityLevel}`), Qe.volatilityLevel === "VERY_HIGH" ? (Ve -= 25, we.concerns.push("  - ")) : Qe.volatilityLevel === "HIGH" ? (Ve -= 10, we.concerns.push("  - ")) : Qe.volatilityLevel === "LOW" && (Ve += 10, we.keyInsights.push("  - ")), Qe.volatilityExpanding && (Ve -= 15, we.concerns.push("  - "))); const Ut = vt ? Je * 1.003 : Je * .997, Rt = vt ? Je * .998 : Je * 1.002, $t = Math.abs(Ut - Je) / Math.abs(Je - Rt); we.deepThoughts.push(`RR: ${$t.toFixed(2)}`); const Ht = ((ft = Pt.performance) == null ? void 0 : ft.winRate) || 50, jt = Pt.takeProfitPercent || .25, rr = Pt.stopLossPercent || .15, xr = (Ht / 100 * jt - (1 - Ht / 100) * rr) / jt, Sr = Math.max(0, Math.min(xr * .5, .15)); we.deepThoughts.push(`: ${(xr * 100).toFixed(1)}%`), we.deepThoughts.push(`: ${(Sr * 100).toFixed(1)}%`), Sr > .05 ? (Ve += 20, we.keyInsights.push(`  (${(Sr * 100).toFixed(1)}%)`)) : Sr > 0 ? (Ve += 5, we.keyInsights.push(`  (${(Sr * 100).toFixed(1)}%)`)) : (Ve -= 30, we.concerns.push("  - ")); const hn = (Pt.stopLossPercent || .15) * (Sr * 100); hn > 3 && (Ve -= 15, we.concerns.push(` 1${hn.toFixed(1)}%`)), we.confidence = Math.max(20, Math.min(95, Ve)), we.vote = Ve >= 60 ? "GO" : Ve >= 40 ? "NEUTRAL" : "WAIT"; const cr = Qe ? Qe.atrPercent * Qe.suggestedSLMultiplier : .2, _r = cr * 1.5; vt ? (we.suggestedTP = Je * (1 + _r / 100), we.suggestedSL = Je * (1 - cr / 100)) : (we.suggestedTP = Je * (1 - _r / 100), we.suggestedSL = Je * (1 + cr / 100)), we.suggestedEntry = Je, we.riskRewardRatio = _r / cr, we.positionSizePercent = Sr * 100, we.analysis = `: ${(xr * 100).toFixed(1)}%${(Sr * 100).toFixed(1)}%${(Qe == null ? void 0 : Qe.volatilityLevel) || "N/A"}${we.vote === "WAIT" ? "" : ""}` } else if (S.id === "sentiment") { let Ve = 50; if (we.deepThoughts.push(`RSI: ${je.toFixed(0)} (${je < 30 ? "" : je > 70 ? "" : ""})`), vt && je < 25 || Lt && je > 75 ? (Ve += 25, we.keyInsights.push("  - ")) : vt && je < 35 || Lt && je > 65 ? (Ve += 10, we.keyInsights.push("  - ")) : (vt && je > 60 || Lt && je < 40) && (Ve -= 15, we.concerns.push(" ")), Oe && (Oe.isHighVolume && Oe.volumeConfirmation ? (Ve += 15, we.keyInsights.push(" ")) : Oe.isLowVolume && (Ve -= 10, we.concerns.push("  - ")), Oe.volumeTrend === "INCREASING" && (Ve += 5, we.deepThoughts.push(" - "))), J && J.length >= 5) { const $t = J.slice(-5), Ht = $t.every(cr => cr.close < cr.open), jt = $t.every(cr => cr.close > cr.open); (vt && Ht || Lt && jt) && (Ve += 15, we.keyInsights.push(" /FOMO")); const rr = $t[$t.length - 1], xr = Math.abs(rr.close - rr.open), Sr = Math.min(rr.close, rr.open) - rr.low, hn = rr.high - Math.max(rr.close, rr.open); vt && Sr > xr * 2 ? (Ve += 10, we.keyInsights.push("  - ")) : Lt && hn > xr * 2 && (Ve += 10, we.keyInsights.push("  - ")) } we.confidence = Math.max(20, Math.min(95, Ve)), we.vote = Ve >= 65 ? "GO" : Ve >= 45 ? "NEUTRAL" : "WAIT"; const Ut = Math.pow(10, Math.floor(Math.log10(Je))), Rt = Math.round(Je / Ut) * Ut; vt ? (we.suggestedTP = Rt + Ut * .5, we.suggestedSL = Rt - Ut * .3) : (we.suggestedTP = Rt - Ut * .5, we.suggestedSL = Rt + Ut * .3), we.suggestedEntry = Je, we.analysis = `: RSI${je.toFixed(0)}(${je < 35 ? "" : je > 65 ? "" : ""})${((Nt = Oe == null ? void 0 : Oe.volumeRatio) == null ? void 0 : Nt.toFixed(1)) || "N/A"}x${we.vote === "GO" ? "" : ""}`, we.positionSizePercent = we.vote === "GO" ? 6 : we.vote === "NEUTRAL" ? 3 : 0 } else if (S.id === "execution") { let Ve = 50; Oe && (Oe.isHighVolume ? (Ve += 15, we.keyInsights.push("  - ")) : Oe.isLowVolume && (Ve -= 20, we.concerns.push("  - "))), Qe && (Qe.volatilityLevel === "VERY_HIGH" ? (Ve -= 15, we.concerns.push("  - ")) : Qe.volatilityLevel === "LOW" && (Ve += 10, we.keyInsights.push("  - ")), Qe.volatilityExpanding && (Ve -= 10, we.concerns.push("  - "))); const Rt = new Date().getUTCHours(), $t = Rt >= 7 && Rt <= 16, Ht = Rt >= 13 && Rt <= 22, jt = Rt >= 23 || Rt <= 8, rr = Rt >= 13 && Rt <= 16; rr ? (Ve += 15, we.keyInsights.push(" -NY - ")) : $t || Ht ? (Ve += 5, we.keyInsights.push(" ")) : jt && (Ve -= 5, we.concerns.push("  - ")), we.deepThoughts.push(`(UTC): ${Rt}:00`), we.deepThoughts.push(`: ${$t ? "London" : ""}${Ht ? "NY" : ""}${jt ? "Asia" : ""}`); let xr = ""; (Qe == null ? void 0 : Qe.volatilityLevel) === "VERY_HIGH" || Oe != null && Oe.isLowVolume ? (xr = "3", Ve -= 5) : (Qe == null ? void 0 : Qe.volatilityLevel) === "LOW" && (Oe != null && Oe.isHighVolume) ? (xr = "", Ve += 5) : xr = "2", we.deepThoughts.push(`: ${xr}`), we.confidence = Math.max(20, Math.min(95, Ve)), we.vote = Ve >= 60 ? "GO" : Ve >= 40 ? "NEUTRAL" : "WAIT"; const Sr = Qe != null && Qe.atrPercent ? Qe.atrPercent * .1 : .02; vt ? (we.suggestedEntry = Je * (1 + Sr / 100), we.suggestedTP = (K == null ? void 0 : K.suggestedTP) || Je * 1.003, we.suggestedSL = (K == null ? void 0 : K.suggestedSL) || Je * .998) : (we.suggestedEntry = Je * (1 - Sr / 100), we.suggestedTP = (K == null ? void 0 : K.suggestedTP) || Je * .997, we.suggestedSL = (K == null ? void 0 : K.suggestedSL) || Je * 1.002), we.analysis = `: ${Oe != null && Oe.isHighVolume ? "" : Oe != null && Oe.isLowVolume ? "" : ""}${(Qe == null ? void 0 : Qe.volatilityLevel) || "N/A"}${rr ? "" : ""}${xr}`, we.positionSizePercent = we.vote === "GO" ? 8 : we.vote === "NEUTRAL" ? 4 : 0 } return we }, eu = async S => { const K = a[S], J = n[S]; if (!K || !J || J.length < 50) { alert("50"); return } vn(S), ma(!0), Wa(!0), Lo(null); try { hs(" ..."), await new Promise(cr => setTimeout(cr, 400)); const fe = jl(J), me = Ds(J), Oe = Sn(J), Qe = Ki(J), Re = { structure: fe, volume: me, volatility: Oe, mtf: Qe }; hs(" ..."), await new Promise(cr => setTimeout(cr, 500)); const je = []; for (const cr of Ja) { hs(` ${cr.name}...`), await new Promise(Pn => setTimeout(Pn, 300)); const _r = El(cr, K, J, Re); je.push({ expert: cr, opinion: _r }) } hs(" ..."), await new Promise(cr => setTimeout(cr, 400)); let De = 0, at = 0, Je = 0, Ot = 0, vt = 0; je.forEach(({ expert: cr, opinion: _r }) => { const Pn = cr.weight; Ot += Pn, vt += _r.confidence * Pn, _r.vote === "GO" ? De += Pn : _r.vote === "WAIT" ? at += Pn : Je += Pn }); let Lt = 0, we = 0, ft = 0, Nt = 0, Ve = 0, Ut = 0; je.forEach(({ expert: cr, opinion: _r }) => { _r.suggestedTP && (Lt += _r.suggestedTP * cr.weight, Nt += cr.weight), _r.suggestedSL && (we += _r.suggestedSL * cr.weight, Ve += cr.weight), _r.suggestedEntry && (ft += _r.suggestedEntry * cr.weight, Ut += cr.weight) }), Nt > 0 && (Lt /= Nt), Ve > 0 && (we /= Ve), Ut > 0 && (ft /= Ut); const Rt = je.find(cr => cr.expert.id === "risk"), $t = (Rt == null ? void 0 : Rt.opinion.positionSizePercent) || 5; let Ht = "NEUTRAL", jt = "", rr = []; const xr = De / Ot, Sr = at / Ot; xr >= .6 ? (Ht = "GO", jt = `${(xr * 100).toFixed(0)}%`, rr.push(" ")) : Sr >= .5 ? (Ht = "WAIT", jt = `${(Sr * 100).toFixed(0)}%`, rr.push(" ")) : (Ht = "NEUTRAL", jt = "", rr.push(" ")), (Rt == null ? void 0 : Rt.opinion.vote) === "WAIT" && Ht === "GO" && (Ht = "NEUTRAL", jt = "", rr.push(" ")); const hn = ft && Lt && we ? Math.abs(Lt - ft) / Math.abs(ft - we) : 0; hn < 1 && Ht === "GO" && (Ht = "NEUTRAL", jt = `RR(${hn.toFixed(2)})1.0`, rr.push(" ")), Lo({ symbol: S, signal: K, opinions: je, analyses: Re, votes: { GO: De, NEUTRAL: Je, WAIT: at }, avgConfidence: vt / Ot, finalVerdict: Ht, verdictReason: jt, verdictDetails: rr, finalEntry: ft, finalTP: Lt, finalSL: we, finalRR: hn, finalPositionSize: $t, timestamp: new Date().toISOString() }) } catch (fe) { console.error("Debate error:", fe), alert("") } Wa(!1), hs("") }, [ur, Xs] = z.useState(null), [EA, Oo] = z.useState(!1), [FA, xa] = z.useState(!1), [kr, Ya] = z.useState({ symbol: "BTC/USDT", days: 3, interval: "1m", initialCapital: 1e4, positionSize: .1, feeRate: .001 }), tu = async (S, K, J = "15m") => { const fe = S.replace("/", ""), Oe = Math.min(K * (J === "1h" ? 24 : J === "15m" ? 96 : J === "5m" ? 288 : 1440), 1e3), Qe = await fetch(`https://api.binance.com/api/v3/klines?symbol=${fe}&interval=${J}&limit=${Oe}`); if (!Qe.ok) throw new Error("Binance API error"); return (await Qe.json()).map(je => ({ timestamp: new Date(je[0]), open: parseFloat(je[1]), high: parseFloat(je[2]), low: parseFloat(je[3]), close: parseFloat(je[4]), volume: parseFloat(je[5]) })) }, Po = (S, K, J = null, fe = null) => { if (!S || S.length < 30) return { signalType: "WAIT", action: null }; const me = fe || Pt, Oe = (Ur, fn) => { if (Ur.length < fn + 1) return null; let Br = 0, qr = 0; for (let vr = Ur.length - fn; vr < Ur.length; vr++) { const an = Ur[vr].close - Ur[vr - 1].close; an > 0 ? Br += an : qr -= an } const gs = Br / fn, Rr = qr / fn; return Rr === 0 ? 100 : 100 - 100 / (1 + gs / Rr) }, Qe = (Ur, fn) => { if (Ur.length < fn + 3) return 0; const Br = Oe(Ur.slice(0, -2), fn), qr = Oe(Ur, fn); return !Br || !qr ? 0 : qr - Br }, Re = Ur => { if (Ur.length < 20) return 1; const fn = Ur.slice(-20).reduce((Br, qr) => Br + qr.volume, 0) / 20; return Ur[Ur.length - 1].volume / fn }, je = Oe(S, me.rsiPeriod), De = Qe(S, me.rsiPeriod), at = Re(S), Je = S[S.length - 1].close, Ot = S[S.length - 1].timestamp; if (!je) return { signalType: "WAIT", action: null }; const vt = me.takeProfitPercent, Lt = me.stopLossPercent, we = me.maxHoldingMinutes * 60 * 1e3; if (K) { const Ur = K.entryPrice, fn = J ? Ot.getTime() - new Date(J).getTime() : 0, Br = K.type === "LONG" ? (Je - Ur) / Ur * 100 : (Ur - Je) / Ur * 100, qr = Br >= vt, gs = Br <= -Lt, Rr = fn >= we; return qr ? { signalType: "TAKE_PROFIT", action: K.type === "LONG" ? "CLOSE_LONG" : "CLOSE_SHORT", pnlPercent: Br, lastPrice: Je } : gs ? { signalType: "STOP_LOSS", action: K.type === "LONG" ? "CLOSE_LONG" : "CLOSE_SHORT", pnlPercent: Br, lastPrice: Je } : Rr ? { signalType: Br >= 0 ? "TIME_EXIT_PROFIT" : "TIME_EXIT_LOSS", action: K.type === "LONG" ? "CLOSE_LONG" : "CLOSE_SHORT", pnlPercent: Br, lastPrice: Je } : { signalType: "HOLDING", action: null, pnlPercent: Br, lastPrice: Je } } const ft = at >= me.volumeThreshold, Nt = je < me.rsiOversold, Ve = je > me.rsiOverbought, Ut = De > .5, Rt = De < -.5, $t = S.length >= 4 ? (Je - S[S.length - 4].close) / S[S.length - 4].close * 100 : 0, Ht = me.momentumThreshold || .08, rr = ((Ur, fn = 20) => { if (Ur.length < fn) return null; const Br = Ur.slice(-fn), qr = Br.reduce((vr, an) => vr + an.close, 0) / fn, gs = Br.reduce((vr, an) => vr + Math.pow(an.close - qr, 2), 0) / fn, Rr = Math.sqrt(gs); return { middle: qr, upper: qr + Rr * 2, lower: qr - Rr * 2 } })(S), xr = rr ? Je <= rr.lower * 1.002 : !1, Sr = rr ? Je >= rr.upper * .998 : !1, hn = Nt && Ut, cr = xr && je < 50, _r = $t > Ht && je < 55, Pn = (hn || cr || _r) && ft, Ea = Ve && Rt, Ji = Sr && je > 50, MA = $t < -Ht && je > 45, $A = (Ea || Ji || MA) && ft; return Pn ? { signalType: "ENTRY_LONG", action: "OPEN_LONG", lastPrice: Je, rsi: je, rsiSlope: De, volumeRatio: at, momentum: $t, pattern: hn ? "RSI" : cr ? "BB" : "MOM" } : $A ? { signalType: "ENTRY_SHORT", action: "OPEN_SHORT", lastPrice: Je, rsi: je, rsiSlope: De, volumeRatio: at, momentum: $t, pattern: Ea ? "RSI" : Ji ? "BB" : "MOM" } : { signalType: "WAIT", action: null, lastPrice: Je, rsi: je, momentum: $t } }, Fl = async () => { Oo(!0), Xs(null); try { const S = await tu(kr.symbol, kr.days, kr.interval); if (S.length < 100) throw new Error("100"); let K = kr.initialCapital, J = null, fe = 0; const me = [], Oe = [{ time: S[50].timestamp, equity: K }]; for (let Ve = 50; Ve < S.length; Ve++) { const Ut = S.slice(0, Ve + 1), Rt = Po(Ut.slice(-100), J, J == null ? void 0 : J.entryTime, Pt), $t = S[Ve].close, Ht = S[Ve].timestamp; if (!J && (Rt.action === "OPEN_LONG" || Rt.action === "OPEN_SHORT")) { const jt = K * kr.positionSize, rr = jt * kr.feeRate; J = { type: Rt.action === "OPEN_LONG" ? "LONG" : "SHORT", entryPrice: $t, entryTime: Ht, size: jt, entryFee: rr }, K -= rr } if (J && (Rt.action === "CLOSE_LONG" || Rt.action === "CLOSE_SHORT")) { fe = Ve; const jt = J.size * kr.feeRate; let rr = 0; J.type === "LONG" ? rr = J.size * (($t - J.entryPrice) / J.entryPrice) : rr = J.size * ((J.entryPrice - $t) / J.entryPrice), rr -= J.entryFee + jt, K += rr, me.push({ type: J.type, entryPrice: J.entryPrice, exitPrice: $t, entryTime: J.entryTime, exitTime: Ht, pnl: rr, pnlPercent: rr / J.size * 100, exitReason: Rt.signalType }), J = null } if (Ve % 10 === 0) { let jt = 0; J && (J.type === "LONG" ? jt = J.size * (($t - J.entryPrice) / J.entryPrice) : jt = J.size * ((J.entryPrice - $t) / J.entryPrice)), Oe.push({ time: Ht, equity: K + jt }) } } const Qe = me.filter(Ve => Ve.pnl > 0), Re = me.filter(Ve => Ve.pnl <= 0), je = me.reduce((Ve, Ut) => Ve + Ut.pnl, 0), De = Qe.length > 0 ? Qe.reduce((Ve, Ut) => Ve + Ut.pnl, 0) / Qe.length : 0, at = Re.length > 0 ? Math.abs(Re.reduce((Ve, Ut) => Ve + Ut.pnl, 0) / Re.length) : 0; let Je = kr.initialCapital, Ot = 0; for (const Ve of Oe) { Ve.equity > Je && (Je = Ve.equity); const Ut = (Je - Ve.equity) / Je * 100; Ut > Ot && (Ot = Ut) } const vt = me.map(Ve => Ve.pnlPercent), Lt = vt.length > 0 ? vt.reduce((Ve, Ut) => Ve + Ut, 0) / vt.length : 0, we = vt.length > 1 ? Math.sqrt(vt.reduce((Ve, Ut) => Ve + Math.pow(Ut - Lt, 2), 0) / (vt.length - 1)) : 0, ft = we > 0 ? Lt / we * Math.sqrt(252 * 288 / kr.days) : 0, Nt = me.reduce((Ve, Ut) => (Ve[Ut.exitReason] = (Ve[Ut.exitReason] || 0) + 1, Ve), {}); Xs({ symbol: kr.symbol, interval: kr.interval, period: `${kr.days}`, dataPoints: S.length, initialCapital: kr.initialCapital, finalCapital: K, totalReturn: (K - kr.initialCapital) / kr.initialCapital * 100, totalPnL: je, totalTrades: me.length, winTrades: Qe.length, loseTrades: Re.length, winRate: me.length > 0 ? Qe.length / me.length * 100 : 0, avgWin: De, avgLoss: at, profitFactor: at > 0 ? De / at : De > 0 ? 1 / 0 : 0, maxDrawdown: Ot, sharpeRatio: ft, exitReasons: Nt, trades: me.slice(-20), equityCurve: Oe }) } catch (S) { console.error("Backtest error:", S), alert(`: ${S.message}`) } finally { Oo(!1) } }, Zs = async S => { const K = S.replace("/", ""), J = await fetch(`https://api.binance.com/api/v3/klines?symbol=${K}&interval=5m&limit=100`); if (!J.ok) throw new Error("Binance API error"); return (await J.json()).map(me => ({ timestamp: new Date(me[0]), open: parseFloat(me[1]), high: parseFloat(me[2]), low: parseFloat(me[3]), close: parseFloat(me[4]), volume: parseFloat(me[5]) })) }, Do = z.useCallback(async () => { l(!0); const S = {}, K = {}, J = t.map(async fe => { try { const me = await Zs(fe); if (me.length >= 20) S[fe] = me, K[fe] = Ps(me, fe); else throw new Error("Insufficient data") } catch (me) { console.log(`API fetch failed for ${fe}:`, me.message), K[fe] = { signal: " API Error", signalType: "WAIT", reason: me.message, action: null } } }); await Promise.all(J), s(S), A(K), b(new Date), l(!1) }, [t, p]); z.useEffect(() => { Do(); const S = setInterval(Do, 1e4); return () => clearInterval(S) }, [Do]); const wr = (S, K) => S ? K === "DOGE/USDT" ? S.toFixed(5) : S < 1 ? S.toFixed(4) : S < 100 ? S.toFixed(2) : S.toLocaleString(void 0, { maximumFractionDigits: 2 }) : "-", Xa = S => { switch (S) { case "CONFIRMED_LONG": return "text-emerald-400 bg-emerald-500/20 border-emerald-500 ring-2 ring-emerald-500 ring-offset-2 shadow-[0_0_15px_rgba(16,185,129,0.5)] animate-pulse"; case "CONFIRMED_SHORT": return "text-red-400 bg-red-500/20 border-red-500 ring-2 ring-red-500 ring-offset-2 shadow-[0_0_15px_rgba(239,68,68,0.5)] animate-pulse"; case "ENTRY_LONG": return "text-emerald-400 bg-emerald-500/20 border-emerald-500"; case "ENTRY_SHORT": return "text-red-400 bg-red-500/20 border-red-500"; case "TAKE_PROFIT": return "text-yellow-400 bg-yellow-500/20 border-yellow-500 animate-pulse"; case "STOP_LOSS": return "text-red-500 bg-red-600/30 border-red-600 animate-pulse"; case "PREPARE_LONG": return "text-emerald-300/70 bg-emerald-500/10 border-emerald-500/50"; case "PREPARE_SHORT": return "text-red-300/70 bg-red-500/10 border-red-500/50"; case "HOLDING": return "text-blue-400 bg-blue-500/20 border-blue-500"; default: return "text-slate-500 bg-slate-700/30 border-slate-600" } }, ru = w === "midnight" ? "bg-[#1B2631]" : "bg-[#F5F5F5]", yt = w === "midnight" ? "text-white" : "text-slate-800", Rs = w === "midnight" ? "bg-slate-800/50" : "bg-white/80"; return i.jsxs("div", { className: `min-h-[calc(100vh-200px)] ${ru} rounded-xl p-4 md:p-6 transition-colors`, children: [i.jsxs("div", { className: "flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6", children: [i.jsxs("div", { children: [i.jsxs("h2", { className: "text-2xl md:text-3xl font-light tracking-widest text-[#D4AF37]", children: ["BOTANICAL QUARTET", i.jsx("span", { className: "text-xs text-emerald-400 ml-2", children: "LIVE" })] }), i.jsxs("p", { className: `text-xs ${yt} opacity-50 mt-1`, children: [h ? `Last: ${h.toLocaleTimeString()}` : "Loading...", te && i.jsxs("span", { className: "ml-2 text-emerald-400", children: ["  ", ((_l = te.availableBalance) == null ? void 0 : _l.toFixed(2)) || "0.00", " USDT", te.unrealisedPNL !== 0 && i.jsxs("span", { className: te.unrealisedPNL >= 0 ? "text-emerald-300" : "text-red-400", children: [" ", "(PnL: ", te.unrealisedPNL >= 0 ? "+" : "", (kl = te.unrealisedPNL) == null ? void 0 : kl.toFixed(2), ")"] })] })] })] }), i.jsxs("div", { className: "flex flex-wrap gap-2", children: [i.jsx("button", { onClick: () => { if (y(!x), !x) try { const S = new (window.AudioContext || window.webkitAudioContext), K = S.createOscillator(), J = S.createGain(); K.connect(J), J.connect(S.destination), K.frequency.setValueAtTime(880, S.currentTime), J.gain.setValueAtTime(.1, S.currentTime), J.gain.exponentialRampToValueAtTime(.01, S.currentTime + .1), K.start(S.currentTime), K.stop(S.currentTime + .1) } catch { } }, className: `px-4 py-2 rounded-lg text-sm transition-all ${x ? "bg-[#D4AF37] text-slate-900" : "bg-slate-700 text-slate-300 hover:bg-slate-600"}`, children: x ? "" : "" }), i.jsx("button", { onClick: () => d(!c), className: `px-4 py-2 rounded-lg text-sm transition-all ${c ? "bg-[#D4AF37] text-slate-900" : "bg-slate-700 text-slate-300 hover:bg-slate-600"}`, children: " ZEN" }), i.jsx("button", { onClick: () => j(w === "midnight" ? "canvas" : "midnight"), className: "px-4 py-2 bg-slate-700 text-slate-300 rounded-lg text-sm hover:bg-slate-600", children: w === "midnight" ? "" : "" }), i.jsxs("button", { onClick: () => P(!0), className: `px-4 py-2 rounded-lg text-sm transition-all ${T ? "bg-emerald-600 text-white" : "bg-amber-600 text-white animate-pulse"}`, children: [" ", T ? "MEXC" : "MEXC"] }), i.jsx("button", { onClick: () => xa(!0), className: "px-4 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-lg text-sm transition-all", children: " Backtest" })] })] }), V && i.jsx("div", { className: "fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4", children: i.jsxs("div", { className: `${Rs} rounded-2xl p-6 max-w-md w-full border border-amber-500/30`, children: [i.jsxs("div", { className: "flex justify-between items-center mb-6", children: [i.jsx("h3", { className: "text-xl font-bold text-amber-400", children: " MEXC Futures API" }), i.jsx("button", { onClick: () => P(!1), className: "text-slate-400 hover:text-white text-2xl", children: "" })] }), i.jsxs("div", { className: "space-y-4", children: [i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 block mb-1", children: "Access Key" }), i.jsx("input", { type: "text", value: T, onChange: S => U(S.target.value), placeholder: "mx...", className: "w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-2 text-white text-sm" })] }), i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 block mb-1", children: "Secret Key" }), i.jsx("input", { type: "password", value: M, onChange: S => G(S.target.value), placeholder: "", className: "w-full bg-slate-800 border border-slate-600 rounded-lg px-4 py-2 text-white text-sm" })] })] }), ee && i.jsxs("div", { className: `p-3 rounded-lg ${ee.includes("") ? "bg-emerald-900/30 border border-emerald-500/30" : ee.includes("") ? "bg-red-900/30 border border-red-500/30" : "bg-blue-900/30 border border-blue-500/30"}`, children: [i.jsx("div", { className: `text-sm font-medium ${ee.includes("") ? "text-emerald-400" : ee.includes("") ? "text-red-400" : "text-blue-400"}`, children: ee }), te && i.jsxs("div", { className: "text-xs text-slate-400 mt-2 space-y-1", children: [i.jsxs("div", { className: "grid grid-cols-2 gap-2", children: [i.jsxs("div", { children: [" : ", i.jsx("span", { className: "text-white font-mono", children: (vi = te.availableBalance) == null ? void 0 : vi.toFixed(2) }), " USDT"] }), i.jsxs("div", { children: [" : ", i.jsx("span", { className: "text-white font-mono", children: (wi = te.accountEquity) == null ? void 0 : wi.toFixed(2) }), " USDT"] })] }), i.jsxs("div", { className: "grid grid-cols-2 gap-2", children: [i.jsxs("div", { children: [" : ", i.jsx("span", { className: "text-amber-400 font-mono", children: (Ul = te.marginBalance) == null ? void 0 : Ul.toFixed(2) }), " USDT"] }), i.jsxs("div", { className: "grid grid-cols-2 gap-2", children: [i.jsxs("div", { children: [" PnL: ", i.jsxs("span", { className: `font-mono ${te.unrealisedPNL >= 0 ? "text-emerald-400" : "text-red-400"}`, children: [te.unrealisedPNL >= 0 ? "+" : "", (Il = te.unrealisedPNL) == null ? void 0 : Il.toFixed(2)] }), " USDT"] })] })] })] })] }), i.jsx("div", { className: "p-3 bg-amber-900/30 border border-amber-500/30 rounded-lg", children: i.jsxs("div", { className: "text-xs text-amber-400", children: [" MEXC Futures", i.jsx("br", {}), "APIPositionTrade", i.jsx("br", {}), ""] }) }), i.jsxs("div", { className: "flex gap-3", children: [i.jsx("button", { onClick: () => { Ye() }, disabled: !T || !M, className: `flex-1 py-2 rounded-lg text-sm ${T && M ? "bg-slate-700 hover:bg-slate-600 text-white" : "bg-slate-800 text-slate-500 cursor-not-allowed"}`, children: " " }), i.jsx("button", { onClick: () => P(!1), className: "flex-1 py-2 bg-amber-600 hover:bg-amber-500 text-white rounded-lg text-sm", children: "" })] })] })] })
}), FA && i.jsx("div", { className: "fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4", children: i.jsxs("div", { className: `${Rs} rounded-2xl p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-slate-700`, children: [i.jsxs("div", { className: "flex justify-between items-center mb-6", children: [i.jsx("h3", { className: "text-xl font-bold text-[#D4AF37]", children: " " }), i.jsx("button", { onClick: () => xa(!1), className: "text-slate-400 hover:text-white text-2xl", children: "" })] }), i.jsxs("div", { className: "mb-4 p-3 bg-gradient-to-r from-amber-900/30 to-orange-900/30 border border-amber-500/30 rounded-lg", children: [i.jsx("div", { className: "text-sm text-amber-300 font-medium mb-1", children: " V5.1 Raschke/Grimes/Volman" }), i.jsxs("div", { className: "text-xs text-slate-400 space-y-1", children: [i.jsx("div", { className: "text-cyan-300 font-medium", children: "3OR:" }), i.jsxs("div", { className: "grid grid-cols-3 gap-2 mt-1", children: [i.jsxs("div", { className: "text-center p-1 bg-emerald-900/30 rounded", children: [i.jsx("div", { className: "text-emerald-400", children: "RSI" }), i.jsxs("div", { className: "text-[10px]", children: ["RSI", "<", Pt.rsiOversold, ""] })] }), i.jsxs("div", { className: "text-center p-1 bg-blue-900/30 rounded", children: [i.jsx("div", { className: "text-blue-400", children: "BB" }), i.jsxs("div", { className: "text-[10px]", children: ["BB+RSI", "<", "50"] })] }), i.jsxs("div", { className: "text-center p-1 bg-purple-900/30 rounded", children: [i.jsx("div", { className: "text-purple-400", children: "" }), i.jsxs("div", { className: "text-[10px]", children: ["+", Pt.momentumThreshold || .08, "%"] })] })] }), i.jsx("div", { className: "mt-2", children: (() => { const S = $r(); return i.jsxs(i.Fragment, { children: [i.jsx("span", { className: "text-yellow-400", children: "TP:" }), " ", S.takeProfitPercent, "% |", i.jsx("span", { className: "text-red-400 ml-2", children: "SL:" }), " ", S.stopLossPercent, "% |", i.jsx("span", { className: "text-purple-400 ml-2", children: "Time:" }), " ", S.maxHoldingMinutes, " |", i.jsx("span", { className: "text-cyan-400 ml-2", children: "Vol:" }), " ", Pt.volumeThreshold, "x", i.jsxs("div", { className: "text-xs text-slate-400 mt-1", children: [" : ", i.jsx("span", { className: "text-amber-400", children: S.timeZoneName })] })] }) })() }), i.jsx("div", { className: "text-amber-400 mt-1", children: " 30 | " })] })] }), i.jsxs("div", { className: "grid grid-cols-2 md:grid-cols-5 gap-4 mb-6", children: [i.jsxs("div", { children: [i.jsx("label", { className: `text-xs ${yt} opacity-60 block mb-1`, children: "" }), i.jsx("select", { value: kr.symbol, onChange: S => Ya({ ...kr, symbol: S.target.value }), className: "w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-white", children: t.map(S => i.jsx("option", { value: S, children: S }, S)) })] }), i.jsxs("div", { children: [i.jsx("label", { className: `text-xs ${yt} opacity-60 block mb-1`, children: " " }), i.jsxs("select", { value: kr.interval, onChange: S => Ya({ ...kr, interval: S.target.value }), className: "w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-white", children: [i.jsx("option", { value: "1m", children: "1" }), i.jsx("option", { value: "5m", children: "5" }), i.jsx("option", { value: "15m", children: "15" }), i.jsx("option", { value: "1h", children: "1" })] })] }), i.jsxs("div", { children: [i.jsx("label", { className: `text-xs ${yt} opacity-60 block mb-1`, children: "" }), i.jsxs("select", { value: kr.days, onChange: S => Ya({ ...kr, days: parseInt(S.target.value) }), className: "w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-white", children: [i.jsx("option", { value: 1, children: "1" }), i.jsx("option", { value: 3, children: "3" }), i.jsx("option", { value: 7, children: "7" }), i.jsx("option", { value: 10, children: "10" })] })] }), i.jsxs("div", { children: [i.jsx("label", { className: `text-xs ${yt} opacity-60 block mb-1`, children: "" }), i.jsx("input", { type: "number", value: kr.initialCapital, onChange: S => Ya({ ...kr, initialCapital: parseFloat(S.target.value) }), className: "w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-white" })] }), i.jsxs("div", { children: [i.jsx("label", { className: `text-xs ${yt} opacity-60 block mb-1`, children: "" }), i.jsxs("select", { value: kr.positionSize, onChange: S => Ya({ ...kr, positionSize: parseFloat(S.target.value) }), className: "w-full bg-slate-800 border border-slate-700 rounded-lg px-3 py-2 text-sm text-white", children: [i.jsx("option", { value: .05, children: "5%" }), i.jsx("option", { value: .1, children: "10%" }), i.jsx("option", { value: .2, children: "20%" }), i.jsx("option", { value: .5, children: "50%" })] })] })] }), i.jsxs("div", { className: "grid grid-cols-2 gap-4 mb-6", children: [i.jsx("button", { onClick: Fl, disabled: EA || Os, className: "py-3 bg-purple-600 hover:bg-purple-500 disabled:bg-slate-700 text-white rounded-lg font-medium transition-all", children: EA ? " ..." : " " }), i.jsx("button", { onClick: Zc, disabled: Os || EA, className: "py-3 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-400 hover:to-orange-400 disabled:bg-slate-700 text-white rounded-lg font-medium transition-all", children: Os ? ` ... ${$i}%` : " " })] }), Os && i.jsxs("div", { className: "mb-6 p-4 bg-gradient-to-r from-amber-900/30 to-orange-900/30 border border-amber-500/30 rounded-lg", children: [i.jsxs("div", { className: "flex justify-between text-sm text-amber-300 mb-2", children: [i.jsx("span", { children: " ..." }), i.jsxs("span", { children: [$i, "%"] })] }), i.jsx("div", { className: "w-full h-2 bg-slate-700 rounded-full overflow-hidden", children: i.jsx("div", { className: "h-full bg-gradient-to-r from-amber-500 to-orange-500 transition-all duration-300", style: { width: `${$i}%` } }) }), i.jsx("div", { className: "mt-2 text-xs text-slate-400 space-y-1", children: SA.map((S, K) => i.jsx("div", { children: S }, K)) })] }), i.jsxs("div", { className: "mb-6 p-4 bg-gradient-to-r from-cyan-900/30 to-blue-900/30 border border-cyan-500/30 rounded-lg", children: [i.jsxs("div", { className: "flex justify-between items-center mb-2", children: [i.jsx("span", { className: "text-sm text-cyan-300 font-medium", children: " V5 " }), Pt.lastUpdated && i.jsxs("span", { className: "text-xs text-slate-400", children: [": ", new Date(Pt.lastUpdated).toLocaleDateString("ja-JP")] })] }), i.jsxs("div", { className: "grid grid-cols-3 md:grid-cols-7 gap-2 text-xs", children: [i.jsxs("div", { className: "text-center p-2 bg-slate-800/50 rounded", children: [i.jsx("div", { className: "text-slate-400", children: "RSI" }), i.jsx("div", { className: "text-cyan-400 font-bold", children: Pt.rsiPeriod })] }), i.jsxs("div", { className: "text-center p-2 bg-slate-800/50 rounded", children: [i.jsx("div", { className: "text-slate-400", children: "" }), i.jsx("div", { className: "text-emerald-400 font-bold", children: Pt.rsiOversold })] }), i.jsxs("div", { className: "text-center p-2 bg-slate-800/50 rounded", children: [i.jsx("div", { className: "text-slate-400", children: "" }), i.jsx("div", { className: "text-red-400 font-bold", children: Pt.rsiOverbought })] }), i.jsxs("div", { className: "text-center p-2 bg-slate-800/50 rounded", children: [i.jsx("div", { className: "text-slate-400", children: "%" }), i.jsxs("div", { className: "text-emerald-400 font-bold", children: [$r().takeProfitPercent, "%"] })] }), i.jsxs("div", { className: "text-center p-2 bg-slate-800/50 rounded", children: [i.jsx("div", { className: "text-slate-400", children: "%" }), i.jsxs("div", { className: "text-red-400 font-bold", children: [$r().stopLossPercent, "%"] })] }), i.jsxs("div", { className: "text-center p-2 bg-slate-800/50 rounded", children: [i.jsx("div", { className: "text-slate-400", children: "Vol" }), i.jsxs("div", { className: "text-yellow-400 font-bold", children: [Pt.volumeThreshold, "x"] })] }), i.jsxs("div", { className: "text-center p-2 bg-slate-800/50 rounded", children: [i.jsx("div", { className: "text-slate-400", children: "" }), i.jsxs("div", { className: "text-purple-400 font-bold", children: [$r().maxHoldingMinutes, ""] })] })] }), Pt.performance && Pt.performance.winRate > 0 && i.jsxs("div", { className: "mt-2 flex gap-4 text-xs", children: [i.jsx("span", { className: "text-slate-400", children: ":" }), i.jsxs("span", { className: "text-emerald-400", children: [" ", Pt.performance.winRate.toFixed(1), "%"] }), i.jsxs("span", { className: "text-cyan-400", children: ["PF ", Pt.performance.profitFactor.toFixed(2)] })] })] }), ur && i.jsxs("div", { className: "space-y-6", children: [i.jsxs("div", { className: "grid grid-cols-2 md:grid-cols-4 gap-4", children: [i.jsxs("div", { className: `${w === "midnight" ? "bg-slate-900/50" : "bg-slate-100"} rounded-lg p-4`, children: [i.jsx("div", { className: `text-xs ${yt} opacity-50`, children: "" }), i.jsxs("div", { className: `text-2xl font-bold ${ur.totalReturn >= 0 ? "text-emerald-400" : "text-red-400"}`, children: [ur.totalReturn >= 0 ? "+" : "", ur.totalReturn.toFixed(2), "%"] })] }), i.jsxs("div", { className: `${w === "midnight" ? "bg-slate-900/50" : "bg-slate-100"} rounded-lg p-4`, children: [i.jsx("div", { className: `text-xs ${yt} opacity-50`, children: "" }), i.jsxs("div", { className: `text-2xl font-bold ${ur.winRate >= 50 ? "text-emerald-400" : "text-yellow-400"}`, children: [ur.winRate.toFixed(1), "%"] })] }), i.jsxs("div", { className: `${w === "midnight" ? "bg-slate-900/50" : "bg-slate-100"} rounded-lg p-4`, children: [i.jsx("div", { className: `text-xs ${yt} opacity-50`, children: "DD" }), i.jsxs("div", { className: "text-2xl font-bold text-red-400", children: ["-", ur.maxDrawdown.toFixed(2), "%"] })] }), i.jsxs("div", { className: `${w === "midnight" ? "bg-slate-900/50" : "bg-slate-100"} rounded-lg p-4`, children: [i.jsx("div", { className: `text-xs ${yt} opacity-50`, children: "Profit Factor" }), i.jsx("div", { className: `text-2xl font-bold ${ur.profitFactor >= 1.5 ? "text-emerald-400" : ur.profitFactor >= 1 ? "text-yellow-400" : "text-red-400"}`, children: ur.profitFactor === 1 / 0 ? "" : ur.profitFactor.toFixed(2) })] })] }), i.jsxs("div", { className: `${w === "midnight" ? "bg-slate-900/50" : "bg-slate-100"} rounded-lg p-4`, children: [i.jsx("h4", { className: `text-sm font-medium ${yt} mb-3`, children: "" }), i.jsxs("div", { className: "grid grid-cols-2 md:grid-cols-4 gap-4 text-sm", children: [i.jsxs("div", { children: [i.jsx("span", { className: `${yt} opacity-50`, children: ":" }), i.jsx("span", { className: `ml-2 ${yt}`, children: ur.period })] }), i.jsxs("div", { children: [i.jsx("span", { className: `${yt} opacity-50`, children: ":" }), i.jsx("span", { className: `ml-2 ${yt}`, children: ur.interval })] }), i.jsxs("div", { children: [i.jsx("span", { className: `${yt} opacity-50`, children: ":" }), i.jsxs("span", { className: `ml-2 ${yt}`, children: [ur.dataPoints, ""] })] }), i.jsxs("div", { children: [i.jsx("span", { className: `${yt} opacity-50`, children: ":" }), i.jsxs("span", { className: `ml-2 ${yt}`, children: [ur.totalTrades, ""] })] }), i.jsxs("div", { children: [i.jsx("span", { className: `${yt} opacity-50`, children: ":" }), i.jsxs("span", { className: "ml-2 text-emerald-400", children: [ur.winTrades, ""] }), i.jsxs("span", { className: "text-red-400 ml-1", children: [ur.loseTrades, ""] })] }), i.jsxs("div", { children: [i.jsx("span", { className: `${yt} opacity-50`, children: ":" }), i.jsxs("span", { className: "ml-2 text-emerald-400", children: ["$", ur.avgWin.toFixed(2)] })] }), i.jsxs("div", { children: [i.jsx("span", { className: `${yt} opacity-50`, children: ":" }), i.jsxs("span", { className: "ml-2 text-red-400", children: ["-$", ur.avgLoss.toFixed(2)] })] }), i.jsxs("div", { children: [i.jsx("span", { className: `${yt} opacity-50`, children: "Sharpe:" }), i.jsx("span", { className: `ml-2 ${ur.sharpeRatio >= 1 ? "text-emerald-400" : "text-yellow-400"}`, children: ur.sharpeRatio.toFixed(2) })] }), i.jsxs("div", { children: [i.jsx("span", { className: `${yt} opacity-50`, children: ":" }), i.jsxs("span", { className: `ml-2 ${yt}`, children: ["$", ur.finalCapital.toFixed(2)] })] })] })] }), ur.exitReasons && Object.keys(ur.exitReasons).length > 0 && i.jsxs("div", { className: `${w === "midnight" ? "bg-slate-900/50" : "bg-slate-100"} rounded-lg p-4`, children: [i.jsx("h4", { className: `text-sm font-medium ${yt} mb-3`, children: "Triple Barrier " }), i.jsx("div", { className: "flex flex-wrap gap-2", children: Object.entries(ur.exitReasons).map(([S, K]) => i.jsxs("span", { className: `px-3 py-1 rounded-full text-xs font-medium ${S === "TAKE_PROFIT" ? "bg-emerald-500/20 text-emerald-400" : S === "STOP_LOSS" ? "bg-red-500/20 text-red-400" : S === "TIME_EXIT_PROFIT" ? "bg-purple-500/20 text-purple-400" : S === "TIME_EXIT_LOSS" ? "bg-orange-500/20 text-orange-400" : S === "TREND_REVERSAL" ? "bg-blue-500/20 text-blue-400" : "bg-slate-500/20 text-slate-400"}`, children: [S === "TAKE_PROFIT" ? " (2ATR)" : S === "STOP_LOSS" ? " (1ATR)" : S === "TIME_EXIT_PROFIT" ? " (+)" : S === "TIME_EXIT_LOSS" ? " (-)" : S === "TREND_REVERSAL" ? " " : S, ": ", K, ""] }, S)) })] }), i.jsxs("div", { className: `${w === "midnight" ? "bg-slate-900/50" : "bg-slate-100"} rounded-lg p-4`, children: [i.jsx("h4", { className: `text-sm font-medium ${yt} mb-3`, children: "" }), i.jsx("div", { className: "h-32 flex items-end gap-0.5", children: ur.equityCurve.map((S, K) => { const J = Math.min(...ur.equityCurve.map(Re => Re.equity)), me = Math.max(...ur.equityCurve.map(Re => Re.equity)) - J || 1, Oe = (S.equity - J) / me * 100, Qe = S.equity >= ur.initialCapital; return i.jsx("div", { className: `flex-1 ${Qe ? "bg-emerald-500/60" : "bg-red-500/60"} rounded-t`, style: { height: `${Math.max(Oe, 5)}%` }, title: `${S.time.toLocaleDateString()} - $${S.equity.toFixed(2)}` }, K) }) }), i.jsxs("div", { className: "flex justify-between text-xs text-slate-500 mt-2", children: [i.jsx("span", { children: (Za = ur.equityCurve[0]) == null ? void 0 : Za.time.toLocaleDateString() }), i.jsx("span", { children: (_A = ur.equityCurve[ur.equityCurve.length - 1]) == null ? void 0 : _A.time.toLocaleDateString() })] })] }), ur.trades.length > 0 && i.jsxs("div", { className: `${w === "midnight" ? "bg-slate-900/50" : "bg-slate-100"} rounded-lg p-4`, children: [i.jsx("h4", { className: `text-sm font-medium ${yt} mb-3`, children: "" }), i.jsx("div", { className: "overflow-x-auto", children: i.jsxs("table", { className: "w-full text-xs", children: [i.jsx("thead", { children: i.jsxs("tr", { className: `${yt} opacity-50`, children: [i.jsx("th", { className: "text-left py-1", children: "" }), i.jsx("th", { className: "text-right", children: "Entry" }), i.jsx("th", { className: "text-right", children: "Exit" }), i.jsx("th", { className: "text-right", children: "PnL" }), i.jsx("th", { className: "text-right", children: "" })] }) }), i.jsx("tbody", { children: ur.trades.map((S, K) => i.jsxs("tr", { className: "border-t border-slate-700/50", children: [i.jsx("td", { className: `py-2 ${S.type === "LONG" ? "text-emerald-400" : "text-red-400"}`, children: S.type }), i.jsx("td", { className: `text-right ${yt}`, children: wr(S.entryPrice, ur.symbol) }), i.jsx("td", { className: `text-right ${yt}`, children: wr(S.exitPrice, ur.symbol) }), i.jsxs("td", { className: `text-right ${S.pnl >= 0 ? "text-emerald-400" : "text-red-400"}`, children: [S.pnl >= 0 ? "+" : "", S.pnlPercent.toFixed(2), "%"] }), i.jsx("td", { className: `text-right ${yt} opacity-60`, children: S.exitReason === "TAKE_PROFIT" ? "" : "" })] }, K)) })] }) })] }), i.jsxs("div", { className: `${w === "midnight" ? "bg-slate-900/50" : "bg-slate-100"} rounded-lg p-4`, children: [i.jsx("h4", { className: `text-sm font-medium ${yt} mb-2`, children: " " }), i.jsx("p", { className: `text-sm ${yt} opacity-70`, children: ur.totalTrades === 0 ? " " : ur.profitFactor >= 1.5 && ur.winRate >= 50 ? " " : ur.profitFactor >= 1 ? " " : " " }), i.jsx("p", { className: `text-xs ${yt} opacity-40 mt-2`, children: " " })] })] })] }) }), To && i.jsx("div", { className: "fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4", children: i.jsxs("div", { className: `${Rs} rounded-2xl p-6 max-w-5xl w-full max-h-[95vh] overflow-y-auto border border-purple-500/30`, children: [i.jsxs("div", { className: "flex justify-between items-center mb-6", children: [i.jsxs("div", { children: [i.jsx("h3", { className: "text-xl font-bold bg-gradient-to-r from-purple-400 to-indigo-400 bg-clip-text text-transparent", children: " AI v2.0" }), i.jsxs("p", { className: "text-sm text-slate-400 mt-1", children: [Zr, " - ", ((va = a[Zr]) == null ? void 0 : va.signalType) === "ENTRY_LONG" ? "LONG" : "SHORT", ""] })] }), i.jsx("button", { onClick: () => ma(!1), className: "text-slate-400 hover:text-white text-2xl", children: "" })] }), xi ? i.jsxs("div", { className: "text-center py-12", children: [i.jsx("div", { className: "text-5xl mb-4 animate-pulse", children: "" }), i.jsx("div", { className: "text-lg text-purple-400 font-medium", children: Sl || "..." }), i.jsx("div", { className: "flex justify-center gap-3 mt-6", children: Ja.map((S, K) => i.jsxs("div", { className: "flex flex-col items-center", children: [i.jsx("span", { className: "text-3xl animate-bounce", style: { animationDelay: `${K * .15}s` }, children: S.avatar }), i.jsx("span", { className: "text-xs text-slate-500 mt-1", children: S.name.split(" ")[0] })] }, S.id)) }), i.jsx("div", { className: "mt-6 w-64 mx-auto bg-slate-800 rounded-full h-2 overflow-hidden", children: i.jsx("div", { className: "bg-gradient-to-r from-purple-500 to-indigo-500 h-full animate-pulse", style: { width: "60%" } }) })] }) : Wt ? i.jsxs("div", { className: "space-y-6", children: [i.jsxs("div", { className: `p-5 rounded-xl border-2 ${Wt.finalVerdict === "GO" ? "bg-emerald-900/30 border-emerald-500" : Wt.finalVerdict === "WAIT" ? "bg-red-900/30 border-red-500" : "bg-amber-900/30 border-amber-500"}`, children: [i.jsxs("div", { className: "flex items-center justify-between mb-4", children: [i.jsxs("div", { children: [i.jsx("div", { className: `text-3xl font-bold ${Wt.finalVerdict === "GO" ? "text-emerald-400" : Wt.finalVerdict === "WAIT" ? "text-red-400" : "text-amber-400"}`, children: Wt.finalVerdict === "GO" ? " " : Wt.finalVerdict === "WAIT" ? " " : " " }), i.jsx("div", { className: "text-sm text-slate-400 mt-1", children: Wt.verdictReason }), Wt.verdictDetails && Wt.verdictDetails.map((S, K) => i.jsx("div", { className: "text-xs text-slate-500 mt-1", children: S }, K))] }), i.jsxs("div", { className: "text-right", children: [i.jsx("div", { className: "text-sm text-slate-400", children: "" }), i.jsxs("div", { className: `text-3xl font-bold ${Wt.avgConfidence >= 70 ? "text-emerald-400" : Wt.avgConfidence >= 50 ? "text-amber-400" : "text-red-400"}`, children: [Wt.avgConfidence.toFixed(0), "%"] })] })] }), i.jsxs("div", { className: "mb-4", children: [i.jsxs("div", { className: "flex gap-1 h-3 rounded-full overflow-hidden", children: [i.jsx("div", { className: "bg-emerald-500", style: { width: `${Wt.votes.GO / (Wt.votes.GO + Wt.votes.NEUTRAL + Wt.votes.WAIT) * 100}%` } }), i.jsx("div", { className: "bg-amber-500", style: { width: `${Wt.votes.NEUTRAL / (Wt.votes.GO + Wt.votes.NEUTRAL + Wt.votes.WAIT) * 100}%` } }), i.jsx("div", { className: "bg-red-500", style: { width: `${Wt.votes.WAIT / (Wt.votes.GO + Wt.votes.NEUTRAL + Wt.votes.WAIT) * 100}%` } })] }), i.jsxs("div", { className: "flex justify-between text-xs mt-1", children: [i.jsxs("span", { className: "text-emerald-400", children: ["GO: ", Wt.votes.GO.toFixed(1)] }), i.jsxs("span", { className: "text-amber-400", children: [": ", Wt.votes.NEUTRAL.toFixed(1)] }), i.jsxs("span", { className: "text-red-400", children: ["WAIT: ", Wt.votes.WAIT.toFixed(1)] })] })] })] }), Wt.finalVerdict !== "WAIT" && Wt.finalTP && Wt.finalSL && i.jsxs("div", { className: "p-5 rounded-xl bg-gradient-to-br from-slate-800 to-slate-900 border-2 border-purple-500", children: [i.jsx("h4", { className: "text-lg font-bold text-purple-400 mb-4 flex items-center gap-2", children: " " }), i.jsxs("div", { className: "grid grid-cols-4 gap-3 mb-4", children: [i.jsxs("div", { className: "p-4 rounded-xl bg-red-900/40 border-2 border-red-500", children: [i.jsx("div", { className: "text-sm text-red-400 font-medium mb-2", children: "  (SL)" }), i.jsx("div", { className: "text-2xl font-bold text-red-400 font-mono", children: wr(Wt.finalSL, Zr) }), i.jsxs("div", { className: "text-xs text-red-300 mt-1", children: [((Wt.finalSL - Wt.finalEntry) / Wt.finalEntry * 100).toFixed(2), "%"] })] }), i.jsxs("div", { className: "p-4 rounded-xl bg-blue-900/40 border-2 border-blue-500", children: [i.jsx("div", { className: "text-sm text-blue-400 font-medium mb-2", children: " " }), i.jsx("div", { className: "text-2xl font-bold text-white font-mono", children: wr(Wt.finalEntry, Zr) }), i.jsx("div", { className: "text-xs text-slate-400 mt-1", children: "" })] }), i.jsxs("div", { className: "p-4 rounded-xl bg-emerald-900/40 border-2 border-emerald-500", children: [i.jsx("div", { className: "text-sm text-emerald-400 font-medium mb-2", children: "  (TP)" }), i.jsx("div", { className: "text-2xl font-bold text-emerald-400 font-mono", children: wr(Wt.finalTP, Zr) }), i.jsxs("div", { className: "text-xs text-emerald-300 mt-1", children: [((Wt.finalTP - Wt.finalEntry) / Wt.finalEntry * 100 * (((Ql = a[Zr]) == null ? void 0 : Ql.action) === "OPEN_LONG" ? 1 : -1)).toFixed(2), "%"] })] }), i.jsxs("div", { className: "p-4 rounded-xl bg-purple-900/40 border-2 border-purple-500", children: [i.jsx("div", { className: "text-sm text-purple-400 font-medium mb-2", children: " RR" }), i.jsxs("div", { className: `text-2xl font-bold font-mono ${Wt.finalRR >= 1.5 ? "text-emerald-400" : Wt.finalRR >= 1 ? "text-amber-400" : "text-red-400"}`, children: ["1:", Wt.finalRR.toFixed(2)] }), i.jsx("div", { className: "text-xs text-slate-400 mt-1", children: Wt.finalRR >= 1.5 ? "" : Wt.finalRR >= 1 ? "" : "" })] })] }), i.jsxs("div", { className: "mb-4 p-3 rounded-lg bg-slate-900/50", children: [i.jsxs("div", { className: "flex justify-between text-xs mb-2", children: [i.jsxs("span", { className: "text-red-400", children: ["SL ", wr(Wt.finalSL, Zr)] }), i.jsxs("span", { className: "text-blue-400 font-bold", children: ["Entry ", wr(Wt.finalEntry, Zr)] }), i.jsxs("span", { className: "text-emerald-400", children: ["TP ", wr(Wt.finalTP, Zr)] })] }), i.jsxs("div", { className: "h-4 bg-slate-700 rounded-full overflow-hidden relative", children: [i.jsx("div", { className: "absolute inset-y-0 left-0 bg-red-500/30", style: { width: "30%" } }), i.jsx("div", { className: "absolute inset-y-0 right-0 bg-emerald-500/30", style: { width: "70%" } }), i.jsx("div", { className: "absolute inset-y-0 left-[30%] w-1 bg-blue-400" })] })] }), i.jsxs("div", { className: "flex items-center justify-between p-3 rounded-lg bg-slate-800/50", children: [i.jsx("span", { className: "text-sm text-slate-400", children: "" }), i.jsxs("span", { className: "text-lg font-bold text-amber-400", children: [Wt.finalPositionSize.toFixed(1), "%"] })] })] }), i.jsxs("details", { className: "group", children: [i.jsxs("summary", { className: "cursor-pointer p-3 rounded-lg bg-slate-800/50 hover:bg-slate-800 transition-colors flex items-center justify-between", children: [i.jsx("span", { className: "text-slate-300 font-medium", children: " " }), i.jsx("span", { className: "text-slate-400 group-open:rotate-180 transition-transform", children: "" })] }), i.jsx("div", { className: "mt-4 space-y-4", children: Wt.opinions.map(({ expert: S, opinion: K }) => { var J; return i.jsx("div", { className: `p-4 rounded-xl ${S.bgColor} border ${S.borderColor}`, children: i.jsxs("div", { className: "flex items-start gap-3", children: [i.jsx("div", { className: "text-3xl", children: S.avatar }), i.jsxs("div", { className: "flex-1", children: [i.jsxs("div", { className: "flex items-center justify-between mb-2", children: [i.jsxs("div", { children: [i.jsx("div", { className: `font-bold ${S.color}`, children: S.name }), i.jsxs("div", { className: "text-xs text-slate-400", children: [S.title, " | ", S.specialty] })] }), i.jsxs("div", { className: `px-3 py-1 rounded-full text-sm font-bold ${K.vote === "GO" ? "bg-emerald-500/20 text-emerald-400" : K.vote === "WAIT" ? "bg-red-500/20 text-red-400" : "bg-amber-500/20 text-amber-400"}`, children: [K.vote === "GO" ? " GO" : K.vote === "WAIT" ? " WAIT" : " ", i.jsxs("span", { className: "ml-1 text-xs opacity-70", children: [K.confidence, "%"] })] })] }), i.jsxs("div", { className: "space-y-2", children: [K.deepThoughts && K.deepThoughts.length > 0 && i.jsx("div", { className: "text-xs text-slate-500 flex flex-wrap gap-2", children: K.deepThoughts.map((fe, me) => i.jsx("span", { className: "px-2 py-0.5 bg-slate-800/50 rounded", children: fe }, me)) }), i.jsx("div", { className: "text-sm text-slate-300", children: K.analysis }), K.keyInsights && K.keyInsights.length > 0 && i.jsx("div", { className: "text-sm text-emerald-400", children: K.keyInsights.join(" | ") }), K.concerns && K.concerns.length > 0 && i.jsx("div", { className: "text-sm text-amber-400", children: K.concerns.join(" | ") }), K.suggestedTP && K.suggestedSL && i.jsxs("div", { className: "text-xs text-slate-500 flex gap-4 mt-2 pt-2 border-t border-slate-700/50", children: [i.jsxs("span", { children: ["Entry: ", wr(K.suggestedEntry, Zr)] }), i.jsxs("span", { className: "text-emerald-400", children: ["TP: ", wr(K.suggestedTP, Zr)] }), i.jsxs("span", { className: "text-red-400", children: ["SL: ", wr(K.suggestedSL, Zr)] }), i.jsxs("span", { children: ["RR: ", ((J = K.riskRewardRatio) == null ? void 0 : J.toFixed(2)) || "N/A"] })] })] })] })] }) }, S.id) }) })] }), i.jsxs("div", { className: "flex gap-3 pt-4 border-t border-slate-700", children: [i.jsx("button", { onClick: () => ma(!1), className: "px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-medium transition-all", children: "" }), Wt.finalVerdict !== "WAIT" && ((yi = a[Zr]) == null ? void 0 : yi.action) && i.jsxs(i.Fragment, { children: [i.jsx("button", { onClick: () => { jA(Zr, a[Zr].action === "OPEN_LONG" ? "LONG" : "SHORT", Wt.finalEntry), ma(!1) }, className: "px-6 py-3 bg-slate-600 hover:bg-slate-500 text-white rounded-lg font-medium transition-all", children: " " }), T && i.jsx("button", { onClick: () => { bt(Zr, a[Zr].action === "OPEN_LONG" ? "buy" : "sell", Math.min(ue, Wt.finalPositionSize * 2).toString(), ve), ma(!1) }, disabled: he, className: `flex-1 py-3 rounded-lg font-bold transition-all ${((Tl = a[Zr]) == null ? void 0 : Tl.action) === "OPEN_LONG" ? "bg-gradient-to-r from-emerald-600 to-emerald-500 hover:from-emerald-500 hover:to-emerald-400 text-white shadow-lg shadow-emerald-500/30" : "bg-gradient-to-r from-red-600 to-red-500 hover:from-red-500 hover:to-red-400 text-white shadow-lg shadow-red-500/30"} ${he ? "opacity-50" : ""}`, children: he ? " ..." : ((kA = a[Zr]) == null ? void 0 : kA.action) === "OPEN_LONG" ? ` LONG @ ${wr(Wt.finalEntry, Zr)}` : ` SHORT @ ${wr(Wt.finalEntry, Zr)}` })] }), Wt.finalVerdict === "WAIT" && i.jsxs("div", { className: "flex-1 py-3 px-4 bg-red-900/30 border border-red-500/50 rounded-lg text-center", children: [i.jsx("span", { className: "text-red-400 font-medium", children: " " }), i.jsx("span", { className: "text-slate-400 text-sm ml-2", children: "" })] })] })] }) : null] }) }), R.length > 0 && i.jsxs("div", { className: `${Rs} rounded-xl p-4 border border-amber-500/50 mb-6`, children: [(() => { const S = $r(); return i.jsxs("div", { className: "flex items-center justify-between mb-3 pb-3 border-b border-slate-700", children: [i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsx("span", { className: "text-slate-400 text-xs", children: " :" }), i.jsx("span", { className: `px-2 py-0.5 rounded text-xs font-medium ${S.volatilityMultiplier >= 1.5 ? "bg-red-500/30 text-red-400" : S.volatilityMultiplier >= 1 ? "bg-amber-500/30 text-amber-400" : "bg-blue-500/30 text-blue-400"}`, children: S.timeZoneName })] }), i.jsxs("div", { className: "flex items-center gap-3 text-xs", children: [i.jsxs("span", { className: "text-emerald-400", children: [" TP: ", S.takeProfitPercent, "%"] }), i.jsxs("span", { className: "text-red-400", children: [" SL: ", S.stopLossPercent, "%"] }), i.jsxs("span", { className: "text-purple-400", children: [" Max: ", S.maxHoldingMinutes, ""] })] })] }) })(), i.jsxs("div", { className: "flex justify-between items-center mb-3", children: [i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsx("span", { className: "text-amber-400 font-bold", children: " " }), i.jsxs("span", { className: "px-2 py-0.5 bg-amber-500/20 text-amber-400 text-xs rounded-full", children: [R.length, ""] })] }), i.jsx("button", { onClick: Be, disabled: Y, className: "px-4 py-2 bg-red-600 hover:bg-red-700 text-white text-sm font-bold rounded-lg transition-all disabled:opacity-50 flex items-center gap-2", children: Y ? i.jsx(i.Fragment, { children: " ..." }) : i.jsx(i.Fragment, { children: " " }) })] }), i.jsx("div", { className: "space-y-3", children: R.map((S, K) => { var Nt, Ve, Ut, Rt, $t; const J = S.openTime ? Date.now() - S.openTime : 0, fe = Math.floor(J / 6e4), me = Math.floor(fe / 60), Oe = fe % 60, Qe = S.entryPrice > 0 ? (S.markPrice - S.entryPrice) / S.entryPrice * 100 * (S.side === "LONG" ? 1 : -1) : 0, Re = 30 * 60 * 1e3, je = Math.max(0, Re - J), De = Math.floor(je / 6e4), at = Math.floor(je % 6e4 / 1e3), Je = De <= 5 && De > 0, Ot = De <= 2 && De > 0, vt = je <= 0, Lt = $r(), we = S.side === "LONG" ? S.entryPrice * (1 + Lt.takeProfitPercent / 100) : S.entryPrice * (1 - Lt.takeProfitPercent / 100), ft = S.side === "LONG" ? S.entryPrice * (1 - Lt.stopLossPercent / 100) : S.entryPrice * (1 + Lt.stopLossPercent / 100); return i.jsxs("div", { className: `p-3 rounded-lg bg-slate-900/50 border ${Ot ? "border-red-500 animate-pulse" : Je ? "border-amber-500" : vt ? "border-purple-500" : "border-slate-700"}`, children: [i.jsxs("div", { className: `flex items-center justify-between mb-2 pb-2 border-b border-slate-700/50 ${Ot ? "text-red-400" : Je ? "text-amber-400" : vt ? "text-purple-400" : "text-slate-400"}`, children: [i.jsxs("div", { className: "flex items-center gap-2 text-xs", children: [i.jsx("span", { children: " :" }), i.jsx("span", { className: `font-mono font-bold ${Ot ? "text-red-400 text-lg" : Je ? "text-amber-400" : vt ? "text-purple-400" : "text-white"}`, children: vt ? "" : `${De}:${at.toString().padStart(2, "0")}` })] }), vt && i.jsx("span", { className: "px-2 py-0.5 bg-purple-500/30 text-purple-400 text-xs rounded font-bold", children: " " }), Ot && !vt && i.jsx("span", { className: "px-2 py-0.5 bg-red-500/30 text-red-400 text-xs rounded font-bold animate-pulse", children: " " }), Je && !Ot && i.jsx("span", { className: "px-2 py-0.5 bg-amber-500/30 text-amber-400 text-xs rounded", children: " 5" })] }), i.jsxs("div", { className: "flex justify-between items-start mb-2", children: [i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsx("span", { className: `px-2 py-0.5 rounded text-xs font-bold ${S.side === "LONG" ? "bg-emerald-500/30 text-emerald-400" : "bg-red-500/30 text-red-400"}`, children: S.side }), i.jsx("span", { className: "text-white font-medium", children: S.symbol }), i.jsxs("span", { className: "text-slate-400 text-xs", children: ["", ((Nt = S.leverage) == null ? void 0 : Nt.toFixed(1)) || "-"] })] }), i.jsxs("div", { className: "text-right", children: [i.jsxs("div", { className: `text-lg font-bold ${S.unrealisedPnl >= 0 ? "text-emerald-400" : "text-red-400"}`, children: [S.unrealisedPnl >= 0 ? "+" : "", (Ve = S.unrealisedPnl) == null ? void 0 : Ve.toFixed(2), " USDT"] }), i.jsxs("div", { className: `text-xs ${Qe >= 0 ? "text-emerald-400" : "text-red-400"}`, children: ["ROE: ", Qe >= 0 ? "+" : "", Qe.toFixed(2), "%"] })] })] }), i.jsxs("div", { className: "grid grid-cols-3 gap-2 text-xs mb-2 p-2 bg-slate-800/50 rounded", children: [i.jsxs("div", { className: "text-center", children: [i.jsx("span", { className: "text-red-400 text-[10px]", children: " SL" }), i.jsx("div", { className: "text-red-400 font-mono", children: ft.toFixed(2) })] }), i.jsxs("div", { className: "text-center", children: [i.jsx("span", { className: "text-blue-400 text-[10px]", children: " Entry" }), i.jsx("div", { className: "text-white font-mono", children: (Ut = S.entryPrice) == null ? void 0 : Ut.toFixed(2) })] }), i.jsxs("div", { className: "text-center", children: [i.jsx("span", { className: "text-emerald-400 text-[10px]", children: " TP" }), i.jsx("div", { className: "text-emerald-400 font-mono", children: we.toFixed(2) })] })] }), i.jsxs("div", { className: "grid grid-cols-4 gap-2 text-xs", children: [i.jsxs("div", { children: [i.jsx("span", { className: "text-slate-500", children: "" }), i.jsx("div", { className: "text-white font-mono", children: S.qty })] }), i.jsxs("div", { children: [i.jsx("span", { className: "text-slate-500", children: "" }), i.jsx("div", { className: "text-white font-mono", children: (Rt = S.entryPrice) == null ? void 0 : Rt.toFixed(2) })] }), i.jsxs("div", { children: [i.jsx("span", { className: "text-slate-500", children: "" }), i.jsx("div", { className: "text-[#D4AF37] font-mono", children: ($t = S.markPrice) == null ? void 0 : $t.toFixed(2) })] }), i.jsxs("div", { children: [i.jsx("span", { className: "text-slate-500", children: "" }), i.jsxs("div", { className: `font-mono ${vt ? "text-purple-400" : "text-slate-300"}`, children: [me > 0 ? `${me}h ` : "", Oe, "m"] })] })] }), i.jsxs("div", { className: "mt-2", children: [i.jsxs("div", { className: "h-3 bg-slate-700 rounded-full overflow-hidden relative", children: [i.jsx("div", { className: "absolute inset-y-0 left-0 bg-red-500/30", style: { width: "30%" } }), i.jsx("div", { className: "absolute inset-y-0 right-0 bg-emerald-500/30", style: { width: "70%" } }), (() => { const Ht = we - ft, jt = (S.markPrice - ft) / Ht * 100, rr = Math.max(0, Math.min(100, jt)); return i.jsx("div", { className: `absolute inset-y-0 w-1 transition-all ${Qe >= 0 ? "bg-emerald-400" : "bg-red-400"}`, style: { left: `${rr}%` } }) })(), i.jsx("div", { className: "absolute inset-y-0 left-[30%] w-0.5 bg-blue-400" })] }), i.jsxs("div", { className: "flex justify-between text-[10px] text-slate-500 mt-1", children: [i.jsxs("span", { className: "text-red-400", children: ["SL ", Lt.stopLossPercent, "%"] }), i.jsx("span", { className: "text-blue-400", children: "Entry" }), i.jsxs("span", { className: "text-emerald-400", children: ["TP ", Lt.takeProfitPercent, "%"] })] })] })] }, K) }) })] }), Ke.trades > 0 && i.jsx("div", { className: `${Rs} rounded-xl p-4 border border-slate-700/50 mb-6`, children: i.jsxs("div", { className: "flex justify-between items-center", children: [i.jsxs("div", { className: "flex items-center gap-3", children: [i.jsx("span", { className: "text-slate-400 text-sm", children: " " }), i.jsx("span", { className: "text-xs text-slate-500", children: Ke.date })] }), i.jsxs("div", { className: "flex items-center gap-4", children: [i.jsxs("div", { className: "text-center", children: [i.jsx("div", { className: "text-xs text-slate-500", children: "" }), i.jsx("div", { className: "text-white font-bold", children: Ke.trades })] }), i.jsxs("div", { className: "text-center", children: [i.jsx("div", { className: "text-xs text-slate-500", children: "" }), i.jsxs("div", { className: `font-bold ${Ke.wins / Ke.trades >= .5 ? "text-emerald-400" : "text-red-400"}`, children: [(Ke.wins / Ke.trades * 100).toFixed(0), "%"] })] }), i.jsxs("div", { className: "text-center", children: [i.jsx("div", { className: "text-xs text-slate-500", children: "" }), i.jsxs("div", { className: `font-bold ${Ke.pnl >= 0 ? "text-emerald-400" : "text-red-400"}`, children: [Ke.pnl >= 0 ? "+" : "", Ke.pnl.toFixed(2), " USDT"] })] })] })] }) }), c ? i.jsxs("div", { className: "text-center py-16 md:py-24", children: [i.jsxs("div", { className: `text-lg opacity-50 tracking-[0.5em] mb-4 ${yt}`, children: [e, We[e] && i.jsxs("span", { className: `ml-2 text-sm ${We[e].type === "LONG" ? "text-emerald-400" : "text-red-400"}`, children: ["[", We[e].type, "]"] })] }), i.jsx("div", { className: "text-6xl md:text-8xl font-extralight text-[#D4AF37] mb-4", children: wr((Ro = (UA = n[e]) == null ? void 0 : UA.slice(-1)[0]) == null ? void 0 : Ro.close, e) }), i.jsx("div", { className: `text-3xl md:text-4xl tracking-widest ${Xa((bi = a[e]) == null ? void 0 : bi.signalType).split(" ")[0]}`, children: ((IA = a[e]) == null ? void 0 : IA.signal) || " WAIT" }), i.jsx("div", { className: `text-sm mt-2 opacity-50 ${yt}`, children: ((eA = a[e]) == null ? void 0 : eA.reason) || "..." }), ((QA = a[e]) == null ? void 0 : QA.pnlPercent) != null && i.jsxs("div", { className: `text-2xl mt-4 ${(((wa = a[e]) == null ? void 0 : wa.pnlPercent) || 0) >= 0 ? "text-emerald-400" : "text-red-400"}`, children: [(((TA = a[e]) == null ? void 0 : TA.pnlPercent) || 0) >= 0 ? "+" : "", (((Ho = a[e]) == null ? void 0 : Ho.pnlPercent) || 0).toFixed(2), "%"] }), i.jsx("div", { className: "flex justify-center gap-2 mt-8", children: t.map(S => i.jsxs("button", { onClick: () => r(S), className: `px-3 py-1 rounded text-xs transition-all ${e === S ? "bg-[#D4AF37] text-slate-900" : "bg-slate-700/50 text-slate-400 hover:bg-slate-700"}`, children: [S.split("/")[0], We[S] && i.jsx("span", { className: "ml-1", children: "" })] }, S)) })] }) : i.jsxs(i.Fragment, { children: [i.jsx("div", { className: "grid grid-cols-2 md:grid-cols-4 gap-3 mb-6", children: t.map((S, K) => { var vt, Lt, we; const J = n[S], fe = a[S], me = We[S], Oe = (vt = J == null ? void 0 : J.slice(-1)[0]) == null ? void 0 : vt.close, Qe = (Lt = J == null ? void 0 : J.slice(-2)[0]) == null ? void 0 : Lt.close, Re = Oe && Qe ? (Oe - Qe) / Qe * 100 : 0, je = ["ENTRY_LONG", "ENTRY_SHORT", "TAKE_PROFIT", "STOP_LOSS"].includes(fe == null ? void 0 : fe.signalType), De = (J == null ? void 0 : J.slice(-20)) || [], at = De.length > 0 ? Math.min(...De.map(ft => ft.close)) : 0, Ot = (De.length > 0 ? Math.max(...De.map(ft => ft.close)) : 1) - at || 1; return i.jsxs("div", { onClick: () => r(S), className: `${Rs} rounded-xl p-4 border cursor-pointer transition-all hover:scale-[1.02] ${e === S ? "border-[#D4AF37]" : "border-slate-700/50"} ${je ? "ring-2 ring-[#D4AF37]/50" : ""}`, children: [i.jsxs("div", { className: "flex justify-between items-center mb-1", children: [i.jsxs("span", { className: `text-xs ${yt} opacity-60`, children: [S, i.jsxs("span", { className: "ml-1 text-slate-500 text-[10px]", children: ["[", K + 1, "]"] })] }), me && i.jsx("span", { className: `text-[10px] px-1.5 py-0.5 rounded ${me.type === "LONG" ? "bg-emerald-500/30 text-emerald-400" : "bg-red-500/30 text-red-400"}`, children: me.type })] }), i.jsx("div", { className: "text-xl md:text-2xl font-light text-[#D4AF37]", children: wr(Oe, S) }), i.jsxs("div", { className: `text-xs ${Re >= 0 ? "text-emerald-400" : "text-red-400"}`, children: [Re >= 0 ? "+" : "", Re.toFixed(2), "%"] }), De.length > 1 && i.jsx("div", { className: "h-8 mt-2 relative", children: i.jsxs("svg", { className: "w-full h-full", viewBox: "0 0 100 30", preserveAspectRatio: "none", children: [i.jsx("defs", { children: i.jsxs("linearGradient", { id: `sparkGrad-${S.replace("/", "")}`, x1: "0", y1: "0", x2: "0", y2: "1", children: [i.jsx("stop", { offset: "0%", stopColor: Re >= 0 ? "#10b981" : "#ef4444", stopOpacity: "0.3" }), i.jsx("stop", { offset: "100%", stopColor: Re >= 0 ? "#10b981" : "#ef4444", stopOpacity: "0" })] }) }), i.jsx("path", { d: `M0,30 ${De.map((ft, Nt) => { const Ve = Nt / (De.length - 1) * 100, Ut = 30 - (ft.close - at) / Ot * 28; return `L${Ve},${Ut}` }).join(" ")} L100,30 Z`, fill: `url(#sparkGrad-${S.replace("/", "")})` }), i.jsx("path", { d: De.map((ft, Nt) => { const Ve = Nt / (De.length - 1) * 100, Ut = 30 - (ft.close - at) / Ot * 28; return `${Nt === 0 ? "M" : "L"}${Ve},${Ut}` }).join(" "), fill: "none", stroke: Re >= 0 ? "#10b981" : "#ef4444", strokeWidth: "1.5" }), i.jsx("circle", { cx: "100", cy: 30 - (((we = De[De.length - 1]) == null ? void 0 : we.close) - at) / Ot * 28, r: "2", fill: Re >= 0 ? "#10b981" : "#ef4444" })] }) }), i.jsx("div", { className: `mt-2 text-center py-1 rounded text-xs font-medium border ${Xa(fe == null ? void 0 : fe.signalType)}`, children: (fe == null ? void 0 : fe.signal) || " WAIT" })] }, S) }) }), i.jsx("div", { className: `${Rs} rounded-xl p-3 border border-slate-700/50 mb-4`, children: i.jsxs("div", { className: "flex flex-wrap items-center justify-between gap-3", children: [i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsxs("label", { className: "flex items-center gap-2 cursor-pointer", children: [i.jsx("input", { type: "checkbox", checked: ge, onChange: S => ke(S.target.checked), className: "w-4 h-4 accent-amber-500" }), i.jsx("span", { className: `text-sm font-medium ${ge ? "text-amber-400" : "text-slate-400"}`, children: " " })] }), ge && i.jsx("span", { className: "px-2 py-0.5 bg-amber-500/20 text-amber-400 text-xs rounded", children: "ON" })] }), i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsx("button", { onClick: () => ct(S => !S), className: `px-3 py-1.5 text-xs rounded-lg transition-all ${nt ? "bg-purple-500 text-white" : "bg-slate-700 text-slate-300 hover:bg-slate-600"}`, children: "  [K]" }), i.jsx("button", { onClick: () => d(!0), className: "px-3 py-1.5 bg-slate-700 text-slate-300 hover:bg-slate-600 text-xs rounded-lg transition-all", children: " ZEN [Esc]" })] }), i.jsxs("div", { className: "hidden md:flex items-center gap-2 text-xs text-slate-500", children: [i.jsx("span", { className: "px-1.5 py-0.5 bg-slate-800 rounded", children: "L" }), "=Long", i.jsx("span", { className: "px-1.5 py-0.5 bg-slate-800 rounded", children: "S" }), "=Short", i.jsx("span", { className: "px-1.5 py-0.5 bg-slate-800 rounded", children: "C" }), "=Close", i.jsx("span", { className: "px-1.5 py-0.5 bg-slate-800 rounded", children: "1-4" }), "="] })] }) }), nt && i.jsxs("div", { className: `${Rs} rounded-xl p-4 border border-purple-500/50 mb-4`, children: [i.jsxs("div", { className: "flex justify-between items-center mb-3", children: [i.jsx("span", { className: "text-purple-400 font-bold", children: " " }), i.jsx("button", { onClick: () => ct(!1), className: "text-slate-400 hover:text-white", children: "" })] }), i.jsxs("div", { className: "grid grid-cols-2 md:grid-cols-5 gap-3 mb-3", children: [i.jsxs("div", { children: [i.jsx("label", { className: "text-xs text-slate-500 block mb-1", children: "" }), i.jsx("input", { type: "number", value: de, onChange: S => Ze(S.target.value), placeholder: wr((Bi = (Mo = n[e]) == null ? void 0 : Mo.slice(-1)[0]) == null ? void 0 : Bi.close, e), className: "w-full px-2 py-1.5 bg-slate-800 border border-slate-600 rounded text-sm text-white" })] }), i.jsxs("div", { children: [i.jsx("label", { className: "text-xs text-slate-500 block mb-1", children: "" }), i.jsx("input", { type: "number", value: F, onChange: S => se(S.target.value), placeholder: "0", className: "w-full px-2 py-1.5 bg-slate-800 border border-slate-600 rounded text-sm text-white" })] }), i.jsxs("div", { children: [i.jsx("label", { className: "text-xs text-slate-500 block mb-1", children: " (USDT)" }), i.jsx("input", { type: "number", value: qe, onChange: S => X(S.target.value), placeholder: "100", className: "w-full px-2 py-1.5 bg-slate-800 border border-slate-600 rounded text-sm text-white" })] }), i.jsxs("div", { children: [i.jsx("label", { className: "text-xs text-slate-500 block mb-1", children: "" }), i.jsx("select", { value: ne, onChange: S => Se(S.target.value), className: "w-full px-2 py-1.5 bg-slate-800 border border-slate-600 rounded text-sm text-white", children: ["1", "2", "3", "5", "10", "20", "25", "50", "75", "100", "125"].map(S => i.jsxs("option", { value: S, children: [S, "x"] }, S)) })] }), i.jsxs("div", { children: [i.jsx("label", { className: "text-xs text-slate-500 block mb-1", children: "" }), i.jsxs("div", { className: "flex gap-1", children: [i.jsx("button", { onClick: () => { var J, fe; const S = parseFloat(de) || ((fe = (J = n[e]) == null ? void 0 : J.slice(-1)[0]) == null ? void 0 : fe.close) || 0, K = $r(); se((S * (1 + K.takeProfitPercent / 100)).toFixed(2)) }, className: "flex-1 px-2 py-1.5 bg-emerald-600 hover:bg-emerald-700 text-white text-xs rounded", children: "Long TP" }), i.jsx("button", { onClick: () => { var J, fe; const S = parseFloat(de) || ((fe = (J = n[e]) == null ? void 0 : J.slice(-1)[0]) == null ? void 0 : fe.close) || 0, K = $r(); se((S * (1 - K.takeProfitPercent / 100)).toFixed(2)) }, className: "flex-1 px-2 py-1.5 bg-red-600 hover:bg-red-700 text-white text-xs rounded", children: "Short TP" })] })] })] }), de && F && qe && (() => { const S = parseFloat(de), K = parseFloat(F), J = parseFloat(qe), fe = parseInt(ne), me = (K - S) / S * 100, Oe = me / 100 * J * fe, Qe = me * fe; return i.jsxs("div", { className: "grid grid-cols-3 gap-3 p-3 bg-slate-900/50 rounded-lg", children: [i.jsxs("div", { className: "text-center", children: [i.jsx("div", { className: "text-xs text-slate-500", children: "" }), i.jsxs("div", { className: `text-lg font-bold ${me >= 0 ? "text-emerald-400" : "text-red-400"}`, children: [me >= 0 ? "+" : "", me.toFixed(3), "%"] })] }), i.jsxs("div", { className: "text-center", children: [i.jsx("div", { className: "text-xs text-slate-500", children: " (USDT)" }), i.jsxs("div", { className: `text-lg font-bold ${Oe >= 0 ? "text-emerald-400" : "text-red-400"}`, children: [Oe >= 0 ? "+" : "", Oe.toFixed(2)] })] }), i.jsxs("div", { className: "text-center", children: [i.jsxs("div", { className: "text-xs text-slate-500", children: ["ROE (", fe, "x)"] }), i.jsxs("div", { className: `text-lg font-bold ${Qe >= 0 ? "text-emerald-400" : "text-red-400"}`, children: [Qe >= 0 ? "+" : "", Qe.toFixed(2), "%"] })] })] }) })()] }), i.jsxs("div", { className: `${Rs} rounded-xl p-4 md:p-6 border border-slate-700/50`, children: [i.jsxs("div", { className: "flex flex-wrap justify-between items-center gap-4 mb-4", children: [i.jsxs("div", { children: [i.jsxs("div", { className: `text-sm ${yt} opacity-60 flex items-center gap-2`, children: ["Focus", We[e] && i.jsxs("span", { className: `text-xs px-2 py-0.5 rounded ${We[e].type === "LONG" ? "bg-emerald-500/30 text-emerald-400" : "bg-red-500/30 text-red-400"}`, children: [We[e].type, " @ ", wr(We[e].entryPrice, e)] })] }), i.jsxs("div", { className: "text-3xl md:text-4xl font-light text-[#D4AF37]", children: [e, " - ", wr(($o = (Ci = n[e]) == null ? void 0 : Ci.slice(-1)[0]) == null ? void 0 : $o.close, e)] })] }), i.jsxs("div", { className: `text-center px-6 py-3 rounded-lg border-2 ${Xa((ya = a[e]) == null ? void 0 : ya.signalType)}`, children: [i.jsx("div", { className: "text-2xl font-bold", children: ((Ko = a[e]) == null ? void 0 : Ko.signal) || " WAIT" }), i.jsx("div", { className: "text-xs opacity-70", children: ((m = a[e]) == null ? void 0 : m.reason) || "..." })] })] }), ((Q = a[e]) == null ? void 0 : Q.action) && i.jsxs("div", { className: "mb-4 p-4 rounded-lg bg-slate-900/50 border border-slate-700", children: [i.jsxs("div", { className: `text-lg font-bold mb-4 ${((ae = a[e]) == null ? void 0 : ae.signalType) === "ENTRY_LONG" ? "text-emerald-400" : ((xe = a[e]) == null ? void 0 : xe.signalType) === "ENTRY_SHORT" ? "text-red-400" : ((Ie = a[e]) == null ? void 0 : Ie.signalType) === "TAKE_PROFIT" ? "text-yellow-400" : "text-red-500"}`, children: [((tt = a[e]) == null ? void 0 : tt.action) === "OPEN_LONG" && " LONG", ((lt = a[e]) == null ? void 0 : lt.action) === "OPEN_SHORT" && " SHORT", ((Mt = a[e]) == null ? void 0 : Mt.action) === "CLOSE_LONG" && " LONG/", ((qt = a[e]) == null ? void 0 : qt.action) === "CLOSE_SHORT" && " SHORT/"] }), ((ir = a[e]) == null ? void 0 : ir.suggestedTP) && (((lr = a[e]) == null ? void 0 : lr.action) === "OPEN_LONG" || ((br = a[e]) == null ? void 0 : br.action) === "OPEN_SHORT") && i.jsxs("div", { className: "mb-4 grid grid-cols-3 gap-3", children: [i.jsxs("div", { className: "p-3 rounded-lg bg-slate-800 border-2 border-blue-500/50", children: [i.jsx("div", { className: "text-xs text-blue-400 mb-1 font-medium", children: " " }), i.jsx("div", { className: "text-lg font-bold text-white font-mono", children: wr((zr = a[e]) == null ? void 0 : zr.lastPrice, e) }), i.jsx("div", { className: "text-xs text-slate-400 mt-1", children: "" })] }), i.jsxs("div", { className: "p-3 rounded-lg bg-emerald-900/30 border-2 border-emerald-500", children: [i.jsx("div", { className: "text-xs text-emerald-400 mb-1 font-medium", children: "  (TP)" }), i.jsx("div", { className: "text-lg font-bold text-emerald-400 font-mono", children: wr((un = a[e]) == null ? void 0 : un.suggestedTP, e) }), i.jsxs("div", { className: "text-xs text-emerald-300 mt-1", children: ["+", $r().takeProfitPercent, "% (", ((Qr = a[e]) == null ? void 0 : Qr.action) === "OPEN_LONG" ? "" : "", ")"] })] }), i.jsxs("div", { className: "p-3 rounded-lg bg-red-900/30 border-2 border-red-500", children: [i.jsx("div", { className: "text-xs text-red-400 mb-1 font-medium", children: "  (SL)" }), i.jsx("div", { className: "text-lg font-bold text-red-400 font-mono", children: wr((wn = a[e]) == null ? void 0 : wn.suggestedSL, e) }), i.jsxs("div", { className: "text-xs text-red-300 mt-1", children: ["-", $r().stopLossPercent, "% (", ((dn = a[e]) == null ? void 0 : dn.action) === "OPEN_LONG" ? "" : "", ")"] })] })] }), ((Ln = a[e]) == null ? void 0 : Ln.suggestedTP) && (((Ni = a[e]) == null ? void 0 : Ni.action) === "OPEN_LONG" || ((Hs = a[e]) == null ? void 0 : Hs.action) === "OPEN_SHORT") && (() => { const S = $r(); return i.jsxs("div", { className: "mb-4 p-3 rounded-lg bg-slate-800/50 border border-slate-700", children: [i.jsxs("div", { className: "flex items-center justify-between", children: [i.jsx("span", { className: "text-sm text-slate-400", children: " (RR)" }), i.jsxs("span", { className: "text-lg font-bold text-amber-400", children: ["1 : ", (S.takeProfitPercent / S.stopLossPercent).toFixed(2)] })] }), i.jsxs("div", { className: "mt-2 h-2 bg-slate-700 rounded-full overflow-hidden flex", children: [i.jsx("div", { className: "bg-red-500 h-full", style: { width: `${S.stopLossPercent / (S.takeProfitPercent + S.stopLossPercent) * 100}%` } }), i.jsx("div", { className: "bg-emerald-500 h-full", style: { width: `${S.takeProfitPercent / (S.takeProfitPercent + S.stopLossPercent) * 100}%` } })] }), i.jsxs("div", { className: "flex justify-between text-xs mt-1", children: [i.jsxs("span", { className: "text-red-400", children: [" ", S.stopLossPercent, "%"] }), i.jsxs("span", { className: "text-emerald-400", children: [" ", S.takeProfitPercent, "%"] })] }), i.jsxs("div", { className: "text-center text-xs text-slate-500 mt-2", children: [" ", S.timeZoneName, " | Max ", S.maxHoldingMinutes, ""] })] }) })(), i.jsx("div", { className: "flex flex-wrap items-center justify-between gap-3", children: i.jsxs("div", { className: "flex flex-col gap-3", children: [(((Si = a[e]) == null ? void 0 : Si.action) === "OPEN_LONG" || ((LA = a[e]) == null ? void 0 : LA.action) === "OPEN_SHORT") && i.jsx("div", { className: "w-full p-4 bg-slate-800/70 rounded-lg border border-slate-700", children: i.jsxs("div", { className: "space-y-4", children: [i.jsxs("div", { children: [i.jsxs("div", { className: "flex justify-between items-center mb-2", children: [i.jsx("span", { className: "text-sm font-medium text-slate-300", children: " " }), i.jsx("div", { className: "flex items-center gap-2", children: i.jsxs("span", { className: "text-lg font-bold text-emerald-400", children: [ue, "%"] }) })] }), i.jsx("input", { type: "range", min: "1", max: "100", value: ue, onChange: S => pe(S.target.value), className: "w-full h-3 bg-slate-700 rounded-lg appearance-none cursor-pointer", style: { background: `linear-gradient(to right, #10b981 0%, #10b981 ${ue}%, #334155 ${ue}%, #334155 100%)` } }), i.jsxs("div", { className: "flex justify-between text-xs text-slate-500 mt-2", children: [i.jsx("span", { children: "1%" }), i.jsx("span", { children: "25%" }), i.jsx("span", { children: "50%" }), i.jsx("span", { children: "75%" }), i.jsx("span", { children: "100%" })] }), i.jsx("div", { className: "flex gap-1 mt-3", children: ["10", "25", "50", "75", "100"].map(S => i.jsxs("button", { onClick: () => pe(S), className: `flex-1 py-1.5 text-xs rounded transition-all font-medium ${ue === S ? "bg-emerald-500 text-white font-bold" : "bg-slate-700 text-slate-300 hover:bg-slate-600"}`, children: [S, "%"] }, S)) })] }), T && te && i.jsxs("div", { className: "p-3 bg-slate-900/50 rounded-lg space-y-2", children: [i.jsxs("div", { className: "flex justify-between text-sm", children: [i.jsx("span", { className: "text-slate-400", children: " " }), i.jsxs("span", { className: "text-white font-mono", children: [(tA = te.availableBalance) == null ? void 0 : tA.toFixed(2), " USDT"] })] }), (() => { const K = (te.availableBalance || 0) * ue / 100, J = K * parseInt(ve), fe = parseInt(ue), me = fe * parseInt(ve) / 100, Oe = fe >= 50, Qe = me >= .5; return i.jsxs(i.Fragment, { children: [i.jsxs("div", { className: "flex justify-between text-sm pt-2 border-t border-slate-700", children: [i.jsxs("span", { className: "text-slate-400", children: [" (", ue, "%)"] }), i.jsxs("span", { className: "text-emerald-400 font-mono font-bold", children: [K.toFixed(2), " USDT"] })] }), i.jsxs("div", { className: "flex justify-between text-sm", children: [i.jsx("span", { className: "text-slate-400", children: " " }), i.jsxs("span", { className: "text-amber-400 font-mono font-bold", children: [J.toFixed(2), " USDT"] })] }), (Oe || Qe) && i.jsxs("div", { className: `mt-2 p-2 rounded-lg border ${Qe ? "bg-red-900/30 border-red-500/50" : "bg-amber-900/30 border-amber-500/50"}`, children: [i.jsx("div", { className: `text-xs font-bold flex items-center gap-1 ${Qe ? "text-red-400" : "text-amber-400"}`, children: Qe ? " " : " " }), i.jsxs("div", { className: "text-xs text-slate-300 mt-1", children: [" ", i.jsxs("span", { className: `font-bold ${Qe ? "text-red-400" : "text-amber-400"}`, children: [fe, "%"] }), " ", parseInt(ve) > 1 && i.jsxs("span", { className: "text-slate-400", children: ["", ve, "x ", (me * 100).toFixed(0), "%"] })] }), Qe && i.jsx("div", { className: "text-[10px] text-red-300 mt-1", children: " " })] })] }) })()] }), i.jsxs("div", { children: [i.jsxs("div", { className: "flex justify-between items-center mb-2", children: [i.jsx("span", { className: "text-sm font-medium text-slate-300", children: " " }), i.jsxs("span", { className: `text-lg font-bold ${parseInt(ve) >= 100 ? "text-red-400" : parseInt(ve) >= 50 ? "text-orange-400" : "text-amber-400"}`, children: [ve, "x"] })] }), i.jsx("div", { className: "flex gap-1 mb-1", children: ["1", "2", "3", "5", "10", "20"].map(S => i.jsxs("button", { onClick: () => I(S), className: `flex-1 py-2 text-xs rounded-lg transition-all font-medium ${ve === S ? "bg-amber-500 text-slate-900 font-bold shadow-lg shadow-amber-500/30" : "bg-slate-700 text-slate-300 hover:bg-slate-600"}`, children: [S, "x"] }, S)) }), i.jsx("div", { className: "flex gap-1", children: ["25", "50", "75", "100", "125"].map(S => i.jsxs("button", { onClick: () => I(S), className: `flex-1 py-2 text-xs rounded-lg transition-all font-medium ${ve === S ? parseInt(S) >= 100 ? "bg-red-500 text-white font-bold shadow-lg shadow-red-500/30" : "bg-orange-500 text-slate-900 font-bold shadow-lg shadow-orange-500/30" : parseInt(S) >= 100 ? "bg-red-900/50 text-red-300 hover:bg-red-800/50 border border-red-500/30" : "bg-orange-900/50 text-orange-300 hover:bg-orange-800/50 border border-orange-500/30"}`, children: [S, "x"] }, S)) }), parseInt(ve) >= 50 && i.jsxs("div", { className: `mt-2 p-2 rounded text-xs ${parseInt(ve) >= 100 ? "bg-red-900/30 border border-red-500/50 text-red-300" : "bg-orange-900/30 border border-orange-500/50 text-orange-300"}`, children: [parseInt(ve) >= 100 ? "" : "", parseInt(ve), "", parseInt(ve) >= 100 ? "" : "", "", parseInt(ve) >= 100 && " "] })] })] }) }), i.jsxs("div", { className: "flex flex-wrap gap-2", children: [(((Gi = a[e]) == null ? void 0 : Gi.action) === "OPEN_LONG" || ((ba = a[e]) == null ? void 0 : ba.action) === "OPEN_SHORT") && i.jsxs(i.Fragment, { children: [i.jsx("button", { onClick: () => eu(e), className: "px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-500 hover:to-indigo-500 text-white rounded-lg text-sm font-medium transition-all", children: " AI" }), i.jsx("button", { onClick: () => { var S, K; return jA(e, ((S = a[e]) == null ? void 0 : S.action) === "OPEN_LONG" ? "LONG" : "SHORT", (K = a[e]) == null ? void 0 : K.lastPrice) }, className: "px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-300 rounded-lg text-sm font-medium transition-all", children: " " }), T && i.jsx("button", { onClick: () => { var S; return bt(e, ((S = a[e]) == null ? void 0 : S.action) === "OPEN_LONG" ? "buy" : "sell", ue, ve) }, disabled: he, className: `flex-1 min-w-[150px] py-3 rounded-lg text-sm font-bold transition-all ${((Ba = a[e]) == null ? void 0 : Ba.action) === "OPEN_LONG" ? "bg-gradient-to-r from-emerald-600 to-emerald-500 hover:from-emerald-500 hover:to-emerald-400 text-white shadow-lg shadow-emerald-500/30" : "bg-gradient-to-r from-red-600 to-red-500 hover:from-red-500 hover:to-red-400 text-white shadow-lg shadow-red-500/30"} ${he ? "opacity-50 cursor-not-allowed" : ""}`, children: he ? " ..." : ((Vi = a[e]) == null ? void 0 : Vi.action) === "OPEN_LONG" ? " LONG " : " SHORT " })] }), (((On = a[e]) == null ? void 0 : On.action) === "CLOSE_LONG" || ((Ca = a[e]) == null ? void 0 : Ca.action) === "CLOSE_SHORT") && i.jsxs(i.Fragment, { children: [i.jsx("button", { onClick: () => Qo(e), className: "px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-300 rounded-lg text-sm font-medium transition-all", children: " " }), T && i.jsx("button", { onClick: () => ht(e), disabled: he, className: `px-4 py-2 bg-yellow-600 hover:bg-yellow-500 text-white rounded-lg text-sm font-medium transition-all ${he ? "opacity-50 cursor-not-allowed" : ""}`, children: he ? "" : " " })] })] })] }) })] }), We[e] && !((Na = a[e]) != null && Na.action) && (() => { var Je, Ot; const S = We[e], K = S.entryPrice, J = ((Ot = (Je = n[e]) == null ? void 0 : Je.slice(-1)[0]) == null ? void 0 : Ot.close) || K, fe = S.type === "LONG", me = Pt.takeProfitPercent, Oe = Pt.stopLossPercent, Qe = fe ? K * (1 + me / 100) : K * (1 - me / 100), Re = fe ? K * (1 - Oe / 100) : K * (1 + Oe / 100), je = fe ? (J - K) / K * 100 : (K - J) / K * 100, De = fe ? (J - K) / (Qe - K) * 100 : (K - J) / (K - Qe) * 100, at = fe ? (K - J) / (K - Re) * 100 : (J - K) / (Re - K) * 100; return i.jsxs("div", { className: "mb-4 p-4 rounded-lg bg-slate-900/50 border border-slate-700", children: [i.jsxs("div", { className: `text-lg font-bold mb-3 ${fe ? "text-emerald-400" : "text-red-400"}`, children: [fe ? "" : "", " ", S.type, " "] }), i.jsxs("div", { className: "mb-4 grid grid-cols-4 gap-2", children: [i.jsxs("div", { className: `p-3 rounded-lg border-2 ${at > 50 ? "bg-red-900/50 border-red-400 animate-pulse" : "bg-red-900/30 border-red-500/50"}`, children: [i.jsx("div", { className: "text-xs text-red-400 mb-1 font-medium", children: " " }), i.jsx("div", { className: "text-base font-bold text-red-400 font-mono", children: wr(Re, e) }), i.jsxs("div", { className: "text-xs text-red-300 mt-1", children: ["-", Oe, "%"] })] }), i.jsxs("div", { className: "p-3 rounded-lg bg-slate-800 border-2 border-blue-500/50", children: [i.jsx("div", { className: "text-xs text-blue-400 mb-1 font-medium", children: " Entry" }), i.jsx("div", { className: "text-base font-bold text-white font-mono", children: wr(K, e) }), i.jsx("div", { className: "text-xs text-slate-400 mt-1", children: "" })] }), i.jsxs("div", { className: `p-3 rounded-lg border-2 ${je >= 0 ? "bg-emerald-900/30 border-emerald-500/50" : "bg-red-900/30 border-red-500/50"}`, children: [i.jsx("div", { className: "text-xs text-slate-400 mb-1 font-medium", children: " " }), i.jsx("div", { className: `text-base font-bold font-mono ${je >= 0 ? "text-emerald-400" : "text-red-400"}`, children: wr(J, e) }), i.jsxs("div", { className: `text-xs mt-1 ${je >= 0 ? "text-emerald-300" : "text-red-300"}`, children: [je >= 0 ? "+" : "", je.toFixed(2), "%"] })] }), i.jsxs("div", { className: `p-3 rounded-lg border-2 ${De > 80 ? "bg-emerald-900/50 border-emerald-400 animate-pulse" : "bg-emerald-900/30 border-emerald-500/50"}`, children: [i.jsx("div", { className: "text-xs text-emerald-400 mb-1 font-medium", children: " " }), i.jsx("div", { className: "text-base font-bold text-emerald-400 font-mono", children: wr(Qe, e) }), i.jsxs("div", { className: "text-xs text-emerald-300 mt-1", children: ["+", me, "%"] })] })] }), i.jsxs("div", { className: "mb-4 p-3 rounded-lg bg-slate-800/50", children: [i.jsxs("div", { className: "flex justify-between text-xs mb-2", children: [i.jsxs("span", { className: "text-red-400", children: ["SL ", wr(Re, e)] }), i.jsxs("span", { className: `font-bold ${je >= 0 ? "text-emerald-400" : "text-red-400"}`, children: [": ", je >= 0 ? "+" : "", je.toFixed(2), "%"] }), i.jsxs("span", { className: "text-emerald-400", children: ["TP ", wr(Qe, e)] })] }), i.jsxs("div", { className: "h-3 bg-slate-700 rounded-full overflow-hidden relative", children: [i.jsx("div", { className: "absolute left-0 top-0 h-full bg-red-500/30", style: { width: `${Oe / (me + Oe) * 100}%` } }), i.jsx("div", { className: "absolute right-0 top-0 h-full bg-emerald-500/30", style: { width: `${me / (me + Oe) * 100}%` } }), i.jsx("div", { className: "absolute top-0 h-full w-0.5 bg-blue-400", style: { left: `${Oe / (me + Oe) * 100}%` } }), i.jsx("div", { className: `absolute top-0 h-full w-1 ${je >= 0 ? "bg-emerald-400" : "bg-red-400"} shadow-lg`, style: { left: `${Math.max(0, Math.min(100, (Oe + je) / (me + Oe) * 100))}%`, transition: "left 0.3s ease" } })] })] }), i.jsxs("div", { className: "flex gap-2", children: [i.jsx("button", { onClick: () => Qo(e), className: "px-3 py-2 bg-slate-700 hover:bg-slate-600 text-slate-300 rounded text-sm transition-all", children: " " }), T && i.jsx("button", { onClick: () => ht(e), disabled: he, className: `flex-1 px-4 py-2 bg-yellow-600 hover:bg-yellow-500 text-white rounded text-sm font-bold transition-all ${he ? "opacity-50" : ""}`, children: he ? " ..." : " " })] })] }) })(), i.jsxs("div", { className: "grid grid-cols-2 md:grid-cols-5 gap-4 mb-4", children: [i.jsxs("div", { className: `${w === "midnight" ? "bg-slate-900/50" : "bg-slate-100"} rounded-lg p-3`, children: [i.jsx("div", { className: `text-xs ${yt} opacity-50`, children: "RSI (14)" }), i.jsx("div", { className: `text-xl font-medium ${(((OA = a[e]) == null ? void 0 : OA.rsi) || 50) < 30 ? "text-emerald-400" : (((PA = a[e]) == null ? void 0 : PA.rsi) || 50) > 70 ? "text-red-400" : "text-[#D4AF37]"}`, children: ((ji = (Yn = a[e]) == null ? void 0 : Yn.rsi) == null ? void 0 : ji.toFixed(1)) || "-" })] }), i.jsxs("div", { className: `${w === "midnight" ? "bg-slate-900/50" : "bg-slate-100"} rounded-lg p-3`, children: [i.jsx("div", { className: `text-xs ${yt} opacity-50`, children: "MACD" }), i.jsx("div", { className: `text-xl font-medium ${(((Go = (rA = a[e]) == null ? void 0 : rA.macd) == null ? void 0 : Go.histogram) || 0) > 0 ? "text-emerald-400" : "text-red-400"}`, children: ((DA = (Sa = (Es = a[e]) == null ? void 0 : Es.macd) == null ? void 0 : Sa.histogram) == null ? void 0 : DA.toFixed(2)) || "-" })] }), i.jsxs("div", { className: `${w === "midnight" ? "bg-slate-900/50" : "bg-slate-100"} rounded-lg p-3`, children: [i.jsx("div", { className: `text-xs ${yt} opacity-50`, children: "BB Upper" }), i.jsx("div", { className: "text-xl font-medium text-red-400", children: wr((zi = (RA = a[e]) == null ? void 0 : RA.bb) == null ? void 0 : zi.upper, e) })] }), i.jsxs("div", { className: `${w === "midnight" ? "bg-slate-900/50" : "bg-slate-100"} rounded-lg p-3`, children: [i.jsx("div", { className: `text-xs ${yt} opacity-50`, children: "BB Lower" }), i.jsx("div", { className: "text-xl font-medium text-emerald-400", children: wr((fs = (ja = a[e]) == null ? void 0 : ja.bb) == null ? void 0 : fs.lower, e) })] }), i.jsxs("div", { className: `${w === "midnight" ? "bg-slate-900/50" : "bg-slate-100"} rounded-lg p-3`, children: [i.jsx("div", { className: `text-xs ${yt} opacity-50`, children: "Trend" }), i.jsx("div", { className: `text-xl font-medium ${((ps = a[e]) == null ? void 0 : ps.trend) === "UP" ? "text-emerald-400" : ((qi = a[e]) == null ? void 0 : qi.trend) === "DOWN" ? "text-red-400" : "text-slate-400"}`, children: ((Ei = a[e]) == null ? void 0 : Ei.trend) === "UP" ? "" : ((Wi = a[e]) == null ? void 0 : Wi.trend) === "DOWN" ? "" : "" })] })] }), i.jsxs("div", { className: `${w === "midnight" ? "bg-slate-900/50" : "bg-slate-100"} rounded-lg p-4`, children: [i.jsxs("div", { className: "flex justify-between items-center mb-2", children: [i.jsx("span", { className: `text-sm ${yt}`, children: "Sensitivity" }), i.jsxs("span", { className: "text-sm text-[#D4AF37]", children: [(p * 100).toFixed(0), "%"] })] }), i.jsx("input", { type: "range", min: "0", max: "1", step: "0.1", value: p, onChange: S => g(parseFloat(S.target.value)), className: "w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-[#D4AF37]" }), i.jsxs("div", { className: "flex justify-between text-xs text-slate-500 mt-1", children: [i.jsx("span", { children: "Conservative" }), i.jsx("span", { children: "Aggressive" })] })] })] }), i.jsx("div", { className: `mt-4 text-center text-xs ${yt} opacity-40`, children: " LONG () |  SHORT () |   |   |  HOLD |  WAIT" }), T && i.jsxs("div", { className: `mt-8 ${Rs} rounded-2xl p-6 border border-slate-700/50`, children: [i.jsxs("div", { className: "flex items-center justify-between mb-6", children: [i.jsxs("div", { className: "flex gap-2", children: [i.jsx("button", { onClick: () => Ue("history"), className: `px-4 py-2 rounded-lg text-sm font-medium transition-all ${O === "history" ? "bg-[#D4AF37] text-slate-900" : "bg-slate-700 text-slate-300 hover:bg-slate-600"}`, children: " " }), i.jsx("button", { onClick: () => Ue("pnl"), className: `px-4 py-2 rounded-lg text-sm font-medium transition-all ${O === "pnl" ? "bg-[#D4AF37] text-slate-900" : "bg-slate-700 text-slate-300 hover:bg-slate-600"}`, children: " " }), i.jsx("button", { onClick: () => Ue("stats"), className: `px-4 py-2 rounded-lg text-sm font-medium transition-all ${O === "stats" ? "bg-[#D4AF37] text-slate-900" : "bg-slate-700 text-slate-300 hover:bg-slate-600"}`, children: " " }), i.jsxs("button", { onClick: () => Ue("alerts"), className: `px-4 py-2 rounded-lg text-sm font-medium transition-all ${O === "alerts" ? "bg-[#D4AF37] text-slate-900" : "bg-slate-700 text-slate-300 hover:bg-slate-600"}`, children: [" ", W.filter(S => !S.triggered).length > 0 && i.jsx("span", { className: "ml-1 px-1.5 py-0.5 bg-amber-500 text-slate-900 text-xs rounded-full", children: W.filter(S => !S.triggered).length })] })] }), i.jsx("button", { onClick: () => { st(), Ge() }, disabled: Ft, className: "px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg text-sm transition-all", children: Ft ? " ..." : " " })] }), O === "history" && i.jsxs("div", { children: [i.jsx("h3", { className: "text-lg font-bold text-[#D4AF37] mb-4", children: " 100" }), xt.length === 0 ? i.jsxs("div", { className: "text-center py-12 text-slate-400", children: [i.jsx("div", { className: "text-4xl mb-4", children: "" }), i.jsx("div", { children: "" }), i.jsx("div", { className: "text-sm mt-2", children: "KuCoin Futures" })] }) : i.jsx("div", { className: "overflow-x-auto", children: i.jsxs("table", { className: "w-full text-sm", children: [i.jsx("thead", { children: i.jsxs("tr", { className: "border-b border-slate-700", children: [i.jsx("th", { className: "text-left py-3 px-2 text-slate-400", children: "" }), i.jsx("th", { className: "text-left py-3 px-2 text-slate-400", children: "" }), i.jsx("th", { className: "text-left py-3 px-2 text-slate-400", children: "" }), i.jsx("th", { className: "text-right py-3 px-2 text-slate-400", children: "" }), i.jsx("th", { className: "text-right py-3 px-2 text-slate-400", children: "" }), i.jsx("th", { className: "text-right py-3 px-2 text-slate-400", children: "" }), i.jsx("th", { className: "text-right py-3 px-2 text-slate-400", children: "" }), i.jsx("th", { className: "text-right py-3 px-2 text-slate-400", children: "" })] }) }), i.jsx("tbody", { children: xt.slice(0, 50).map((S, K) => i.jsxs("tr", { className: "border-b border-slate-800 hover:bg-slate-800/50", children: [i.jsxs("td", { className: "py-3 px-2 text-slate-300 text-xs", children: [S.time.toLocaleDateString("ja-JP"), i.jsx("br", {}), i.jsx("span", { className: "text-slate-500", children: S.time.toLocaleTimeString("ja-JP") })] }), i.jsx("td", { className: "py-3 px-2 text-white font-medium", children: S.symbol }), i.jsx("td", { className: "py-3 px-2", children: i.jsx("span", { className: `px-2 py-1 rounded text-xs font-bold ${S.side === "buy" ? "bg-emerald-500/20 text-emerald-400" : "bg-red-500/20 text-red-400"}`, children: S.side === "buy" ? "BUY" : "SELL" }) }), i.jsx("td", { className: "py-3 px-2 text-right text-slate-300 font-mono", children: S.price.toLocaleString() }), i.jsx("td", { className: "py-3 px-2 text-right text-slate-300 font-mono", children: S.size }), i.jsxs("td", { className: "py-3 px-2 text-right text-slate-300 font-mono", children: ["$", S.value.toFixed(2)] }), i.jsxs("td", { className: "py-3 px-2 text-right text-amber-400 font-mono text-xs", children: ["-$", S.fee.toFixed(4)] }), i.jsx("td", { className: `py-3 px-2 text-right font-mono font-bold ${S.pnl >= 0 ? "text-emerald-400" : "text-red-400"}`, children: S.pnl !== 0 ? `${S.pnl >= 0 ? "+" : ""}$${S.pnl.toFixed(2)}` : "-" })] }, S.id || K)) })] }) })] }), O === "pnl" && i.jsxs("div", { children: [i.jsx("h3", { className: "text-lg font-bold text-[#D4AF37] mb-4", children: " " }), Et.length === 0 ? i.jsxs("div", { className: "text-center py-12 text-slate-400", children: [i.jsx("div", { className: "text-4xl mb-4", children: "" }), i.jsx("div", { children: "" }), i.jsx("div", { className: "text-sm mt-2", children: "" })] }) : i.jsxs(i.Fragment, { children: [i.jsxs("div", { className: "h-64 bg-slate-900/50 rounded-xl p-4 mb-6 relative", children: [i.jsxs("svg", { viewBox: "0 0 800 200", className: "w-full h-full", children: [i.jsx("defs", { children: i.jsx("pattern", { id: "grid", width: "80", height: "40", patternUnits: "userSpaceOnUse", children: i.jsx("path", { d: "M 80 0 L 0 0 0 40", fill: "none", stroke: "#334155", strokeWidth: "0.5" }) }) }), i.jsx("rect", { width: "800", height: "200", fill: "url(#grid)" }), (() => { Math.max(...Et.map(K => Math.abs(K.cumulative)), 1); const S = 100; return i.jsx("line", { x1: "0", y1: S, x2: "800", y2: S, stroke: "#64748b", strokeWidth: "1", strokeDasharray: "4" }) })(), (() => { var me; const S = Math.max(...Et.map(Oe => Math.abs(Oe.cumulative)), 1), K = Et.map((Oe, Qe) => { const Re = Qe / (Et.length - 1 || 1) * 780 + 10, je = 100 - Oe.cumulative / S * 80; return `${Re},${je}` }).join(" "), J = ((me = Et[Et.length - 1]) == null ? void 0 : me.cumulative) || 0, fe = J >= 0 ? "#10b981" : "#ef4444"; return i.jsxs(i.Fragment, { children: [i.jsx("polygon", { points: `10,100 ${K} 790,100`, fill: J >= 0 ? "rgba(16, 185, 129, 0.2)" : "rgba(239, 68, 68, 0.2)" }), i.jsx("polyline", { points: K, fill: "none", stroke: fe, strokeWidth: "2", strokeLinejoin: "round" }), Et.map((Oe, Qe) => { const Re = Qe / (Et.length - 1 || 1) * 780 + 10, je = 100 - Oe.cumulative / S * 80; return i.jsx("circle", { cx: Re, cy: je, r: "4", fill: Oe.pnl >= 0 ? "#10b981" : "#ef4444", stroke: "#1e293b", strokeWidth: "2" }, Qe) })] }) })()] }), i.jsxs("div", { className: "absolute top-4 right-4 text-right", children: [i.jsx("div", { className: "text-xs text-slate-400", children: "" }), i.jsxs("div", { className: `text-2xl font-bold ${(((HA = Et[Et.length - 1]) == null ? void 0 : HA.cumulative) || 0) >= 0 ? "text-emerald-400" : "text-red-400"}`, children: [(((nA = Et[Et.length - 1]) == null ? void 0 : nA.cumulative) || 0) >= 0 ? "+" : "", "$", (((sn = Et[Et.length - 1]) == null ? void 0 : sn.cumulative) || 0).toFixed(2)] })] })] }), i.jsxs("div", { className: "space-y-2", children: [i.jsx("h4", { className: "text-sm font-medium text-slate-400 mb-3", children: " " }), kt.slice(0, 20).map((S, K) => i.jsxs("div", { className: `p-3 rounded-lg border ${S.pnl >= 0 ? "bg-emerald-900/20 border-emerald-500/30" : "bg-red-900/20 border-red-500/30"}`, children: [i.jsxs("div", { className: "flex items-center justify-between", children: [i.jsxs("div", { className: "flex items-center gap-3", children: [i.jsx("span", { className: `px-2 py-1 rounded text-xs font-bold ${S.side === "buy" ? "bg-emerald-500/20 text-emerald-400" : "bg-red-500/20 text-red-400"}`, children: S.side === "buy" ? "LONG" : "SHORT" }), i.jsx("span", { className: "text-white font-medium", children: S.symbol }), i.jsxs("span", { className: "text-slate-400 text-xs", children: ["", S.leverage] })] }), i.jsxs("div", { className: "text-right", children: [i.jsxs("div", { className: `font-bold ${S.pnl >= 0 ? "text-emerald-400" : "text-red-400"}`, children: [S.pnl >= 0 ? "+" : "", "$", S.pnl.toFixed(2)] }), i.jsxs("div", { className: `text-xs ${S.roe >= 0 ? "text-emerald-300" : "text-red-300"}`, children: ["ROE: ", S.roe >= 0 ? "+" : "", S.roe.toFixed(2), "%"] })] })] }), i.jsxs("div", { className: "flex justify-between text-xs text-slate-400 mt-2", children: [i.jsxs("span", { children: ["Entry: $", S.entryPrice.toLocaleString(), "  Exit: $", S.closePrice.toLocaleString()] }), i.jsxs("span", { children: [S.closeTime.toLocaleDateString("ja-JP"), " ", S.closeTime.toLocaleTimeString("ja-JP")] })] })] }, S.id || K))] })] })] }), O === "stats" && i.jsxs("div", { children: [i.jsx("h3", { className: "text-lg font-bold text-[#D4AF37] mb-4", children: " " }), Vt ? i.jsxs("div", { className: "grid grid-cols-2 md:grid-cols-4 gap-4", children: [i.jsxs("div", { className: "p-4 rounded-xl bg-slate-800/50 border border-slate-700", children: [i.jsx("div", { className: "text-xs text-slate-400 mb-1", children: "" }), i.jsx("div", { className: "text-2xl font-bold text-white", children: Vt.totalTrades })] }), i.jsxs("div", { className: "p-4 rounded-xl bg-slate-800/50 border border-slate-700", children: [i.jsx("div", { className: "text-xs text-slate-400 mb-1", children: "" }), i.jsxs("div", { className: `text-2xl font-bold ${Vt.winRate >= 50 ? "text-emerald-400" : "text-red-400"}`, children: [Vt.winRate.toFixed(1), "%"] }), i.jsxs("div", { className: "text-xs text-slate-500", children: [Vt.wins, " / ", Vt.losses, ""] })] }), i.jsxs("div", { className: "p-4 rounded-xl bg-slate-800/50 border border-slate-700", children: [i.jsx("div", { className: "text-xs text-slate-400 mb-1", children: "" }), i.jsxs("div", { className: `text-2xl font-bold ${Vt.totalPnl >= 0 ? "text-emerald-400" : "text-red-400"}`, children: [Vt.totalPnl >= 0 ? "+" : "", "$", Vt.totalPnl.toFixed(2)] })] }), i.jsxs("div", { className: "p-4 rounded-xl bg-slate-800/50 border border-slate-700", children: [i.jsx("div", { className: "text-xs text-slate-400 mb-1", children: "" }), i.jsx("div", { className: `text-2xl font-bold ${Vt.profitFactor >= 1 ? "text-emerald-400" : "text-red-400"}`, children: Vt.profitFactor.toFixed(2) })] }), i.jsxs("div", { className: "p-4 rounded-xl bg-emerald-900/30 border border-emerald-500/30", children: [i.jsx("div", { className: "text-xs text-emerald-400 mb-1", children: "" }), i.jsxs("div", { className: "text-xl font-bold text-emerald-400", children: ["+$", Vt.avgWin.toFixed(2)] }), i.jsxs("div", { className: "text-xs text-emerald-300", children: [": +$", Vt.maxWin.toFixed(2)] })] }), i.jsxs("div", { className: "p-4 rounded-xl bg-red-900/30 border border-red-500/30", children: [i.jsx("div", { className: "text-xs text-red-400 mb-1", children: "" }), i.jsxs("div", { className: "text-xl font-bold text-red-400", children: ["$", Vt.avgLoss.toFixed(2)] }), i.jsxs("div", { className: "text-xs text-red-300", children: [": $", Vt.maxLoss.toFixed(2)] })] }), i.jsxs("div", { className: "p-4 rounded-xl bg-amber-900/30 border border-amber-500/30", children: [i.jsx("div", { className: "text-xs text-amber-400 mb-1", children: "" }), i.jsxs("div", { className: "text-xl font-bold text-amber-400", children: ["-$", Vt.totalFees.toFixed(2)] })] }), i.jsxs("div", { className: "p-4 rounded-xl bg-slate-800/50 border border-[#D4AF37]/50", children: [i.jsx("div", { className: "text-xs text-[#D4AF37] mb-1", children: "" }), i.jsxs("div", { className: `text-xl font-bold ${Vt.netPnl >= 0 ? "text-emerald-400" : "text-red-400"}`, children: [Vt.netPnl >= 0 ? "+" : "", "$", Vt.netPnl.toFixed(2)] })] }), i.jsxs("div", { className: "p-4 rounded-xl bg-slate-800/50 border border-slate-700 col-span-2", children: [i.jsx("div", { className: "text-xs text-slate-400 mb-1", children: "ROE" }), i.jsxs("div", { className: `text-2xl font-bold ${Vt.avgRoe >= 0 ? "text-emerald-400" : "text-red-400"}`, children: [Vt.avgRoe >= 0 ? "+" : "", Vt.avgRoe.toFixed(2), "%"] })] })] }) : i.jsxs("div", { className: "text-center py-12 text-slate-400", children: [i.jsx("div", { className: "text-4xl mb-4", children: "" }), i.jsx("div", { children: "" }), i.jsx("div", { className: "text-sm mt-2", children: "" })] }), kt.length > 0 && i.jsxs("div", { className: "mt-6", children: [i.jsx("h4", { className: "text-md font-bold text-slate-300 mb-3", children: " " }), i.jsx("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-4", children: (() => { const S = { morning: { name: " (6-12)", trades: [], pnl: 0 }, afternoon: { name: " (12-18)", trades: [], pnl: 0 }, night: { name: " (18-6)", trades: [], pnl: 0 } }; return kt.forEach(K => { const J = new Date(K.closeTime).getHours(); let fe = "night"; J >= 6 && J < 12 ? fe = "morning" : J >= 12 && J < 18 && (fe = "afternoon"), S[fe].trades.push(K), S[fe].pnl += K.pnl }), Object.entries(S).map(([K, J]) => { const fe = J.trades.filter(Qe => Qe.pnl > 0).length, me = J.trades.length, Oe = me > 0 ? fe / me * 100 : 0; return i.jsxs("div", { className: "p-4 rounded-xl bg-slate-800/50 border border-slate-700", children: [i.jsx("div", { className: "text-sm text-slate-400 mb-2", children: J.name }), i.jsxs("div", { className: "flex justify-between items-end", children: [i.jsxs("div", { children: [i.jsx("div", { className: "text-xs text-slate-500", children: "" }), i.jsx("div", { className: "text-lg font-bold text-white", children: me })] }), i.jsxs("div", { className: "text-center", children: [i.jsx("div", { className: "text-xs text-slate-500", children: "" }), i.jsxs("div", { className: `text-lg font-bold ${Oe >= 50 ? "text-emerald-400" : "text-red-400"}`, children: [Oe.toFixed(0), "%"] })] }), i.jsxs("div", { className: "text-right", children: [i.jsx("div", { className: "text-xs text-slate-500", children: "" }), i.jsxs("div", { className: `text-lg font-bold ${J.pnl >= 0 ? "text-emerald-400" : "text-red-400"}`, children: [J.pnl >= 0 ? "+" : "", J.pnl.toFixed(2)] })] })] }), i.jsx("div", { className: "mt-2 h-1.5 bg-slate-700 rounded-full overflow-hidden", children: i.jsx("div", { className: `h-full ${Oe >= 50 ? "bg-emerald-500" : "bg-red-500"}`, style: { width: `${Oe}%` } }) })] }, K) }) })() }), i.jsx("div", { className: "mt-3 text-xs text-slate-500 text-center", children: " " })] })] }), O === "alerts" && i.jsxs("div", { children: [i.jsx("h3", { className: "text-lg font-bold text-[#D4AF37] mb-4", children: " " }), i.jsxs("div", { className: "p-4 bg-slate-900/50 rounded-xl mb-6", children: [i.jsx("div", { className: "text-sm text-slate-400 mb-3", children: "" }), i.jsxs("div", { className: "flex flex-wrap gap-2 items-end", children: [i.jsxs("div", { children: [i.jsx("label", { className: "text-xs text-slate-500 block mb-1", children: "" }), i.jsx("select", { id: "alertSymbol", className: "px-3 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white text-sm", defaultValue: "BTC/USDT", children: t.map(S => i.jsx("option", { value: S, children: S }, S)) })] }), i.jsxs("div", { children: [i.jsx("label", { className: "text-xs text-slate-500 block mb-1", children: "" }), i.jsxs("select", { id: "alertCondition", className: "px-3 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white text-sm", defaultValue: "above", children: [i.jsx("option", { value: "above", children: " " }), i.jsx("option", { value: "below", children: " " })] })] }), i.jsxs("div", { children: [i.jsx("label", { className: "text-xs text-slate-500 block mb-1", children: "" }), i.jsx("input", { type: "number", id: "alertPrice", placeholder: "100000", className: "px-3 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white text-sm w-32" })] }), i.jsx("button", { onClick: () => { const S = document.getElementById("alertSymbol").value, K = document.getElementById("alertCondition").value, J = document.getElementById("alertPrice").value; J && (fr(S, J, K), document.getElementById("alertPrice").value = "") }, className: "px-4 py-2 bg-amber-500 hover:bg-amber-600 text-slate-900 rounded-lg text-sm font-bold transition-all", children: "+ " })] }), i.jsxs("div", { className: "mt-2 text-xs text-slate-500", children: [" : ", t.map(S => { var K, J, fe; return `${S.split("/")[0]} ${((fe = (J = (K = n[S]) == null ? void 0 : K.slice(-1)[0]) == null ? void 0 : J.close) == null ? void 0 : fe.toFixed(2)) || "-"}` }).join(" | ")] })] }), W.length === 0 ? i.jsxs("div", { className: "text-center py-12 text-slate-400", children: [i.jsx("div", { className: "text-4xl mb-4", children: "" }), i.jsx("div", { children: "" }), i.jsx("div", { className: "text-sm mt-2", children: "" })] }) : i.jsx("div", { className: "space-y-2", children: W.map(S => { var fe, me; const K = (me = (fe = n[S.symbol]) == null ? void 0 : fe.slice(-1)[0]) == null ? void 0 : me.close, J = K ? (S.price - K) / K * 100 : null; return i.jsxs("div", { className: `p-3 rounded-lg border flex items-center justify-between ${S.triggered ? "bg-emerald-900/30 border-emerald-500/50" : "bg-slate-800/50 border-slate-700"}`, children: [i.jsxs("div", { className: "flex items-center gap-3", children: [i.jsx("span", { className: `text-2xl ${S.triggered ? "opacity-50" : ""}`, children: S.condition === "above" ? "" : "" }), i.jsxs("div", { children: [i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsx("span", { className: "text-white font-medium", children: S.symbol }), i.jsx("span", { className: `text-xs px-2 py-0.5 rounded ${S.condition === "above" ? "bg-emerald-500/30 text-emerald-400" : "bg-red-500/30 text-red-400"}`, children: S.condition === "above" ? "" : "" }), S.triggered && i.jsx("span", { className: "text-xs px-2 py-0.5 rounded bg-emerald-500/30 text-emerald-400", children: " " })] }), i.jsxs("div", { className: "text-sm", children: [i.jsx("span", { className: "text-[#D4AF37] font-mono", children: S.price.toFixed(2) }), J !== null && !S.triggered && i.jsxs("span", { className: `ml-2 text-xs ${Math.abs(J) < 1 ? "text-amber-400" : "text-slate-500"}`, children: ["(", J >= 0 ? "+" : "", J.toFixed(2), "%)"] })] })] })] }), i.jsx("button", { onClick: () => or(S.id), className: "px-3 py-1 bg-slate-700 hover:bg-red-600 text-slate-300 hover:text-white rounded text-xs transition-all", children: "" })] }, S.id) }) })] })] })] })]})}function jL({ transactions: t, addTransaction: e, updateTransaction: r, deleteTransaction: n, tasks: s, events: a, goals: A }) {
  var Be, Te, pt, At, bt, ht, xt, Ct, kt, Qt, Ft, pr; const [o, l] = z.useState(!1), [c, d] = z.useState(null), [p, g] = z.useState({ title: "", amount: "", type: "expense", category: "", date: new Date().toISOString().split("T")[0], paymentTiming: "immediate", linkedType: "", linkedId: "" }), [h, b] = z.useState("all"), [w, j] = z.useState(!1), [x, y] = z.useState(() => { const O = localStorage.getItem("budgetPlanner_income"); return O ? parseInt(O) : 3e5 }), [B, E] = z.useState(() => { const O = localStorage.getItem("budgetPlanner_allocations"); return O ? JSON.parse(O) : { necessities: 50, wants: 30, savings: 20 } }), [T, U] = z.useState(() => { const O = localStorage.getItem("budgetPlanner_special"); return O ? JSON.parse(O) : [] }), [M, G] = z.useState({ title: "", amount: "", month: new Date().toISOString().slice(0, 7), linkedType: "", linkedId: "" }), N = [{ id: "allowance", name: "", icon: "", defaultAmount: 7e4, isFixed: !0 }, { id: "kbt", name: "KBT", icon: "", keywords: ["KBT", "KB", "", ""], paymentType: "nextMonth" }, { id: "stripchat", name: "Stripchat", icon: "", keywords: ["Stripchat", "StripChat", "", "stripchat", ""], paymentType: "currentMonth" }, { id: "massage", name: "", icon: "", keywords: [""], paymentType: "currentMonth" }, { id: "system", name: "", icon: "", keywords: ["", "", "", "IT"], paymentType: "nextMonth" }, { id: "housework", name: "", icon: "", keywords: ["", ""], paymentType: "currentMonth" }], H = [{ id: "rent", name: "", icon: "", defaultAmount: 132e3, isFixed: !0 }, { id: "shop_rent", name: "", icon: "", defaultAmount: 8e4, isFixed: !0 }, { id: "electricity", name: "", icon: "", defaultAmount: 15e3, isFixed: !0 }, { id: "gas", name: "", icon: "", defaultAmount: 4e3, isFixed: !0 }, { id: "water", name: "", icon: "", defaultAmount: 3e3, isFixed: !0 }, { id: "tobacco", name: "", icon: "", defaultAmount: 16e3, isFixed: !0 }, { id: "ai_subscription", name: "AI", icon: "", defaultAmount: 5e4, isFixed: !0 }, { id: "food", name: "", icon: "", defaultAmount: 2e4, isFixed: !0 }, { id: "transport", name: "", icon: "", defaultAmount: 5e3, isFixed: !0 }, { id: "phone", name: "", icon: "", defaultAmount: 9e3, isFixed: !0 }, { id: "travel", name: "", icon: "", budgetRatio: .05, isFixed: !1 }, { id: "entertainment", name: "", icon: "", budgetRatio: .05, isFixed: !1 }, { id: "savings", name: "", icon: "", budgetRatio: .1, isFixed: !1 }, { id: "other_expense", name: "", icon: "", budgetRatio: .05, isFixed: !1 }], [k, _] = z.useState(() => { const O = localStorage.getItem("budgetPlanner_incomeBreakdown"); return O ? JSON.parse(O) : N.map(Ue => ({ categoryId: Ue.id, amount: 0, linkedItems: [] })) }), [V, P] = z.useState(() => { const O = localStorage.getItem("budgetPlanner_expenseBreakdown"); if (O) { const Ue = JSON.parse(O); return H.map(st => { const Ge = Ue.find(Et => Et.categoryId === st.id); return Ge || { categoryId: st.id, amount: st.isFixed && st.defaultAmount || 0, linkedItems: [] } }) } return H.map(Ue => ({ categoryId: Ue.id, amount: Ue.isFixed && Ue.defaultAmount || 0, linkedItems: [] })) }), [te, ce] = z.useState(null), [he, ie] = z.useState(null), ue = [{ id: "cash", name: "", icon: "" }, { id: "savings", name: "", icon: "" }, { id: "insurance", name: "", icon: "" }, { id: "stocks", name: "", icon: "" }, { id: "investment", name: "", icon: "" }, { id: "bonds", name: "", icon: "" }, { id: "pension", name: "", icon: "" }, { id: "realEstate", name: "", icon: "" }, { id: "car", name: "", icon: "" }, { id: "household", name: "", icon: "" }], pe = [{ id: "mortgage", name: "", icon: "" }, { id: "carLoan", name: "", icon: "" }, { id: "educationLoan", name: "", icon: "" }, { id: "scholarship", name: "", icon: "" }, { id: "cardLoan", name: "", icon: "" }, { id: "otherLoan", name: "", icon: "" }], [ve, I] = z.useState(() => { const O = localStorage.getItem("balanceSheet_assets"); return O ? JSON.parse(O) : ue.map(Ue => ({ id: Ue.id, amount: 0 })) }), [R, re] = z.useState(() => { const O = localStorage.getItem("balanceSheet_liabilities"); return O ? JSON.parse(O) : pe.map(Ue => ({ id: Ue.id, amount: 0 })) }), [Y, le] = z.useState(!1); z.useEffect(() => { localStorage.setItem("balanceSheet_assets", JSON.stringify(ve)) }, [ve]), z.useEffect(() => { localStorage.setItem("balanceSheet_liabilities", JSON.stringify(R)) }, [R]), ve.reduce((O, Ue) => O + (Ue.amount || 0), 0), R.reduce((O, Ue) => O + (Ue.amount || 0), 0); const ge = (O, Ue) => { if (!O || !Ue) return null; if (O === "event") { const st = a == null ? void 0 : a.find(Ge => String(Ge.id) === String(Ue)); return st ? { name: st.title, icon: "", color: "text-blue-400" } : null } if (O === "goal") { const st = A == null ? void 0 : A.find(Ge => String(Ge.id) === String(Ue)); return st ? { name: st.title, icon: "", color: "text-purple-400" } : null } if (O === "task") { const st = s == null ? void 0 : s.find(Ge => String(Ge.id) === String(Ue)); return st ? { name: st.title, icon: "", color: "text-emerald-400" } : null } return null }, ke = (O = 0) => { const Ue = new Date, st = new Date(Ue.getFullYear(), Ue.getMonth() + O, 1), Ge = new Date(st.getFullYear(), st.getMonth(), 1), Et = new Date(st.getFullYear(), st.getMonth() + 1, 0); return { start: Ge.toISOString().split("T")[0], end: Et.toISOString().split("T")[0] } }, Fe = O => { if (O.isFixed && O.defaultAmount) return { total: O.defaultAmount, matchedItems: [], count: 0, isFixed: !0 }; const Ue = O.keywords || []; if (Ue.length === 0) return { total: 0, matchedItems: [], count: 0 }; const st = O.paymentType === "nextMonth", Ge = ke(st ? -1 : 0), Et = new Set, Vt = (a || []).filter(mt => { const ar = mt.title || "", Mr = mt.date; return Ue.some(Vr => ar.toLowerCase().includes(Vr.toLowerCase())) && Mr >= Ge.start && Mr <= Ge.end ? (Et.add(String(mt.id)), !0) : !1 }), _t = (t || []).filter(mt => { if (mt.type !== "income") return !1; const ar = mt.title || "", Mr = mt.originalDate || mt.date; if (Mr < Ge.start || Mr > Ge.end) return !1; if (mt.linkedType === "event" && mt.linkedId) { if (Et.has(String(mt.linkedId))) return !0; const Vr = a == null ? void 0 : a.find(Jn => String(Jn.id) === String(mt.linkedId)); if (Vr) { const Jn = Vr.title || ""; if (Ue.some(Mn => Jn.toLowerCase().includes(Mn.toLowerCase()))) return !0 } } return !!Ue.some(Vr => ar.toLowerCase().includes(Vr.toLowerCase())) }), fr = _t.reduce((mt, ar) => mt + (ar.amount || 0), 0), or = _t.map(mt => ({ type: "transaction", id: String(mt.id), name: mt.title, amount: mt.amount || 0 })); return { total: fr, matchedItems: or, targetRange: Ge, isNextMonth: st, eventCount: Vt.length, count: _t.length } }, Le = z.useMemo(() => N.map(O => { const Ue = Fe(O); return { categoryId: O.id, ...Ue } }), [a, t, N]), nt = () => (H.filter(O => O.isFixed).reduce((O, Ue) => O + (Ue.defaultAmount || 0), 0), H.map(O => { if (O.isFixed) return { categoryId: O.id, amount: O.defaultAmount || 0 }; { const Ue = Math.round(se * (O.budgetRatio || 0)); return { categoryId: O.id, amount: Ue } } })), ct = () => { const O = nt(); P(O) }, de = z.useRef(null), Ze = () => { const O = { date: new Date().toISOString(), month: new Date().toLocaleDateString("ja-JP", { year: "numeric", month: "long" }), income: Le.map(st => { const Ge = N.find(Et => Et.id === st.categoryId); return { name: (Ge == null ? void 0 : Ge.name) || st.categoryId, amount: st.total || 0, isFixed: (Ge == null ? void 0 : Ge.isFixed) || !1 } }), expenses: V.map(st => { const Ge = H.find(Et => Et.id === st.categoryId); return { name: (Ge == null ? void 0 : Ge.name) || st.categoryId, amount: st.amount || 0, isFixed: (Ge == null ? void 0 : Ge.isFixed) || !1 } }), totalIncome: se, totalExpense: qe, balance: se - qe }, Ue = JSON.parse(localStorage.getItem("balanceSheet_history") || "[]"); Ue.unshift(O), localStorage.setItem("balanceSheet_history", JSON.stringify(Ue.slice(0, 12))), alert("") }, F = () => {
    const O = new Date().toLocaleDateString("ja-JP", { year: "numeric", month: "long" }), Ue = se - qe, st = N.map(_t => {
      const fr = Le.find(ar => ar.categoryId === _t.id) || { total: 0, count: 0 }, or = _t.isFixed ? "" : _t.paymentType === "nextMonth" ? "1" : "2", mt = fr.count > 0 ? `(${fr.count})` : ""; return `
        <tr>
          <td class="cell-name">${_t.name}</td>
          <td class="cell-label">${or} ${mt}</td>
          <td class="cell-amount">${fr.total.toLocaleString()}</td>
        </tr>
      `}).join(""), Ge = H.map(_t => {
        const fr = V.find(mt => mt.categoryId === _t.id) || { amount: 0 }, or = _t.isFixed ? "" : ""; return `
        <tr>
          <td class="cell-name">${_t.name}</td>
          <td class="cell-label">${or}</td>
          <td class="cell-amount">${fr.amount.toLocaleString()}</td>
        </tr>
      `}).join(""), Et = `
      <!DOCTYPE html>
      <html lang="ja">
      <head>
        <meta charset="UTF-8">
        <title> - ${O}</title>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
        <style>
          * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
          }
          body { 
            font-family: 'Noto Sans JP', 'Hiragino Sans', 'Meiryo', sans-serif; 
            background-color: #ffffff !important; 
            color: #000000 !important; 
            padding: 50px;
            font-size: 16px;
            line-height: 1.8;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
          }
          .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: #ffffff;
          }
          .header { 
            text-align: center; 
            margin-bottom: 40px; 
            padding-bottom: 20px;
            border-bottom: 3px solid #000000;
          }
          .header h1 { 
            font-size: 28px; 
            font-weight: 700; 
            color: #000000;
            margin-bottom: 10px;
            letter-spacing: 2px;
          }
          .header .date { 
            font-size: 18px; 
            color: #333333;
            font-weight: 500;
          }
          .content { 
            display: flex; 
            gap: 40px; 
            margin-bottom: 40px;
          }
          .section { 
            flex: 1; 
          }
          .section-title { 
            font-size: 20px; 
            font-weight: 700; 
            padding: 14px 20px;
            margin-bottom: 0;
            border: 2px solid #000000;
            color: #000000;
            background-color: #f5f5f5;
          }
          table { 
            width: 100%; 
            border-collapse: collapse; 
            background-color: #ffffff;
            border: 2px solid #000000;
            border-top: none;
          }
          .cell-name {
            padding: 12px 16px;
            border-bottom: 1px solid #cccccc;
            font-size: 15px;
            color: #000000;
            font-weight: 500;
          }
          .cell-label {
            padding: 12px 16px;
            border-bottom: 1px solid #cccccc;
            text-align: center;
            color: #555555;
            font-size: 14px;
          }
          .cell-amount {
            padding: 12px 16px;
            border-bottom: 1px solid #cccccc;
            text-align: right;
            font-size: 16px;
            font-weight: 500;
            color: #000000;
            font-variant-numeric: tabular-nums;
          }
          .total-row { 
            background-color: #f0f0f0; 
          }
          .total-row td {
            padding: 14px 16px !important;
            border-bottom: none !important;
            font-weight: 700;
            font-size: 17px;
            color: #000000;
          }
          .summary { 
            margin-top: 30px; 
            padding: 25px;
            border: 3px solid #000000;
            background-color: #f8f8f8;
            text-align: center;
          }
          .summary-label { 
            font-size: 18px; 
            margin-bottom: 10px;
            color: #000000;
            font-weight: 500;
          }
          .summary-value { 
            font-size: 32px; 
            font-weight: 700; 
            color: #000000;
            font-variant-numeric: tabular-nums;
          }
          .summary-positive {
            color: #006600;
          }
          .summary-negative {
            color: #cc0000;
          }
          .footer {
            margin-top: 50px;
            text-align: center;
            font-size: 14px;
            color: #666666;
            border-top: 1px solid #cccccc;
            padding-top: 20px;
          }
          @media print {
            body { 
              padding: 30px;
              background-color: #ffffff !important;
              color: #000000 !important;
            }
            .content { gap: 30px; }
            .section-title,
            table,
            .summary {
              -webkit-print-color-adjust: exact;
              print-color-adjust: exact;
            }
          }
        </style>
      </head>
      <body>
        <div class="container">
          <div class="header">
            <h1></h1>
            <div class="date">${O}</div>
          </div>
          
          <div class="content">
            <div class="section">
              <div class="section-title"></div>
              <table>
                ${st}
                <tr class="total-row">
                  <td colspan="2"> </td>
                  <td style="text-align: right;">${se.toLocaleString()}</td>
                </tr>
              </table>
            </div>
            
            <div class="section">
              <div class="section-title"></div>
              <table>
                ${Ge}
                <tr class="total-row">
                  <td colspan="2"> </td>
                  <td style="text-align: right;">${qe.toLocaleString()}</td>
                </tr>
              </table>
            </div>
          </div>
          
          <div class="summary">
            <div class="summary-label">  </div>
            <div class="summary-value ${Ue >= 0 ? "summary-positive" : "summary-negative"}">${Ue.toLocaleString()}</div>
          </div>
          
          <div class="footer">
            : ${new Date().toLocaleDateString("ja-JP", { year: "numeric", month: "long", day: "numeric" })}
          </div>
        </div>
      </body>
      </html>
    `, Vt = window.open("", "_blank"); Vt ? (Vt.document.write(Et), Vt.document.close(), setTimeout(() => { Vt.print() }, 800)) : alert("")
  }; z.useEffect(() => { localStorage.setItem("budgetPlanner_income", x.toString()) }, [x]), z.useEffect(() => { localStorage.setItem("budgetPlanner_allocations", JSON.stringify(B)) }, [B]), z.useEffect(() => { localStorage.setItem("budgetPlanner_incomeBreakdown", JSON.stringify(k)) }, [k]), z.useEffect(() => { localStorage.setItem("budgetPlanner_expenseBreakdown", JSON.stringify(V)) }, [V]), z.useEffect(() => { V.some(Ue => { const st = H.find(Ge => Ge.id === Ue.categoryId); return (st == null ? void 0 : st.isFixed) && st.defaultAmount && Ue.amount === 0 }) && P(Ue => Ue.map(st => { const Ge = H.find(Et => Et.id === st.categoryId); return Ge != null && Ge.isFixed && Ge.defaultAmount && st.amount === 0 ? { ...st, amount: Ge.defaultAmount } : st })) }, []); const se = Le.reduce((O, Ue) => O + (Ue.total || 0), 0), qe = V.reduce((O, Ue) => O + (Ue.amount || 0), 0), X = (O, Ue) => { P(st => st.map(Ge => Ge.categoryId === O ? { ...Ge, amount: parseInt(Ue) || 0 } : Ge)) }, ne = () => { y(se) }; z.useEffect(() => { localStorage.setItem("budgetPlanner_special", JSON.stringify(T)) }, [T]); const Se = O => Math.round(x * O / 100), W = () => { M.title && M.amount && (U([...T, { id: Date.now(), ...M, amount: parseInt(M.amount) }]), G({ title: "", amount: "", month: new Date().toISOString().slice(0, 7), linkedType: "", linkedId: "" })) }, $e = (O, Ue) => { O === "event" ? `${Ue.title}` : O === "goal" ? `${Ue.title}` : `${Ue.title}`, G({ title: Ue.title, amount: "", month: Ue.date ? Ue.date.slice(0, 7) : Ue.deadline ? Ue.deadline.slice(0, 7) : new Date().toISOString().slice(0, 7), linkedType: O, linkedId: String(Ue.id) }) }, Ke = O => { U(T.filter(Ue => Ue.id !== O)) }, ze = T.filter(O => O.month === new Date().toISOString().slice(0, 7)).reduce((O, Ue) => O + Ue.amount, 0), We = { expense: ["", "", "", "", "", "", "", "", "", "", ""], income: ["", "", "", "", "", ""] }, ot = O => { const Ue = new Date(O); return Ue.setMonth(Ue.getMonth() + 2), Ue.setDate(0), Ue.toISOString().split("T")[0] }, be = () => { const O = new Date, Ue = new Date(O.getFullYear(), O.getMonth(), 1), st = new Date(O.getFullYear(), O.getMonth() + 1, 0); return { start: Ue.toISOString().split("T")[0], end: st.toISOString().split("T")[0] } }, Ne = z.useMemo(() => { const O = be(), Ue = t.filter(mt => mt.type === "income" && mt.date >= O.start && mt.date <= O.end).reduce((mt, ar) => mt + ar.amount, 0), st = t.filter(mt => mt.type === "expense" && mt.date >= O.start && mt.date <= O.end).reduce((mt, ar) => mt + ar.amount, 0), Ge = t.filter(mt => mt.type === "income").reduce((mt, ar) => mt + ar.amount, 0), Et = t.filter(mt => mt.type === "expense").reduce((mt, ar) => mt + ar.amount, 0), Vt = new Date().toISOString().split("T")[0], _t = t.filter(mt => mt.type === "income" && mt.paymentTiming === "nextMonthEnd" && mt.date > Vt).reduce((mt, ar) => mt + ar.amount, 0), fr = {}; t.filter(mt => mt.type === "expense").forEach(mt => { fr[mt.category] = (fr[mt.category] || 0) + mt.amount }); const or = {}; return t.filter(mt => mt.type === "income").forEach(mt => { or[mt.category] = (or[mt.category] || 0) + mt.amount }), { monthlyIncome: Ue, monthlyExpense: st, monthlyBalance: Ue - st, totalIncome: Ge, totalExpense: Et, totalBalance: Ge - Et, pendingIncome: _t, categoryTotals: fr, incomeCategoryTotals: or } }, [t]), ee = (O, Ue) => { if (!O || !Ue) return null; if (O === "task") { const st = s == null ? void 0 : s.find(Ge => String(Ge.id) === String(Ue)); return st ? { type: "task", name: st.title, icon: "", colorId: st.colorId || "blue" } : null } if (O === "event") { const st = a == null ? void 0 : a.find(Ge => String(Ge.id) === String(Ue)); return st ? { type: "event", name: st.title, icon: "", colorId: st.colorId || "emerald" } : null } if (O === "goal") { const st = A == null ? void 0 : A.find(Ge => String(Ge.id) === String(Ue)); return st ? { type: "goal", name: st.title, icon: "", colorId: st.colorId || "purple" } : null } return null }, ye = t.filter(O => h === "all" || O.type === h).sort((O, Ue) => new Date(Ue.date) - new Date(O.date)), Ee = async () => { if (p.title.trim() && p.amount) { let O = p.date; p.type === "income" && p.paymentTiming === "nextMonthEnd" && (O = ot(p.date)); const Ue = { title: p.title, amount: parseFloat(p.amount), type: p.type, category: p.category, date: O, originalDate: p.date, paymentTiming: p.type === "income" ? p.paymentTiming : "immediate", linkedType: p.linkedType || "", linkedId: p.linkedId || "" }; await e(Ue), g({ title: "", amount: "", type: "expense", category: "", date: new Date().toISOString().split("T")[0], paymentTiming: "immediate", linkedType: "", linkedId: "" }), l(!1) } }, Ye = async () => { if (c && c.title.trim() && c.amount) { let O = c.originalDate || c.date; c.type === "income" && c.paymentTiming === "nextMonthEnd" ? O = ot(c.originalDate || c.date) : c.type === "income" && c.paymentTiming === "immediate" && (O = c.originalDate || c.date), await r(c.id, { title: c.title, amount: parseFloat(c.amount), type: c.type, category: c.category, date: O, originalDate: c.originalDate || c.date, paymentTiming: c.type === "income" ? c.paymentTiming : "immediate", linkedType: c.linkedType || "", linkedId: c.linkedId || "" }), d(null) } }, Xe = async O => { confirm("") && await n(O) }; return i.jsxs("div", { className: "space-y-6", children: [i.jsxs("div", { className: "bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-2xl border border-slate-700/50 p-6", children: [i.jsxs("div", { className: "flex items-center justify-between mb-6", children: [i.jsxs("div", { className: "flex items-center gap-3", children: [i.jsx("span", { className: "text-2xl", children: "" }), i.jsx("h2", { className: "text-xl font-bold text-white", children: "" }), i.jsx("span", { className: "text-sm text-slate-400", children: new Date().toLocaleDateString("ja-JP", { year: "numeric", month: "long" }) })] }), i.jsx("button", { onClick: () => j(!w), className: "px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg text-sm font-medium transition-all", children: w ? " " : " " })] }), w && i.jsxs("div", { className: "mb-6 p-5 bg-slate-900/70 rounded-xl border border-slate-600/50 space-y-5", children: [i.jsxs("h3", { className: "text-lg font-bold text-emerald-400 flex items-center gap-2", children: [i.jsx("span", { children: "" }), " "] }), i.jsxs("div", { className: "space-y-3", children: [i.jsxs("div", { className: "flex items-center justify-between", children: [i.jsx("label", { className: "text-sm text-slate-400", children: " " }), i.jsx("button", { onClick: ne, className: "px-3 py-1 bg-emerald-600 hover:bg-emerald-500 text-white rounded text-xs font-medium", children: " " })] }), i.jsxs("div", { className: "p-3 bg-slate-800/50 rounded-lg text-xs space-y-1 mb-3", children: [i.jsx("div", { className: "text-slate-400 font-medium", children: " :" }), i.jsxs("div", { className: "text-cyan-400", children: [" KBT  ", i.jsx("span", { className: "text-white", children: "" }), ""] }), i.jsxs("div", { className: "text-pink-400", children: [" StripChat  ", i.jsx("span", { className: "text-white", children: "" }), ""] })] }), i.jsx("div", { className: "grid grid-cols-2 gap-3", children: N.map(O => { const Ue = k.find(_t => _t.categoryId === O.id) || { amount: 0 }, st = ge(Ue.linkedType, Ue.linkedId), Ge = Ue.linkedType === "event" ? a == null ? void 0 : a.find(_t => String(_t.id) === String(Ue.linkedId)) : null, Et = Ge && nextMonthPaymentKeywords.some(_t => { var fr; return (fr = Ge.title) == null ? void 0 : fr.includes(_t) }), Vt = Ge && currentMonthPaymentKeywords.some(_t => { var fr; return (fr = Ge.title) == null ? void 0 : fr.includes(_t) }); return i.jsxs("div", { className: `p-3 rounded-lg ${O.bgColor} border ${O.borderColor}`, children: [i.jsxs("div", { className: "flex items-center justify-between mb-2", children: [i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsx("span", { children: O.icon }), i.jsx("span", { className: `text-sm font-medium ${O.color}`, children: O.name })] }), i.jsx("button", { onClick: () => ce(te === O.id ? null : O.id), className: "text-xs text-slate-400 hover:text-white", children: te === O.id ? "" : "" })] }), i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsx("span", { className: "text-slate-500 text-sm", children: "" }), i.jsx("input", { type: "number", value: Ue.amount || "", onChange: _t => updateIncomeBreakdown(O.id, _t.target.value, Ue.linkedType, Ue.linkedId), className: `flex-1 px-2 py-1.5 bg-slate-900/50 border rounded text-white text-sm font-mono ${Ue.autoCalculated ? "border-emerald-500" : "border-slate-600"}`, placeholder: "0" })] }), st && i.jsxs("div", { className: "mt-2 space-y-1", children: [i.jsxs("div", { className: `text-xs ${st.color} flex items-center gap-1`, children: [i.jsx("span", { children: st.icon }), " ", st.name] }), Et && i.jsx("div", { className: "text-[10px] text-cyan-400 bg-cyan-900/30 px-2 py-0.5 rounded", children: " " }), Vt && i.jsx("div", { className: "text-[10px] text-pink-400 bg-pink-900/30 px-2 py-0.5 rounded", children: " " }), Ue.autoCalculated && i.jsx("div", { className: "text-[10px] text-emerald-400", children: " " })] }), te === O.id && i.jsxs("div", { className: "mt-2 p-2 bg-slate-900/50 rounded text-xs", children: [i.jsx("div", { className: "text-slate-500 mb-1", children: ":" }), i.jsxs("div", { className: "flex flex-wrap gap-1 max-h-24 overflow-y-auto", children: [a == null ? void 0 : a.slice(0, 10).map(_t => { var ar; const fr = Ue.linkedType === "event" && Ue.linkedId === String(_t.id), or = nextMonthPaymentKeywords.some(Mr => { var cn; return (cn = _t.title) == null ? void 0 : cn.includes(Mr) }), mt = currentMonthPaymentKeywords.some(Mr => { var cn; return (cn = _t.title) == null ? void 0 : cn.includes(Mr) }); return i.jsxs("button", { onClick: () => updateIncomeBreakdownWithAutoCalc(O.id, "event", String(_t.id)), className: `px-1.5 py-0.5 rounded text-[10px] ${fr ? "bg-blue-500 text-white" : or ? "bg-cyan-900/50 text-cyan-300 border border-cyan-700" : mt ? "bg-pink-900/50 text-pink-300 border border-pink-700" : "bg-blue-900/50 text-blue-300"}`, children: ["", (ar = _t.title) == null ? void 0 : ar.slice(0, 8)] }, `e-${_t.id}`) }), A == null ? void 0 : A.slice(0, 3).map(_t => i.jsxs("button", { onClick: () => updateIncomeBreakdown(O.id, Ue.amount, "goal", String(_t.id)), className: `px-1.5 py-0.5 rounded text-[10px] ${Ue.linkedType === "goal" && Ue.linkedId === String(_t.id) ? "bg-purple-500 text-white" : "bg-purple-900/50 text-purple-300"}`, children: ["", _t.title.slice(0, 8)] }, `g-${_t.id}`)), s == null ? void 0 : s.filter(_t => !_t.completed).slice(0, 3).map(_t => i.jsxs("button", { onClick: () => updateIncomeBreakdown(O.id, Ue.amount, "task", String(_t.id)), className: `px-1.5 py-0.5 rounded text-[10px] ${Ue.linkedType === "task" && Ue.linkedId === String(_t.id) ? "bg-emerald-500 text-white" : "bg-emerald-900/50 text-emerald-300"}`, children: ["", _t.title.slice(0, 8)] }, `t-${_t.id}`)), Ue.linkedType && i.jsx("button", { onClick: () => updateIncomeBreakdown(O.id, Ue.amount, "", ""), className: "px-1.5 py-0.5 rounded text-[10px] bg-red-900/50 text-red-300", children: "" })] })] })] }, O.id) }) }), i.jsxs("div", { className: "flex items-center justify-between p-3 bg-emerald-900/30 rounded-lg border border-emerald-700/50", children: [i.jsx("span", { className: "text-sm text-emerald-300", children: "" }), i.jsxs("span", { className: "text-lg font-bold text-emerald-400 font-mono", children: ["", se.toLocaleString()] })] })] }), i.jsxs("div", { className: "pt-4 border-t border-slate-700", children: [i.jsx("label", { className: "block text-sm text-slate-400 mb-2", children: " " }), i.jsxs("div", { className: "flex items-center gap-3", children: [i.jsx("span", { className: "text-slate-400", children: "" }), i.jsx("input", { type: "number", value: x, onChange: O => y(parseInt(O.target.value) || 0), className: "flex-1 px-4 py-3 bg-slate-800 border border-slate-600 rounded-lg text-white text-lg font-mono", placeholder: "300000" }), i.jsx("div", { className: "flex gap-1", children: [2e5, 25e4, 3e5, 35e4, 4e5, 5e5].map(O => i.jsxs("button", { onClick: () => y(O), className: `px-2 py-1 text-xs rounded ${x === O ? "bg-emerald-500 text-white" : "bg-slate-700 text-slate-300 hover:bg-slate-600"}`, children: [(O / 1e4).toFixed(0), ""] }, O)) })] }), se !== x && se > 0 && i.jsxs("div", { className: "mt-2 text-xs text-amber-400", children: [" ", se.toLocaleString(), ""] })] }), i.jsxs("div", { className: "space-y-4", children: [i.jsxs("div", { className: "flex items-center justify-between", children: [i.jsx("span", { className: "text-sm text-slate-300", children: " 50/30/20" }), i.jsx("button", { onClick: () => E({ necessities: 50, wants: 30, savings: 20 }), className: "text-xs text-emerald-400 hover:text-emerald-300", children: "" })] }), i.jsxs("div", { className: "space-y-2", children: [i.jsxs("div", { className: "flex justify-between items-center", children: [i.jsx("span", { className: "text-sm text-slate-300", children: " " }), i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsxs("span", { className: "text-lg font-bold text-red-400", children: [B.necessities, "%"] }), i.jsxs("span", { className: "text-sm text-slate-500", children: ["= ", Se(B.necessities).toLocaleString()] })] })] }), i.jsx("input", { type: "range", min: "30", max: "70", value: B.necessities, onChange: O => { const Ue = parseInt(O.target.value), st = 100 - Ue, Ge = B.wants / (B.wants + B.savings); E({ necessities: Ue, wants: Math.round(st * Ge), savings: st - Math.round(st * Ge) }) }, className: "w-full h-2 rounded-lg appearance-none cursor-pointer", style: { background: `linear-gradient(to right, #ef4444 0%, #ef4444 ${(B.necessities - 30) / 40 * 100}%, #334155 ${(B.necessities - 30) / 40 * 100}%, #334155 100%)` } })] }), i.jsxs("div", { className: "space-y-2", children: [i.jsxs("div", { className: "flex justify-between items-center", children: [i.jsx("span", { className: "text-sm text-slate-300", children: " " }), i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsxs("span", { className: "text-lg font-bold text-amber-400", children: [B.wants, "%"] }), i.jsxs("span", { className: "text-sm text-slate-500", children: ["= ", Se(B.wants).toLocaleString()] })] })] }), i.jsx("input", { type: "range", min: "10", max: "50", value: B.wants, onChange: O => { const Ue = parseInt(O.target.value), st = 100 - B.necessities - Ue; st >= 5 && E({ ...B, wants: Ue, savings: st }) }, className: "w-full h-2 rounded-lg appearance-none cursor-pointer", style: { background: `linear-gradient(to right, #f59e0b 0%, #f59e0b ${(B.wants - 10) / 40 * 100}%, #334155 ${(B.wants - 10) / 40 * 100}%, #334155 100%)` } })] }), i.jsxs("div", { className: "space-y-2", children: [i.jsxs("div", { className: "flex justify-between items-center", children: [i.jsx("span", { className: "text-sm text-slate-300", children: " " }), i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsxs("span", { className: "text-lg font-bold text-emerald-400", children: [B.savings, "%"] }), i.jsxs("span", { className: "text-sm text-slate-500", children: ["= ", Se(B.savings).toLocaleString()] })] })] }), i.jsx("div", { className: "w-full h-2 rounded-lg bg-emerald-500/30", children: i.jsx("div", { className: "h-full bg-emerald-500 rounded-lg transition-all", style: { width: `${B.savings / 50 * 100}%` } }) }), i.jsx("div", { className: "text-xs text-slate-500", children: " " })] }), i.jsxs("div", { className: "flex h-6 rounded-lg overflow-hidden mt-4", children: [i.jsxs("div", { className: "bg-red-500 flex items-center justify-center text-xs text-white font-bold", style: { width: `${B.necessities}%` }, children: [B.necessities, "%"] }), i.jsxs("div", { className: "bg-amber-500 flex items-center justify-center text-xs text-white font-bold", style: { width: `${B.wants}%` }, children: [B.wants, "%"] }), i.jsxs("div", { className: "bg-emerald-500 flex items-center justify-center text-xs text-white font-bold", style: { width: `${B.savings}%` }, children: [B.savings, "%"] })] })] }), i.jsxs("div", { className: "pt-4 border-t border-slate-700", children: [i.jsxs("h4", { className: "text-sm font-bold text-amber-400 mb-3 flex items-center gap-2", children: [i.jsx("span", { children: "" }), " "] }), i.jsxs("div", { className: "mb-4 p-3 bg-slate-800/50 rounded-lg", children: [i.jsx("div", { className: "text-xs text-slate-400 mb-2", children: " :" }), i.jsxs("div", { className: "flex flex-wrap gap-2 max-h-24 overflow-y-auto", children: [a == null ? void 0 : a.filter(O => !T.some(Ue => Ue.linkedType === "event" && String(Ue.linkedId) === String(O.id))).slice(0, 5).map(O => i.jsxs("button", { onClick: () => $e("event", O), className: "px-2 py-1 bg-blue-900/50 hover:bg-blue-800/50 text-blue-300 rounded text-xs border border-blue-700/50 flex items-center gap-1", children: [i.jsx("span", { children: "" }), " ", O.title.slice(0, 15), O.title.length > 15 ? "..." : ""] }, `event-${O.id}`)), A == null ? void 0 : A.filter(O => !T.some(Ue => Ue.linkedType === "goal" && String(Ue.linkedId) === String(O.id))).slice(0, 5).map(O => i.jsxs("button", { onClick: () => $e("goal", O), className: "px-2 py-1 bg-purple-900/50 hover:bg-purple-800/50 text-purple-300 rounded text-xs border border-purple-700/50 flex items-center gap-1", children: [i.jsx("span", { children: "" }), " ", O.title.slice(0, 15), O.title.length > 15 ? "..." : ""] }, `goal-${O.id}`)), s == null ? void 0 : s.filter(O => !O.completed && !T.some(Ue => Ue.linkedType === "task" && String(Ue.linkedId) === String(O.id))).slice(0, 5).map(O => i.jsxs("button", { onClick: () => $e("task", O), className: "px-2 py-1 bg-emerald-900/50 hover:bg-emerald-800/50 text-emerald-300 rounded text-xs border border-emerald-700/50 flex items-center gap-1", children: [i.jsx("span", { children: "" }), " ", O.title.slice(0, 15), O.title.length > 15 ? "..." : ""] }, `task-${O.id}`))] })] }), i.jsxs("div", { className: "space-y-2 mb-3", children: [i.jsxs("div", { className: "flex gap-2", children: [i.jsx("input", { type: "text", value: M.title, onChange: O => G({ ...M, title: O.target.value }), className: "flex-1 px-3 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white text-sm", placeholder: ": " }), i.jsx("input", { type: "number", value: M.amount, onChange: O => G({ ...M, amount: O.target.value }), className: "w-28 px-3 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white text-sm", placeholder: "" }), i.jsx("input", { type: "month", value: M.month, onChange: O => G({ ...M, month: O.target.value }), className: "px-3 py-2 bg-slate-800 border border-slate-600 rounded-lg text-white text-sm" }), i.jsx("button", { onClick: W, className: "px-4 py-2 bg-amber-600 hover:bg-amber-500 text-white rounded-lg text-sm font-medium", children: "" })] }), M.linkedType && i.jsxs("div", { className: "flex items-center gap-2 text-xs", children: [i.jsx("span", { className: "text-slate-500", children: ":" }), (() => { const O = ge(M.linkedType, M.linkedId); return O ? i.jsxs("span", { className: `${O.color} flex items-center gap-1`, children: [i.jsx("span", { children: O.icon }), " ", O.name] }) : null })(), i.jsx("button", { onClick: () => G({ ...M, linkedType: "", linkedId: "" }), className: "text-red-400 hover:text-red-300", children: "" })] })] }), T.length > 0 && i.jsx("div", { className: "space-y-2 max-h-40 overflow-y-auto", children: T.map(O => { const Ue = ge(O.linkedType, O.linkedId); return i.jsxs("div", { className: "flex items-center justify-between px-3 py-2 bg-slate-800/50 rounded-lg", children: [i.jsxs("div", { className: "flex items-center gap-3", children: [i.jsx("span", { className: "text-amber-400", children: "" }), i.jsxs("div", { children: [i.jsx("span", { className: "text-white text-sm", children: O.title }), Ue && i.jsxs("div", { className: `text-xs ${Ue.color} flex items-center gap-1`, children: [i.jsx("span", { children: Ue.icon }), " ", Ue.name] })] }), i.jsx("span", { className: "text-xs text-slate-500", children: O.month })] }), i.jsxs("div", { className: "flex items-center gap-3", children: [i.jsxs("span", { className: "text-amber-400 font-mono", children: ["", O.amount.toLocaleString()] }), i.jsx("button", { onClick: () => Ke(O.id), className: "text-red-400 hover:text-red-300 text-xs", children: "" })] })] }, O.id) }) })] })] }), i.jsxs("div", { className: "mb-4", ref: de, children: [i.jsxs("div", { className: "flex items-center justify-between mb-3", children: [i.jsxs("h3", { className: "text-lg font-bold text-white flex items-center gap-2", children: [" ", i.jsx("span", { className: "text-sm text-slate-400 font-normal", children: new Date().toLocaleDateString("ja-JP", { year: "numeric", month: "long" }) })] }), i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsx("button", { onClick: ct, className: "px-3 py-2 bg-emerald-600 hover:bg-emerald-500 text-white text-sm font-medium rounded-lg transition-colors", children: " " }), i.jsx("button", { onClick: Ze, className: "px-3 py-2 bg-blue-600 hover:bg-blue-500 text-white text-sm font-medium rounded-lg transition-colors", children: " " }), i.jsx("button", { onClick: F, className: "px-3 py-2 bg-slate-600 hover:bg-slate-500 text-white text-sm font-medium rounded-lg transition-colors", children: " PDF" })] })] }), i.jsxs("div", { className: "grid grid-cols-2 gap-4", children: [i.jsxs("div", { className: "border border-slate-600 rounded-lg overflow-hidden", children: [i.jsx("div", { className: "bg-slate-800 px-4 py-2 text-center border-b border-slate-600", children: i.jsx("span", { className: "font-bold text-emerald-400", children: "" }) }), i.jsx("div", { className: "p-3 space-y-1", children: N.map(O => { const Ue = Le.find(Et => Et.categoryId === O.id) || { total: 0, count: 0 }, st = O.paymentType === "nextMonth", Ge = O.isFixed; return i.jsxs("div", { className: "flex items-center justify-between py-2 border-b border-slate-700/30 last:border-b-0", children: [i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsx("span", { className: "text-sm", children: O.icon }), i.jsx("span", { className: "text-sm text-slate-300", children: O.name }), Ge ? i.jsx("span", { className: "text-[10px] px-1.5 py-0.5 rounded bg-slate-700 text-slate-400", children: "" }) : i.jsx("span", { className: "text-[10px] px-1.5 py-0.5 rounded bg-slate-700 text-slate-400", children: st ? "1" : "2" }), Ue.count > 0 && i.jsxs("span", { className: "text-[10px] text-slate-500", children: ["(", Ue.count, ")"] })] }), i.jsxs("span", { className: `font-mono ${Ue.total > 0 ? "text-white" : "text-slate-600"}`, children: ["", Ue.total.toLocaleString()] })] }, O.id) }) }), i.jsx("div", { className: "bg-slate-800 px-4 py-3 border-t border-slate-600", children: i.jsxs("div", { className: "flex justify-between", children: [i.jsx("span", { className: "font-bold text-emerald-400", children: "" }), i.jsxs("span", { className: "font-bold text-emerald-400 font-mono text-lg", children: ["", se.toLocaleString()] })] }) })] }), i.jsxs("div", { className: "border border-slate-600 rounded-lg overflow-hidden", children: [i.jsx("div", { className: "bg-slate-800 px-4 py-2 text-center border-b border-slate-600", children: i.jsx("span", { className: "font-bold text-red-400", children: "" }) }), i.jsx("div", { className: "p-3 space-y-1", children: H.map(O => { const Ue = V.find(st => st.categoryId === O.id) || { amount: 0 }; return i.jsxs("div", { className: "flex items-center justify-between py-2 border-b border-slate-700/30 last:border-b-0", children: [i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsx("span", { className: "text-sm", children: O.icon }), i.jsx("span", { className: "text-sm text-slate-300", children: O.name }), O.isFixed && i.jsx("span", { className: "text-[10px] px-1.5 py-0.5 rounded bg-slate-700 text-slate-400", children: "" })] }), i.jsx("input", { type: "number", value: Ue.amount || "", onChange: st => X(O.id, st.target.value), className: "w-28 bg-slate-800 border border-slate-600 rounded px-2 py-1 text-right text-white font-mono text-sm", placeholder: "0" })] }, O.id) }) }), i.jsx("div", { className: "bg-slate-800 px-4 py-3 border-t border-slate-600", children: i.jsxs("div", { className: "flex justify-between", children: [i.jsx("span", { className: "font-bold text-red-400", children: "" }), i.jsxs("span", { className: "font-bold text-red-400 font-mono text-lg", children: ["", qe.toLocaleString()] })] }) })] })] }), i.jsx("div", { className: `mt-4 p-4 rounded-lg border ${se - qe >= 0 ? "bg-slate-800 border-emerald-600" : "bg-slate-800 border-red-600"}`, children: i.jsxs("div", { className: "flex justify-between items-center", children: [i.jsx("span", { className: "font-bold text-lg text-slate-300", children: "" }), i.jsxs("span", { className: `font-bold font-mono text-2xl ${se - qe >= 0 ? "text-emerald-400" : "text-red-400"}`, children: ["", (se - qe).toLocaleString()] })] }) })] }), i.jsxs("div", { className: "grid grid-cols-3 gap-4 mb-4", children: [i.jsxs("div", { className: "bg-slate-900/50 rounded-xl p-4 border border-red-900/30", children: [i.jsxs("div", { className: "flex items-center gap-2 mb-3", children: [i.jsx("span", { className: "text-lg", children: "" }), i.jsx("span", { className: "text-sm text-slate-400", children: "" })] }), i.jsxs("div", { className: "space-y-2", children: [i.jsxs("div", { className: "flex justify-between", children: [i.jsx("span", { className: "text-xs text-slate-500", children: "" }), i.jsxs("span", { className: "text-sm text-slate-300 font-mono", children: ["", Se(B.necessities).toLocaleString()] })] }), i.jsxs("div", { className: "flex justify-between", children: [i.jsx("span", { className: "text-xs text-slate-500", children: "" }), i.jsxs("span", { className: "text-sm text-red-400 font-mono", children: ["", ((((Be = Ne.categoryTotals) == null ? void 0 : Be.) || 0) + (((Te = Ne.categoryTotals) == null ? void 0 : Te.) || 0) + (((pt = Ne.categoryTotals) == null ? void 0 : pt.) || 0) + (((At = Ne.categoryTotals) == null ? void 0 : At.) || 0)).toLocaleString()] })] }), i.jsx("div", { className: "w-full h-2 bg-slate-700 rounded-full overflow-hidden", children: i.jsx("div", { className: "h-full bg-red-500 transition-all", style: { width: `${Math.min(100, ((((bt = Ne.categoryTotals) == null ? void 0 : bt.) || 0) + (((ht = Ne.categoryTotals) == null ? void 0 : ht.) || 0) + (((xt = Ne.categoryTotals) == null ? void 0 : xt.) || 0) + (((Ct = Ne.categoryTotals) == null ? void 0 : Ct.) || 0)) / Se(B.necessities) * 100)}%` } }) })] })] }), i.jsxs("div", { className: "bg-slate-900/50 rounded-xl p-4 border border-amber-900/30", children: [i.jsxs("div", { className: "flex items-center gap-2 mb-3", children: [i.jsx("span", { className: "text-lg", children: "" }), i.jsx("span", { className: "text-sm text-slate-400", children: "" })] }), i.jsxs("div", { className: "space-y-2", children: [i.jsxs("div", { className: "flex justify-between", children: [i.jsx("span", { className: "text-xs text-slate-500", children: "" }), i.jsxs("span", { className: "text-sm text-slate-300 font-mono", children: ["", Se(B.wants).toLocaleString()] })] }), i.jsxs("div", { className: "flex justify-between", children: [i.jsx("span", { className: "text-xs text-slate-500", children: "" }), i.jsxs("span", { className: "text-sm text-amber-400 font-mono", children: ["", ((((kt = Ne.categoryTotals) == null ? void 0 : kt.) || 0) + (((Qt = Ne.categoryTotals) == null ? void 0 : Qt.) || 0)).toLocaleString()] })] }), i.jsx("div", { className: "w-full h-2 bg-slate-700 rounded-full overflow-hidden", children: i.jsx("div", { className: "h-full bg-amber-500 transition-all", style: { width: `${Math.min(100, ((((Ft = Ne.categoryTotals) == null ? void 0 : Ft.) || 0) + (((pr = Ne.categoryTotals) == null ? void 0 : pr.) || 0)) / Se(B.wants) * 100)}%` } }) })] })] }), i.jsxs("div", { className: "bg-slate-900/50 rounded-xl p-4 border border-emerald-900/30", children: [i.jsxs("div", { className: "flex items-center gap-2 mb-3", children: [i.jsx("span", { className: "text-lg", children: "" }), i.jsx("span", { className: "text-sm text-slate-400", children: "" })] }), i.jsxs("div", { className: "space-y-2", children: [i.jsxs("div", { className: "flex justify-between", children: [i.jsx("span", { className: "text-xs text-slate-500", children: "" }), i.jsxs("span", { className: "text-sm text-slate-300 font-mono", children: ["", Se(B.savings).toLocaleString()] })] }), i.jsxs("div", { className: "flex justify-between", children: [i.jsx("span", { className: "text-xs text-slate-500", children: "" }), i.jsxs("span", { className: "text-sm text-emerald-400 font-mono", children: ["", Math.max(0, Ne.monthlyBalance).toLocaleString()] })] }), i.jsx("div", { className: "w-full h-2 bg-slate-700 rounded-full overflow-hidden", children: i.jsx("div", { className: "h-full bg-emerald-500 transition-all", style: { width: `${Math.min(100, Math.max(0, Ne.monthlyBalance) / Se(B.savings) * 100)}%` } }) })] })] })] }), ze > 0 && i.jsxs("div", { className: "p-3 bg-amber-900/30 border border-amber-700/50 rounded-lg flex items-center justify-between", children: [i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsx("span", { children: "" }), i.jsx("span", { className: "text-amber-300 text-sm", children: "" })] }), i.jsxs("span", { className: "text-amber-400 font-bold", children: ["", ze.toLocaleString()] })] }), i.jsxs("div", { className: "flex gap-2 mt-4", children: [i.jsx("span", { className: "text-sm text-slate-500 self-center", children: ":" }), i.jsx("button", { onClick: () => { g({ ...p, type: "expense", category: "", amount: Math.round(Se(B.necessities) * .3).toString() }), l(!0) }, className: "px-3 py-1.5 bg-red-900/50 hover:bg-red-800/50 text-red-300 rounded-lg text-xs border border-red-700/50", children: "  (30%)" }), i.jsx("button", { onClick: () => { g({ ...p, type: "expense", category: "", amount: Math.round(Se(B.wants) * .5).toString() }), l(!0) }, className: "px-3 py-1.5 bg-amber-900/50 hover:bg-amber-800/50 text-amber-300 rounded-lg text-xs border border-amber-700/50", children: "  (50%)" }), i.jsx("button", { onClick: () => { g({ ...p, type: "expense", category: "", amount: "" }), l(!0) }, className: "px-3 py-1.5 bg-purple-900/50 hover:bg-purple-800/50 text-purple-300 rounded-lg text-xs border border-purple-700/50", children: " " })] })] }), i.jsxs("div", { className: "grid grid-cols-4 gap-4", children: [i.jsxs("div", { className: "bg-gradient-to-br from-emerald-900/50 to-emerald-800/30 rounded-xl border border-emerald-700/50 p-6", children: [i.jsxs("div", { className: "flex items-center gap-3 mb-2", children: [i.jsx(Bt, { name: "trendingUp", size: 24, className: "text-emerald-400" }), i.jsx("span", { className: "text-slate-400 text-sm", children: "" })] }), i.jsxs("div", { className: "text-2xl font-bold text-emerald-400", children: ["", Ne.monthlyIncome.toLocaleString()] }), Ne.pendingIncome > 0 && i.jsxs("div", { className: "text-xs text-blue-400 mt-1", children: [" : ", Ne.pendingIncome.toLocaleString()] })] }), i.jsxs("div", { className: "bg-gradient-to-br from-red-900/50 to-red-800/30 rounded-xl border border-red-700/50 p-6", children: [i.jsxs("div", { className: "flex items-center gap-3 mb-2", children: [i.jsx(Bt, { name: "trendingDown", size: 24, className: "text-red-400" }), i.jsx("span", { className: "text-slate-400 text-sm", children: "" })] }), i.jsxs("div", { className: "text-2xl font-bold text-red-400", children: ["", Ne.monthlyExpense.toLocaleString()] })] }), i.jsxs("div", { className: "bg-gradient-to-br from-blue-900/50 to-blue-800/30 rounded-xl border border-blue-700/50 p-6", children: [i.jsxs("div", { className: "flex items-center gap-3 mb-2", children: [i.jsx(Bt, { name: "wallet", size: 24, className: "text-blue-400" }), i.jsx("span", { className: "text-slate-400 text-sm", children: "" })] }), i.jsxs("div", { className: `text-2xl font-bold ${Ne.monthlyBalance >= 0 ? "text-blue-400" : "text-red-400"}`, children: ["", Ne.monthlyBalance.toLocaleString()] })] }), i.jsxs("div", { className: "bg-gradient-to-br from-purple-900/50 to-purple-800/30 rounded-xl border border-purple-700/50 p-6", children: [i.jsxs("div", { className: "flex items-center gap-3 mb-2", children: [i.jsx(Bt, { name: "piggyBank", size: 24, className: "text-purple-400" }), i.jsx("span", { className: "text-slate-400 text-sm", children: "" })] }), i.jsxs("div", { className: `text-2xl font-bold ${Ne.totalBalance >= 0 ? "text-purple-400" : "text-red-400"}`, children: ["", Ne.totalBalance.toLocaleString()] })] })] }), i.jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-6", children: [i.jsxs("div", { className: "bg-slate-800/40 rounded-xl border border-slate-700/50 p-6", children: [i.jsx("h3", { className: "text-sm font-bold text-slate-400 mb-4", children: "" }), Object.keys(Ne.categoryTotals).length > 0 ? i.jsxs("div", { className: "flex items-center gap-6", children: [i.jsxs("div", { className: "relative w-40 h-40 flex-shrink-0", children: [i.jsx("svg", { viewBox: "0 0 100 100", className: "w-full h-full -rotate-90", children: (() => { const O = Object.entries(Ne.categoryTotals).sort((Et, Vt) => Vt[1] - Et[1]), Ue = O.reduce((Et, [, Vt]) => Et + Vt, 0), st = ["#ef4444", "#f97316", "#eab308", "#22c55e", "#06b6d4", "#3b82f6", "#8b5cf6", "#ec4899"]; let Ge = 0; return O.map(([Et, Vt], _t) => { const fr = Vt / Ue * 100, or = Ge; Ge += fr; const mt = fr > 50 ? 1 : 0, ar = 50 + 40 * Math.cos(or / 100 * 2 * Math.PI), Mr = 50 + 40 * Math.sin(or / 100 * 2 * Math.PI), cn = 50 + 40 * Math.cos(Ge / 100 * 2 * Math.PI), Vr = 50 + 40 * Math.sin(Ge / 100 * 2 * Math.PI); return i.jsx("path", { d: `M 50 50 L ${ar} ${Mr} A 40 40 0 ${mt} 1 ${cn} ${Vr} Z`, fill: st[_t % st.length], className: "hover:opacity-80 transition-opacity cursor-pointer" }, Et) }) })() }), i.jsx("div", { className: "absolute inset-0 flex items-center justify-center", children: i.jsxs("div", { className: "text-center", children: [i.jsx("div", { className: "text-xs text-slate-500", children: "" }), i.jsxs("div", { className: "text-sm font-bold text-red-400", children: ["", Ne.totalExpense.toLocaleString()] })] }) })] }), i.jsx("div", { className: "flex-1 space-y-2", children: (() => { const O = Object.entries(Ne.categoryTotals).sort((Ge, Et) => Et[1] - Ge[1]), Ue = O.reduce((Ge, [, Et]) => Ge + Et, 0), st = ["#ef4444", "#f97316", "#eab308", "#22c55e", "#06b6d4", "#3b82f6", "#8b5cf6", "#ec4899"]; return O.map(([Ge, Et], Vt) => i.jsxs("div", { className: "flex items-center gap-2 text-sm", children: [i.jsx("div", { className: "w-3 h-3 rounded-full flex-shrink-0", style: { backgroundColor: st[Vt % st.length] } }), i.jsx("span", { className: "text-slate-300 flex-1 truncate", children: Ge }), i.jsxs("span", { className: "text-slate-500 text-xs", children: [(Et / Ue * 100).toFixed(0), "%"] }), i.jsxs("span", { className: "text-slate-400 w-20 text-right", children: ["", Et.toLocaleString()] })] }, Ge)) })() })] }) : i.jsx("div", { className: "text-center text-slate-500 py-8", children: "" })] }), i.jsxs("div", { className: "bg-slate-800/40 rounded-xl border border-slate-700/50 p-6", children: [i.jsx("h3", { className: "text-sm font-bold text-slate-400 mb-4", children: "" }), Object.keys(Ne.incomeCategoryTotals).length > 0 ? i.jsxs("div", { className: "flex items-center gap-6", children: [i.jsxs("div", { className: "relative w-40 h-40 flex-shrink-0", children: [i.jsx("svg", { viewBox: "0 0 100 100", className: "w-full h-full -rotate-90", children: (() => { const O = Object.entries(Ne.incomeCategoryTotals).sort((Et, Vt) => Vt[1] - Et[1]), Ue = O.reduce((Et, [, Vt]) => Et + Vt, 0), st = ["#10b981", "#14b8a6", "#06b6d4", "#0ea5e9", "#3b82f6", "#6366f1", "#8b5cf6", "#a855f7"]; let Ge = 0; return O.map(([Et, Vt], _t) => { const fr = Vt / Ue * 100, or = Ge; Ge += fr; const mt = fr > 50 ? 1 : 0, ar = 50 + 40 * Math.cos(or / 100 * 2 * Math.PI), Mr = 50 + 40 * Math.sin(or / 100 * 2 * Math.PI), cn = 50 + 40 * Math.cos(Ge / 100 * 2 * Math.PI), Vr = 50 + 40 * Math.sin(Ge / 100 * 2 * Math.PI); return i.jsx("path", { d: `M 50 50 L ${ar} ${Mr} A 40 40 0 ${mt} 1 ${cn} ${Vr} Z`, fill: st[_t % st.length], className: "hover:opacity-80 transition-opacity cursor-pointer" }, Et) }) })() }), i.jsx("div", { className: "absolute inset-0 flex items-center justify-center", children: i.jsxs("div", { className: "text-center", children: [i.jsx("div", { className: "text-xs text-slate-500", children: "" }), i.jsxs("div", { className: "text-sm font-bold text-emerald-400", children: ["", Ne.totalIncome.toLocaleString()] })] }) })] }), i.jsx("div", { className: "flex-1 space-y-2", children: (() => { const O = Object.entries(Ne.incomeCategoryTotals).sort((Ge, Et) => Et[1] - Ge[1]), Ue = O.reduce((Ge, [, Et]) => Ge + Et, 0), st = ["#10b981", "#14b8a6", "#06b6d4", "#0ea5e9", "#3b82f6", "#6366f1", "#8b5cf6", "#a855f7"]; return O.map(([Ge, Et], Vt) => i.jsxs("div", { className: "flex items-center gap-2 text-sm", children: [i.jsx("div", { className: "w-3 h-3 rounded-full flex-shrink-0", style: { backgroundColor: st[Vt % st.length] } }), i.jsx("span", { className: "text-slate-300 flex-1 truncate", children: Ge }), i.jsxs("span", { className: "text-slate-500 text-xs", children: [(Et / Ue * 100).toFixed(0), "%"] }), i.jsxs("span", { className: "text-slate-400 w-20 text-right", children: ["", Et.toLocaleString()] })] }, Ge)) })() })] }) : i.jsx("div", { className: "text-center text-slate-500 py-8", children: "" })] })] }), i.jsxs("div", { className: "bg-slate-800/40 rounded-xl border border-slate-700/50 p-6", children: [i.jsxs("div", { className: "flex justify-between items-center mb-4", children: [i.jsx("h3", { className: "text-sm font-bold text-slate-400", children: "" }), i.jsxs("div", { className: "flex gap-2", children: [i.jsxs("select", { value: h, onChange: O => b(O.target.value), className: "bg-slate-900 border border-slate-700 text-slate-300 px-3 py-1 rounded-lg text-sm outline-none", children: [i.jsx("option", { value: "all", children: "" }), i.jsx("option", { value: "income", children: "" }), i.jsx("option", { value: "expense", children: "" })] }), i.jsxs("button", { onClick: () => l(!0), className: "px-4 py-1 bg-blue-600 text-white rounded-lg flex items-center gap-2 text-sm hover:bg-blue-500 transition-colors", children: [i.jsx(Bt, { name: "plus", size: 16 }), " "] })] })] }), i.jsxs("div", { className: "space-y-2 max-h-80 overflow-y-auto", children: [ye.map(O => { const Ue = ee(O.linkedType, O.linkedId); return i.jsxs("div", { className: "flex items-center justify-between p-3 bg-slate-900/50 rounded-lg hover:bg-slate-900/70 transition-colors", children: [i.jsxs("div", { className: "flex items-center gap-3", children: [i.jsx("div", { className: `w-10 h-10 rounded-lg flex items-center justify-center ${O.type === "income" ? "bg-emerald-500/20 text-emerald-400" : "bg-red-500/20 text-red-400"}`, children: i.jsx(Bt, { name: O.type === "income" ? "trendingUp" : "trendingDown", size: 20 }) }), i.jsxs("div", { children: [i.jsxs("div", { className: "text-sm font-medium text-slate-200 flex items-center gap-2", children: [O.title, Ue && (() => { const st = kn(Ue.colorId); return i.jsxs("span", { className: `text-xs px-2 py-0.5 rounded-full ${st.bgLight} ${st.text}`, children: [Ue.icon, " ", Ue.name] }) })()] }), i.jsxs("div", { className: "text-xs text-slate-500", children: [O.category, "  ", O.date, O.type === "income" && O.paymentTiming === "nextMonthEnd" && i.jsx("span", { className: "ml-2 text-blue-400", children: " " }), O.type === "income" && O.originalDate && O.originalDate !== O.date && i.jsxs("span", { className: "ml-1 text-slate-600", children: ["(: ", O.originalDate, ")"] })] })] })] }), i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsxs("div", { className: `font-bold ${O.type === "income" ? "text-emerald-400" : "text-red-400"}`, children: [O.type === "income" ? "+" : "-", "", O.amount.toLocaleString()] }), i.jsx("button", { onClick: () => d({ ...O, amount: O.amount.toString(), originalDate: O.originalDate || O.date, paymentTiming: O.paymentTiming || "immediate", linkedType: O.linkedType || "", linkedId: O.linkedId || "" }), className: "text-slate-600 hover:text-blue-400 transition-colors p-1", children: i.jsx(Bt, { name: "edit", size: 16 }) }), i.jsx("button", { onClick: () => Xe(O.id), className: "text-slate-600 hover:text-red-400 transition-colors p-1", children: i.jsx(Bt, { name: "trash", size: 16 }) })] })] }, O.id) }), ye.length === 0 && i.jsx("div", { className: "text-center py-8 text-slate-500", children: "" })] })] }), o && i.jsx("div", { className: "fixed inset-0 bg-black/50 flex items-center justify-center z-50", onClick: () => l(!1), children: i.jsxs("div", { className: "bg-slate-800 rounded-xl p-6 w-96 border border-slate-700", onClick: O => O.stopPropagation(), children: [i.jsx("h3", { className: "text-lg font-bold text-slate-200 mb-4", children: "" }), i.jsxs("div", { className: "space-y-4", children: [i.jsxs("div", { className: "flex gap-2", children: [i.jsx("button", { onClick: () => g({ ...p, type: "expense", category: "" }), className: `flex-1 py-2 rounded-lg transition-colors ${p.type === "expense" ? "bg-red-600 text-white" : "bg-slate-700 text-slate-400"}`, children: "" }), i.jsx("button", { onClick: () => g({ ...p, type: "income", category: "" }), className: `flex-1 py-2 rounded-lg transition-colors ${p.type === "income" ? "bg-emerald-600 text-white" : "bg-slate-700 text-slate-400"}`, children: "" })] }), i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsx("input", { type: "text", value: p.title, onChange: O => g({ ...p, title: O.target.value }), className: "w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500", placeholder: ": " })] }), i.jsxs("div", { className: "grid grid-cols-2 gap-4", children: [i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsx("input", { type: "number", value: p.amount, onChange: O => g({ ...p, amount: O.target.value }), className: "w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500", placeholder: "1000" })] }), i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsx("select", { value: p.category, onChange: O => g({ ...p, category: O.target.value }), className: "w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500", children: We[p.type].map(O => i.jsx("option", { value: O, children: O }, O)) })] })] }), i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: p.type === "income" ? "" : "" }), i.jsx("input", { type: "date", value: p.date, onChange: O => g({ ...p, date: O.target.value }), className: "w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500" })] }), p.type === "income" && i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsxs("div", { className: "flex gap-2", children: [i.jsx("button", { onClick: () => g({ ...p, paymentTiming: "immediate" }), className: `flex-1 py-2 rounded-lg transition-colors text-sm ${p.paymentTiming === "immediate" ? "bg-emerald-600 text-white" : "bg-slate-700 text-slate-400 hover:bg-slate-600"}`, children: " " }), i.jsx("button", { onClick: () => g({ ...p, paymentTiming: "nextMonthEnd" }), className: `flex-1 py-2 rounded-lg transition-colors text-sm ${p.paymentTiming === "nextMonthEnd" ? "bg-blue-600 text-white" : "bg-slate-700 text-slate-400 hover:bg-slate-600"}`, children: " " })] }), p.paymentTiming === "nextMonthEnd" && p.date && i.jsxs("div", { className: "mt-2 text-xs text-blue-400 bg-blue-500/10 px-3 py-2 rounded-lg", children: [" : ", ot(p.date)] })] }), i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsxs("div", { className: "grid grid-cols-2 gap-2", children: [i.jsxs("select", { value: p.linkedType, onChange: O => g({ ...p, linkedType: O.target.value, linkedId: "" }), className: "bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500 text-sm", children: [i.jsx("option", { value: "", children: "" }), i.jsx("option", { value: "task", children: " " }), i.jsx("option", { value: "event", children: " " }), i.jsx("option", { value: "goal", children: " " })] }), i.jsxs("select", { value: p.linkedId, onChange: O => g({ ...p, linkedId: O.target.value }), className: "bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500 text-sm", disabled: !p.linkedType, children: [i.jsx("option", { value: "", children: "" }), p.linkedType === "task" && (s == null ? void 0 : s.map(O => i.jsxs("option", { value: O.id, children: [O.date ? `${O.date} - ` : "", O.title] }, O.id))), p.linkedType === "event" && (a == null ? void 0 : a.map(O => i.jsxs("option", { value: O.id, children: [O.date ? `${O.date} - ` : "", O.title] }, O.id))), p.linkedType === "goal" && (A == null ? void 0 : A.map(O => i.jsxs("option", { value: O.id, children: [O.date ? `${O.date} - ` : "", O.title] }, O.id)))] })] })] }), i.jsxs("div", { className: "flex gap-3 pt-2", children: [i.jsx("button", { onClick: () => l(!1), className: "flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg transition-colors", children: "" }), i.jsx("button", { onClick: Ee, className: "flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors", children: "" })] })] })] }) }), c && i.jsx("div", { className: "fixed inset-0 bg-black/50 flex items-center justify-center z-50", onClick: () => d(null), children: i.jsxs("div", { className: "bg-slate-800 rounded-xl p-6 w-96 border border-slate-700", onClick: O => O.stopPropagation(), children: [i.jsxs("h3", { className: "text-lg font-bold text-slate-200 mb-4 flex items-center gap-2", children: [i.jsx(Bt, { name: "edit", size: 20, className: "text-blue-400" }), ""] }), i.jsxs("div", { className: "space-y-4", children: [i.jsxs("div", { className: "flex gap-2", children: [i.jsx("button", { onClick: () => d({ ...c, type: "expense", category: "" }), className: `flex-1 py-2 rounded-lg transition-colors ${c.type === "expense" ? "bg-red-600 text-white" : "bg-slate-700 text-slate-400"}`, children: "" }), i.jsx("button", { onClick: () => d({ ...c, type: "income", category: "" }), className: `flex-1 py-2 rounded-lg transition-colors ${c.type === "income" ? "bg-emerald-600 text-white" : "bg-slate-700 text-slate-400"}`, children: "" })] }), i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsx("input", { type: "text", value: c.title, onChange: O => d({ ...c, title: O.target.value }), className: "w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500" })] }), i.jsxs("div", { className: "grid grid-cols-2 gap-4", children: [i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsx("input", { type: "number", value: c.amount, onChange: O => d({ ...c, amount: O.target.value }), className: "w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500" })] }), i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsx("select", { value: c.category, onChange: O => d({ ...c, category: O.target.value }), className: "w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500", children: We[c.type].map(O => i.jsx("option", { value: O, children: O }, O)) })] })] }), i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: c.type === "income" ? "" : "" }), i.jsx("input", { type: "date", value: c.originalDate || c.date, onChange: O => d({ ...c, originalDate: O.target.value }), className: "w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500" })] }), c.type === "income" && i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsxs("div", { className: "flex gap-2", children: [i.jsx("button", { onClick: () => d({ ...c, paymentTiming: "immediate" }), className: `flex-1 py-2 rounded-lg transition-colors text-sm ${c.paymentTiming === "immediate" ? "bg-emerald-600 text-white" : "bg-slate-700 text-slate-400 hover:bg-slate-600"}`, children: " " }), i.jsx("button", { onClick: () => d({ ...c, paymentTiming: "nextMonthEnd" }), className: `flex-1 py-2 rounded-lg transition-colors text-sm ${c.paymentTiming === "nextMonthEnd" ? "bg-blue-600 text-white" : "bg-slate-700 text-slate-400 hover:bg-slate-600"}`, children: " " })] }), c.paymentTiming === "nextMonthEnd" && c.originalDate && i.jsxs("div", { className: "mt-2 text-xs text-blue-400 bg-blue-500/10 px-3 py-2 rounded-lg", children: [" : ", ot(c.originalDate)] })] }), i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsxs("div", { className: "grid grid-cols-2 gap-2", children: [i.jsxs("select", { value: c.linkedType, onChange: O => d({ ...c, linkedType: O.target.value, linkedId: "" }), className: "bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500 text-sm", children: [i.jsx("option", { value: "", children: "" }), i.jsx("option", { value: "task", children: " " }), i.jsx("option", { value: "event", children: " " }), i.jsx("option", { value: "goal", children: " " })] }), i.jsxs("select", { value: c.linkedId, onChange: O => d({ ...c, linkedId: O.target.value }), className: "bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500 text-sm", disabled: !c.linkedType, children: [i.jsx("option", { value: "", children: "" }), c.linkedType === "task" && (s == null ? void 0 : s.map(O => i.jsxs("option", { value: O.id, children: [O.date ? `${O.date} - ` : "", O.title] }, O.id))), c.linkedType === "event" && (a == null ? void 0 : a.map(O => i.jsxs("option", { value: O.id, children: [O.date ? `${O.date} - ` : "", O.title] }, O.id))), c.linkedType === "goal" && (A == null ? void 0 : A.map(O => i.jsxs("option", { value: O.id, children: [O.date ? `${O.date} - ` : "", O.title] }, O.id)))] })] })] }), i.jsxs("div", { className: "flex gap-3 pt-2", children: [i.jsx("button", { onClick: () => d(null), className: "flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg transition-colors", children: "" }), i.jsx("button", { onClick: Ye, className: "flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors", children: "" })] })] })] }) })] })
} function EL({ settings: t, updateSettings: e, exportData: r, importData: n, clearAllData: s, syncToSupabase: a, autoBackup: A, getLastAutoBackup: o, getBackupHistory: l, restoreFromBackup: c }) {
  const [d, p] = z.useState(!1), [g, h] = z.useState(""), [b, w] = z.useState(() => localStorage.getItem("ai_api_key") || ""), [j, x] = z.useState(() => localStorage.getItem("ai_provider") || "gemini"), [y, B] = z.useState(!1), [E, T] = z.useState(!1), [U, M] = z.useState(null), [G, N] = z.useState(!1), [H, k] = z.useState([]), [_, V] = z.useState(null), [P, te] = z.useState(!1); z.useEffect(() => { const R = l(); k(R), R.length > 0 && V(new Date(R[0].timestamp)) }, [l]); const ce = () => { A(); const R = l(); k(R), R.length > 0 && V(new Date(R[0].timestamp)), alert("") }, he = async R => { if (confirm("")) try { await c(R) ? (N(!1), alert(""), window.location.reload()) : alert("") } catch (re) { console.error("Restore error:", re), alert(": " + re.message) } }, ie = (R, re) => { const Y = new Blob([JSON.stringify(R, null, 2)], { type: "application/json" }), le = URL.createObjectURL(Y), ge = document.createElement("a"); ge.href = le, ge.download = `life-dashboard-backup-${re.split("T")[0]}.json`, ge.click(), URL.revokeObjectURL(le) }, ue = () => { localStorage.setItem("ai_api_key", b), localStorage.setItem("ai_provider", j), alert("AI API") }, pe = async () => { try { const R = JSON.parse(g); p(!1), h(""), T(!0), M(null), await n(R), T(!1), alert("Supabase") } catch (R) { T(!1), console.error("Import error:", R), alert(": " + R.message) } }, ve = () => { confirm("") && s() }, I = async () => {
    if (confirm(`Supabase
Supabase`)) { T(!0), M(null); try { const R = await a(); M(R), alert("") } catch (R) { alert(`: ${R.message}`) } finally { T(!1) } }
  }; return i.jsxs("div", { className: "space-y-6 max-w-2xl", children: [i.jsxs("div", { className: "bg-slate-800/40 rounded-xl border border-slate-700/50 p-6", children: [i.jsxs("h3", { className: "text-lg font-bold text-slate-200 mb-4 flex items-center gap-2", children: [i.jsx(Bt, { name: "user", size: 20, className: "text-blue-400" }), ""] }), i.jsx("div", { className: "space-y-4", children: i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "" }), i.jsx("input", { type: "text", value: t.username, onChange: R => e({ ...t, username: R.target.value }), className: "w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500", placeholder: "" })] }) })] }), i.jsxs("div", { className: "bg-slate-800/40 rounded-xl border border-slate-700/50 p-6", children: [i.jsxs("h3", { className: "text-lg font-bold text-slate-200 mb-4 flex items-center gap-2", children: [i.jsx(Bt, { name: "bell", size: 20, className: "text-yellow-400" }), ""] }), i.jsxs("div", { className: "space-y-4", children: [i.jsx("p", { className: "text-slate-400 text-sm", children: "" }), i.jsxs("button", { onClick: () => te(!0), className: "w-full px-4 py-3 bg-yellow-600 hover:bg-yellow-500 text-white rounded-lg transition-colors flex items-center justify-center gap-2", children: [i.jsx(Bt, { name: "bell", size: 20 }), ""] }), i.jsxs("div", { className: "grid grid-cols-3 gap-2 text-center text-xs", children: [i.jsxs("div", { className: "bg-slate-700/50 rounded-lg p-2", children: [i.jsx("div", { className: "text-yellow-400 font-bold", children: "" }), i.jsx("div", { className: "text-slate-400", children: "" })] }), i.jsxs("div", { className: "bg-slate-700/50 rounded-lg p-2", children: [i.jsx("div", { className: "text-blue-400 font-bold", children: "" }), i.jsx("div", { className: "text-slate-400", children: "" })] }), i.jsxs("div", { className: "bg-slate-700/50 rounded-lg p-2", children: [i.jsx("div", { className: "text-green-400 font-bold", children: "" }), i.jsx("div", { className: "text-slate-400", children: "" })] }), i.jsxs("div", { className: "bg-slate-700/50 rounded-lg p-2", children: [i.jsx("div", { className: "text-purple-400 font-bold", children: "" }), i.jsx("div", { className: "text-slate-400", children: "" })] }), i.jsxs("div", { className: "bg-slate-700/50 rounded-lg p-2", children: [i.jsx("div", { className: "text-orange-400 font-bold", children: "" }), i.jsx("div", { className: "text-slate-400", children: "" })] }), i.jsxs("div", { className: "bg-slate-700/50 rounded-lg p-2", children: [i.jsx("div", { className: "text-pink-400 font-bold", children: "" }), i.jsx("div", { className: "text-slate-400", children: "" })] })] })] })] }), P && i.jsx(WE, { onClose: () => te(!1) }), i.jsxs("div", { className: "bg-slate-800/40 rounded-xl border border-slate-700/50 p-6", children: [i.jsxs("h3", { className: "text-lg font-bold text-slate-200 mb-4 flex items-center gap-2", children: [i.jsx(Bt, { name: "cpu", size: 20, className: "text-purple-400" }), "AI API"] }), i.jsxs("div", { className: "space-y-4", children: [i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "AI" }), i.jsxs("select", { value: j, onChange: R => x(R.target.value), className: "w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500", children: [i.jsx("option", { value: "gemini", children: "Google Gemini" }), i.jsx("option", { value: "groq", children: "Groq (Llama)" })] })] }), i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "API" }), i.jsxs("div", { className: "relative", children: [i.jsx("input", { type: y ? "text" : "password", value: b, onChange: R => w(R.target.value), className: "w-full bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 pr-20 text-slate-200 outline-none focus:border-blue-500", placeholder: j === "gemini" ? "AIza..." : "gsk_..." }), i.jsx("button", { onClick: () => B(!y), className: "absolute right-2 top-1/2 -translate-y-1/2 px-2 py-1 text-xs text-slate-400 hover:text-slate-200", children: y ? "" : "" })] })] }), i.jsx("button", { onClick: ue, className: "w-full px-4 py-2 bg-purple-600 hover:bg-purple-500 text-white rounded-lg transition-colors", children: "" }), b && i.jsx("div", { className: "text-sm text-emerald-400 flex items-center gap-2", children: " API" })] })] }), i.jsxs("div", { className: "bg-slate-800/40 rounded-xl border border-slate-700/50 p-6", children: [i.jsxs("h3", { className: "text-lg font-bold text-slate-200 mb-4 flex items-center gap-2", children: [i.jsx(Bt, { name: "download", size: 20, className: "text-emerald-400" }), ""] }), i.jsxs("div", { className: "space-y-4", children: [i.jsxs("div", { className: "flex gap-3", children: [i.jsxs("button", { onClick: r, className: "flex-1 px-4 py-3 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg flex items-center justify-center gap-2 transition-colors", children: [i.jsx(Bt, { name: "download", size: 18 }), ""] }), i.jsxs("button", { onClick: () => p(!0), className: "flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-500 text-white rounded-lg flex items-center justify-center gap-2 transition-colors", children: [i.jsx(Bt, { name: "upload", size: 18 }), ""] })] }), i.jsxs("button", { onClick: ve, className: "w-full px-4 py-3 bg-red-600/20 hover:bg-red-600/30 text-red-400 border border-red-600/50 rounded-lg flex items-center justify-center gap-2 transition-colors", children: [i.jsx(Bt, { name: "trash", size: 18 }), ""] })] })] }), i.jsxs("div", { className: "bg-slate-800/40 rounded-xl border border-slate-700/50 p-6", children: [i.jsxs("h3", { className: "text-lg font-bold text-slate-200 mb-4 flex items-center gap-2", children: [i.jsx(Bt, { name: "cloud", size: 20, className: "text-cyan-400" }), ""] }), i.jsxs("div", { className: "space-y-4", children: [i.jsx("p", { className: "text-sm text-slate-400", children: "Supabase " }), i.jsx("button", { onClick: I, disabled: E, className: "w-full px-4 py-3 bg-cyan-600 hover:bg-cyan-500 disabled:bg-cyan-800 disabled:cursor-not-allowed text-white rounded-lg flex items-center justify-center gap-2 transition-colors", children: E ? i.jsxs(i.Fragment, { children: [i.jsx("div", { className: "animate-spin rounded-full h-5 w-5 border-b-2 border-white" }), "..."] }) : i.jsxs(i.Fragment, { children: [i.jsx(Bt, { name: "cloud", size: 18 }), "Supabase"] }) }), U && i.jsxs("div", { className: "bg-slate-900/50 rounded-lg p-4 text-sm", children: [i.jsx("div", { className: "font-bold text-slate-200 mb-2", children: ":" }), i.jsxs("div", { className: "grid grid-cols-2 gap-2 text-slate-400", children: [i.jsxs("div", { children: [": ", i.jsx("span", { className: "text-emerald-400", children: U.tasks.success }), " / ", i.jsx("span", { className: "text-red-400", children: U.tasks.failed })] }), i.jsxs("div", { children: [": ", i.jsx("span", { className: "text-emerald-400", children: U.events.success }), " / ", i.jsx("span", { className: "text-red-400", children: U.events.failed })] }), i.jsxs("div", { children: [": ", i.jsx("span", { className: "text-emerald-400", children: U.goals.success }), " / ", i.jsx("span", { className: "text-red-400", children: U.goals.failed })] }), i.jsxs("div", { children: [": ", i.jsx("span", { className: "text-emerald-400", children: U.transactions.success }), " / ", i.jsx("span", { className: "text-red-400", children: U.transactions.failed })] }), i.jsxs("div", { children: [": ", i.jsx("span", { className: "text-emerald-400", children: U.shoppingItems.success }), " / ", i.jsx("span", { className: "text-red-400", children: U.shoppingItems.failed })] }), i.jsxs("div", { children: [": ", i.jsx("span", { className: "text-emerald-400", children: U.scripts.success }), " / ", i.jsx("span", { className: "text-red-400", children: U.scripts.failed })] }), i.jsxs("div", { children: [": ", i.jsx("span", { className: "text-emerald-400", children: U.diary.success }), " / ", i.jsx("span", { className: "text-red-400", children: U.diary.failed })] })] })] })] })] }), i.jsxs("div", { className: "bg-slate-800/40 rounded-xl border border-slate-700/50 p-6", children: [i.jsxs("h3", { className: "text-lg font-bold text-slate-200 mb-4 flex items-center gap-2", children: [i.jsx(Bt, { name: "save", size: 20, className: "text-orange-400" }), ""] }), i.jsxs("div", { className: "space-y-4", children: [i.jsxs("div", { className: "flex items-center justify-between text-sm", children: [i.jsx("span", { className: "text-slate-400", children: ":" }), i.jsx("span", { className: "text-emerald-400 font-medium", children: "30" })] }), _ && i.jsxs("div", { className: "flex items-center justify-between text-sm", children: [i.jsx("span", { className: "text-slate-400", children: ":" }), i.jsx("span", { className: "text-slate-200", children: _.toLocaleString("ja-JP") })] }), i.jsxs("div", { className: "flex gap-3", children: [i.jsxs("button", { onClick: ce, className: "flex-1 px-4 py-3 bg-orange-600 hover:bg-orange-500 text-white rounded-lg flex items-center justify-center gap-2 transition-colors", children: [i.jsx(Bt, { name: "save", size: 18 }), ""] }), i.jsxs("button", { onClick: () => N(!0), className: "flex-1 px-4 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg flex items-center justify-center gap-2 transition-colors", children: [i.jsx(Bt, { name: "clock", size: 18 }), ""] })] }), i.jsx("p", { className: "text-xs text-slate-500", children: "5 " })] })] }), i.jsxs("div", { className: "bg-slate-800/40 rounded-xl border border-slate-700/50 p-6", children: [i.jsx("h3", { className: "text-lg font-bold text-slate-200 mb-4", children: "" }), i.jsxs("div", { className: "text-sm text-slate-400 space-y-2", children: [i.jsx("div", { children: ": 2.1.0 ()" }), i.jsx("div", { children: ": 2026.01.18" }), i.jsxs("div", { className: "flex items-center gap-2", children: [i.jsx("span", { children: ":" }), i.jsx("span", { className: "text-emerald-400", children: "Supabase Cloud" })] }), i.jsx("div", { className: "pt-2 text-slate-500", children: "Life Dashboard - " })] })] }), d && i.jsx("div", { className: "fixed inset-0 bg-black/50 flex items-center justify-center z-50", onClick: () => p(!1), children: i.jsxs("div", { className: "bg-slate-800 rounded-xl p-6 w-[500px] border border-slate-700", onClick: R => R.stopPropagation(), children: [i.jsx("h3", { className: "text-lg font-bold text-slate-200 mb-4", children: "" }), i.jsxs("div", { className: "space-y-4", children: [i.jsxs("div", { children: [i.jsx("label", { className: "text-sm text-slate-400 mb-1 block", children: "JSON" }), i.jsx("textarea", { value: g, onChange: R => h(R.target.value), className: "w-full h-48 bg-slate-900 border border-slate-700 rounded-lg px-3 py-2 text-slate-200 outline-none focus:border-blue-500 font-mono text-sm", placeholder: '{"tasks": [...], "goals": [...], ...}' })] }), i.jsxs("div", { className: "flex gap-3", children: [i.jsx("button", { onClick: () => p(!1), className: "flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg transition-colors", children: "" }), i.jsx("button", { onClick: pe, className: "flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors", children: "" })] })] })] }) }), G && i.jsx("div", { className: "fixed inset-0 bg-black/50 flex items-center justify-center z-50", onClick: () => N(!1), children: i.jsxs("div", { className: "bg-slate-800 rounded-xl p-6 w-[600px] max-h-[80vh] border border-slate-700 overflow-hidden flex flex-col", onClick: R => R.stopPropagation(), children: [i.jsxs("h3", { className: "text-lg font-bold text-slate-200 mb-4 flex items-center gap-2", children: [i.jsx(Bt, { name: "clock", size: 20, className: "text-orange-400" }), ""] }), i.jsx("div", { className: "flex-1 overflow-y-auto space-y-3", children: H.length === 0 ? i.jsx("div", { className: "text-center text-slate-500 py-8", children: "" }) : H.map((R, re) => { var Y, le, ge, ke; return i.jsxs("div", { className: "bg-slate-900/50 rounded-lg p-4 border border-slate-700/50", children: [i.jsxs("div", { className: "flex items-center justify-between mb-3", children: [i.jsxs("div", { children: [i.jsx("div", { className: "text-slate-200 font-medium", children: new Date(R.timestamp).toLocaleString("ja-JP") }), i.jsx("div", { className: "text-xs text-slate-500", children: re === 0 ? "" : `${re + 1}` })] }), i.jsxs("div", { className: "flex gap-2", children: [i.jsxs("button", { onClick: () => ie(R.data, R.timestamp), className: "px-3 py-1.5 bg-emerald-600/20 hover:bg-emerald-600/30 text-emerald-400 text-sm rounded-lg transition-colors flex items-center gap-1", children: [i.jsx(Bt, { name: "download", size: 14 }), ""] }), i.jsxs("button", { onClick: () => he(R.data), className: "px-3 py-1.5 bg-blue-600/20 hover:bg-blue-600/30 text-blue-400 text-sm rounded-lg transition-colors flex items-center gap-1", children: [i.jsx(Bt, { name: "refresh-cw", size: 14 }), ""] })] })] }), i.jsxs("div", { className: "grid grid-cols-4 gap-2 text-xs text-slate-500", children: [i.jsxs("div", { children: [": ", ((Y = R.data.tasks) == null ? void 0 : Y.length) || 0] }), i.jsxs("div", { children: [": ", ((le = R.data.events) == null ? void 0 : le.length) || 0] }), i.jsxs("div", { children: [": ", ((ge = R.data.goals) == null ? void 0 : ge.length) || 0] }), i.jsxs("div", { children: [": ", ((ke = R.data.transactions) == null ? void 0 : ke.length) || 0] })] })] }, R.timestamp) }) }), i.jsx("div", { className: "mt-4 pt-4 border-t border-slate-700", children: i.jsx("button", { onClick: () => N(!1), className: "w-full px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg transition-colors", children: "" }) })] }) })] })
} function E2() {
  const { user: t, loading: e } = Ld(), r = GE(), n = window.innerWidth < 768, [s, a] = z.useState(() => n ? "ai" : "calendar"), [A, o] = z.useState(() => { const d = localStorage.getItem("theme"); return d || "dark" }); if (z.useEffect(() => { document.documentElement.setAttribute("data-theme", A) }, []), z.useEffect(() => {
    const d = localStorage.getItem("ai_api_key"); d && (d === "AIzaSyDlt0pKNba7l_zR9CQMm_m_nXU1CMASbyg" || d.startsWith("AIzaSyDlt0pKNba7l")) && (localStorage.removeItem("ai_api_key"), console.log("APIAPI"), alert(`API

Gemini API

: https://aistudio.google.com/apikey`)), localStorage.getItem("ai_provider") || localStorage.setItem("ai_provider", "gemini")
  }, []), e || r.loading) return i.jsx("div", { className: "min-h-screen flex items-center justify-center transition-theme", style: { backgroundColor: "var(--bg-primary)" }, children: i.jsxs("div", { className: "text-center", children: [i.jsx("div", { className: "w-16 h-16 rounded-2xl mx-auto mb-4 flex items-center justify-center animate-pulse", style: { backgroundColor: "var(--accent-secondary)" }, children: i.jsx(Bt, { name: "box", size: 32, className: "text-white" }) }), i.jsx("p", { style: { color: "var(--text-tertiary)" }, children: "..." })] }) }); const l = () => { switch (s) { case "calendar": return i.jsx(pL, { tasks: r.tasks, setTasks: r.setTasks, events: r.events, setEvents: r.setEvents, goals: r.goals, transactions: r.transactions, addTask: r.addTask, updateTask: r.updateTask, deleteTask: r.deleteTask, addEvent: r.addEvent, updateEvent: r.updateEvent, deleteEvent: r.deleteEvent, addGoal: r.addGoal, updateGoal: r.updateGoal, deleteGoal: r.deleteGoal, addTransaction: r.addTransaction }); case "tasks": return i.jsx(gL, { tasks: r.tasks, addTask: r.addTask, updateTask: r.updateTask, deleteTask: r.deleteTask, events: r.events, goals: r.goals, setTasks: r.setTasks }); case "roadmap": return i.jsx(mL, { tasks: r.tasks, goals: r.goals, events: r.events, updateTask: r.updateTask, deleteTask: r.deleteTask, addTask: r.addTask, addGoal: r.addGoal, addEvent: r.addEvent }); case "shopping": return i.jsx(NL, { shoppingItems: r.shoppingItems, addShoppingItem: r.addShoppingItem, updateShoppingItem: r.updateShoppingItem, deleteShoppingItem: r.deleteShoppingItem, events: r.events, goals: r.goals }); case "scripts": return i.jsx(bL, { scripts: r.scripts, addScript: r.addScript, updateScript: r.updateScript, deleteScript: r.deleteScript }); case "morning": return i.jsx(BL, { diaryEntries: r.diaryEntries, addDiaryEntry: r.addDiaryEntry, settings: r.settings }); case "diary": return i.jsx(CL, { diaryEntries: r.diaryEntries, addDiaryEntry: r.addDiaryEntry, updateDiaryEntry: r.updateDiaryEntry, deleteDiaryEntry: r.deleteDiaryEntry, events: r.events, goals: r.goals, tasks: r.tasks }); case "tracking": return i.jsx(xL, {}); case "analytics": return i.jsx(vL, { tasks: r.tasks, goals: r.goals, transactions: r.transactions }); case "ai": return i.jsx(wL, { tasks: r.tasks, goals: r.goals, transactions: r.transactions, events: r.events, addTask: r.addTask, addEvent: r.addEvent, addGoal: r.addGoal, updateTask: r.updateTask, deleteTask: r.deleteTask, diaryEntries: r.diaryEntries, addDiaryEntry: r.addDiaryEntry, settings: r.settings }); case "finance": return i.jsx(jL, { transactions: r.transactions, addTransaction: r.addTransaction, updateTransaction: r.updateTransaction, deleteTransaction: r.deleteTransaction, tasks: r.tasks, events: r.events, goals: r.goals }); case "trade": return i.jsx(SL, {}); case "twin": return i.jsx(yL, { tasks: r.tasks, goals: r.goals, events: r.events, transactions: r.transactions, diaryEntries: r.diaryEntries, shoppingItems: r.shoppingItems, scripts: r.scripts, settings: r.settings }); case "system": return i.jsx(EL, { settings: r.settings, updateSettings: r.updateSettings, exportData: r.exportData, importData: r.importData, clearAllData: r.clearAllData, syncToSupabase: r.syncToSupabase, autoBackup: r.autoBackup, getLastAutoBackup: r.getLastAutoBackup, getBackupHistory: r.getBackupHistory, restoreFromBackup: r.restoreFromBackup }); default: return i.jsx("div", { className: "text-slate-500 flex items-center justify-center h-96", children: "" }) } }, c = () => ({ calendar: "Schedule", tasks: "Task List", roadmap: "Roadmap", shopping: "Shopping List", scripts: "AI Scripts", morning: "Morning Note", diary: "Diary", tracking: "Tracking", analytics: "Activity", ai: "AI Concierge", twin: "Digital Twin", finance: "Finance", system: "System Settings" })[s] || "Dashboard"; return i.jsxs("div", { className: "min-h-screen font-sans transition-theme", style: { backgroundColor: "var(--bg-primary)", color: "var(--text-primary)" }, children: [i.jsx(zE, { activeTab: s, setActiveTab: a }), i.jsxs("main", { className: "md:pl-[88px] px-2 md:px-6 py-2 md:py-6 pb-36 md:pb-6", children: [i.jsx(qE, { title: c(), tasks: r.tasks, goals: r.goals, events: r.events, theme: A, setTheme: o }), i.jsx("div", { className: "animate-in", children: l() })] })] })
} function FL() { const { user: t, loading: e } = Ld(); return e ? i.jsx("div", { className: "min-h-screen flex items-center justify-center transition-theme", style: { backgroundColor: "var(--bg-primary)" }, children: i.jsxs("div", { className: "text-center", children: [i.jsx("div", { className: "w-16 h-16 rounded-2xl mx-auto mb-4 flex items-center justify-center animate-pulse", style: { backgroundColor: "var(--accent-secondary)" }, children: i.jsx(Bt, { name: "box", size: 32, className: "text-white" }) }), i.jsx("p", { style: { color: "var(--text-tertiary)" }, children: "..." })] }) }) : (t == null ? void 0 : t.id) === "local-user" ? i.jsx(E2, {}) : t ? i.jsx(E2, {}) : i.jsx(VE, {}) } function _L() { return i.jsx(KE, { children: i.jsx(FL, {}) }) } yg.createRoot(document.getElementById("root")).render(i.jsx(XC.StrictMode, { children: i.jsx(_L, {}) })); export { Pr as _, UL as c, LC as g };
